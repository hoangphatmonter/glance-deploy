var L=Object.defineProperty;var z=(e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var o=(e,t)=>L(e,"name",{value:t,configurable:!0});var u=(e,t,n)=>(z(e,typeof t!="symbol"?t+"":t,n),n);var j=(e=>(e.CORE_BOOTING="core-booting",e.REQUEST_CORE_START="core-start",e.CORE_STARTING="core-starting",e.CORE_READY="core-ready",e.PLAYER_INFO_LOADED="player-info-loaded",e.SWITCH_SCENE="switch-scene",e.OPENING_SCREEN="opening-screen",e.OPEN_SCREEN="open-screen",e.OPENED_SCREEN="opened-screen",e.CLOSING_SCREEN="closing-screen",e.CLOSE_SCREEN="close-screen",e.CLOSED_SCREEN="closed-screen",e.LANGUAGE_CHANGED="language-changed",e.REQUEST_HOT_RELOAD="request-hot-reload",e.REQUEST_SAVE_CONFIG="request-save-config",e.REQUEST_UPDATE_CONFIG="request-update-config",e.REMOTE_CONFIG_UPDATED="remote-config-updated",e.VISIBILITY_HIDDEN="visibility-hidden",e.VISIBILITY_VISIBLE="visibility-visible",e.REQUEST_RESIZE_GAME="request-resize-game",e))(j||{});const Z=j,Y=o(e=>e,"func$U"),X={asConst:Y},ee=o((e,t=1)=>Array.from({length:Math.ceil(e.length/t)},(n,r)=>e.slice(r*t,r*t+t)),"func$T"),te=o((e,t)=>e.filter(n=>!t.includes(n)),"func$S"),ne=o(e=>{for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}},"func$R"),re=o((e,t,n)=>n.indexOf(e)===t&&e!==null&&e!==void 0,"unique"),oe=o(e=>e.filter(re),"func$Q"),se={chunk:ee,difference:te,shuffle:ne,unique:oe},M=o(e=>{try{const t=localStorage.getItem(e);return t===null?null:g.Utils.Json.decode(t)}catch{return null}},"func$P"),ce=o(()=>{const e="en_US",{languages:t=[]}=window.navigator,n=t.find(r=>r.includes("-"));return!n||n.indexOf("-")===-1?e:n.replace("-","_")},"func$O"),ie=o(()=>{const e=window.location.search.substring(1);if(!e)return{};const t=e.split("&"),n={};for(let r=0;r<t.length;r++){const c=t[r].split("=");n[c[0]]=decodeURIComponent(c[1])}return n},"func$N"),ae=o(()=>{const{body:e,documentElement:t}=document,{clientHeight:n}=e,{clientHeight:r}=t;return Math.max(r,n)||0},"func$M"),le=o(()=>{const{body:e,documentElement:t}=document,{clientWidth:n}=e,{clientWidth:r}=t;return Math.max(r,n)||0},"func$L"),ue=o(()=>{const e="vibrate"in window.navigator;if(e)try{window.navigator.vibrate(0)}catch{return!1}return e},"isSupportVibrateApi"),fe=o(e=>{try{return ue()?(window.navigator.vibrate(0),window.navigator.vibrate(e),!0):!1}catch{return!1}},"func$K"),de=o((e,t)=>{try{const n=M(e);let r={};g.Utils.Valid.isObject(n)&&(r=n);const c=g.Utils.Object.clone(t);if(!g.Utils.Valid.isObject(c))return!1;const s=g.Utils.Object.clear(c),i=g.Utils.Object.merge(r,s),a=g.Utils.Json.encode(i);return localStorage.setItem(e,a),!0}catch{return!1}},"func$J"),ge={getLocale:ce,getLocalStorage:M,getQueryParams:ie,getScreenHeight:ae,getScreenWidth:le,writeLocalStorage:de,vibrate:fe},he=o(()=>/Android/i.test(navigator.userAgent),"func$I"),pe=o(()=>!/Android|iPhone|iPad|iPod/i.test(navigator.userAgent),"func$H"),me=o(()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),"func$G"),be=o(()=>/Android|iPhone|iPad|iPod/i.test(navigator.userAgent),"func$F"),ye=o(()=>Math.round(window.devicePixelRatio)||1,"func$E"),we={isDesktop:pe,isMobile:be,isAndroid:he,isIOS:me,pixelRatio:ye},Se=o((e,t,n)=>{let r,c=!1;return o(function(...i){const a=o(()=>{clearTimeout(r),e(...i)},"later");clearTimeout(r),r=setTimeout(a,t),n&&!c&&(e(...i),c=!0)},"executedFunction")},"func$D"),y=o(e=>{const t=new Map;return(...n)=>{const r=JSON.stringify(n);if(t.has(r))return t.get(r);const c=e(...n);return t.set(r,c),c}},"func$C"),p=o(e=>{const t=typeof e=="object"||typeof e=="function",n=Array.isArray(e);return e!==null&&t&&!n},"func$B"),N=o((e,t)=>{e.__proto__.valueOf=()=>t,e.__proto__.toString=()=>`${t}`},"makeMutableTrick"),Oe=o(e=>e.constructor({...e,__proto__:e.__proto__}),"makeTypeTrick"),x=o(e=>{Object.keys(e).forEach(n=>{var c;const r=(c=Object.getOwnPropertyDescriptor(e,n))==null?void 0:c.value;if(p(r)){x(r);return}try{const s=r;N(s,r),Object.defineProperty(e,n,{enumerable:!1,configurable:!0,get(){return Oe(s)},set(i){Object.assign(s,i),N(s,i)}})}catch{}})},"func$A"),Ae={debounce:Se,syncVars:x,memoize:y},Ee=y((e,t)=>{const n=e.toLowerCase();if(typeof e=="string"){const r=t[n];if(typeof r=="string")return r}return"?"}),Ie=y(e=>{let t=null;const n=[],r=/:([A-Z0-9?]+)/gm;for(;(t=r.exec(e))!==null;)n.push(t[1]);return n}),$e=y(e=>{let t=null;const n=[],r=/(\d+[A-Z?]|[A-Z?])/gm;for(;(t=r.exec(e))!==null;){const c=t[0];if(c.length>=2){const{length:s}=c,i=c.slice(0,s-1),a=c[s-1],l=new Array(+i).fill(a);n.push(...l);continue}n.push(c)}return n}),Ce=o((e,t)=>{const n=e,r=g.Utils.Object.invert(t),c={};let s=0,i=0;return Ie(n).forEach(l=>{s=0,i++,c[i]||(c[i]={}),$e(l).forEach(d=>{s++;const h=Ee(d,r);c[i][s]=h})}),c},"func$z"),_e=y((e,t)=>{if(!g.Utils.Valid.isObject(t)||!g.Utils.Object.hasOwn(t,e))return"?";const n=t[e];return typeof n=="string"?`${n.toUpperCase()}`:"?"}),F=o((e,t,n=!1)=>{let r="";if(!g.Utils.Valid.isObject(e))return r;let c="",s=1;for(const i in e){if(!g.Utils.Object.hasOwn(e,i))continue;const a=e[i];if(g.Utils.Valid.isObject(a)){r+=`:${F(a,t,!0)}`;continue}if(!g.Utils.Valid.isString(a))continue;const l=_e(a,t);l===c?(s++,r=r.slice(0,-2)):s=1,r+=`${s}${l}`,c=l}return r=r.replace(/1([A-Z])/g,"$1"),r},"func$y"),Ue=o((e,t)=>{try{if(!e)return"";if(t){let n=atob(e);const r=btoa(t);return n=n.replace(r,"="),atob(n)}else return atob(e)}catch(n){return console.warn("Error in hashToString",n),""}},"func$x"),De=o((e,t)=>{try{if(!e)return"";if(t){let n=btoa(e);const r=btoa(t);return n=n.replace("=",r),btoa(n)}else return btoa(e)}catch(n){return console.warn("Error in stringToHash",n),""}},"func$w"),Te=o(()=>({}),"createCompressDict"),O={},w=o(e=>(O[e]||(O[e]=Te()),O[e]),"getCompressionDict"),R=o((e,t)=>{const n=w(t),r=Object.keys(n).length;n[e]=r+1},"setCompressionDict"),Le=o((e,t,n=1)=>{let r=e[0];const c=[];let s=w(n);if(t)for(const l in t)R(l,n);for(let l=1;l<e.length;l++){const f=e[l],d=`${r}${f}`;l++,r=e[l],s[d]===void 0&&(R(d,n),s=w(n))}r=e[0];let i=1,a=0;for(;i<e.length;){const l=e[i],f=`${r}${l}`,d=Ne(e.slice(a),s);if(d!==null){c.push(s[d]),i+=d.length-f.length,r="",a=i+1,i++;continue}s[f]===void 0?r=f:(c.push(s[f]),r="",a=i+1),i++}return console.info("dict",s,Object.keys(s).length),c},"func$v"),Ne=o((e,t)=>{let n=Object.keys(t);return n=n.filter(r=>e.startsWith(r)&&e!==r),n.length===0?null:n.sort((r,c)=>c.length-r.length)[0]},"getLongestAvailableKeyInCompressDict"),Re=o(e=>{const t={};for(const n in e)t[e[n]]=n;return t},"createDecompressDict"),ve=o((e,t,n=1)=>{let r="",c="",s=w(n);t&&(s={...t,...s}),console.info("compressDict",s);const i=Re(s);for(const a in e){const l=e[a];i[l]!==void 0?r=i[l]:r="?",c+=r}return c},"func$u"),ke={decodeMap:Ce,encodeMap:F,hashToString:Ue,stringToHash:De,lwzCompress:Le,lwzDecompress:ve},Pe=o((e,t)=>{const n=e.split(","),r=n[0].match(/:(.*?);/);if(!r)return null;const c=r[1],s=atob(n[n.length-1]);let i=s.length;const a=new Uint8Array(i);for(;i--;)a[i]=s.charCodeAt(i);return new File([a],t,{type:c})},"base64ToFile");let m=new Image;const je=o((e,t=!0)=>new Promise(n=>{t&&(m=new Image),m.onload=()=>{n(m)},m.onerror=()=>{n(null)},m.src=URL.createObjectURL(e)}),"blobToHtmlImage"),Me=o(async(e,t)=>{const n=await fetch(e).then(r=>r.blob()).catch(()=>null);return n?new File([n],t):null},"blobUrlToFile"),xe=o(async e=>new Promise((t,n)=>{const r=new Image;r.onload=()=>t(),r.onerror=()=>n(),r.src=e}),"func$t"),Fe={base64ToFile:Pe,blobToHtmlImage:je,blobUrlToFile:Me,loadImage:xe},G=o(e=>{try{return JSON.parse(e)}catch{return null}},"func$s"),V=o(e=>{try{return JSON.stringify(e,null,0)}catch{return""}},"func$r"),Ge=o(e=>G(V(e)),"func$q"),Ve={clone:Ge,decode:G,encode:V},He=o((e,t,n="0")=>{let r=e.toString();const c=r.length;for(let s=0;s<t-c;s++)r=r+n;return r},"padEnd"),Be=o((e,t,n="0")=>{let r=e.toString();const c=r.length;for(let s=0;s<t-c;s++)r=n+r;return r},"padStart"),A=o(e=>Math.floor(Math.random()*Math.pow(10,e)),"func$p"),Qe=o((e,t)=>{const{fractionalDigits:n=0,startAbbreviate:r=1e3,abbreviateStep:c=3,maxLength:s=-1,removeLastZero:i=!0,suffixes:a=["","k","m","b","t","q"]}=t||{},l=s===-1?99999999:s;if(e>=r){const W=Math.floor(e/10**c),S=Math.floor((W.toString().length-1)/c)+1,J=(e/(10**c)**S).toFixed(n),K=l-a[S].length,T=J.substring(0,K);return(i?v(T):T)+a[S]}const f=e.toFixed(n),d=l-a[0].length,h=f.substring(0,d);return i?v(h):h+a[0]},"toAbbreviatedString"),v=o(e=>{if(e.indexOf(".")<0)return e;for(let t=e.length-1;t>=0;t--){if(e[t]==".")return e.substring(0,t);if(e[t]!="0")return e.substring(0,t+1)}return e},"removeZero"),qe={padEnd:He,padStart:Be,random:A,toAbbreviatedString:Qe},We=o(e=>e==null,"isNotClear"),H=o(e=>{if(!p(e))return e;for(const t in e)if(We(e[t]))delete e[t];else{const n=e[t];p(n)&&(e[t]=H(n))}return e},"func$o"),Je=o(e=>Object.assign({},e),"func$n"),B=o((e,t)=>p(e)?typeof Object.hasOwn=="function"?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t):!1,"func$m"),Ke=o(e=>{const t={};for(const n in e){const r=e[n];t[r]=n}return t},"func$l"),Q=o(e=>["string","number","symbol"].indexOf(typeof e)>-1,"func$k"),ze=o((e,t)=>{const n={};for(const r of e){const c=r[t];Q(c)&&Object.assign(n,{[c]:r})}return n},"func$j"),q=o((e,t)=>{for(const n in t)p(e[n])&&p(t[n])?q(e[n],t[n]):e[n]=t[n];return e},"func$i"),Ze={clone:Je,clear:H,hasOwn:B,invert:Ke,keyBy:ze,merge:q},Ye=o(e=>{const t=e.replace(/[-_\s.]+(.)?/g,(n,r)=>r?r.toUpperCase():"");return t.substring(0,1).toUpperCase()+t.substring(1)},"toUpperCamelCase"),Xe=o(e=>{const t=e.replace(/[-_\s.]+(.)?/g,(n,r)=>r?r.toUpperCase():"");return t.substring(0,1).toLowerCase()+t.substring(1)},"toCamelCase"),et=o(e=>e&&e[0].toUpperCase()+e.slice(1),"func$h");function tt(e,t=2){const n=[],r=e.split(" "),c=r.length;for(let s=c;s>=1;s--)for(let i=0;i<=c-s;i++){const l=r.slice(i,i+s).join(" ");e.split(l).length-1>=t&&!n.includes(l)&&l.length>1&&n.push(l)}return n.sort((s,i)=>s.length-i.length)}o(tt,"fun");const nt="modulepreload",rt=o(function(e,t){return new URL(e,t).href},"assetsURL"),k={},ot=o(function(t,n,r){if(!n||n.length===0)return t();const c=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=rt(s,r),s in k)return;k[s]=!0;const i=s.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(!!r)for(let d=c.length-1;d>=0;d--){const h=c[d];if(h.href===s&&(!i||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const f=document.createElement("link");if(f.rel=i?"stylesheet":nt,i||(f.as="script",f.crossOrigin=""),f.href=s,document.head.appendChild(f),i)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s})},"preload");let b=null;const st="Anonymous",ct=o(async()=>{const e=(await ot(()=>import("./names-surnames.js"),[],import.meta.url)).default;if(!p(e)||!B(e,"data")||!Array.isArray(e.data))throw new Error("Invalid names-surnames.json");b=e.data},"fetchNames"),it=o(async()=>{try{if(!b&&(await ct(),!b))throw new Error("Cannot fetch names");const e=b[A(length)],t=b[A(length)];return`${e} ${t}`}catch{return st}},"func$g"),at=o((e=16)=>{const t=o(r=>Math.floor(r).toString(e),"s");return t(Date.now()/1e3)+" ".repeat(e).replace(/./g,()=>t(Math.random()*e))},"func$f"),lt=o(e=>{const t=e?e.split("_"):[];let n=t.length>0?t[0]:"en_US";switch(n){case"id":case"in":n="id";break}return n},"func$e"),ut=o((e,t)=>{const n=e.split(" "),c=(n.length<=1?[...n]:[n[0],n.pop()]).join(" "),s=c.lastIndexOf(" ")||0,i=s>=0?s:t;return(c.length>t?c.substring(0,i):c).substring(0,t)},"func$d"),ft=o(e=>{let t=0;if(e.length==0)return t;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t=t&t}return t},"func$c"),dt=o(e=>Object.keys(e).reduce((n,r)=>{const c=e[r];return c!==void 0&&n.push(`${r}=${c}`),n},[]).join("&"),"func$b"),gt=o((e,t)=>{const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789*#%&!";let r="",c=e;t!=null&&(c-=t.length,r+=t);for(let s=0;s<c;s++){const i=Math.floor(Math.random()*n.length);r+=n.charAt(i)}return r},"func$a"),ht="0123456789ABCDEF",pt=o((e="0x")=>{let t=e;for(let n=0;n<6;n++)t+=ht[Math.floor(Math.random()*16)];return t},"func$9"),mt=o(e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[đĐ]/g,n=>n==="đ"?"d":"D"),"func$8"),bt={toCamelCase:Xe,toUpperCamelCase:Ye,capitalize:et,generateObjectId:at,getLanguageCode:lt,getShortName:ut,hashCode:ft,params:dt,random:gt,randomColor:pt,removeDiacritics:mt,findDuplicateSubstrings:tt,generateName:it},yt=o(e=>{const t=new Date(e),n=new Date;return t.getDate()===n.getDate()&&t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()},"func$7"),wt=o(e=>new Promise(t=>setTimeout(t,e)),"func$6"),St={isToday:yt,sleepAsync:wt},Ot=o(e=>typeof e=="boolean","func$5"),At="true",Et=o(()=>At==="true","func$4"),It=o(e=>typeof e=="function","func$3"),$t=o(e=>typeof e=="number","func$2"),Ct=o(e=>typeof e=="string","func$1"),_t=o((e,t,n)=>{const{timeout:r=1e3,checkInterval:c=100}=n??{};return new Promise(s=>{const i=setInterval(()=>{const a=typeof e=="function"?e():e,l=typeof t=="function"?t():t;a===l&&(clearInterval(i),s(!0))},c);r>0&&setTimeout(()=>{clearInterval(i),s(!1)},r)})},"func"),Ut={isBoolean:Ot,isDebugger:Et,isFunction:It,isNumber:$t,isObject:p,isPropertyKey:Q,isString:Ct,isValueChangeAsync:_t},Dt={Array:se,Browser:ge,Device:we,Function:Ae,Hash:ke,Image:Fe,Json:Ve,Object:Ze,String:bt,Number:qe,Time:St,Valid:Ut},P=[],Tt=o(e=>{try{return e}catch(t){console.warn("Block access:",t);return}},"blockAccess"),Lt=o((e,t)=>{var r;const n=(r=Object.getOwnPropertyDescriptor(e,t))==null?void 0:r.value;n&&Object.defineProperty(e,t,{enumerable:!1,get(){return Tt(n)},set(){}})},"wrapGetterToBlockObjectAccess"),C=Object.preventExtensions({Dtos:{},Utils:Object.freeze(Dt),Configs:Object.seal({ENV:"production",AppId:"123",ApiHost:"https://fbig-singleplay-apps-dev.sunstudio.io",OtherHost:"https://leaderboards-dev.sunstudio.io",Ads:{Enabled:!0,ShowAdOnLoad:{Enabled:!1,DelaySeconds:0,PlacementId:"interstitial_demo"},InterstitialAdOptions:[{PlacementId:"interstitial_demo",SecondsFirstTime:60,SecondsBetweenAds:90}],RewardedVideoAdOptions:[{PlacementId:"rewarded_video_demo",SecondsFirstTime:0,SecondsBetweenAds:0}],BannerDisplayAdOptions:[]},Gameplay:{StartAdAtLevel:1,MaxRescueCount:1,Tutorial:{ForceUseTutorial:!1}},RemoteConfig:{Enabled:!1,Options:{ForceReloadGame:!1,FetchIntervalInSeconds:300},ServiceType:"mockup",DefaultConfigId:"default",SupportedDataTypes:["GameCore","Gameplay"],MockupConfig:{Enabled:!0},SelfHostedConfig:{Enabled:!1,AppId:"",ApiKey:"",ApiUrl:""},FirebaseConfig:{Enabled:!1,AppId:"",ApiKey:"",ProjectId:"",AuthDomain:"",DatabaseURL:"",StorageBucket:"",MeasurementId:"",MessagingSenderId:""}},Analytics:{GoogleAnalytics:{ConsoleLog:!1},FacebookAnalytics:{Prefix:"fba",ConsoleLog:!1}},LeadersBoard:{Limit:50,LeaderboardId:""},Notification:{Enable:!0,ApiUrl:"https://notifications.sunstudio.io",GameTitle:"Sun Studio",GameImage:"https://sunstudio.io/images/logo.png"},Mockup:{Ads:{Enable:!0,ErrorRate:5,GiphyApiKey:"VmjHIRsfrwCAssDS4mDo9DoImxJm1lLM"},Match:{Enable:!1,CreateFailRate:5,PlayerInfo:{Id:"player-mock",Name:"Player Mock",Photo:"",Signature:""},OpponentInfo:{Id:"opponent-mock",Name:"Opponent Mock",Photo:"",Signature:""}},LeadersBoard:{Enable:!1},LoadingScreen:{Enable:!1}},Network:{MaximumRequest:6,Timeout:15e3,Retries:3},Debugger:{ShowConsole:!1,ShowProfiler:!1,EventLogging:!1,CanvasRecorder:{Enable:!1,Options:{Type:"png",Quality:.85,RecordFps:60,SyncFps:!0}},MonitorError:{Enable:!1,FilterError:{Codes:{Accepted:[],Ignored:["USER_INPUT","NETWORK_FAILURE"]},Messages:{Accepted:[],Ignored:["Load image failed"]}},ListPlayerDevIds:[]}},AdaptivePerformance:{Enabled:!1,Options:{FpsThreshold:48,CheckInterval:2e3,AutoUpgradeQuality:!0,OnlyUpdateWhenSwitchScene:!1},MinQuality:1,MaxQuality:2,QualityAdjustStep:.1,TrackingSceneNames:["GameScene"]}}),Plugins:Object.seal({Ads:null,Audio:null,Analytics:null}),Events:Object.freeze(Z)});window.GameCore=C;window.TypeGuard=X;Lt(window,"GameCore");console.warn("Env mode:","browser");console.warn("Debugger:",C.Utils.Valid.isDebugger());const g=C,_=class _{constructor(t){u(this,"game");this.game=t}init(){}};o(_,"BasePlugin");let E=_;const U=class U{constructor(t){u(this,"game");u(this,"plugins");this.game=t,this.plugins={}}install(t,n,r,c){const s=new n(this.game);s.init(),this.plugins[t]=s}get(t){return this.plugins[t]}};o(U,"PhaserPlugins");let I=U;const D=class D{constructor(){u(this,"game");u(this,"plugins");u(this,"ads");u(this,"auth");u(this,"audio");u(this,"event");u(this,"match");u(this,"player");u(this,"profile");u(this,"context");u(this,"storage");u(this,"language");u(this,"analytics");u(this,"visibility");u(this,"leaderboard");u(this,"remoteConfig");u(this,"frameCapture");u(this,"monitorError");u(this,"console");u(this,"profiler");u(this,"canvasRecorder");this.game=this,this.plugins=new I(this.game)}async boot(){console.info("GameCore booting")}async start(){console.info("GameCore starting")}};o(D,"Game");let $=D;const Nt={Game:$,Plugins:{BasePlugin:E}};window.Phaser=Nt;export{Z as C,g as G,Nt as P,ot as _,Lt as w};
