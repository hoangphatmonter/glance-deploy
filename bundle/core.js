var V=Object.defineProperty;var B=(e,t,n)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var l=(e,t,n)=>(B(e,typeof t!="symbol"?t+"":t,n),n);var U=(e=>(e.CORE_BOOTING="core-booting",e.REQUEST_CORE_START="core-start",e.CORE_STARTING="core-starting",e.CORE_READY="core-ready",e.PLAYER_INFO_LOADED="player-info-loaded",e.SWITCH_SCENE="switch-scene",e.OPENING_SCREEN="opening-screen",e.OPEN_SCREEN="open-screen",e.OPENED_SCREEN="opened-screen",e.CLOSING_SCREEN="closing-screen",e.CLOSE_SCREEN="close-screen",e.CLOSED_SCREEN="closed-screen",e.LANGUAGE_CHANGED="language-changed",e.REQUEST_HOT_RELOAD="request-hot-reload",e.REQUEST_SAVE_CONFIG="request-save-config",e.REQUEST_UPDATE_CONFIG="request-update-config",e.REMOTE_CONFIG_UPDATED="remote-config-updated",e.VISIBILITY_HIDDEN="visibility-hidden",e.VISIBILITY_VISIBLE="visibility-visible",e.REQUEST_RESIZE_GAME="request-resize-game",e))(U||{});const H=e=>e,Q={asConst:H},q=(e,t=1)=>Array.from({length:Math.ceil(e.length/t)},(n,r)=>e.slice(r*t,r*t+t)),W=(e,t)=>e.filter(n=>!t.includes(n)),J=e=>{for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}},K=(e,t,n)=>n.indexOf(e)===t&&e!==null&&e!==void 0,z=e=>e.filter(K),Z={chunk:q,difference:W,shuffle:J,unique:z},L=e=>{try{const t=localStorage.getItem(e);return t===null?null:d.Utils.Json.decode(t)}catch{return null}},Y=()=>{const e="en_US",{languages:t=[]}=window.navigator,n=t.find(r=>r.includes("-"));return!n||n.indexOf("-")===-1?e:n.replace("-","_")},X=()=>{const e=window.location.search.substring(1);if(!e)return{};const t=e.split("&"),n={};for(let r=0;r<t.length;r++){const s=t[r].split("=");n[s[0]]=decodeURIComponent(s[1])}return n},ee=()=>{const{body:e,documentElement:t}=document,{clientHeight:n}=e,{clientHeight:r}=t;return Math.max(r,n)||0},te=()=>{const{body:e,documentElement:t}=document,{clientWidth:n}=e,{clientWidth:r}=t;return Math.max(r,n)||0},ne=()=>{const e="vibrate"in window.navigator;if(e)try{window.navigator.vibrate(0)}catch{return!1}return e},re=e=>{try{return ne()?(window.navigator.vibrate(0),window.navigator.vibrate(e),!0):!1}catch{return!1}},oe=(e,t)=>{try{const n=L(e);let r={};d.Utils.Valid.isObject(n)&&(r=n);const s=d.Utils.Object.clone(t);if(!d.Utils.Valid.isObject(s))return!1;const o=d.Utils.Object.clear(s),c=d.Utils.Object.merge(r,o),i=d.Utils.Json.encode(c);return localStorage.setItem(e,i),!0}catch{return!1}},se={getLocale:Y,getLocalStorage:L,getQueryParams:X,getScreenHeight:ee,getScreenWidth:te,writeLocalStorage:oe,vibrate:re},ce=()=>/Android/i.test(navigator.userAgent),ie=()=>!/Android|iPhone|iPad|iPod/i.test(navigator.userAgent),ae=()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),le=()=>/Android|iPhone|iPad|iPod/i.test(navigator.userAgent),ue=()=>Math.round(window.devicePixelRatio)||1,fe={isDesktop:ie,isMobile:le,isAndroid:ce,isIOS:ae,pixelRatio:ue},de=(e,t,n)=>{let r,s=!1;return function(...c){const i=()=>{clearTimeout(r),e(...c)};clearTimeout(r),r=setTimeout(i,t),n&&!s&&(e(...c),s=!0)}},b=e=>{const t=new Map;return(...n)=>{const r=JSON.stringify(n);if(t.has(r))return t.get(r);const s=e(...n);return t.set(r,s),s}},h=e=>{const t=typeof e=="object"||typeof e=="function",n=Array.isArray(e);return e!==null&&t&&!n},E=(e,t)=>{e.__proto__.valueOf=()=>t,e.__proto__.toString=()=>`${t}`},ge=e=>e.constructor({...e,__proto__:e.__proto__}),D=e=>{Object.keys(e).forEach(n=>{var s;const r=(s=Object.getOwnPropertyDescriptor(e,n))==null?void 0:s.value;if(h(r)){D(r);return}try{const o=r;E(o,r),Object.defineProperty(e,n,{enumerable:!1,configurable:!0,get(){return ge(o)},set(c){Object.assign(o,c),E(o,c)}})}catch{}})},he={debounce:de,syncVars:D,memoize:b},pe=b((e,t)=>{const n=e.toLowerCase();if(typeof e=="string"){const r=t[n];if(typeof r=="string")return r}return"?"}),me=b(e=>{let t=null;const n=[],r=/:([A-Z0-9?]+)/gm;for(;(t=r.exec(e))!==null;)n.push(t[1]);return n}),be=b(e=>{let t=null;const n=[],r=/(\d+[A-Z?]|[A-Z?])/gm;for(;(t=r.exec(e))!==null;){const s=t[0];if(s.length>=2){const{length:o}=s,c=s.slice(0,o-1),i=s[o-1],a=new Array(+c).fill(i);n.push(...a);continue}n.push(s)}return n}),ye=(e,t)=>{const n=e,r=d.Utils.Object.invert(t),s={};let o=0,c=0;return me(n).forEach(a=>{o=0,c++,s[c]||(s[c]={}),be(a).forEach(f=>{o++;const g=pe(f,r);s[c][o]=g})}),s},we=b((e,t)=>{if(!d.Utils.Valid.isObject(t)||!d.Utils.Object.hasOwn(t,e))return"?";const n=t[e];return typeof n=="string"?`${n.toUpperCase()}`:"?"}),P=(e,t,n=!1)=>{let r="";if(!d.Utils.Valid.isObject(e))return r;let s="",o=1;for(const c in e){if(!d.Utils.Object.hasOwn(e,c))continue;const i=e[c];if(d.Utils.Valid.isObject(i)){r+=`:${P(i,t,!0)}`;continue}if(!d.Utils.Valid.isString(i))continue;const a=we(i,t);a===s?(o++,r=r.slice(0,-2)):o=1,r+=`${o}${a}`,s=a}return r=r.replace(/1([A-Z])/g,"$1"),r},Se=(e,t)=>{try{if(!e)return"";if(t){let n=atob(e);const r=btoa(t);return n=n.replace(r,"="),atob(n)}else return atob(e)}catch{return""}},Oe=(e,t)=>{try{if(!e)return"";if(t){let n=btoa(e);const r=btoa(t);return n=n.replace("=",r),btoa(n)}else return btoa(e)}catch{return""}},Ae=()=>({}),S={},y=e=>(S[e]||(S[e]=Ae()),S[e]),I=(e,t)=>{const n=y(t),r=Object.keys(n).length;n[e]=r+1},Ee=(e,t,n=1)=>{let r=e[0];const s=[];let o=y(n);if(t)for(const a in t)I(a,n);for(let a=1;a<e.length;a++){const u=e[a],f=`${r}${u}`;a++,r=e[a],o[f]===void 0&&(I(f,n),o=y(n))}r=e[0];let c=1,i=0;for(;c<e.length;){const a=e[c],u=`${r}${a}`,f=Ie(e.slice(i),o);if(f!==null){s.push(o[f]),c+=f.length-u.length,r="",i=c+1,c++;continue}o[u]===void 0?r=u:(s.push(o[u]),r="",i=c+1),c++}return s},Ie=(e,t)=>{let n=Object.keys(t);return n=n.filter(r=>e.startsWith(r)&&e!==r),n.length===0?null:n.sort((r,s)=>s.length-r.length)[0]},$e=e=>{const t={};for(const n in e)t[e[n]]=n;return t},_e=(e,t,n=1)=>{let r="",s="",o=y(n);t&&(o={...t,...o});const c=$e(o);for(const i in e){const a=e[i];c[a]!==void 0?r=c[a]:r="?",s+=r}return s},Ce={decodeMap:ye,encodeMap:P,hashToString:Se,stringToHash:Oe,lwzCompress:Ee,lwzDecompress:_e},Ue=(e,t)=>{const n=e.split(","),r=n[0].match(/:(.*?);/);if(!r)return null;const s=r[1],o=atob(n[n.length-1]);let c=o.length;const i=new Uint8Array(c);for(;c--;)i[c]=o.charCodeAt(c);return new File([i],t,{type:s})};let p=new Image;const Le=(e,t=!0)=>new Promise(n=>{t&&(p=new Image),p.onload=()=>{n(p)},p.onerror=()=>{n(null)},p.src=URL.createObjectURL(e)}),De=async(e,t)=>{const n=await fetch(e).then(r=>r.blob()).catch(()=>null);return n?new File([n],t):null},Pe=async e=>new Promise((t,n)=>{const r=new Image;r.onload=()=>t(),r.onerror=()=>n(),r.src=e}),Te={base64ToFile:Ue,blobToHtmlImage:Le,blobUrlToFile:De,loadImage:Pe},T=e=>{try{return JSON.parse(e)}catch{return null}},N=e=>{try{return JSON.stringify(e,null,0)}catch{return""}},Ne=e=>T(N(e)),Re={clone:Ne,decode:T,encode:N},ke=(e,t,n="0")=>{let r=e.toString();const s=r.length;for(let o=0;o<t-s;o++)r=r+n;return r},ve=(e,t,n="0")=>{let r=e.toString();const s=r.length;for(let o=0;o<t-s;o++)r=n+r;return r},O=e=>Math.floor(Math.random()*Math.pow(10,e)),Me=(e,t)=>{const{fractionalDigits:n=0,startAbbreviate:r=1e3,abbreviateStep:s=3,maxLength:o=-1,removeLastZero:c=!0,suffixes:i=["","k","m","b","t","q"]}=t||{},a=o===-1?99999999:o;if(e>=r){const x=Math.floor(e/10**s),w=Math.floor((x.toString().length-1)/s)+1,F=(e/(10**s)**w).toFixed(n),G=a-i[w].length,A=F.substring(0,G);return(c?$(A):A)+i[w]}const u=e.toFixed(n),f=a-i[0].length,g=u.substring(0,f);return c?$(g):g+i[0]},$=e=>{if(e.indexOf(".")<0)return e;for(let t=e.length-1;t>=0;t--){if(e[t]==".")return e.substring(0,t);if(e[t]!="0")return e.substring(0,t+1)}return e},je={padEnd:ke,padStart:ve,random:O,toAbbreviatedString:Me},xe=e=>e==null,R=e=>{if(!h(e))return e;for(const t in e)if(xe(e[t]))delete e[t];else{const n=e[t];h(n)&&(e[t]=R(n))}return e},Fe=e=>Object.assign({},e),k=(e,t)=>h(e)?typeof Object.hasOwn=="function"?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t):!1,Ge=e=>{const t={};for(const n in e){const r=e[n];t[r]=n}return t},v=e=>["string","number","symbol"].indexOf(typeof e)>-1,Ve=(e,t)=>{const n={};for(const r of e){const s=r[t];v(s)&&Object.assign(n,{[s]:r})}return n},M=(e,t)=>{for(const n in t)h(e[n])&&h(t[n])?M(e[n],t[n]):e[n]=t[n];return e},Be={clone:Fe,clear:R,hasOwn:k,invert:Ge,keyBy:Ve,merge:M},He=e=>{const t=e.replace(/[-_\s.]+(.)?/g,(n,r)=>r?r.toUpperCase():"");return t.substring(0,1).toUpperCase()+t.substring(1)},Qe=e=>{const t=e.replace(/[-_\s.]+(.)?/g,(n,r)=>r?r.toUpperCase():"");return t.substring(0,1).toLowerCase()+t.substring(1)},qe=e=>e&&e[0].toUpperCase()+e.slice(1);function We(e,t=2){const n=[],r=e.split(" "),s=r.length;for(let o=s;o>=1;o--)for(let c=0;c<=s-o;c++){const a=r.slice(c,c+o).join(" ");e.split(a).length-1>=t&&!n.includes(a)&&a.length>1&&n.push(a)}return n.sort((o,c)=>o.length-c.length)}const Je="modulepreload",Ke=function(e,t){return new URL(e,t).href},_={},ze=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=Ke(o,r),o in _)return;_[o]=!0;const c=o.endsWith(".css"),i=c?'[rel="stylesheet"]':"";if(!!r)for(let f=s.length-1;f>=0;f--){const g=s[f];if(g.href===o&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${i}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":Je,c||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),c)return new Promise((f,g)=>{u.addEventListener("load",f),u.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o})};let m=null;const Ze="Anonymous",Ye=async()=>{const e=(await ze(()=>import("./names-surnames.js"),[],import.meta.url)).default;if(!h(e)||!k(e,"data")||!Array.isArray(e.data))throw new Error("Invalid names-surnames.json");m=e.data},Xe=async()=>{try{if(!m&&(await Ye(),!m))throw new Error("Cannot fetch names");const e=m[O(length)],t=m[O(length)];return`${e} ${t}`}catch{return Ze}},et=(e=16)=>{const t=r=>Math.floor(r).toString(e);return t(Date.now()/1e3)+" ".repeat(e).replace(/./g,()=>t(Math.random()*e))},tt=e=>{const t=e?e.split("_"):[];let n=t.length>0?t[0]:"en_US";switch(n){case"id":case"in":n="id";break}return n},nt=(e,t)=>{const n=e.split(" "),s=(n.length<=1?[...n]:[n[0],n.pop()]).join(" "),o=s.lastIndexOf(" ")||0,c=o>=0?o:t;return(s.length>t?s.substring(0,c):s).substring(0,t)},rt=e=>{let t=0;if(e.length==0)return t;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t=t&t}return t},ot=e=>Object.keys(e).reduce((n,r)=>{const s=e[r];return s!==void 0&&n.push(`${r}=${s}`),n},[]).join("&"),st=(e,t)=>{const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789*#%&!";let r="",s=e;t!=null&&(s-=t.length,r+=t);for(let o=0;o<s;o++){const c=Math.floor(Math.random()*n.length);r+=n.charAt(c)}return r},ct="0123456789ABCDEF",it=(e="0x")=>{let t=e;for(let n=0;n<6;n++)t+=ct[Math.floor(Math.random()*16)];return t},at=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[đĐ]/g,n=>n==="đ"?"d":"D"),lt={toCamelCase:Qe,toUpperCamelCase:He,capitalize:qe,generateObjectId:et,getLanguageCode:tt,getShortName:nt,hashCode:rt,params:ot,random:st,randomColor:it,removeDiacritics:at,findDuplicateSubstrings:We,generateName:Xe},ut=e=>{const t=new Date(e),n=new Date;return t.getDate()===n.getDate()&&t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()},ft=e=>new Promise(t=>setTimeout(t,e)),dt={isToday:ut,sleepAsync:ft},gt=e=>typeof e=="boolean",ht="false",pt=()=>ht==="true",mt=e=>typeof e=="function",bt=e=>typeof e=="number",yt=e=>typeof e=="string",wt=(e,t,n)=>{const{timeout:r=1e3,checkInterval:s=100}=n??{};return new Promise(o=>{const c=setInterval(()=>{const i=typeof e=="function"?e():e,a=typeof t=="function"?t():t;i===a&&(clearInterval(c),o(!0))},s);r>0&&setTimeout(()=>{clearInterval(c),o(!1)},r)})},St={isBoolean:gt,isDebugger:pt,isFunction:mt,isNumber:bt,isObject:h,isPropertyKey:v,isString:yt,isValueChangeAsync:wt},Ot={Array:Z,Browser:se,Device:fe,Function:he,Hash:Ce,Image:Te,Json:Re,Object:Be,String:lt,Number:je,Time:dt,Valid:St},C=[],At=e=>{try{const t=new Error;if(t.stack==null)throw new Error;const n=t.stack.split(`
`),s=n.length>=4?n[3]:n[0];if(!s||C.includes(s))return e;if(["eval","at <","(<"].some(o=>s.includes(o)))throw new Error;return C.push(s),e}catch{return}},Et=(e,t)=>{var r;const n=(r=Object.getOwnPropertyDescriptor(e,t))==null?void 0:r.value;n&&Object.defineProperty(e,t,{enumerable:!1,get(){return At(n)},set(){}})},j=Object.preventExtensions({Dtos:{},Utils:Object.freeze(Ot),Configs:Object.seal({ENV:"production",AppId:"123",ApiHost:"https://fbig-singleplay-apps-dev.sunstudio.io",OtherHost:"https://leaderboards-dev.sunstudio.io",Ads:{Enabled:!0,ShowAdOnLoad:{Enabled:!1,DelaySeconds:0,PlacementId:"interstitial_demo"},InterstitialAdOptions:[{PlacementId:"interstitial_demo",SecondsFirstTime:60,SecondsBetweenAds:90}],RewardedVideoAdOptions:[{PlacementId:"rewarded_video_demo",SecondsFirstTime:0,SecondsBetweenAds:0}],BannerDisplayAdOptions:[]},Gameplay:{StartAdAtLevel:1,MaxRescueCount:1,Tutorial:{ForceUseTutorial:!1}},RemoteConfig:{Enabled:!1,Options:{ForceReloadGame:!1,FetchIntervalInSeconds:300},ServiceType:"mockup",DefaultConfigId:"default",SupportedDataTypes:["GameCore","Gameplay"],MockupConfig:{Enabled:!0},SelfHostedConfig:{Enabled:!1,AppId:"",ApiKey:"",ApiUrl:""},FirebaseConfig:{Enabled:!1,AppId:"",ApiKey:"",ProjectId:"",AuthDomain:"",DatabaseURL:"",StorageBucket:"",MeasurementId:"",MessagingSenderId:""}},Analytics:{GoogleAnalytics:{ConsoleLog:!1},FacebookAnalytics:{Prefix:"fba",ConsoleLog:!1}},LeadersBoard:{Limit:50,LeaderboardId:""},Notification:{Enable:!0,ApiUrl:"https://notifications.sunstudio.io",GameTitle:"Sun Studio",GameImage:"https://sunstudio.io/images/logo.png"},Mockup:{Ads:{Enable:!1,ErrorRate:5,GiphyApiKey:"VmjHIRsfrwCAssDS4mDo9DoImxJm1lLM"},Match:{Enable:!1,CreateFailRate:5,PlayerInfo:{Id:"player-mock",Name:"Player Mock",Photo:"",Signature:""},OpponentInfo:{Id:"opponent-mock",Name:"Opponent Mock",Photo:"",Signature:""}},LeadersBoard:{Enable:!1},LoadingScreen:{Enable:!1}},Network:{MaximumRequest:6,Timeout:15e3,Retries:3},Debugger:{ShowConsole:!1,ShowProfiler:!1,EventLogging:!1,CanvasRecorder:{Enable:!1,Options:{Type:"png",Quality:.85,RecordFps:60,SyncFps:!0}},MonitorError:{Enable:!1,FilterError:{Codes:{Accepted:[],Ignored:["USER_INPUT","NETWORK_FAILURE"]},Messages:{Accepted:[],Ignored:["Load image failed"]}},ListPlayerDevIds:[]}},AdaptivePerformance:{Enabled:!1,Options:{FpsThreshold:48,CheckInterval:2e3,AutoUpgradeQuality:!0,OnlyUpdateWhenSwitchScene:!1},MinQuality:1,MaxQuality:2,QualityAdjustStep:.1,TrackingSceneNames:["GameScene"]}}),Plugins:Object.seal({Ads:null,Audio:null,Analytics:null}),Events:Object.freeze(U)});window.GameCore=j;window.TypeGuard=Q;Et(window,"GameCore");const d=j;class It{constructor(t){l(this,"game");this.game=t}init(){}}class $t{constructor(t){l(this,"game");l(this,"plugins");this.game=t,this.plugins={}}install(t,n,r,s){const o=new n(this.game);o.init(),this.plugins[t]=o}get(t){return this.plugins[t]}}class _t{constructor(){l(this,"game");l(this,"plugins");l(this,"ads");l(this,"auth");l(this,"audio");l(this,"event");l(this,"match");l(this,"player");l(this,"profile");l(this,"context");l(this,"storage");l(this,"language");l(this,"analytics");l(this,"visibility");l(this,"leaderboard");l(this,"remoteConfig");l(this,"frameCapture");l(this,"monitorError");l(this,"console");l(this,"profiler");l(this,"canvasRecorder");this.game=this,this.plugins=new $t(this.game)}async boot(){}async start(){}}const Ct={Game:_t,Plugins:{BasePlugin:It}};window.Phaser=Ct;export{U as C,d as G,Ct as P,ze as _,Et as w};
