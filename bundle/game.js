import"./engine.js";const bn=(a,e=1)=>Array.from({length:Math.ceil(a.length/e)},(t,s)=>a.slice(s*e,s*e+e)),gn=(a,e)=>a.filter(t=>!e.includes(t)),Tn=a=>{for(let e=a.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[a[e],a[t]]=[a[t],a[e]]}},wn=(a,e,t)=>t.indexOf(a)===e&&a!==null&&a!==void 0,En=a=>a.filter(wn),vn={chunk:bn,difference:gn,shuffle:Tn,unique:En};var Pn={isEqual:!0,isMatchingKey:!0,isPromise:!0,maxSize:!0,onCacheAdd:!0,onCacheChange:!0,onCacheHit:!0,transformKey:!0},yn=Array.prototype.slice;function Es(a){var e=a.length;return e?e===1?[a[0]]:e===2?[a[0],a[1]]:e===3?[a[0],a[1],a[2]]:yn.call(a,0):[]}function Sn(a){var e={};for(var t in a)Pn[t]||(e[t]=a[t]);return e}function kn(a){return typeof a=="function"&&a.isMemoized}function xn(a,e){return a===e||a!==a&&e!==e}function mo(a,e){var t={};for(var s in a)t[s]=a[s];for(var s in e)t[s]=e[s];return t}var Rn=function(){function a(e){this.keys=[],this.values=[],this.options=e;var t=typeof e.isMatchingKey=="function";t?this.getKeyIndex=this._getKeyIndexFromMatchingKey:e.maxSize>1?this.getKeyIndex=this._getKeyIndexForMany:this.getKeyIndex=this._getKeyIndexForSingle,this.canTransformKey=typeof e.transformKey=="function",this.shouldCloneArguments=this.canTransformKey||t,this.shouldUpdateOnAdd=typeof e.onCacheAdd=="function",this.shouldUpdateOnChange=typeof e.onCacheChange=="function",this.shouldUpdateOnHit=typeof e.onCacheHit=="function"}return Object.defineProperty(a.prototype,"size",{get:function(){return this.keys.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"snapshot",{get:function(){return{keys:Es(this.keys),size:this.size,values:Es(this.values)}},enumerable:!1,configurable:!0}),a.prototype._getKeyIndexFromMatchingKey=function(e){var t=this.options,s=t.isMatchingKey,i=t.maxSize,o=this.keys,r=o.length;if(!r)return-1;if(s(o[0],e))return 0;if(i>1){for(var n=1;n<r;n++)if(s(o[n],e))return n}return-1},a.prototype._getKeyIndexForMany=function(e){var t=this.options.isEqual,s=this.keys,i=s.length;if(!i)return-1;if(i===1)return this._getKeyIndexForSingle(e);var o=e.length,r,n;if(o>1){for(var l=0;l<i;l++)if(r=s[l],r.length===o){for(n=0;n<o&&t(r[n],e[n]);n++);if(n===o)return l}}else for(var l=0;l<i;l++)if(r=s[l],r.length===o&&t(r[0],e[0]))return l;return-1},a.prototype._getKeyIndexForSingle=function(e){var t=this.keys;if(!t.length)return-1;var s=t[0],i=s.length;if(e.length!==i)return-1;var o=this.options.isEqual;if(i>1){for(var r=0;r<i;r++)if(!o(s[r],e[r]))return-1;return 0}return o(s[0],e[0])?0:-1},a.prototype.orderByLru=function(e,t,s){for(var i=this.keys,o=this.values,r=i.length,n=s;n--;)i[n+1]=i[n],o[n+1]=o[n];i[0]=e,o[0]=t;var l=this.options.maxSize;r===l&&s===r?(i.pop(),o.pop()):s>=l&&(i.length=o.length=l)},a.prototype.updateAsyncCache=function(e){var t=this,s=this.options,i=s.onCacheChange,o=s.onCacheHit,r=this.keys[0],n=this.values[0];this.values[0]=n.then(function(l){return t.shouldUpdateOnHit&&o(t,t.options,e),t.shouldUpdateOnChange&&i(t,t.options,e),l},function(l){var c=t.getKeyIndex(r);throw c!==-1&&(t.keys.splice(c,1),t.values.splice(c,1)),l})},a}();function jt(a,e){if(e===void 0&&(e={}),kn(a))return jt(a.fn,mo(a.options,e));if(typeof a!="function")throw new TypeError("You must pass a function to `memoize`.");var t=e.isEqual,s=t===void 0?xn:t,i=e.isMatchingKey,o=e.isPromise,r=o===void 0?!1:o,n=e.maxSize,l=n===void 0?1:n,c=e.onCacheAdd,d=e.onCacheChange,m=e.onCacheHit,h=e.transformKey,p=mo({isEqual:s,isMatchingKey:i,isPromise:r,maxSize:l,onCacheAdd:c,onCacheChange:d,onCacheHit:m,transformKey:h},Sn(e)),b=new Rn(p),E=b.keys,P=b.values,v=b.canTransformKey,g=b.shouldCloneArguments,T=b.shouldUpdateOnAdd,A=b.shouldUpdateOnChange,G=b.shouldUpdateOnHit,H=function(){var K=g?Es(arguments):arguments;v&&(K=h(K));var re=E.length?b.getKeyIndex(K):-1;if(re!==-1)G&&m(b,p,H),re&&(b.orderByLru(E[re],P[re],re),A&&d(b,p,H));else{var ie=a.apply(this,arguments),W=g?K:Es(arguments);b.orderByLru(W,ie,E.length),r&&b.updateAsyncCache(H),T&&c(b,p,H),A&&d(b,p,H)}return P[0]};return H.cache=b,H.fn=a,H.isMemoized=!0,H.options=p,H}const On=jt((a,e)=>{if(typeof a=="string"){const t=e[a.toLowerCase()];if(typeof t=="string")return t}return a[0]==="b"?a:"?"}),An=jt(a=>{let e=null;const t=[],s=/:([(t|i|b)00-9?]+)/gm;for(;(e=s.exec(a))!==null;)t.push(e[1]);return t}),In=jt(a=>{let e=null;const t=[],s=/((t|i|b)[0-9]+)/gm;for(;(e=s.exec(a))!==null;){const i=e[0];t.push(i)}return t}),Mn=(a,e)=>{const t=a,s=GameCore.Utils.Object.invert(e),i={};let o=0,r=0;return An(t).forEach(l=>{o=0,r++,i[r]||(i[r]={}),In(l).forEach(d=>{o++,i[r][o]=On(d,s)})}),i},Cn=jt((a,e)=>{const t=e[a];return typeof t=="string"?`${t.toUpperCase()}`:"?"}),Aa=(a,e,t=!1)=>{let s="";if(!GameCore.Utils.Valid.isObject(a))return s;let i="",o=1;for(const r in a){if(!GameCore.Utils.Object.hasOwn(a,r))continue;const n=a[r];if(GameCore.Utils.Valid.isObject(n)){s+=`:${Aa(n,e,!0)}`;continue}if(!GameCore.Utils.Valid.isString(n))continue;const l=Cn(n,e);l===i?(o++,s=s.slice(0,-2)):o=1,s+=`${o}${l}`,i=l}return s=s.replace(/1([A-Z])/g,"$1"),s},_n=a=>{try{return atob(a)}catch{return""}},Ln=a=>{try{return btoa(a)}catch{return""}},Dn={decodeMap:Mn,encodeMap:Aa,hashToString:_n,stringToHash:Ln},Nn=(a,e)=>{const t=document.createElement("style"),s=Object.keys(e).map(i=>Gn(i,e[i])).join(";");return t.innerHTML=`${a} { ${s} }`,document.head.appendChild(t),t},Gn=(a,e)=>`${GameCore.Utils.String.toKebabCase(a)}: ${e}`,Fn={dynamicCSS:Nn},Ia=a=>{try{return JSON.parse(a)}catch{return null}},Ma=a=>{try{return JSON.stringify(a,null,0)}catch{return""}},Bn=a=>Ia(Ma(a)),Un={clone:Bn,decode:Ia,encode:Ma},gi=a=>{const e=typeof a=="object"||typeof a=="function",t=Array.isArray(a);return a!==null&&e&&!t},Yn=a=>a==null,Ca=a=>{if(!gi(a))return a;for(const e in a){Yn(a[e])&&delete a[e];const t=a[e];gi(t)&&(a[e]=Ca(t))}return a},Oi=(a,e)=>Object.prototype.hasOwnProperty.call(a,e),Hn=a=>{const e={};return Object.keys(a).forEach(t=>{if(!Oi(a,t))return;const s=a[t];typeof s=="string"&&(e[s]=t)}),e},Kn=(a,e)=>{if(!Array.isArray(a))return{};const t={};return a.forEach(s=>{if(!Oi(s,e))return;const i=s[e];typeof i=="string"&&(t[i]=s)}),t},Wn={clear:Ca,hasOwn:Oi,invert:Hn,keyBy:Kn},zn=a=>a&&a[0].toUpperCase()+a.slice(1),Vn=a=>{let e=0;if(a.length==0)return e;for(let t=0;t<a.length;t++){const s=a.charCodeAt(t);e=(e<<5)-e+s,e=e&e}return e},jn=a=>Object.keys(a).reduce((t,s)=>{const i=a[s];return i!==void 0&&t.push(`${s}=${i}`),t},[]).join("&"),$n="0123456789ABCDEF",Xn=(a="0x")=>{let e=a;for(let t=0;t<6;t++)e+=$n[Math.floor(Math.random()*16)];return e},Zn=a=>{const e=a.replace(/[-_\s.]+(.)?/g,(t,s)=>s?s.toUpperCase():"");return e.substr(0,1).toUpperCase()+e.substr(1)},qn=a=>{const e=a.replace(/[-_\s.]+(.)?/g,(t,s)=>s?s.toUpperCase():"");return e.substr(0,1).toLowerCase()+e.substr(1)},Qn=a=>a.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase(),Jn=(a,e)=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789*#%&!";let s="",i=a;e!=null&&(i-=e.length,s+=e);for(let o=0;o<i;o++){const r=Math.floor(Math.random()*t.length);s+=t.charAt(r)}return s},el=a=>a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[Ä‘Ä]/g,t=>t==="Ä‘"?"d":"D"),tl=(a,e)=>{const t=a.split(" "),i=(t.length<=1?[...t]:[t[0],t.pop()]).join(" "),o=i.lastIndexOf(" ")||0,r=o>=0?o:e;return(i.length>e?i.substring(0,r):i).substring(0,e)},sl=(a=16)=>{const e=s=>Math.floor(s).toString(a);return e(Date.now()/1e3)+" ".repeat(a).replace(/./g,()=>e(Math.random()*a))},il={capitalize:zn,hashCode:Vn,params:jn,toCamelCase:qn,toKebabCase:Qn,toUpperCamelCase:Zn,randomColor:Xn,random:Jn,removeDiacritics:el,getShortName:tl,generateObjectId:sl},ol=a=>typeof a=="boolean",_a="false";console.log("DEBUG",_a);const al=()=>_a==="true",rl=a=>typeof a=="function",nl=a=>typeof a=="number"&&!isNaN(a),ll=a=>["string","number","symbol"].indexOf(typeof a)>-1,cl=a=>typeof a=="string",dl=(a,e,t)=>{const{timeout:s=1e3,checkInterval:i=100}=t||{};return new Promise(o=>{const r=setInterval(()=>{const n=typeof a=="function"?a():a,l=typeof e=="function"?e():e;n===l&&(clearInterval(r),o(!0))},i);s>0&&setTimeout(()=>{clearInterval(r),o(!1)},s)})},ml={isBoolean:ol,isDebugger:al,isFunction:rl,isNumber:nl,isObject:gi,isPropertyKey:ll,isString:cl,isValueChangeAsync:dl},ul=a=>{const{scene:e,key:t,newKey:s}=a,i=e.textures.get(t).getSourceImage();if(!i)return!1;const o=Math.min(i.width,i.height);s||e.textures.removeKey(t);const r=e.textures.createCanvas(s||t,o,o),n=r.context;return n.beginPath(),n.arc(o/2,o/2,o/2,0,Math.PI*2,!1),n.clip(),r.draw((i.width-o)/2,(i.height-o)/2,i),!0},hl=a=>{const{scene:e,key:t,newKey:s,radius:i}=a;let{width:o,height:r}=a;const n=e.textures.get(t).getSourceImage();if(!n)return!1;o||(o=n.width),r||(r=n.height),s||e.textures.removeKey(t);const l=e.textures.createCanvas(s||t,o,r),c=l.context,m=Math.min(o,r)/100*i/2,h=0,p=0;return c.beginPath(),c.moveTo(h+m,p),c.lineTo(h+o-m,p),c.quadraticCurveTo(h+o,p,h+o,p+m),c.lineTo(h+o,p+r-m),c.quadraticCurveTo(h+o,p+r,h+o-m,p+r),c.lineTo(h+m,p+r),c.quadraticCurveTo(h,p+r,h,p+r-m),c.lineTo(h,p+m),c.quadraticCurveTo(h,p,h+m,p),c.closePath(),c.clip(),l.draw(0,0,n),!0},fl={drawCircle:ul,drawBorder:hl},pl=(a,e)=>{const{fractionalDigits:t=0,startAbbreviate:s=1e3,abbreviateStep:i=3,maxLength:o=-1,removeLastZero:r=!0,suffixes:n=["","k","m","b","t","q"]}=e||{},l=o===-1?99999999:o;if(a>=s){const h=Math.floor(a/10**i),p=Math.floor((h.toString().length-1)/i)+1,E=(a/(10**i)**p).toFixed(t),P=l-n[p].length,v=E.substring(0,P);return(r?uo(v):v)+n[p]}const c=a.toFixed(t),d=l-n[0].length,m=c.substring(0,d);return r?uo(m):m+n[0]},uo=a=>{if(a.indexOf(".")<0)return a;for(let e=a.length-1;e>=0;e--){if(a[e]==".")return a.substring(0,e);if(a[e]!="0")return a.substring(0,e+1)}return a},bl=(a,e,t="0")=>{let s=a.toString();const i=s.length;for(let o=0;o<e-i;o++)s=t+s;return s},gl=(a,e,t="0")=>{let s=a.toString();const i=s.length;for(let o=0;o<e-i;o++)s=s+t;return s},Tl={toAbbreviatedString:pl,padStart:bl,padEnd:gl},wl=()=>{const a=navigator.userAgent;return/Windows|Mac OS/i.test(a)&&!/like Mac OS/.test(a)},El=()=>{const a=navigator.userAgent;return/Android|iP[ao]d|iPhone/i.test(a)},vl=()=>FBInstant.getPlatform()==="ANDROID",Pl=()=>FBInstant.getPlatform()==="IOS",yl=()=>FBInstant.getPlatform()==="MOBILE_WEB",Sl=()=>Math.round(window.devicePixelRatio)||1,kl={isDesktop:wl,isMobile:El,isAndroid:vl,isIOS:Pl,isMobileWeb:yl,pixelRatio:Sl},La={Array:vn,Hash:Dn,Html:Fn,Json:Un,Object:Wn,String:il,Valid:ml,Image:fl,Number:Tl,Device:kl};function Da(a){return Object.prototype.toString.call(a).slice(8,-1)}function ss(a){if(Da(a)!=="Object")return!1;const e=Object.getPrototypeOf(a);return e.constructor===Object&&e===Object.prototype}function ho(a){return Da(a)==="Symbol"}function fo(a,e,t,s){const i={}.propertyIsEnumerable.call(s,e)?"enumerable":"nonenumerable";i==="enumerable"&&(a[e]=t),i==="nonenumerable"&&Object.defineProperty(a,e,{value:t,enumerable:!1,writable:!0,configurable:!0})}function Na(a,e,t){if(!ss(e))return e;let s={};if(ss(a)){const n=Object.getOwnPropertyNames(a),l=Object.getOwnPropertySymbols(a);s=[...n,...l].reduce((c,d)=>{const m=a[d];return(!ho(d)&&!Object.getOwnPropertyNames(e).includes(d)||ho(d)&&!Object.getOwnPropertySymbols(e).includes(d))&&fo(c,d,m,a),c},{})}const i=Object.getOwnPropertyNames(e),o=Object.getOwnPropertySymbols(e);return[...i,...o].reduce((n,l)=>{let c=e[l];const d=ss(a)?a[l]:void 0;d!==void 0&&ss(c)&&(c=Na(d,c,t));const m=t?t(d,c,l):c;return fo(n,l,m,e),n},s)}function ce(a,...e){return e.reduce((t,s)=>Na(t,s),a)}const xl={ENV:"development",AppId:"",ApiHost:"",OtherHost:"",Notification:{Enable:!0,DisableSendNotification:!0,ApiUrl:"https://nostra-notifications.suncs.io",GameTitle:"Sun Studio",GameImage:""},PlayerDataStoreUsingApi:!1,PlayerMock:{id:"",signature:""},OpponentMock:{id:"",signature:""},MatchMockFailRate:5,Gameplay:{StartLevel:1,StartScore:0,StartCoins:0,BaseScore:10,StartAdAtLevel:1,RewardItemResultPopupRatio:.16,BombCountDownTime:9e4,StartItems:{ItemHint:2,ItemRocket:2,ItemShuffle:2,ItemBombDefuse:2},DailyRewardItems:{ItemHint:2,ItemRocket:2,ItemShuffle:2,ItemBombDefuse:2},DelayStart:500,DelayLevelUp:1500,DelayEndGame:1500,EnableVibrate:!0,Themes:["fruit","cake","bird","candy","flower","umbrella","food"]},Tutorial:{ForceUseTutorial:!1,NumberOfTutorial:{FirstMove:0,TargetScore:0,CurrentScore:0,ColorfulGem:0,ItemHammer:0,ItemShuffle:0}},PlayerDataStore:"PlayerData.PopJewels",Game:{AutoResize:!0,PortraitRatio:500/684,PortraitWidth:375,PortraitHeight:667,LandscapeRatio:760/360,LandscapeWidth:760,LandscapeHeight:360,ForcePixelRatio:0,DisableLandscape:!0,FullSizeOnLandscape:!0},Debugger:{ShowInspector:!1,ShowMonitoring:!1,ShowConsole:!1,Expanded:!0,AutoRefresh:!0,InspectorAutoUpdate:!0,Opacity:.8},Statistics:{Enable:!1,DisplayMode:0,FPS:!0,MS:!0,MB:!0,Opacity:.8,ShowFPSInGame:!0,ShowMemoryInGame:!1},ParticleEditor:{Enable:!1,Opacity:.8,Expanded:!0},ProfilerPlugin:{Enable:!1},Match:{MaxRescueCount:999999,RescueGamePopupTimeout:5,ContinueSingleMatchEnabled:!1,SingleMatchStore:"singleMatch",LocalSingleMatchDefault:{_id:"12345678890",status:"open",playerId:"",score:0,level:1,startedAt:0,updateAt:0,finishAt:0,data:{}}},DailyRewards:{MaxDays:6,MockTime:0,CheckInterrupt:!0},DailyTasks:{Duration:86400},Tournament:{UseMock:!1,ForcePlay:!1,UseLeaderboard:!1,TournamentContextIds:[]},LeadersBoard:{Name:null,UseMock:!1,Prefix:"leaderboards",LeaderboardId:"",Limit:50},LanguageSupport:{en:"en"},EnableEffectSceneTransition:!0,DefaultTheme:"default",ThemeSupport:{default:"default"},Ads:{Enabled:!0,CalculateSafeAreaBottom:!0,EnableRewardVideoResetInterstitial:!1,Mockup:{Enable:!1,ErrorRate:5,GiphyApiKey:""},InterstitialAdOptions:{pID:"",showWhenStartGame:!1,secondsFirstTime:45,secondsBetweenAds:90},RewardAdOptions:{pID:"",secondsFirstTime:0,secondsBetweenAds:0},BannerAdOptions:[{placementId:"1",bannerHeight:50,platform:"MOBILE",secondsReload:0},{placementId:"2",bannerHeight:50,platform:"DESKTOP",secondsReload:0}]},Network:{MaximumRequest:6,Timeout:15e3,Retries:3},Analytics:{GoogleAnalytics:{consoleLog:!1}},Sentry:{errorCodes:{accepted:[],ignored:["USER_INPUT","NETWORK_FAILURE"]},errorMessages:{accepted:[],ignored:["Load image failed"]}},Rollbar:{Enable:!1,UseMockup:!1,FilterError:{Codes:{accepted:[],ignored:["USER_INPUT","NETWORK_FAILURE"]},Messages:{accepted:[],ignored:["Load image failed","Request failed to be processed"]}},ListPlayerDevIds:[]},Performance:{Enable:!0,trackingSceneKeys:["GAME_SCENE"],minQuality:1.5,maxQuality:2,fpsThreshold:48,checkInterval:2e3,qualityAdjustStep:.1,autoUpgradeQuality:!0,onlyUpdateWhenSwitchScene:!1}},Rl={Notification:{Enable:!0,DisableSendNotification:!0,ApiUrl:"https://nostra-notifications.suncs.io",GameTitle:"Sun Studio",GameImage:""},PlayerDataStoreUsingApi:!1,PlayerMock:{id:"",signature:""},OpponentMock:{id:"",signature:""},MatchMockFailRate:5,Gameplay:{StartLevel:1,StartScore:0,StartCoins:0,BaseScore:10,StartAdAtLevel:1,RewardItemResultPopupRatio:.16,BombCountDownTime:9e4,StartItems:{ItemHint:2,ItemRocket:2,ItemShuffle:2,ItemBombDefuse:2},DailyRewardItems:{ItemHint:2,ItemRocket:2,ItemShuffle:2,ItemBombDefuse:2},DelayStart:500,DelayLevelUp:1500,DelayEndGame:1500,EnableVibrate:!0,Themes:["fruit","cake","bird","candy","flower","umbrella","food"]},Tutorial:{ForceUseTutorial:!1,NumberOfTutorial:{FirstMove:0,TargetScore:0,CurrentScore:0,ColorfulGem:0,ItemHammer:0,ItemShuffle:0}},PlayerDataStore:"PlayerData.PopJewels",ParticleEditor:{Enable:!1,Opacity:.8,Expanded:!0},ProfilerPlugin:{Enable:!1},Match:{MaxRescueCount:999999,RescueGamePopupTimeout:5,ContinueSingleMatchEnabled:!1,SingleMatchStore:"singleMatch",LocalSingleMatchDefault:{_id:"12345678890",status:"open",playerId:"",score:0,level:1,startedAt:0,updateAt:0,finishAt:0,data:{}}},DailyRewards:{MaxDays:6,MockTime:0,CheckInterrupt:!0},DailyTasks:{Duration:86400},Tournament:{UseMock:!1,ForcePlay:!1,UseLeaderboard:!1,TournamentContextIds:[]},LanguageSupport:{en:"en"},EnableEffectSceneTransition:!0,DefaultTheme:"default",ThemeSupport:{default:"default"},Network:{MaximumRequest:6,Timeout:15e3,Retries:3},Analytics:{GoogleAnalytics:{consoleLog:!1}},Sentry:{errorCodes:{accepted:[],ignored:["USER_INPUT","NETWORK_FAILURE"]},errorMessages:{accepted:[],ignored:["Load image failed"]}},Rollbar:{Enable:!1,UseMockup:!1,FilterError:{Codes:{accepted:[],ignored:["USER_INPUT","NETWORK_FAILURE"]},Messages:{accepted:[],ignored:["Load image failed","Request failed to be processed"]}},ListPlayerDevIds:[]},ENV:"production",ApiHost:"",OtherHost:"",LeadersBoard:{Name:null,UseMock:!1,Limit:50,Prefix:"leaderboards",LeaderboardId:""},Debugger:{Expanded:!0,AutoRefresh:!0,InspectorAutoUpdate:!0,Opacity:.8,ShowConsole:!1,ShowInspector:!1,ShowMonitoring:!1},Statistics:{DisplayMode:0,FPS:!0,MS:!0,MB:!0,Opacity:.8,Enable:!1,ShowFPSInGame:!1,ShowMemoryInGame:!1},Performance:{Enable:!0,trackingSceneKeys:["GAME_SCENE"],minQuality:1.5,maxQuality:2,fpsThreshold:48,checkInterval:2e3,qualityAdjustStep:.1,autoUpgradeQuality:!0,onlyUpdateWhenSwitchScene:!1},AppId:"1-TileConnect-1676887283",Ads:{Enabled:!0,CalculateSafeAreaBottom:!0,EnableRewardVideoResetInterstitial:!1,Mockup:{Enable:!1,ErrorRate:5,GiphyApiKey:""},BannerAdOptions:[{placementId:"1",bannerHeight:50,platform:"MOBILE",secondsReload:0},{placementId:"2",bannerHeight:50,platform:"DESKTOP",secondsReload:0}],RewardAdOptions:{secondsFirstTime:0,secondsBetweenAds:0,pID:"123"},InterstitialAdOptions:{showWhenStartGame:!1,pID:"456",secondsFirstTime:45,secondsBetweenAds:90}},Game:{AutoResize:!0,PortraitRatio:.7309941520467836,PortraitWidth:375,PortraitHeight:667,LandscapeRatio:2.111111111111111,LandscapeWidth:760,LandscapeHeight:360,DisableLandscape:!0,FullSizeOnLandscape:!0,ForcePixelRatio:1}},Ol={ENV:"development",AppId:"377596664404993",Notification:{Enable:!1},Ads:{Enabled:!0,Mockup:{Enable:!1,ErrorRate:5,GiphyApiKey:"VmjHIRsfrwCAssDS4mDo9DoImxJm1lLM"},RewardAdOptions:{pID:"123"},InterstitialAdOptions:{pID:"456"},BannerAdOptions:[{placementId:"789",bannerHeight:50,platform:"MOBILE",secondsReload:0},{placementId:"012",bannerHeight:50,platform:"DESKTOP",secondsReload:0}]},Analytics:{GoogleAnalytics:null},Statistics:{ShowFPSInGame:!0},Tournament:{UseMock:!0}},Al={},Il={ENV:"production",AppId:"",ApiHost:"",OtherHost:"",LeadersBoard:{Prefix:"leaderboards",LeaderboardId:""},Debugger:{ShowConsole:!1,ShowInspector:!1,ShowMonitoring:!1},Statistics:{Enable:!1,ShowFPSInGame:!1,ShowMemoryInGame:!1},Performance:{Enable:!0,trackingSceneKeys:["GAME_SCENE"],minQuality:1.5,maxQuality:2,fpsThreshold:48,checkInterval:2e3,qualityAdjustStep:.1,autoUpgradeQuality:!0,onlyUpdateWhenSwitchScene:!1}};let Re=xl;const Ml="production";switch(Ml){case"development":Re=ce({...Re},Ol),Re=ce({...Re},Rl);break;case"production":Re=ce({...Re},Il),Re=ce({...Re},Al);break}window._forcePixelRatio!=null&&(Re.Game.ForcePixelRatio=window._forcePixelRatio);const Ga=Re,Cl=a=>e=>{try{const{game:t}=window,{module:s}=e;if(t.scene.getScenes(!0)[0].scene.key!==a)return;const r=s.default;t.scene.remove(a),t.scene.add(a,r,!0),t.scene.bringToTop(t.globalScene),console.log("%c HotScene: ","font-size:12px;background-color: #465975;color:#fff;",a)}catch{}};function Ai(a,e,t){var s,i,o;e===void 0&&(e=50),t===void 0&&(t={});var r=(s=t.isImmediate)!=null&&s,n=(i=t.callback)!=null&&i,l=t.maxWait,c=Date.now(),d=[];function m(){if(l!==void 0){var p=Date.now()-c;if(p+e>=l)return l-p}return e}var h=function(){var p=[].slice.call(arguments),b=this;return new Promise(function(E,P){var v=r&&o===void 0;if(o!==void 0&&clearTimeout(o),o=setTimeout(function(){if(o=void 0,c=Date.now(),!r){var T=a.apply(b,p);n&&n(T),d.forEach(function(A){return(0,A.resolve)(T)}),d=[]}},m()),v){var g=a.apply(b,p);return n&&n(g),E(g)}d.push({resolve:E,reject:P})})};return h.cancel=function(p){o!==void 0&&clearTimeout(o),d.forEach(function(b){return(0,b.reject)(p)}),d=[]},h}let Ut=!1;const _l=(a,e=Ut)=>t=>{try{const{game:s}=window,{module:i}=t;let r=s.scene.getScenes(!0)[0];if(r.scene.key!==a)return;Ut=e;const n=i.default,l=`${a}-draft`;s.scene.remove(l);const c=s.scene.add(l,n);console.log("%c HotSceneObjects: ","font-size:12px;background-color: #465975;color:#fff;",a),r=s.scene.getScene(a),c.events.once(Phaser.Scenes.Events.RENDER,Ai(()=>{const d=c.children.getAll();Fa(r,d),s.scene.remove(l)}),50),s.scene.run(l),s.scene.bringToTop(r),s.scene.bringToTop(s.globalScene)}catch(s){console.warn(s)}},Fa=(a,e,t)=>{e.forEach(s=>{if(!s.name)return;let i=null;if(t?i=t.getByName(s.name):i=a.children.getByName(s.name),Ut&&console.log("%c Checking object: ","font-size:12px;background-color: #465975;color:#fff;",s.name,s.type),!i)return;if(s.type==="Container"){const l=s,c=i,d=l.getAll();if(Fa(a,d,c),!c.hotContainer)return;console.log("%c Update container: ","font-size:12px;background-color: #33A5FF;color:#fff;",c.name)}const o=Reflect.ownKeys(s),r=["_events","_sysEvents","input","localTransform","list","displayList"],n=o.filter(l=>{if(typeof l!="string"||r.indexOf(l)>=0||!i)return!1;const c=Reflect.get(s,l);if(c instanceof Function||c instanceof Phaser.Scene||c instanceof Phaser.GameObjects.Group||c instanceof Phaser.GameObjects.GameObject)return!1;const d=Reflect.get(i,l);return c===d});n.length<1||(Ut&&console.log("%c HotObject: ","font-size:12px;background-color: #2EAFB0;color:#fff;",s.name,n),n.forEach(l=>{if(!i)return;const c=Reflect.get(s,l),d=Reflect.get(i,l),m=Reflect.set(i,l,c);Ut&&console.log("%c Update property: ","font-size:12px;background-color: #B03734;color:#fff;",m,l,{oldValue:d,newValue:c})}))})},Ll={Scene:Cl,SceneObjects:_l},Dl={Configs:Ga,Utils:La,LiveUpdate:Ll};window.GameCore=Dl;const Nl="production";console.warn(Nl,{Configs:Ga,isDebugger:La.Valid.isDebugger()});const Gl="modulepreload",Fl=function(a,e){return new URL(a,e).href},po={},ot=function(e,t,s){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(o=>{if(o=Fl(o,s),o in po)return;po[o]=!0;const r=o.endsWith(".css"),n=r?'[rel="stylesheet"]':"";if(!!s)for(let d=i.length-1;d>=0;d--){const m=i[d];if(m.href===o&&(!r||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${n}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":Gl,r||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),r)return new Promise((d,m)=>{c.addEventListener("load",d),c.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())},M={BUTTON_CLICK:"button_click",SCREEN_OPEN:"screen_open",LOAD_START:"load_start",LOAD_COMPLETE:"load_complete",APP_READY:"app_ready",TUTORIAL_BEGIN:"tutorial_begin",TUTORIAL_STEP:"tutorial_step",TUTORIAL_COMPLETE:"tutorial_complete",MATCH_START:"match_start",MATCH_RESCUE:"match_rescue",MATCH_END:"match_end",LEVEL_START:"level_start",LEVEL_RESCUE:"level_rescue",LEVEL_END:"level_end",SHARE:"share",MESSAGE:"message",INVITE:"invite",SHORTCUT_CREATE:"shortcut_create",SHORTCUT_CREATE_POPUP:"shortcut_create_popup",BOT_SUBSCRIBE:"bot_subscribe",BOT_SUBSCRIBE_POPUP:"bot_subscribe_popup",AD_SHOW:"ad_show",AD_SHOW_FAILED:"ad_show_failed",NEW_USER:"new_user",AD_IMPRESSION:"ad_impression",JOIN_GROUP:"join_group",GET_FREE_ITEM:"get_free_item",USE_ITEM:"use_item",EARN_ITEM:"earn_item",TOURNAMENT_SHARE:"tournament_share",TOURNAMENT_CREATE:"tournament_create",TOURNAMENT_POST_SCORE:"tournament_post_score",GLANCE_GAME_LOAD:"game_load",GLANCE_GAME_START:"game_start",GLANCE_GAME_REPLAY:"game_replay",GLANCE_GAME_LEVEL:"game_level",GLANCE_GAME_END:"game_end",GLANCE_GAME_LEVEL_COMPLETED:"level_completed",GLANCE_REWARDED_AD:"rewarded_ad",GLANCE_GAME_MILESTONE:"game_milestone",GLANCE_GAME_LIFE_END:"game_life_end",GLANCE_INGAME_TRANSACTIONS:"ingame_transactions"},Ii=()=>GameCore.Configs.Game.ForcePixelRatio?GameCore.Configs.Game.ForcePixelRatio:GameCore.Utils.Device.isDesktop()||GameCore.Utils.Device.pixelRatio()>1?2:1,bo=Ii(),Be={AVATAR_DEFAULT:{KEY:"avatar-default",FILE:"./assets/images/others/avatar-default.png",CONFIG:{}},BACKGROUND:{KEY:"background",FILE:`./assets/images/${bo}x/bg.jpg`,FILE_LANDSCAPE:`./assets/images/${bo}x/landscape-bg.jpg`,CONFIG:{}}};class vs{playerId;name;photo;locale;constructor(e,t,s,i){this.playerId=e,this.name=t,this.photo=s||Be.AVATAR_DEFAULT.FILE,this.locale=i||"en_US"}toObject(){return{playerId:this.playerId,name:this.name,photo:this.photo,locale:this.locale}}}const Bl=a=>new Promise(e=>setTimeout(e,a)),ws=a=>{const e=new Date(a),t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},{AppId:Ul}=GameCore.Configs;class Yl{async createAsync(e){return await GameSDK.tournament.createAsync(e)}async shareAsync(e){await GameSDK.tournament.shareAsync(e)}async joinAsync(e){return await GameSDK.tournament.joinAsync(e)}async postScoreAsync(e){await GameSDK.tournament.postScoreAsync(e)}async getTournamentsAsync(){return await GameSDK.tournament.getTournamentsAsync()}}class Hl{facebook;isCalledSubscribeBot=!1;isCalledCreateShortcut=!1;constructor(e){this.facebook=e}async switchAsync(e){await GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0),await GameSDK.context.switchAsync(e)}async chooseAsync(){try{return await GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0),await GameSDK.context.chooseAsync({filters:["INCLUDE_EXISTING_CHALLENGES"],minSize:2,maxSize:2}),GameSDK.context.getID()}catch(e){if(e instanceof Object&&GameCore.Utils.Object.hasOwn(e,"code"))switch(e.code){case"USER_INPUT":return!1;case"SAME_CONTEXT":return GameSDK.context.getID()}return null}}async createAsync(e){try{return await GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0),await GameSDK.context.createAsync(`${e}`),GameSDK.context.getID()}catch(t){if(t instanceof Object&&GameCore.Utils.Object.hasOwn(t,"code"))switch(t.code){case"USER_INPUT":return!1;case"SAME_CONTEXT":return GameSDK.context.getID()}return null}}async getPlayerToken(){return(await GameSDK.player.getSignedPlayerInfoAsync()).getSignature()}async getContextPlayers(e){try{const t=await GameSDK.context.getPlayersAsync(),s=[];return t.forEach(i=>{const o=i.getID();if(o===e)return;const r=i.getName();if(!r)return;const n=i.getPhoto();s.push(new vs(o,r,n).toObject())}),GameCore.Utils.Array.unique(s)}catch(t){return console.warn("getPlayersAsync",{error:t}),[]}}async shareAsync(e){await GameSDK.shareAsync(e)}async sendMessage(e){}async inviteAsync(e){}async postSessionScoreAsync(e){await GameSDK.postSessionScoreAsync(e)}async getRewardedVideoAsync(e){return await GameSDK.getRewardedVideoAsync(e)}async getInterstitialAdAsync(e){return await GameSDK.getInterstitialAdAsync(e)}getContextID(){return GameSDK.context.getID()}async attemptToAddShortcut(){if(this.isCalledCreateShortcut)return!1;try{if(GameSDK.getPlatform()==="ANDROID")return!1;const s=(await GameSDK.player.getDataAsync(["lastCallCreateShortcut"])||{}).lastCallCreateShortcut;if(s&&ws(+s))return!1;const i=Date.now();if(GameSDK.player.setDataAsync({lastCallCreateShortcut:i}),!GameSDK.getSupportedAPIs().includes("canCreateShortcutAsync"))return!1;if(await GameSDK.canCreateShortcutAsync()){const{SHORTCUT_CREATE:n,SHORTCUT_CREATE_POPUP:l}=M,c=Date.now();this.isCalledCreateShortcut=!0,window.game.analytics.event(l);try{return await GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0),await GameSDK.createShortcutAsync(),FBInstant.player.setDataAsync({lastCallCreateShortcut:c}),window.game.analytics.event(n,{success:!0}),!0}catch{return FBInstant.player.setDataAsync({lastCallCreateShortcut:c}),window.game.analytics.event(n,{success:!1}),!1}}return!1}catch{return!1}}async attemptToSubscribeBot(){if(this.isCalledSubscribeBot)return!1;try{const t=(await FBInstant.player.getDataAsync(["lastCallSubscribeBot"])||{}).lastCallSubscribeBot||0;if(t&&ws(+t)||!FBInstant.getSupportedAPIs().includes("player.canSubscribeBotAsync"))return!1;if(await GameSDK.player.canSubscribeBotAsync()){const r=(await GameSDK.player.getDataAsync(["lastCallSubscribeBot"])||{}).lastCallSubscribeBot;if(r&&ws(+r))return!1;const n=Date.now();this.isCalledSubscribeBot=!0;try{return await GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0),await GameSDK.player.subscribeBotAsync(),FBInstant.player.setDataAsync({lastCallSubscribeBot:n}),!0}catch{return FBInstant.player.setDataAsync({lastCallSubscribeBot:n}),!1}}return!1}catch{return!1}}async matchPlayerAsync(e,t,s){try{return!GameSDK.getSupportedAPIs().includes("checkCanPlayerMatchAsync")||!await GameSDK.checkCanPlayerMatchAsync()?!1:(await GameSDK.matchPlayerAsync(e,t,s),!0)}catch{return!1}}setLoadingProgress(e){GameSDK.setLoadingProgress(e)}getLocale(){return GameSDK.getLocale()||"en"}async injectTournament(){this.facebook.tournament=new Yl,this.facebook.getTournamentAsync=this.getTournamentAsync,this.facebook.requestTournamentAsync=this.requestTournamentAsync}async getTournamentAsync(){return await GameSDK.getTournamentAsync()}requestTournamentAsync=async e=>{try{await this.facebook.getTournamentAsync(),await this.facebook.tournament.shareAsync({score:e})}catch{const s=GameSDK.player.getName();await this.facebook.tournament.createAsync({initialScore:e,config:{tournamentTitle:`${s}'s Tournament`}})}};async sendNotificationAsync(e){try{const{href:t,ref:s,message:i,delayTime:o}=e;await GameSDK.graphApi.requestAsync("/me/notifications","POST",{ref:s,href:t||`https://fb.gg/play/${Ul}`,template:i,scheduleInterval:o})}catch(t){console.warn("ðŸ¤– ? sendNotificationAsync",t)}}}let go=0,ge=0;class Kl{game;progressFbTimeEvent;constructor(e){this.game=e}loadingProgressFbBootScene(){let i=100;ge=30;const o=()=>{if(i<=0){clearTimeout(this.progressFbTimeEvent);return}this.progressFbTimeEvent=setTimeout(()=>{this.game.facebook.setLoadingProgress(Math.round(ge)),ge+=30/i,i--,o()},50)};o()}finishLoadingProgressFbBootScene(){clearTimeout(this.progressFbTimeEvent)}loadingProgressFbLoadScene(){(!ge||ge<30)&&(ge=60),go=ge;const t=()=>{this.progressFbTimeEvent=setTimeout(()=>{this.game.facebook.setLoadingProgress(Math.round(ge)),ge+=.1,t()},50)};t()}onProgress(e){const t=100-ge,s=Math.round(e*t+ge);s>go&&clearTimeout(this.progressFbTimeEvent),this.game.facebook.setLoadingProgress(s)}}class Wl{addKillRevive(){[Phaser.GameObjects.Container,Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Graphics,Phaser.GameObjects.Text,Phaser.GameObjects.BitmapText,Phaser.GameObjects.Particles.ParticleEmitter,Phaser.GameObjects.Particles.ParticleEmitterManager].forEach(e=>{e.prototype.kill=this.kill,e.prototype.revive=this.revive})}addKillReviveGroup(){Phaser.GameObjects.Group.prototype.killGroup=this.killGroup,Phaser.GameObjects.Group.prototype.reviveGroup=this.reviveGroup}addSetWorldSize(){[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite].forEach(e=>{e.prototype.setWorldSize=this.setWorldSize})}addSetWorldSizeForContainer(){[Phaser.GameObjects.Container].forEach(e=>{e.prototype.setWorldSize=this.setWorldSizeForContainer})}addGetWorldPosition(){[Phaser.GameObjects.Container,Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Graphics,Phaser.GameObjects.Text,Phaser.GameObjects.BitmapText].forEach(e=>{e.prototype.getWorldPosition=this.getWorldPosition})}addDrawDebugBox(){[Phaser.GameObjects.Container,Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Graphics,Phaser.GameObjects.Text,Phaser.GameObjects.BitmapText,Phaser.GameObjects.Zone].forEach(e=>{e.prototype.drawDebugBox=this.drawDebugBox})}addHighQuality(){[Phaser.GameObjects.Text].forEach(e=>{e.prototype.setHighQuality=this.setHighQuality})}kill(){this.setActive(!1),this.setVisible(!1)}revive(){this.setActive(!0),this.setVisible(!0)}killGroup(){this.getChildren().forEach(e=>{e.setActive(!1),e.setVisible(!1)})}reviveGroup(){this.getChildren().forEach(e=>{e.setActive(!0),e.setVisible(!0)})}setWorldSize(e,t){this.setSize(e,t),this.setDisplaySize(e,t)}setWorldSizeForContainer(e,t,s=2){this.setSize(e*s,t*s),this.setDisplaySize(e,t)}getWorldPosition(){const e=this.getWorldTransformMatrix(),{translateX:t,translateY:s}=e.decomposeMatrix();return{x:t,y:s}}drawDebugBox(e,t){const{x:s,y:i,width:o,height:r,depth:n,originX:l,originY:c}=this,d=this.scene.add.rectangle(s,i,o,r,e,t);d.setName("Debug Box"),d.setDepth(n);const{isNumber:m}=GameCore.Utils.Valid;return m(l)&&m(c)&&d.setOrigin(l,c),d}setHighQuality(){return this.renderer instanceof Phaser.Renderer.WebGL.WebGLRenderer?this.setResolution(this.scene.game.world.getZoomRatio()*2):this}}const Ti={LOADED:"loaded",DISPLAYED:"displayed"};var Ba=(a=>(a.IDLE="idle",a.LOADING="loading",a.FILLED="filled",a.SHOWING="showing",a))(Ba||{});const Ua=Ba;var Ya=(a=>(a.REWARDED="rewarded",a.INTERSTITIAL="interstitial",a))(Ya||{});const we=Ya;class je extends Error{code;constructor(e,t){super(t),this.code=e,this.message=t}}class zl{type;status;constructor(e){this.type=e,this.status=Ua.IDLE}}GameCore.Ads={Types:we,Status:Ua,Events:Ti,AdError:je,AdInstance:zl};class Vl extends Phaser.Plugins.BasePlugin{events;enabled;config;lastInterAdShownTime;lastRewardAdShownTime;interstitial;rewardedVideo;safeAreaBottom;showingBannerAd;reloadBannerAdIntervals;bannerAdConfig;isHaveBannerAdOptions;init(){this.events=new Phaser.Events.EventEmitter,this.safeAreaBottom=0,this.lastInterAdShownTime=0,this.lastRewardAdShownTime=0,this.showingBannerAd={},this.reloadBannerAdIntervals={},this.isHaveBannerAdOptions=!0}calculateSafeAreaBottom(){try{if(!this.config.calculateSafeAreaBottom)return;this.safeAreaBottom=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sab")),isNaN(this.safeAreaBottom)&&(this.safeAreaBottom=0)}catch{this.safeAreaBottom=0}}configure(e,t){this.enabled=t.enabled,this.config=t;const{bannerAdOptions:s}=this.config;s.length===0&&(this.isHaveBannerAdOptions=!1),this.setAdInstance(e),this.calculateSafeAreaBottom()}setAdInstance(e){const{rewardAdOptions:t,interstitialAdOptions:s}=this.config;this.interstitial=new e(we.INTERSTITIAL,t.pID),this.rewardedVideo=new e(we.REWARDED,s.pID)}async preloadInterstitialAdAsync(){console.log("preloading Interstitial"),await this.preloadAdAsync(we.INTERSTITIAL)}async showInterstitialAdAsync(){if(!this.canbeShowInterstitialAd())throw new je("INTERSTITIAL_AD_CAN_NOT_SHOW","Can't show interstitial ad");await this.showAdAsync(we.INTERSTITIAL)}async preloadRewardedVideoAsync(){console.log("preloading RewardedVideo"),await this.preloadAdAsync(we.REWARDED)}async showRewardedVideoAsync(){if(!this.canbeShowRewardAd())throw new je("REWARDED_VIDEO_CAN_NOT_SHOW","Can't show rewarded video");await this.showAdAsync(we.REWARDED),this.lastRewardAdShownTime=window.performance.now()/1e3}getRemainingRewardTime(){const e=window.performance.now()/1e3,{secondsBetweenAds:t}=this.config.rewardAdOptions,s=e-this.lastRewardAdShownTime;return s<t?t-s:0}async preloadAdAsync(e){if(!this.enabled)throw new je("ADS_NOT_ENABLED","Ads is't enabled");const t=this.getAdInstanceByType(e);if(t===null)throw new je("AD_INSTANCE_NOT_INITIALLED","The instance ads not yet initiated");await t.loadAsync(),this.events.emit(Ti.LOADED,e)}async showAdAsync(e){if(!this.enabled)throw new je("ADS_NOT_ENABLED","Ads is't enabled");const t=this.getAdInstanceByType(e);if(t===null)throw new je("AD_INSTANCE_NOT_INITIALLED","The instance ads not yet initiated");if(e===we.INTERSTITIAL&&(this.lastInterAdShownTime=window.performance.now()/1e3),e===we.REWARDED){this.lastRewardAdShownTime=window.performance.now()/1e3;const{enableRewardVideoResetInterstitial:s}=this.config;s&&(this.lastInterAdShownTime=this.lastRewardAdShownTime)}await t.showAsync(),this.events.emit(Ti.DISPLAYED,e)}getAdStatus(e){const t=this.getAdInstanceByType(e);return t?t.getStatus():null}getAdInstanceByType(e){switch(e){case we.INTERSTITIAL:return this.interstitial;case we.REWARDED:return this.rewardedVideo;default:return null}}canbeShowInterstitialAd(){return this.canbeShowInterstitialAdByTime()}canbeShowInterstitialAdByTime(){const e=window.performance.now()/1e3,{secondsFirstTime:t,secondsBetweenAds:s}=this.config.interstitialAdOptions,i=Math.floor(e-this.lastInterAdShownTime);return this.lastInterAdShownTime>0?i>=s:i>=t}canbeShowRewardAd(){const e=window.performance.now()/1e3,{secondsFirstTime:t,secondsBetweenAds:s}=this.config.rewardAdOptions,i=Math.floor(e-this.lastRewardAdShownTime);return this.lastRewardAdShownTime>0?i>=s:i>=t}canShowBannerAd(){if(!this.isHaveBannerAdOptions)return!1;const{bannerAdOptions:e}=this.config,t=GameCore.Utils.Device.isDesktop();for(let s=0;s<e.length;s++){const i=e[s],o=i.platform;if(o=="ALL"||o=="DESKTOP"&&t||o=="MOBILE"&&!t)return this.bannerAdConfig=i,!0}return!1}async showBannerAdAsync(){if(!this.enabled||!this.canShowBannerAd())return;this.reloadBannerAdIntervals=this.reloadBannerAdIntervals||{};const{placementId:e,secondsReload:t}=this.bannerAdConfig;if(!(!e||e=="")){if(t>0){if(this.reloadBannerAdIntervals[e])return;this.loadBannerAdAsync(e),this.reloadBannerAdIntervals[e]=setInterval(()=>{this.loadBannerAdAsync(e)},t*1e3);return}this.loadBannerAdAsync(e)}}async loadBannerAdAsync(e){if(this.enabled)try{if(!this.enabled)return;await GameSDK.loadBannerAdAsync(e),this.showingBannerAd[e]=!0}catch(t){console.log(t)}}async hideBannerAdAsync(){if(this.enabled&&this.isHaveBannerAdOptions)try{if(!this.enabled)return;const{bannerAdOptions:e}=this.config;e.forEach(t=>{const{placementId:s}=t,i=this.reloadBannerAdIntervals[s];i&&(clearInterval(i),this.reloadBannerAdIntervals[s]=null),this.showingBannerAd[s]=!1}),await GameSDK.hideBannerAdAsync()}catch(e){console.log(e)}}getBannerHeight(){if(!this.enabled||!this.canShowBannerAd())return 0;const{bannerHeight:e=0}=this.bannerAdConfig||{},t=e+this.safeAreaBottom;if(this.game.world){const s=this.game.world,i=s.getPixelRatio(),o=s.getZoomRatio(),r=s.getScreenHeight()*.01;return this.game.world.getPhysicPixels(t+r,i/o)}return t}}class jl{name;color;selfLog;options;constructor(e,t,s){this.name=e,this.color=s||"#FFF",this.options=t,this.selfLog=!0,console.info(`%c${this.name}: init`,`color: ${this.color}`,this.options)}event(e,t,s){this.processEvent(e,t,s),this.selfLog&&console.info(`%c${this.name}: event`,`color: ${this.color}`,{name:e,value:s,payload:t})}pageview(e){const t=this.getPageByKey(e);this.processPageView(t),this.selfLog&&console.info(`%c${this.name}: pageview`,`color: ${this.color}`,{page:t})}levelStart(e,t,s){this.processLevelStart(e,t,s),this.selfLog&&console.info(`%c${this.name}: level start`,`color: ${this.color}`,{level:e,score:t,levelName:s})}levelFail(e,t,s){this.processLevelFail(e,t,s),this.selfLog&&console.info(`%c${this.name}: level fail`,`color: ${this.color}`,{level:e,score:t,levelName:s})}levelRescue(e,t,s){this.processLevelRescue(e,t,s),this.selfLog&&console.info(`%c${this.name}: level rescue`,`color: ${this.color}`,{level:e,score:t,levelName:s})}levelComplete(e,t,s){this.processLevelComplete(e,t,s),this.selfLog&&console.info(`%c${this.name}: level complete`,`color: ${this.color}`,{level:e,score:t,levelName:s})}showInterstitialAd(e){this.processShowInterstitialAd(e),this.selfLog&&console.info(`%c${this.name}: show interstitial ad`,`color: ${this.color}`,{placement:e})}showRewardedVideoAd(e){this.processShowRewardedVideoAd(e),this.selfLog&&console.info(`%c${this.name}: show rewarded video ad`,`color: ${this.color}`,{placement:e})}receiveReward(e){this.processReceiveReward(e),this.selfLog&&console.info(`%c${this.name}: receive reward`,`color: ${this.color}`,{placement:e})}showAdFail(e,t,s){this.processShowAdFail(e,t,s),this.selfLog&&console.info(`%c${this.name}: show ad fail`,`color: ${this.color}`,{type:e,placement:t,reason:s})}gameMilestone(e,t,s,i){this.processGameMilestone(e,t,s,i),this.selfLog&&console.info(`%c${this.name}: game milestone`,`color: ${this.color}`,{type:e,meta:t,level:s,score:i})}gameLifeEnd(e,t,s){this.processGameLifeEnd(e,t,s),this.selfLog&&console.info(`%c${this.name}: game life end`,`color: ${this.color}`,{remainingLife:e,level:t,score:s})}gameIngameTransactions(e,t,s,i){this.gameIngameTransactions(e,t,s,i),this.selfLog&&console.info(`%c${this.name}: ingame transaction`,`color: ${this.color}`,{transactionType:e,meta:t,level:s,score:i})}getPageByKey(e){let t=e.replace(/_/g,"-");return t=t.toLowerCase(),t}processLevelStart(e,t,s){}processLevelFail(e,t,s){}processLevelRescue(e,t,s){}processLevelComplete(e,t,s){}processShowInterstitialAd(e){}processShowRewardedVideoAd(e){}processReceiveReward(e){}processShowAdFail(e,t,s){}processGameMilestone(e,t={},s=0,i=0){}processGameLifeEnd(e,t=0,s=0){}processIngameTransactions(e,t={},s=0,i=0){}}GameCore.Analytics={BaseAnalytics:jl};class $l extends Phaser.Plugins.BasePlugin{analytics;init(){this.analytics=[]}add(e){this.analytics.push(e)}pageview=e=>{this.isActive()&&this.analytics.forEach(t=>{t.pageview(e)})};event(e,t,s){this.isActive()&&this.analytics.forEach(i=>{i.event(e,t,s)})}levelStart(e,t,s){this.isActive()&&this.analytics.forEach(i=>{i.levelStart(e,t,s)})}levelRescue(e,t,s){this.isActive()&&this.analytics.forEach(i=>{i.levelRescue(e,t,s)})}levelFail(e,t,s){this.isActive()&&this.analytics.forEach(i=>{i.levelFail(e,t,s)})}levelComplete(e,t,s){this.isActive()&&this.analytics.forEach(i=>{i.levelComplete(e,t,s)})}showInterstitialAd(e){this.isActive()&&this.analytics.forEach(t=>{t.showInterstitialAd(e)})}showRewardedVideoAd(e){this.isActive()&&this.analytics.forEach(t=>{t.showRewardedVideoAd(e)})}receiveReward(e){this.isActive()&&this.analytics.forEach(t=>{t.receiveReward(e)})}showAdFail(e,t,s){this.isActive()&&this.analytics.forEach(i=>{i.showAdFail(e,t,s)})}gameMilestone(e,t,s,i){this.isActive()&&this.analytics.forEach(o=>{o.gameMilestone(e,t,s,i)})}gameLifeEnd(e,t,s){this.isActive()&&this.analytics.forEach(i=>{i.gameLifeEnd(e,t,s)})}gameIngameTransactions(e,t,s,i){this.isActive()&&this.analytics.forEach(o=>{o.gameIngameTransactions(e,t,s,i)})}isActive(){return this.analytics.length>=1}}const Ue={BACKGROUND:{KEY:"background",FILE:"./assets/music/bg_music.ogg"},NEW_EFFECTS:{bomb_explode_1:"./assets/sounds/bomb_explode_1.ogg",ticking_bomb_before_explode:"./assets/sounds/ticking_bomb_before_explode.ogg",bomb_defuse:"./assets/sounds/bomb_defuse.ogg",close_popup_click:"./assets/sounds/close_popup_click.ogg",use_item_click:"./assets/sounds/use_item_click.ogg",shuffle_item:"./assets/sounds/shuffle_item.ogg",hint_item:"./assets/sounds/hint_item.ogg",clicks:"./assets/sounds/clicks.ogg",combo_1:"./assets/sounds/combo_1.ogg",combo_2:"./assets/sounds/combo_2.ogg",combo_3:"./assets/sounds/combo_3.ogg",combo_4:"./assets/sounds/combo_4.ogg",combo_5:"./assets/sounds/combo_5.ogg",invalid_match:"./assets/sounds/invalid_match.ogg",level_start:"./assets/sounds/level_start.ogg",level_complete:"./assets/sounds/level_complete.ogg",level_fail:"./assets/sounds/level_fail.ogg",rescue_timer:"./assets/sounds/rescue_timer.ogg",extra_tile_spawn:"./assets/sounds/extra_tile_spawn.ogg",tile_select:"./assets/sounds/tile_select.ogg",rocket_fly:"./assets/sounds/rocket_fly.ogg",collect_stars:"./assets/sounds/collect_stars.ogg",three_stars:"./assets/sounds/three_stars.ogg",progress_star:"./assets/sounds/progress_star.ogg",gift_charge:"./assets/sounds/gift_charge.ogg",gift_explode:"./assets/sounds/gift_explode.ogg",gift_reveal:"./assets/sounds/gift_reveal.ogg",daily_reward:"./assets/sounds/daily_reward.ogg"}},{NEW_EFFECTS:To}=Ue;class Xl{game;audios;volume;constructor(e){this.game=e,this.audios=new Map}play(e,t){const s={volume:this.volume,...t||{}};s.volume!==this.volume&&(s.volume*=this.volume);let i=this.audios.get(e);if(!i&&this.game.cache.audio.exists(e)){const o=this.game.sound.add(e);this.audios.set(e,o),i=o}if(i){i.play(void 0,s);return}To[e]&&(this.game.globalScene.load.audio(e,To[e]),this.game.globalScene.load.on(`${Phaser.Loader.Events.FILE_KEY_COMPLETE}audio-${e}`,()=>{const o=this.game.sound.add(e);this.audios.set(e,o),o.play(void 0,s)}),this.game.globalScene.load.start())}pauseAll(){this.audios.forEach(e=>{e.pause()})}resumeAll(){this.audios.forEach(e=>{e.resume()})}pause(e){const t=this.audios.get(e);t&&t.pause()}stop(e){const t=this.audios.get(e);t&&t.stop()}setVolume(e){this.volume=e}isMusicEnabled=()=>{const{player:e}=this.game;return!!e.getPlayerSetting("music")};isSoundEnabled=()=>{const{player:e}=this.game;return!!e.getPlayerSetting("sound")}}class Zl{name;game;isSprite;audio;markers;volume;volumePerMs;targetVolume;constructor(e,t,s){this.name=t,this.game=e,this.markers={},this.isSprite=s,this.volume=0,this.isSprite||(this.audio=this.game.sound.add(this.name))}resumeForMusic(){return!this.audio||!this.audio.isPlaying?!1:(this.setVolume(1,200),!0)}play(e,t){const s={volume:this.volume,...t||{}};if(s.volume!==this.volume&&(s.volume*=this.volume),!this.isSprite){if(this.audio?.seek>0){this.audio.resume();return}this.audio?.play(e,s);return}this.createMaker(e),this.markers[e]?.play(e,s)}pause(e){if(!this.isSprite){this.audio?.pause();return}this.markers[e]?.pause()}stop(e){if(!this.isSprite){this.audio?.stop();return}this.markers[e]?.stop()}setVolume(e,t){if(t===0||e===this.volume){this.game.globalScene.events.off(Phaser.Scenes.Events.UPDATE,this.handleIncreaseVolume),this.volume=e,this.audio?.setVolume(e);return}this.volumePerMs=(e-this.volume)/t,this.targetVolume=e,this.game.globalScene.events.off(Phaser.Scenes.Events.UPDATE,this.handleIncreaseVolume),this.game.globalScene.events.on(Phaser.Scenes.Events.UPDATE,this.handleIncreaseVolume)}handleIncreaseVolume=(e,t)=>{this.volume+=this.volumePerMs*t,this.audio?.setVolume(this.volume),Math.abs(this.volume)<=.25?this.audio?.setMute(!0):this.audio?.setMute(!1),(this.volumePerMs>=0&&this.volume>=this.targetVolume||this.volumePerMs<=0&&this.volume<=this.targetVolume)&&(this.volume=this.targetVolume,this.game.globalScene.events.off(Phaser.Scenes.Events.UPDATE,this.handleIncreaseVolume))};isMusicEnabled=()=>{const{player:e}=this.game;return!!e.getPlayerSetting("music")};isSoundEnabled=()=>{const{player:e}=this.game;return!!e.getPlayerSetting("sound")};createMaker(e){if(!this.markers[e])try{this.markers[e]=this.game.sound.addAudioSprite(this.name)}catch(t){console.warn("createMaker",t)}}}const{NEW_EFFECTS:gb}=Ue;class ql extends Phaser.Plugins.BasePlugin{soundManager;musicManager;isMuteAll;initMusic=e=>{this.musicManager=new Zl(this.game,e,!1),this.setMusicVolume(this.isMuteAll?0:1)};initSound=()=>{this.soundManager=new Xl(this.game),this.setSoundVolume(this.isMuteAll?0:1)};playSound(e,t){try{if(!this.soundManager||this.isMuteAll||!this.soundManager.isSoundEnabled())return;this.soundManager.play(e,t)}catch{}}stopSound(e){try{this.soundManager.stop(e)}catch{}}playMusic(e={}){try{if(!this.musicManager||this.isMuteAll||!this.musicManager.isMusicEnabled())return;this.musicManager.play("",{loop:!0,...e}),this.musicManager.setVolume(.5,500)}catch{}}pauseMusic(e=!1){try{if(!this.musicManager)return;if(e){this.musicManager.pause("");return}this.musicManager.setVolume(0,500)}catch{}}stopMusic(){try{if(!this.musicManager)return;this.musicManager.stop("")}catch{}}pauseAllSounds(){try{if(!this.soundManager)return;this.soundManager.pauseAll()}catch{}}resumeAllSounds(){try{if(!this.soundManager)return;this.soundManager.resumeAll()}catch{}}setSoundVolume(e){try{if(!this.soundManager)return;this.soundManager.setVolume(e)}catch(t){console.warn("setSoundVolume",t)}}setMusicVolume(e,t=0){try{if(!this.musicManager)return;this.musicManager.setVolume(e,t)}catch(s){console.warn("setMusicVolume",s)}}muteAll(){this.isMuteAll=!0,this.setMusicVolume(0),this.setSoundVolume(0),this.game.globalScene.sound.mute=!0}unmuteAll(e=1){this.isMuteAll=!1,this.setMusicVolume(e),this.setSoundVolume(e),this.game.globalScene.sound.mute=!1}}const Ha="AUTH_TOKEN_REQUEST",Ka="AUTH_TOKEN_RECEIVED";class Ql extends Error{payload;constructor(e,t){super(e),this.name="RequestTokenFail",this.message=e||"Request token fail",this.payload=t||{}}}var Ps="NOT_FOUND";function Jl(a){var e;return{get:function(s){return e&&a(e.key,s)?e.value:Ps},put:function(s,i){e={key:s,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function ec(a,e){var t=[];function s(n){var l=t.findIndex(function(d){return e(n,d.key)});if(l>-1){var c=t[l];return l>0&&(t.splice(l,1),t.unshift(c)),c.value}return Ps}function i(n,l){s(n)===Ps&&(t.unshift({key:n,value:l}),t.length>a&&t.pop())}function o(){return t}function r(){t=[]}return{get:s,put:i,getEntries:o,clear:r}}var tc=function(e,t){return e===t};function sc(a){return function(t,s){if(t===null||s===null||t.length!==s.length)return!1;for(var i=t.length,o=0;o<i;o++)if(!a(t[o],s[o]))return!1;return!0}}function ic(a,e){var t=typeof e=="object"?e:{equalityCheck:e},s=t.equalityCheck,i=s===void 0?tc:s,o=t.maxSize,r=o===void 0?1:o,n=t.resultEqualityCheck,l=sc(i),c=r===1?Jl(l):ec(r,l);function d(){var m=c.get(arguments);if(m===Ps){if(m=a.apply(null,arguments),n){var h=c.getEntries(),p=h.find(function(b){return n(b.value,m)});p&&(m=p.value)}c.put(arguments,m)}return m}return d.clearCache=function(){return c.clear()},d}function oc(a){var e=Array.isArray(a[0])?a[0]:a;if(!e.every(function(s){return typeof s=="function"})){var t=e.map(function(s){return typeof s=="function"?"function "+(s.name||"unnamed")+"()":typeof s}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return e}function ac(a){for(var e=arguments.length,t=new Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];var i=function(){for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];var c=0,d,m={memoizeOptions:void 0},h=n.pop();if(typeof h=="object"&&(m=h,h=n.pop()),typeof h!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof h+"]");var p=m,b=p.memoizeOptions,E=b===void 0?t:b,P=Array.isArray(E)?E:[E],v=oc(n),g=a.apply(void 0,[function(){return c++,h.apply(null,arguments)}].concat(P)),T=a(function(){for(var G=[],H=v.length,K=0;K<H;K++)G.push(v[K].apply(null,arguments));return d=g.apply(null,G),d});return Object.assign(T,{resultFunc:h,memoizedResultFunc:g,dependencies:v,lastResult:function(){return d},recomputations:function(){return c},resetRecomputations:function(){return c=0}}),T};return i}var se=ac(ic);const Mi="auth",rc=a=>a[Mi].token,nc=a=>a[Mi].isRequesting,Wa=se([rc],a=>a),lc=se([nc],a=>a),cc=()=>async(a,e)=>{try{const{facebook:t}=window.game,s=e(),i=Wa(s);if(lc(s)||i!=="")return;a({type:Ha,payload:{}});const r=await t.getPlayerToken();a(wo(r))}catch(t){if(t instanceof Object&&GameCore.Utils.Object.hasOwn(t,"code")&&t.code==="PENDING_REQUEST")return;if(a(wo("")),t instanceof Object&&GameCore.Utils.Object.hasOwn(t,"message")&&typeof t.message=="string"){console.error(new Error(t.message));return}console.error(new Ql)}},wo=a=>({type:Ka,payload:{token:a}});class dc extends Phaser.Plugins.BasePlugin{get state(){return this.game.storage.getState()}async requestToken(){const{storage:e}=this.game;await e.dispatch(cc())}getToken(){return Wa(this.state)}}const mc='nunito,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif',uc=(a,e)=>({string:"+",style:"font-size: 1px; padding: "+Math.floor(e/2)+"px "+Math.floor(a/2)+"px;"}),hc=(a,e=1)=>{const t=new Image;t.onload=function(){const s=uc(this.width*e,this.height*e);console.info(`%c ${s.string}`,`${s.style} background: transparent url(${a}) no-repeat center center; background-size: ${this.width*e}px ${this.height*e}px;`)},t.src=a};class fc extends Phaser.Plugins.ScenePlugin{width;height;renderOptions;canvas;preload(e){const t=Object.keys(e);t.length<1||(t.forEach(s=>{this.scene.load.image(s,e[s])}),this.scene.load.start())}async capture(e){const{width:t,height:s,renderOptions:i}=e;return this.width=t,this.height=s,this.renderOptions=i,this.createCanvas(),await this.loadImages(),this.drawObjects(),this.snapshotFrame()}createCanvas(){this.canvas||(this.canvas=this.game.textures.createCanvas("FrameCaptureCanvas")),this.canvas.clear(),this.canvas.setSize(this.width,this.height)}loadImages(){return new Promise((e,t)=>{for(const s in this.renderOptions){const{name:i,image:o}=this.renderOptions[s];!o||this.scene.textures.get(i).key===i||this.scene.load.image(i,o)}this.scene.load.on(Phaser.Loader.Events.COMPLETE,e),this.scene.load.on(Phaser.Loader.Events.FILE_LOAD_ERROR,()=>{const s=new Error("Load image failed");t(s)}),this.scene.load.start()})}drawObjects(){for(const e in this.renderOptions){const t=this.renderOptions[e];switch(t.type){case"text":this.drawText(t);break;case"image":this.drawImage(t);break}}}drawText(e){const{context:t}=this.canvas,{x:s,y:i,font:o,text:r,fillStyle:n,lineWidth:l,textAlign:c}=e;t.font=`${o} ${mc}`,t.fillStyle=n||"#ffffff",l&&(t.lineWidth=l),c&&(t.textAlign=c),t.fillText(r,s,i)}drawImage(e){const{context:t}=this.canvas,{x:s,y:i,name:o,frame:r,width:n,height:l,fallbackWithImage:c}=e;let d=this.scene.textures.get(o),m=d.getSourceImage(r);d.key==="__MISSING"&&c&&(d=this.scene.textures.get(c),m=d.getSourceImage()),t.drawImage(m,s,i,n,l)}snapshotFrame(){const e=this.canvas.getCanvas().toDataURL("image/jpeg",.85);return GameCore.Utils.Valid.isDebugger()&&hc(e),e}}class pc extends Phaser.Events.EventEmitter{game;options;performance;isRunning=!1;checkTimer;fpsHistory;constructor(e,t,s){super(),this.game=e,this.options=s,this.performance=t}start=()=>{if(this.isRunning)return;this.isRunning=!0;const{checkInterval:e}=this.options;this.checkTimer=e,this.fpsHistory=[],this.game.events.on(Phaser.Core.Events.POST_STEP,this.onPostStep)};stop=()=>{if(!this.isRunning)return;this.isRunning=!1,this.game.events.off(Phaser.Core.Events.POST_STEP,this.onPostStep);const{onlyUpdateWhenSwitchScene:e}=this.options;e&&this.checkFps()};onPostStep=(e,t)=>{if(this.checkTimer-=t,this.checkTimer>0)return;const{checkInterval:s,onlyUpdateWhenSwitchScene:i}=this.options;this.checkTimer+=s,this.fpsHistory.push(this.game.loop.actualFps),i===!1&&this.fpsHistory.length>=5&&this.checkFps()};checkFps(){if(this.fpsHistory.length===0)return;const{autoUpgradeQuality:e}=this.options;let t=!1;this.isLowFps()?t=this.performance.downgradeGraphicsQuality():e&&this.isHighFps()&&(t=this.performance.upgradeGraphicsQuality()),t&&(this.fpsHistory=[])}getFpsMedian(){return Phaser.Math.Median(this.fpsHistory)}isLowFps(){return this.getFpsMedian()<this.options.fpsThreshold}isHighFps(){return this.getFpsMedian()>this.options.fpsThreshold*1.2}}class bc extends Phaser.Plugins.BasePlugin{fpsTracker;pixelRatio;minQuality;maxQuality;qualityAdjustStep;trackingSceneKeys=[];configure(e){const{pixelRatio:t,minQuality:s,maxQuality:i,qualityAdjustStep:o,trackingSceneKeys:r,...n}=e;this.pixelRatio=t,this.minQuality=s,this.maxQuality=i,this.qualityAdjustStep=o,this.trackingSceneKeys=r,this.fpsTracker=new pc(this.game,this,n)}active(){this.game.events.on(Phaser.Scenes.Events.WAKE,this.trackingScene),this.game.events.on(Phaser.Scenes.Events.START,this.trackingScene)}trackingScene=e=>{if(!this.trackingSceneKeys.includes(e))return;const t=this.game.scene.getScene(e);t.events.once(Phaser.Scenes.Events.UPDATE,this.fpsTracker.start),t.events.once(Phaser.Scenes.Events.SLEEP,this.fpsTracker.stop)};downgradeGraphicsQuality(){const e=this.pixelRatio;if(e<=this.minQuality)return!1;const t=+(e-this.qualityAdjustStep).toFixed(2);return t<this.minQuality?!1:(this.pixelRatio=t,this.game.world.resize(this.pixelRatio),console.warn(`ðŸ’« Graphics quality was downgraded! (${e} -> ${t})`),!0)}upgradeGraphicsQuality(){const e=this.pixelRatio;if(e>=this.maxQuality)return!1;const t=+(e+this.qualityAdjustStep).toFixed(2);return t>this.maxQuality?!1:(this.pixelRatio=t,this.game.world.resize(this.pixelRatio),console.warn(`ðŸš€ Graphics quality was upgraded! (${e} -> ${t})`),!0)}}const{DefaultTheme:gc}=GameCore.Configs,Et={sound:!0,music:!0,vibrate:!0,language:"en",theme:gc},{StartCoins:Tc,StartLevel:wc,StartItems:Ec}=GameCore.Configs.Gameplay,{Valid:J,Object:q}=GameCore.Utils;class vt{score;settings;gameData;userGuideDisplays;constructor(e){this.setupDefaultData(),this.updateScore(e),this.updateSettings(e),this.updateGameData(e),this.updateUserGuideDisplays(e)}setupDefaultData(){this.score=0,this.settings={...Et},this.gameData={coins:Tc,items:{...Ec},levelProgress:wc,lastTimePlayed:Date.now(),persistentLoginCount:0},this.userGuideDisplays=0}updateScore(e){const{score:t}=e;J.isNumber(t)!==!1&&(this.score=t)}updateSettings(e){const{settings:t}=e;J.isObject(t)!==!1&&(q.hasOwn(t,"sound")&&J.isBoolean(t.sound)&&(this.settings.sound=t.sound),q.hasOwn(t,"music")&&J.isBoolean(t.music)&&(this.settings.music=t.music),q.hasOwn(t,"vibrate")&&J.isBoolean(t.vibrate)&&(this.settings.vibrate=t.vibrate))}updateGameData(e){const{gameData:t}=e;if(J.isObject(t)!==!1){if(q.hasOwn(t,"coins")&&J.isNumber(t.coins)&&(this.gameData.coins=t.coins),q.hasOwn(t,"levelProgress")&&J.isNumber(t.levelProgress)&&(this.gameData.levelProgress=t.levelProgress),q.hasOwn(t,"items")&&J.isObject(t.items)){const s=t.items;q.hasOwn(s,"ItemHint")&&(this.gameData.items.ItemHint=s.ItemHint),q.hasOwn(s,"ItemRocket")&&(this.gameData.items.ItemRocket=s.ItemRocket),q.hasOwn(s,"ItemShuffle")&&(this.gameData.items.ItemShuffle=s.ItemShuffle),q.hasOwn(s,"ItemBombDefuse")&&(this.gameData.items.ItemBombDefuse=s.ItemBombDefuse)}q.hasOwn(t,"lastTimePlayed")&&J.isNumber(t.lastTimePlayed)&&(this.gameData.lastTimePlayed=t.lastTimePlayed),q.hasOwn(t,"persistentLoginCount")&&J.isNumber(t.persistentLoginCount)&&(this.gameData.persistentLoginCount=t.persistentLoginCount)}}updateGameDataItems(e){q.hasOwn(e,"ItemHint")&&(this.gameData.items.ItemHint=e.ItemHint),q.hasOwn(e,"ItemRocket")&&(this.gameData.items.ItemRocket=e.ItemRocket),q.hasOwn(e,"ItemShuffle")&&(this.gameData.items.ItemShuffle=e.ItemShuffle),q.hasOwn(e,"ItemBombDefuse")&&(this.gameData.items.ItemBombDefuse=e.ItemBombDefuse)}updateUserGuideDisplays(e){const{userGuideDisplays:t}=e;J.isNumber(t)!==!1&&(this.userGuideDisplays=t)}toObject(){return{score:this.score,settings:this.settings,gameData:this.gameData,userGuideDisplays:this.userGuideDisplays}}convertToPlayerData(){const{coins:e,items:t,levelProgress:s,lastTimePlayed:i,persistentLoginCount:o}=this.gameData;return{score:this.score,settings:this.settings,customFields:{coins:e,items:{...t},levelProgress:s,lastTimePlayed:i,persistentLoginCount:o},userGuideDisplays:this.userGuideDisplays}}convertToFacebookData(e){const{score:t,settings:s,customFields:i,userGuideDisplays:o}=e,{coins:r,items:n,levelProgress:l,lastTimePlayed:c,persistentLoginCount:d}=i||{};if(this.score=t,this.settings=s,this.userGuideDisplays=o,J.isNumber(r)&&(this.gameData.coins=r),J.isObject(n)){const{ItemBombDefuse:m,ItemHint:h,ItemRocket:p,ItemShuffle:b}=n;q.hasOwn(n,"ItemHint")&&(this.gameData.items.ItemHint=h),q.hasOwn(n,"ItemRocket")&&(this.gameData.items.ItemRocket=p),q.hasOwn(n,"ItemShuffle")&&(this.gameData.items.ItemShuffle=b),q.hasOwn(n,"ItemBombDefuse")&&(this.gameData.items.ItemBombDefuse=m)}return J.isNumber(l)&&(this.gameData.levelProgress=l),J.isNumber(c)&&(this.gameData.lastTimePlayed=c),J.isNumber(d)&&(this.gameData.persistentLoginCount=d),this.toObject()}}const vc=a=>{try{const e=localStorage.getItem(a);return e===null?null:GameCore.Utils.Json.decode(e)}catch{return null}},za=(a,e)=>{try{const t=vc(a);let s={};GameCore.Utils.Valid.isObject(t)&&(s=t);const i=GameCore.Utils.Json.clone(e);if(!GameCore.Utils.Valid.isObject(i))return!1;const o=GameCore.Utils.Object.clear(i),r=ce(s,o),n=GameCore.Utils.Json.encode(r);return localStorage.setItem(a,n),!0}catch{return!1}};class Va extends Error{constructor(e,t){super(e,t),this.name="BadRequest",this.message=e||"This request is bad",this.payload=t}}class wi extends Error{constructor(e,t){super(e,t),this.name="RequestTimeout",this.message=e||"This request is timeout",this.payload=t}}const{AppId:Pc,Network:Ci}=GameCore.Configs,yc=a=>{if(!a.ok)throw new Va(null,{response:a})},ja=()=>{const a=window.game.auth.getToken();return{token:a,timeout:Ci.Timeout,headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}}},$a=(a,e,t,s)=>async()=>{try{const i=`${a}/apps/${Pc}/${e}`,o=new AbortController;t.signal=o.signal;const r=setTimeout(()=>{o.abort()},t.timeout);GameCore.Utils.Valid.isObject(s)&&(t.body=JSON.stringify(s));const n=await fetch(i,t);return clearTimeout(r),yc(n),await n.json()||{}}catch(i){if(i instanceof Va)return null;throw i instanceof Object&&GameCore.Utils.Object.hasOwn(i,"name")&&i.name==="AbortError"?new wi(null):i}},_i=async(a,e)=>{try{return a()}catch(t){if(t instanceof wi&&e>0)try{return await Bl(600),await _i(a,e-1)}catch{return{}}return t instanceof wi?{}:(console.warn(t),{})}},Xa=async(a,e={},t,s=Ci.Retries)=>{if(!t)return{};try{const i={...ja(),...e,method:"GET"},o=$a(t,a,i);return await _i(o,s)}catch(i){return console.warn(i),{}}},Za=async(a,e,t={},s,i=Ci.Retries)=>{if(!s)return{};try{const o={...ja(),...t,method:"POST"},r=$a(s,a,o,e);return await _i(r,i)}catch(o){return console.warn(o),{}}},{StartCoins:Sc}=GameCore.Configs.Gameplay,qa={score:0,settings:{...Et},userGuideDisplays:0,customFields:{coins:Sc,items:{},levelProgress:1,lastTimePlayed:Date.now()}},{ApiHost:Qa,PlayerDataStoreUsingApi:Ja}=GameCore.Configs,Li=async a=>Ja?kc(a):xc(a),kc=async a=>{const e=GameCore.Utils.String.params(a);return(await Xa(`players?${e}`,{},Qa))?.data||[]},xc=async a=>{await GameSDK.player.setDataAsync(a);const e=Object.keys(qa).concat(Object.keys(a)),t=e.filter((o,r)=>e.indexOf(o)===r),s=await GameSDK.player.getDataAsync(t),i=await GameSDK.player.getStatsAsync();return{...s,...i}},Rc=async a=>Ja?Oc(a):Ac(),Oc=async a=>(await Za(`players/${a}/user-guide-displays/inc`,{},{},Qa))?.data||{},Ac=async()=>await GameSDK.player.incrementStatsAsync({userGuideDisplays:1}),er="PLAYER_RECEIVED",tr="PLAYER_DATA_UPDATE",sr="PLAYER_SCORE_UPDATE",ir="PLAYER_PROFILE_UPDATE",or="PLAYER_SETTING_UPDATE",ar="PLAYER_CONNECTED_PLAYERS_UPDATE";class rr extends Error{payload;constructor(e,t){super(e),this.name="PlayerDataNameNotSupport",this.message=e||"The name of player data is not supported",this.payload=t||{}}}const As="player",Ic=a=>a[As],Mc=a=>a[As].data,Cc=a=>a[As].connectedPlayers,_c=(a,e)=>e.limit,Lc=(a,e)=>e.offset,Is=se([Ic],a=>a),Dc=se([Is],a=>a.playerId),Nc=se([Is],a=>a.ASID),et=se([Mc],a=>a);se([et],a=>a.settings);const nr=se([Cc],a=>a),Gc=se([nr,_c,Lc],(a,e,t)=>typeof e!="number"?[]:typeof t!="number"?[]:Object.keys(a).slice(t,e+t)||[]),Fc=se([et],a=>a.score),Bc=se([et],a=>a.customFields),{AppId:Uc,Tutorial:Yc,PlayerDataStore:lr}=GameCore.Configs,Hc=(a,e)=>t=>{const{playerId:s,name:i,photo:o,locale:r}=a;t({type:er,payload:{playerId:s,name:i,photo:o,locale:r,data:e||{}}})},Kc=()=>async a=>{try{const{facebook:e}=window.game,t=await new Promise((o,r)=>{e.once("players",n=>{o(n)}),e.once("playersfail",()=>r([])),e.getPlayers()}),s=o=>!!o,i=t.map(o=>{const r=o.getID(),n=o.getName(),l=o.getPhoto();return!r||!n||!l?null:new vs(r,n,l).toObject()}).filter(s);if(i.length<1)return;a(cr(i))}catch(e){console.warn(e)}},cr=a=>({type:ar,payload:{connectedPlayers:a}}),Wc=(a,e)=>(t,s)=>{try{t({type:or,payload:{name:a,value:e}});const i=s(),o=et(i),r=new vt({}).convertToFacebookData(o);FBInstant.player.setDataAsync(r)}catch(i){console.warn(i)}},zc=()=>async(a,e)=>{try{const t=e(),s=Is(t),{playerId:i,name:o,photo:r,locale:n}=s,l=await FBInstant.player.getASIDAsync(),c={appId:Uc,playerId:i,name:o,photo:r,locale:n,ASID:l};Li(c),a({type:ir,payload:{profile:c}})}catch(t){console.warn(t)}},Vc=(a,e)=>async(t,s)=>{try{const i={customFields:{[a]:e}};await t(Di(i));const o=s(),r=et(o),n=new vt({}).convertToFacebookData(r);FBInstant.player.setDataAsync(n)}catch(i){if(i instanceof rr)return;console.warn(i)}},jc=a=>async(e,t)=>{try{console.info("ðŸš€ > setMultiCustomData",a),await e(Di({customFields:a}));const i=t(),o=et(i),r={...o};Li(r);const n=new vt({}).convertToFacebookData(o);FBInstant.player.setDataAsync(n)}catch(s){if(console.log("ðŸ¤– ? error",s),s instanceof rr)return;console.warn(s)}},Di=a=>e=>{try{e({type:tr,payload:{data:a}}),za(lr,a)}catch(t){console.warn(t)}},$c=()=>async(a,e)=>{try{if(Yc.ForceUseTutorial)return;const{facebook:t}=window.game;a(Di({userGuideDisplays:1}));const s=e(),i=Dc(s);await Rc(i),t.data.set("userGuideDisplays",1)}catch(t){console.warn(t)}},Eo=a=>async(e,t)=>{try{await e({type:sr,payload:{score:a}}),Li({score:a});const s=t(),o={...et(s)};za(lr,o)}catch(s){console.warn(s)}};class Xc extends Phaser.Plugins.BasePlugin{get state(){return this.game.storage.getState()}async incUserGuideDisplays(){const{storage:e}=this.game;await e.dispatch($c())}receiveData(e,t){const{storage:s}=this.game;s.dispatch(Hc(e,t))}async updateData(){const{storage:e}=this.game;await e.dispatch(zc())}async updateBestScore(e){const t=this.getBestScore();if(e<=t)return;const{storage:s}=this.game;await s.dispatch(Eo(e))}async setScore(e){const{storage:t}=this.game;await t.dispatch(Eo(e))}async setSetting(e,t){const{storage:s}=this.game;await s.dispatch(Wc(e,t))}async setCustomData(e,t){const{storage:s}=this.game;await s.dispatch(Vc(e,t))}async setMultiCustomData(e){const{storage:t}=this.game;await t.dispatch(jc(e))}async requestConnectedPlayers(){const{storage:e}=this.game;await e.dispatch(Kc())}async updateConnectedPlayers(e){const{storage:t}=this.game;await t.dispatch(cr(e))}getPlayer(){return Is(this.state)}getPlayerId(){return this.getPlayer().playerId}getPlayerASID(){return Nc(this.state)}getPlayerData(){return this.getPlayer().data}getPlayerSetting(e){const t=this.getPlayerSettings();return typeof e!="string"?null:GameCore.Utils.Object.hasOwn(t,e)?t[e]:GameCore.Utils.Object.hasOwn(Et,e)?Et[e]:null}getPlayerSettings(){return this.getPlayerData().settings}getPlayerIsNew(){return this.getPlayer().isUserNew}getCoins(){const e=this.getCustomData("coin");return GameCore.Utils.Valid.isNumber(e)?e:0}getBestScore(){return Fc(this.state)}getCustomData(e){const t=Bc(this.state);return!GameCore.Utils.Valid.isObject(t)||!GameCore.Utils.Object.hasOwn(t,e)?null:t[e]}getConnectedPlayers(){return nr(this.state)}getConnectedPlayerIds(e,t){return Gc(this.state,{limit:e,offset:t})}}const{ApiHost:Zc}=GameCore.Configs,qc=async a=>{const e=GameCore.Utils.String.params(a);return(await Xa(`players?${e}`,{},Zc))?.data||[]},dr="PROFILES_DATA_UPDATE",Ni="profile",Qc=a=>a[Ni].data,Jc=a=>a[Ni].profileIds,ed=se([Qc],a=>a),td=se([Jc],a=>a),sd=a=>async(e,t)=>{try{const s=t(),i=td(s),o=GameCore.Utils.Array.difference(a,i);if(o.length<1)return;const r=await qc({playerIds:o});e({type:dr,payload:{data:r}})}catch(s){console.warn(s)}};class id extends Phaser.Plugins.BasePlugin{get state(){return this.game.storage.getState()}async requestProfiles(e){const{storage:t}=this.game;await t.dispatch(sd(e))}getProfiles(){return ed(this.state)}}class od extends Phaser.Events.EventEmitter{emit(e,t){return super.emit(e,t)}}class ad extends Phaser.GameObjects.Container{zone;background;constructor(e,t,s,i){super(e),this.setName(t),this.setVisible(!1);const{width:o,height:r}=this.scene.world.getWorldSize();this.setSize(s||o,i||r),this.addZone(),this.addBackground()}open(e){GameCore.Utils.Valid.isObject(e)&&(this.setDataEnabled(),this.setData(e)),this.setBlockInputOutsideEnabled(!0),this.scene.screen.bringToTop(this.name),!this.visible&&(this.setVisible(!0),this.logPageviewOnOpen(),this.logEventOpen())}close(){this.setBlockInputOutsideEnabled(!1),this.visible&&(this.setVisible(!1),this.logPageviewOnClose())}incY(e){this.y+=e,this.background.y-=e}incX(e){this.x+=e,this.background.x-=e}incScale(e){this.scale+=e,this.background.scale-=e^e*(100/e)}setBlockInputOutsideEnabled(e){this.scene.input.setTopOnly(e)}addZone(){this.zone=this.scene.add.zone(0,0,this.width,this.height),this.zone.setInteractive({}),this.add(this.zone)}addBackground(){const e="screen-background";if(!this.scene.textures.exists(e)){const t=this.width+2,s=this.height+2,i=this.scene.add.graphics();i.fillStyle(0,1),i.fillRect(0,0,t,s),i.generateTexture(e,t,s),i.destroy()}this.background=this.scene.add.image(0,0,e),this.add(this.background)}logPageviewOnOpen(){this.scene.analytics.pageview(this.name)}logPageviewOnClose(){this.scene.analytics.pageview(this.scene.scene.key)}logEventOpen(){this.scene.analytics.event(M.SCREEN_OPEN,{screen_name:this.getScreenName()})}getScreenName(){return GameCore.Utils.String.toUpperCamelCase(this.name.toLowerCase())}}const rd={OPEN:"open",CLOSE:"close",CREATED:"created"};GameCore.Screen=ad;GameCore.Screens={Events:rd};let nd=class extends Phaser.Plugins.ScenePlugin{events;boot(){this.events=new od,this.registryScreenFactory()}get(e){const t=this.scene.children.getByName(e);return t===null?null:t}add(e,t,s,i){let o=this.get(e);return o||(o=this.scene.add.screen(e,t,s,i),this.events.emit(GameCore.Screens.Events.CREATED,o),o)}open(e,t){const s=this.get(e);return s?(s.open(t),s.emit(GameCore.Screens.Events.OPEN,s),this.events.emit(GameCore.Screens.Events.OPEN,s),console.log("Screen open",e,t),!0):!1}close(e){const t=this.get(e);return t?(t.close(),t.emit(GameCore.Screens.Events.CLOSE,t),this.events.emit(GameCore.Screens.Events.CLOSE,t),console.log("Screen close",e),!0):!1}bringToTop(e){const t=this.scene.children.getByName(e);t&&this.scene.children.bringToTop(t)}registryScreenFactory(){Phaser.GameObjects.GameObjectFactory.register("screen",this.createScreen)}createScreen(e,t,s,i){const o=new t(this.scene,e,s,i);return Phaser.Display.Align.In.Center(o,this.scene.gameZone),this.existing(o),o}};var ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wb(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ei={},cd={get exports(){return Ei},set exports(a){Ei=a}};(function(a){(function(e,t){a.exports=t()})(ld,function(){var e=Object.prototype.toString;function t(m,h){return m==null?!1:Object.prototype.hasOwnProperty.call(m,h)}function s(m){if(!m||r(m)&&m.length===0)return!0;if(typeof m!="string"){for(var h in m)if(t(m,h))return!1;return!0}return!1}function i(m){return e.call(m)}function o(m){return typeof m=="object"&&i(m)==="[object Object]"}var r=Array.isArray||function(m){return e.call(m)==="[object Array]"};function n(m){return typeof m=="boolean"||i(m)==="[object Boolean]"}function l(m){var h=parseInt(m);return h.toString()===m?h:m}function c(m){m=m||{};var h=function(v){return Object.keys(h).reduce(function(g,T){return T==="create"||typeof h[T]=="function"&&(g[T]=h[T].bind(h,v)),g},{})},p;m.includeInheritedProps?p=function(){return!0}:p=function(v,g){return typeof g=="number"&&Array.isArray(v)||t(v,g)};function b(v,g){if(p(v,g))return v[g]}var E;m.includeInheritedProps?E=function(v,g){typeof g!="string"&&typeof g!="number"&&(g=String(g));var T=b(v,g);if(g==="__proto__"||g==="prototype"||g==="constructor"&&typeof T=="function")throw new Error("For security reasons, object's magic properties cannot be set");return T}:E=function(v,g){return b(v,g)};function P(v,g,T,A){if(typeof g=="number"&&(g=[g]),!g||g.length===0)return v;if(typeof g=="string")return P(v,g.split(".").map(l),T,A);var G=g[0],H=E(v,G);return g.length===1?((H===void 0||!A)&&(v[G]=T),H):(H===void 0&&(typeof g[1]=="number"?v[G]=[]:v[G]={}),P(v[G],g.slice(1),T,A))}return h.has=function(v,g){if(typeof g=="number"?g=[g]:typeof g=="string"&&(g=g.split(".")),!g||g.length===0)return!!v;for(var T=0;T<g.length;T++){var A=l(g[T]);if(typeof A=="number"&&r(v)&&A<v.length||(m.includeInheritedProps?A in Object(v):t(v,A)))v=v[A];else return!1}return!0},h.ensureExists=function(v,g,T){return P(v,g,T,!0)},h.set=function(v,g,T,A){return P(v,g,T,A)},h.insert=function(v,g,T,A){var G=h.get(v,g);A=~~A,r(G)||(G=[],h.set(v,g,G)),G.splice(A,0,T)},h.empty=function(v,g){if(!s(g)&&v!=null){var T,A;if(T=h.get(v,g)){if(typeof T=="string")return h.set(v,g,"");if(n(T))return h.set(v,g,!1);if(typeof T=="number")return h.set(v,g,0);if(r(T))T.length=0;else if(o(T))for(A in T)p(T,A)&&delete T[A];else return h.set(v,g,null)}}},h.push=function(v,g){var T=h.get(v,g);r(T)||(T=[],h.set(v,g,T)),T.push.apply(T,Array.prototype.slice.call(arguments,2))},h.coalesce=function(v,g,T){for(var A,G=0,H=g.length;G<H;G++)if((A=h.get(v,g[G]))!==void 0)return A;return T},h.get=function(v,g,T){if(typeof g=="number"&&(g=[g]),!g||g.length===0)return v;if(v==null)return T;if(typeof g=="string")return h.get(v,g.split("."),T);var A=l(g[0]),G=E(v,A);return G===void 0?T:g.length===1?G:h.get(v[A],g.slice(1),T)},h.del=function(g,T){if(typeof T=="number"&&(T=[T]),g==null||s(T))return g;if(typeof T=="string")return h.del(g,T.split("."));var A=l(T[0]);if(E(g,A),!p(g,A))return g;if(T.length===1)r(g)?g.splice(A,1):delete g[A];else return h.del(g[A],T.slice(1));return g},h}var d=c();return d.create=c,d.withInheritedProps=c({includeInheritedProps:!0}),d})})(cd);var vo=Ei.get;function dd(a,e){return a===e}function md(a,e,t){t=t||dd;var s=vo(a(),e);return function(o){return function(){var r=vo(a(),e);if(!t(s,r)){var n=s;s=r,o(r,n,e)}}}}var ud=md;const hd=ud;function Ht(a){return Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(a)}function fd(a,e){if(Ht(a)!=="object"||a===null)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var s=t.call(a,e||"default");if(Ht(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function pd(a){var e=fd(a,"string");return Ht(e)==="symbol"?e:String(e)}function bd(a,e,t){return e=pd(e),e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function Po(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable})),t.push.apply(t,s)}return t}function yo(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Po(Object(t),!0).forEach(function(s){bd(a,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):Po(Object(t)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(t,s))})}return a}function te(a){return"Minified Redux error #"+a+"; visit https://redux.js.org/Errors?code="+a+" for the full message or use the non-minified dev environment for full errors. "}var So=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Gs=function(){return Math.random().toString(36).substring(7).split("").join(".")},ys={INIT:"@@redux/INIT"+Gs(),REPLACE:"@@redux/REPLACE"+Gs(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Gs()}};function gd(a){if(typeof a!="object"||a===null)return!1;for(var e=a;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(a)===e}function mr(a,e,t){var s;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(te(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(te(1));return t(mr)(a,e)}if(typeof a!="function")throw new Error(te(2));var i=a,o=e,r=[],n=r,l=!1;function c(){n===r&&(n=r.slice())}function d(){if(l)throw new Error(te(3));return o}function m(E){if(typeof E!="function")throw new Error(te(4));if(l)throw new Error(te(5));var P=!0;return c(),n.push(E),function(){if(P){if(l)throw new Error(te(6));P=!1,c();var g=n.indexOf(E);n.splice(g,1),r=null}}}function h(E){if(!gd(E))throw new Error(te(7));if(typeof E.type>"u")throw new Error(te(8));if(l)throw new Error(te(9));try{l=!0,o=i(o,E)}finally{l=!1}for(var P=r=n,v=0;v<P.length;v++){var g=P[v];g()}return E}function p(E){if(typeof E!="function")throw new Error(te(10));i=E,h({type:ys.REPLACE})}function b(){var E,P=m;return E={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(te(11));function T(){g.next&&g.next(d())}T();var A=P(T);return{unsubscribe:A}}},E[So]=function(){return this},E}return h({type:ys.INIT}),s={dispatch:h,subscribe:m,getState:d,replaceReducer:p},s[So]=b,s}function Td(a){Object.keys(a).forEach(function(e){var t=a[e],s=t(void 0,{type:ys.INIT});if(typeof s>"u")throw new Error(te(12));if(typeof t(void 0,{type:ys.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(te(13))})}function wd(a){for(var e=Object.keys(a),t={},s=0;s<e.length;s++){var i=e[s];typeof a[i]=="function"&&(t[i]=a[i])}var o=Object.keys(t),r;try{Td(t)}catch(n){r=n}return function(l,c){if(l===void 0&&(l={}),r)throw r;for(var d=!1,m={},h=0;h<o.length;h++){var p=o[h],b=t[p],E=l[p],P=b(E,c);if(typeof P>"u")throw c&&c.type,new Error(te(14));m[p]=P,d=d||P!==E}return d=d||o.length!==Object.keys(l).length,d?m:l}}function ur(){for(var a=arguments.length,e=new Array(a),t=0;t<a;t++)e[t]=arguments[t];return e.length===0?function(s){return s}:e.length===1?e[0]:e.reduce(function(s,i){return function(){return s(i.apply(void 0,arguments))}})}function Ed(){for(var a=arguments.length,e=new Array(a),t=0;t<a;t++)e[t]=arguments[t];return function(s){return function(){var i=s.apply(void 0,arguments),o=function(){throw new Error(te(15))},r={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},n=e.map(function(l){return l(r)});return o=ur.apply(void 0,n)(i.dispatch),yo(yo({},i),{},{dispatch:o})}}}function hr(a){var e=function(s){var i=s.dispatch,o=s.getState;return function(r){return function(n){return typeof n=="function"?n(i,o,a):r(n)}}};return e}var fr=hr();fr.withExtraArgument=hr;const vd=fr,pr="CONTEXT_RECEIVED",Pd="CONTEXT_PROCESSED",br="CONTEXT_GAME_MODE_DETECTED",yd="MESSAGES_SENT_UPDATE",Sd="MESSAGES_SENT_REMOVE",gr="SCENE_KEY_UPDATE";function ve(a){for(var e=arguments.length,t=Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];throw Error("[Immer] minified error nr: "+a+(t.length?" "+t.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function qe(a){return!!a&&!!a[z]}function Qe(a){var e;return!!a&&(function(t){if(!t||typeof t!="object")return!1;var s=Object.getPrototypeOf(t);if(s===null)return!0;var i=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===_d}(a)||Array.isArray(a)||!!a[Mo]||!!(!((e=a.constructor)===null||e===void 0)&&e[Mo])||Gi(a)||Fi(a))}function Je(a,e,t){t===void 0&&(t=!1),Pt(a)===0?(t?Object.keys:wt)(a).forEach(function(s){t&&typeof s=="symbol"||e(s,a[s],a)}):a.forEach(function(s,i){return e(i,s,a)})}function Pt(a){var e=a[z];return e?e.i>3?e.i-4:e.i:Array.isArray(a)?1:Gi(a)?2:Fi(a)?3:0}function Tt(a,e){return Pt(a)===2?a.has(e):Object.prototype.hasOwnProperty.call(a,e)}function kd(a,e){return Pt(a)===2?a.get(e):a[e]}function Tr(a,e,t){var s=Pt(a);s===2?a.set(e,t):s===3?a.add(t):a[e]=t}function wr(a,e){return a===e?a!==0||1/a==1/e:a!=a&&e!=e}function Gi(a){return Md&&a instanceof Map}function Fi(a){return Cd&&a instanceof Set}function $e(a){return a.o||a.t}function Bi(a){if(Array.isArray(a))return Array.prototype.slice.call(a);var e=vr(a);delete e[z];for(var t=wt(e),s=0;s<t.length;s++){var i=t[s],o=e[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:a[i]})}return Object.create(Object.getPrototypeOf(a),e)}function Ui(a,e){return e===void 0&&(e=!1),Yi(a)||qe(a)||!Qe(a)||(Pt(a)>1&&(a.set=a.add=a.clear=a.delete=xd),Object.freeze(a),e&&Je(a,function(t,s){return Ui(s,!0)},!0)),a}function xd(){ve(2)}function Yi(a){return a==null||typeof a!="object"||Object.isFrozen(a)}function Oe(a){var e=Si[a];return e||ve(18,a),e}function Rd(a,e){Si[a]||(Si[a]=e)}function vi(){return Kt}function Fs(a,e){e&&(Oe("Patches"),a.u=[],a.s=[],a.v=e)}function Ss(a){Pi(a),a.p.forEach(Od),a.p=null}function Pi(a){a===Kt&&(Kt=a.l)}function ko(a){return Kt={p:[],l:Kt,h:a,m:!0,_:0}}function Od(a){var e=a[z];e.i===0||e.i===1?e.j():e.O=!0}function Bs(a,e){e._=e.p.length;var t=e.p[0],s=a!==void 0&&a!==t;return e.h.g||Oe("ES5").S(e,a,s),s?(t[z].P&&(Ss(e),ve(4)),Qe(a)&&(a=ks(e,a),e.l||xs(e,a)),e.u&&Oe("Patches").M(t[z].t,a,e.u,e.s)):a=ks(e,t,[]),Ss(e),e.u&&e.v(e.u,e.s),a!==Er?a:void 0}function ks(a,e,t){if(Yi(e))return e;var s=e[z];if(!s)return Je(e,function(n,l){return xo(a,s,e,n,l,t)},!0),e;if(s.A!==a)return e;if(!s.P)return xs(a,s.t,!0),s.t;if(!s.I){s.I=!0,s.A._--;var i=s.i===4||s.i===5?s.o=Bi(s.k):s.o,o=i,r=!1;s.i===3&&(o=new Set(i),i.clear(),r=!0),Je(o,function(n,l){return xo(a,s,i,n,l,t,r)}),xs(a,i,!1),t&&a.u&&Oe("Patches").N(s,t,a.u,a.s)}return s.o}function xo(a,e,t,s,i,o,r){if(qe(i)){var n=ks(a,i,o&&e&&e.i!==3&&!Tt(e.R,s)?o.concat(s):void 0);if(Tr(t,s,n),!qe(n))return;a.m=!1}else r&&t.add(i);if(Qe(i)&&!Yi(i)){if(!a.h.D&&a._<1)return;ks(a,i),e&&e.A.l||xs(a,i)}}function xs(a,e,t){t===void 0&&(t=!1),!a.l&&a.h.D&&a.m&&Ui(e,t)}function Us(a,e){var t=a[z];return(t?$e(t):a)[e]}function Ro(a,e){if(e in a)for(var t=Object.getPrototypeOf(a);t;){var s=Object.getOwnPropertyDescriptor(t,e);if(s)return s;t=Object.getPrototypeOf(t)}}function Ye(a){a.P||(a.P=!0,a.l&&Ye(a.l))}function Ys(a){a.o||(a.o=Bi(a.t))}function yi(a,e,t){var s=Gi(e)?Oe("MapSet").F(e,t):Fi(e)?Oe("MapSet").T(e,t):a.g?function(i,o){var r=Array.isArray(i),n={i:r?1:0,A:o?o.A:vi(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=n,c=Wt;r&&(l=[n],c=Ft);var d=Proxy.revocable(l,c),m=d.revoke,h=d.proxy;return n.k=h,n.j=m,h}(e,t):Oe("ES5").J(e,t);return(t?t.A:vi()).p.push(s),s}function Ad(a){return qe(a)||ve(22,a),function e(t){if(!Qe(t))return t;var s,i=t[z],o=Pt(t);if(i){if(!i.P&&(i.i<4||!Oe("ES5").K(i)))return i.t;i.I=!0,s=Oo(t,o),i.I=!1}else s=Oo(t,o);return Je(s,function(r,n){i&&kd(i.t,r)===n||Tr(s,r,e(n))}),o===3?new Set(s):s}(a)}function Oo(a,e){switch(e){case 2:return new Map(a);case 3:return Array.from(a)}return Bi(a)}function Id(){function a(o,r){var n=i[o];return n?n.enumerable=r:i[o]=n={configurable:!0,enumerable:r,get:function(){var l=this[z];return Wt.get(l,o)},set:function(l){var c=this[z];Wt.set(c,o,l)}},n}function e(o){for(var r=o.length-1;r>=0;r--){var n=o[r][z];if(!n.P)switch(n.i){case 5:s(n)&&Ye(n);break;case 4:t(n)&&Ye(n)}}}function t(o){for(var r=o.t,n=o.k,l=wt(n),c=l.length-1;c>=0;c--){var d=l[c];if(d!==z){var m=r[d];if(m===void 0&&!Tt(r,d))return!0;var h=n[d],p=h&&h[z];if(p?p.t!==m:!wr(h,m))return!0}}var b=!!r[z];return l.length!==wt(r).length+(b?0:1)}function s(o){var r=o.k;if(r.length!==o.t.length)return!0;var n=Object.getOwnPropertyDescriptor(r,r.length-1);if(n&&!n.get)return!0;for(var l=0;l<r.length;l++)if(!r.hasOwnProperty(l))return!0;return!1}var i={};Rd("ES5",{J:function(o,r){var n=Array.isArray(o),l=function(d,m){if(d){for(var h=Array(m.length),p=0;p<m.length;p++)Object.defineProperty(h,""+p,a(p,!0));return h}var b=vr(m);delete b[z];for(var E=wt(b),P=0;P<E.length;P++){var v=E[P];b[v]=a(v,d||!!b[v].enumerable)}return Object.create(Object.getPrototypeOf(m),b)}(n,o),c={i:n?5:4,A:r?r.A:vi(),P:!1,I:!1,R:{},l:r,t:o,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,z,{value:c,writable:!0}),l},S:function(o,r,n){n?qe(r)&&r[z].A===o&&e(o.p):(o.u&&function l(c){if(c&&typeof c=="object"){var d=c[z];if(d){var m=d.t,h=d.k,p=d.R,b=d.i;if(b===4)Je(h,function(T){T!==z&&(m[T]!==void 0||Tt(m,T)?p[T]||l(h[T]):(p[T]=!0,Ye(d)))}),Je(m,function(T){h[T]!==void 0||Tt(h,T)||(p[T]=!1,Ye(d))});else if(b===5){if(s(d)&&(Ye(d),p.length=!0),h.length<m.length)for(var E=h.length;E<m.length;E++)p[E]=!1;else for(var P=m.length;P<h.length;P++)p[P]=!0;for(var v=Math.min(h.length,m.length),g=0;g<v;g++)h.hasOwnProperty(g)||(p[g]=!0),p[g]===void 0&&l(h[g])}}}}(o.p[0]),e(o.p))},K:function(o){return o.i===4?t(o):s(o)}})}var Ao,Kt,Hi=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Md=typeof Map<"u",Cd=typeof Set<"u",Io=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Er=Hi?Symbol.for("immer-nothing"):((Ao={})["immer-nothing"]=!0,Ao),Mo=Hi?Symbol.for("immer-draftable"):"__$immer_draftable",z=Hi?Symbol.for("immer-state"):"__$immer_state";var _d=""+Object.prototype.constructor,wt=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:Object.getOwnPropertyNames,vr=Object.getOwnPropertyDescriptors||function(a){var e={};return wt(a).forEach(function(t){e[t]=Object.getOwnPropertyDescriptor(a,t)}),e},Si={},Wt={get:function(a,e){if(e===z)return a;var t=$e(a);if(!Tt(t,e))return function(i,o,r){var n,l=Ro(o,r);return l?"value"in l?l.value:(n=l.get)===null||n===void 0?void 0:n.call(i.k):void 0}(a,t,e);var s=t[e];return a.I||!Qe(s)?s:s===Us(a.t,e)?(Ys(a),a.o[e]=yi(a.A.h,s,a)):s},has:function(a,e){return e in $e(a)},ownKeys:function(a){return Reflect.ownKeys($e(a))},set:function(a,e,t){var s=Ro($e(a),e);if(s?.set)return s.set.call(a.k,t),!0;if(!a.P){var i=Us($e(a),e),o=i?.[z];if(o&&o.t===t)return a.o[e]=t,a.R[e]=!1,!0;if(wr(t,i)&&(t!==void 0||Tt(a.t,e)))return!0;Ys(a),Ye(a)}return a.o[e]===t&&(t!==void 0||e in a.o)||Number.isNaN(t)&&Number.isNaN(a.o[e])||(a.o[e]=t,a.R[e]=!0),!0},deleteProperty:function(a,e){return Us(a.t,e)!==void 0||e in a.t?(a.R[e]=!1,Ys(a),Ye(a)):delete a.R[e],a.o&&delete a.o[e],!0},getOwnPropertyDescriptor:function(a,e){var t=$e(a),s=Reflect.getOwnPropertyDescriptor(t,e);return s&&{writable:!0,configurable:a.i!==1||e!=="length",enumerable:s.enumerable,value:t[e]}},defineProperty:function(){ve(11)},getPrototypeOf:function(a){return Object.getPrototypeOf(a.t)},setPrototypeOf:function(){ve(12)}},Ft={};Je(Wt,function(a,e){Ft[a]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Ft.deleteProperty=function(a,e){return Ft.set.call(this,a,e,void 0)},Ft.set=function(a,e,t){return Wt.set.call(this,a[0],e,t,a[0])};var Ld=function(){function a(t){var s=this;this.g=Io,this.D=!0,this.produce=function(i,o,r){if(typeof i=="function"&&typeof o!="function"){var n=o;o=i;var l=s;return function(E){var P=this;E===void 0&&(E=n);for(var v=arguments.length,g=Array(v>1?v-1:0),T=1;T<v;T++)g[T-1]=arguments[T];return l.produce(E,function(A){var G;return(G=o).call.apply(G,[P,A].concat(g))})}}var c;if(typeof o!="function"&&ve(6),r!==void 0&&typeof r!="function"&&ve(7),Qe(i)){var d=ko(s),m=yi(s,i,void 0),h=!0;try{c=o(m),h=!1}finally{h?Ss(d):Pi(d)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(E){return Fs(d,r),Bs(E,d)},function(E){throw Ss(d),E}):(Fs(d,r),Bs(c,d))}if(!i||typeof i!="object"){if((c=o(i))===void 0&&(c=i),c===Er&&(c=void 0),s.D&&Ui(c,!0),r){var p=[],b=[];Oe("Patches").M(i,c,p,b),r(p,b)}return c}ve(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(c){for(var d=arguments.length,m=Array(d>1?d-1:0),h=1;h<d;h++)m[h-1]=arguments[h];return s.produceWithPatches(c,function(p){return i.apply(void 0,[p].concat(m))})};var r,n,l=s.produce(i,o,function(c,d){r=c,n=d});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,r,n]}):[l,r,n]},typeof t?.useProxies=="boolean"&&this.setUseProxies(t.useProxies),typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=a.prototype;return e.createDraft=function(t){Qe(t)||ve(8),qe(t)&&(t=Ad(t));var s=ko(this),i=yi(this,t,void 0);return i[z].C=!0,Pi(s),i},e.finishDraft=function(t,s){var i=t&&t[z],o=i.A;return Fs(o,s),Bs(void 0,o)},e.setAutoFreeze=function(t){this.D=t},e.setUseProxies=function(t){t&&!Io&&ve(20),this.g=t},e.applyPatches=function(t,s){var i;for(i=s.length-1;i>=0;i--){var o=s[i];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}i>-1&&(s=s.slice(i+1));var r=Oe("Patches").$;return qe(t)?r(t,s):this.produce(t,function(n){return r(n,s)})},a}(),me=new Ld,Dd=me.produce;me.produceWithPatches.bind(me);me.setAutoFreeze.bind(me);me.setUseProxies.bind(me);me.applyPatches.bind(me);me.createDraft.bind(me);me.finishDraft.bind(me);const yt=Dd,Nd={currentSceneKey:"",prevSceneKey:""},Gd=(a=Nd,e)=>yt(a,t=>{const{payload:s}=e;if(!s)return;const{sceneKey:i}=s;switch(e.type){case gr:t.currentSceneKey=i,t.prevSceneKey=a.currentSceneKey;break}});Id();const Pr={processed:!1,contextId:"",contextType:"SOLO",entryPointData:{},currentGameMode:""},Hs=Pr,Fd=(a=Pr,e)=>yt(a,t=>{const{payload:s}=e;if(!s)return;const{gameMode:i,contextId:o,contextType:r,entryPointData:n}=s;switch(e.type){case pr:t.contextId=o,t.contextType=r,t.entryPointData=n;break;case Pd:t.contextId=o,t.contextType=r,t.processed=!0;break;case br:t.currentGameMode=i;break}}),Bd={data:{}},Ud=(a=Bd,e)=>yt(a,t=>{const{payload:s}=e;if(!s)return;const{opponentId:i}=s;if(typeof i=="string")switch(e.type){case yd:a.data[i]?t.data[i].sent=!0:t.data[i]={sent:!0};break;case Sd:a.data[i]?t.data[i].sent=!1:t.data[i]={sent:!1};break}}),Yd={token:"",isRequesting:!1},Hd=(a=Yd,e)=>yt(a,t=>{const{payload:s}=e;if(!s)return;const{token:i}=s;switch(e.type){case Ha:t.isRequesting=!0;break;case Ka:t.token=i,t.isRequesting=!1;break}}),Kd={[Mi]:Hd},Wd={ASID:"",playerId:"",name:"",photo:"",locale:"",connectedPlayers:{},data:{score:0,settings:Et,userGuideDisplays:0,customFields:{}},isUserNew:!0},zd=(a=Wd,e)=>yt(a,t=>{const{payload:s}=e;if(!s)return;const{name:i,value:o,data:r={},score:n,connectedPlayers:l=[],profile:c}=s;switch(e.type){case er:{const{playerId:d,name:m,photo:h,locale:p,data:b}=s;if(t.playerId=d,t.name=m,t.photo=h,t.locale=p,GameCore.Utils.Valid.isObject(b)){const E=b;t.data=ce(a.data,E)}b.userGuideDisplays>0&&(t.isUserNew=!1)}break;case ir:{const{playerId:d,name:m,photo:h,locale:p,ASID:b}=c;t.ASID=b,t.playerId=d,t.name=m,t.photo=h,t.locale=p}break;case sr:t.data.score=n;break;case or:if(!GameCore.Utils.Object.hasOwn(t.data.settings,i))break;t.data.settings[i]=o;break;case tr:t.data=ce(a.data,r),r.userGuideDisplays>0&&(t.isUserNew=!1);break;case ar:{if(l.length<=0)break;const d=GameCore.Utils.Object.keyBy(l,"playerId");t.connectedPlayers=ce(a.connectedPlayers,d)}break}}),Vd={[As]:zd},jd={data:{},profileIds:[]},$d=(a=jd,e)=>yt(a,t=>{const{payload:s}=e;if(!s)return;const{data:i=[]}=s;switch(e.type){case dr:{const o=GameCore.Utils.Object.keyBy(i,"playerId"),r=Object.keys(o);t.data=ce({...a.data},o),t.profileIds=[...new Set([...a.profileIds,...r])]}break}}),Xd={[Ni]:$d},Zd=wd({scene:Gd,context:Fd,messages:Ud,...Kd,...Vd,...Xd}),{__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:Eb}=window;let qd=ur;const Qd=a=>{const e=qd(Ed(vd));return mr(Zd,a,e)};class Jd extends Phaser.Plugins.BasePlugin{store;initiator;init(){this.store=Qd({})}setInitiator(e){this.initiator=e}async syncStore(){this.initiator.initContext(),await this.initiator.initPlayer()}dispatch=e=>this.store.dispatch(e);getState=()=>this.store.getState();subscribe=e=>this.store.subscribe(e);watch=(e,t)=>{const s=hd(()=>{const i=this.getState();return e(i)});return this.subscribe(s(i=>{t(i)}))}}var ki={},em={get exports(){return ki},set exports(a){ki=a}};(function(a){(function(){function e(u,f,S){return u.call.apply(u.bind,arguments)}function t(u,f,S){if(!u)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,y),u.apply(f,x)}}return function(){return u.apply(f,arguments)}}function s(u,f,S){return s=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?e:t,s.apply(null,arguments)}var i=Date.now||function(){return+new Date};function o(u,f){this.a=u,this.o=f||u,this.c=this.o.document}var r=!!window.FontFace;function n(u,f,S,y){if(f=u.c.createElement(f),S)for(var x in S)S.hasOwnProperty(x)&&(x=="style"?f.style.cssText=S[x]:f.setAttribute(x,S[x]));return y&&f.appendChild(u.c.createTextNode(y)),f}function l(u,f,S){u=u.c.getElementsByTagName(f)[0],u||(u=document.documentElement),u.insertBefore(S,u.lastChild)}function c(u){u.parentNode&&u.parentNode.removeChild(u)}function d(u,f,S){f=f||[],S=S||[];for(var y=u.className.split(/\s+/),x=0;x<f.length;x+=1){for(var _=!1,D=0;D<y.length;D+=1)if(f[x]===y[D]){_=!0;break}_||y.push(f[x])}for(f=[],x=0;x<y.length;x+=1){for(_=!1,D=0;D<S.length;D+=1)if(y[x]===S[D]){_=!0;break}_||f.push(y[x])}u.className=f.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function m(u,f){for(var S=u.className.split(/\s+/),y=0,x=S.length;y<x;y++)if(S[y]==f)return!0;return!1}function h(u){return u.o.location.hostname||u.a.location.hostname}function p(u,f,S){function y(){U&&x&&_&&(U(D),U=null)}f=n(u,"link",{rel:"stylesheet",href:f,media:"all"});var x=!1,_=!0,D=null,U=S||null;r?(f.onload=function(){x=!0,y()},f.onerror=function(){x=!0,D=Error("Stylesheet failed to load"),y()}):setTimeout(function(){x=!0,y()},0),l(u,"head",f)}function b(u,f,S,y){var x=u.c.getElementsByTagName("head")[0];if(x){var _=n(u,"script",{src:f}),D=!1;return _.onload=_.onreadystatechange=function(){D||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(D=!0,S&&S(null),_.onload=_.onreadystatechange=null,_.parentNode.tagName=="HEAD"&&x.removeChild(_))},x.appendChild(_),setTimeout(function(){D||(D=!0,S&&S(Error("Script load timeout")))},y||5e3),_}return null}function E(){this.a=0,this.c=null}function P(u){return u.a++,function(){u.a--,g(u)}}function v(u,f){u.c=f,g(u)}function g(u){u.a==0&&u.c&&(u.c(),u.c=null)}function T(u){this.a=u||"-"}T.prototype.c=function(u){for(var f=[],S=0;S<arguments.length;S++)f.push(arguments[S].replace(/[\W_]+/g,"").toLowerCase());return f.join(this.a)};function A(u,f){this.c=u,this.f=4,this.a="n";var S=(f||"n4").match(/^([nio])([1-9])$/i);S&&(this.a=S[1],this.f=parseInt(S[2],10))}function G(u){return re(u)+" "+(u.f+"00")+" 300px "+H(u.c)}function H(u){var f=[];u=u.split(/,\s*/);for(var S=0;S<u.length;S++){var y=u[S].replace(/['"]/g,"");y.indexOf(" ")!=-1||/^\d/.test(y)?f.push("'"+y+"'"):f.push(y)}return f.join(",")}function K(u){return u.a+u.f}function re(u){var f="normal";return u.a==="o"?f="oblique":u.a==="i"&&(f="italic"),f}function ie(u){var f=4,S="n",y=null;return u&&((y=u.match(/(normal|oblique|italic)/i))&&y[1]&&(S=y[1].substr(0,1).toLowerCase()),(y=u.match(/([1-9]00|normal|bold)/i))&&y[1]&&(/bold/i.test(y[1])?f=7:/[1-9]00/.test(y[1])&&(f=parseInt(y[1].substr(0,1),10)))),S+f}function W(u,f){this.c=u,this.f=u.o.document.documentElement,this.h=f,this.a=new T("-"),this.j=f.events!==!1,this.g=f.classes!==!1}function V(u){u.g&&d(u.f,[u.a.c("wf","loading")]),st(u,"loading")}function ye(u){if(u.g){var f=m(u.f,u.a.c("wf","active")),S=[],y=[u.a.c("wf","loading")];f||S.push(u.a.c("wf","inactive")),d(u.f,S,y)}st(u,"inactive")}function st(u,f,S){u.j&&u.h[f]&&(S?u.h[f](S.c,K(S)):u.h[f]())}function Jr(){this.c={}}function en(u,f,S){var y=[],x;for(x in f)if(f.hasOwnProperty(x)){var _=u.c[x];_&&y.push(_(f[x],S))}return y}function qt(u,f){this.c=u,this.f=f,this.a=n(this.c,"span",{"aria-hidden":"true"},this.f)}function Qt(u){l(u.c,"body",u.a)}function Jt(u){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+H(u.c)+";"+("font-style:"+re(u)+";font-weight:"+(u.f+"00")+";")}function Zi(u,f,S,y,x,_){this.g=u,this.j=f,this.a=y,this.c=S,this.f=x||3e3,this.h=_||void 0}Zi.prototype.start=function(){var u=this.c.o.document,f=this,S=i(),y=new Promise(function(D,U){function Y(){i()-S>=f.f?U():u.fonts.load(G(f.a),f.h).then(function(j){1<=j.length?D():setTimeout(Y,25)},function(){U()})}Y()}),x=null,_=new Promise(function(D,U){x=setTimeout(U,f.f)});Promise.race([_,y]).then(function(){x&&(clearTimeout(x),x=null),f.g(f.a)},function(){f.j(f.a)})};function qi(u,f,S,y,x,_,D){this.v=u,this.B=f,this.c=S,this.a=y,this.s=D||"BESbswy",this.f={},this.w=x||3e3,this.u=_||null,this.m=this.j=this.h=this.g=null,this.g=new qt(this.c,this.s),this.h=new qt(this.c,this.s),this.j=new qt(this.c,this.s),this.m=new qt(this.c,this.s),u=new A(this.a.c+",serif",K(this.a)),u=Jt(u),this.g.a.style.cssText=u,u=new A(this.a.c+",sans-serif",K(this.a)),u=Jt(u),this.h.a.style.cssText=u,u=new A("serif",K(this.a)),u=Jt(u),this.j.a.style.cssText=u,u=new A("sans-serif",K(this.a)),u=Jt(u),this.m.a.style.cssText=u,Qt(this.g),Qt(this.h),Qt(this.j),Qt(this.m)}var es={D:"serif",C:"sans-serif"},Ls=null;function Qi(){if(Ls===null){var u=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);Ls=!!u&&(536>parseInt(u[1],10)||parseInt(u[1],10)===536&&11>=parseInt(u[2],10))}return Ls}qi.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=i(),eo(this)};function Ji(u,f,S){for(var y in es)if(es.hasOwnProperty(y)&&f===u.f[es[y]]&&S===u.f[es[y]])return!0;return!1}function eo(u){var f=u.g.a.offsetWidth,S=u.h.a.offsetWidth,y;(y=f===u.f.serif&&S===u.f["sans-serif"])||(y=Qi()&&Ji(u,f,S)),y?i()-u.A>=u.w?Qi()&&Ji(u,f,S)&&(u.u===null||u.u.hasOwnProperty(u.a.c))?Ds(u,u.v):Ds(u,u.B):tn(u):Ds(u,u.v)}function tn(u){setTimeout(s(function(){eo(this)},u),50)}function Ds(u,f){setTimeout(s(function(){c(this.g.a),c(this.h.a),c(this.j.a),c(this.m.a),f(this.a)},u),0)}function Ns(u,f,S){this.c=u,this.a=f,this.f=0,this.m=this.j=!1,this.s=S}var ts=null;Ns.prototype.g=function(u){var f=this.a;f.g&&d(f.f,[f.a.c("wf",u.c,K(u).toString(),"active")],[f.a.c("wf",u.c,K(u).toString(),"loading"),f.a.c("wf",u.c,K(u).toString(),"inactive")]),st(f,"fontactive",u),this.m=!0,to(this)},Ns.prototype.h=function(u){var f=this.a;if(f.g){var S=m(f.f,f.a.c("wf",u.c,K(u).toString(),"active")),y=[],x=[f.a.c("wf",u.c,K(u).toString(),"loading")];S||y.push(f.a.c("wf",u.c,K(u).toString(),"inactive")),d(f.f,y,x)}st(f,"fontinactive",u),to(this)};function to(u){--u.f==0&&u.j&&(u.m?(u=u.a,u.g&&d(u.f,[u.a.c("wf","active")],[u.a.c("wf","loading"),u.a.c("wf","inactive")]),st(u,"active")):ye(u.a))}function so(u){this.j=u,this.a=new Jr,this.h=0,this.f=this.g=!0}so.prototype.load=function(u){this.c=new o(this.j,u.context||this.j),this.g=u.events!==!1,this.f=u.classes!==!1,on(this,new W(this.c,u),u)};function sn(u,f,S,y,x){var _=--u.h==0;(u.f||u.g)&&setTimeout(function(){var D=x||null,U=y||null||{};if(S.length===0&&_)ye(f.a);else{f.f+=S.length,_&&(f.j=_);var Y,j=[];for(Y=0;Y<S.length;Y++){var $=S[Y],oe=U[$.c],be=f.a,it=$;if(be.g&&d(be.f,[be.a.c("wf",it.c,K(it).toString(),"loading")]),st(be,"fontloading",it),be=null,ts===null)if(window.FontFace){var it=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),pn=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);ts=it?42<parseInt(it[1],10):!pn}else ts=!1;ts?be=new Zi(s(f.g,f),s(f.h,f),f.c,$,f.s,oe):be=new qi(s(f.g,f),s(f.h,f),f.c,$,f.s,D,oe),j.push(be)}for(Y=0;Y<j.length;Y++)j[Y].start()}},0)}function on(u,f,S){var x=[],y=S.timeout;V(f);var x=en(u.a,S,u.c),_=new Ns(u.c,f,y);for(u.h=x.length,f=0,S=x.length;f<S;f++)x[f].load(function(D,U,Y){sn(u,_,D,U,Y)})}function io(u,f){this.c=u,this.a=f}io.prototype.load=function(u){function f(){if(_["__mti_fntLst"+y]){var D=_["__mti_fntLst"+y](),U=[],Y;if(D)for(var j=0;j<D.length;j++){var $=D[j].fontfamily;D[j].fontStyle!=null&&D[j].fontWeight!=null?(Y=D[j].fontStyle+D[j].fontWeight,U.push(new A($,Y))):U.push(new A($))}u(U)}else setTimeout(function(){f()},50)}var S=this,y=S.a.projectId,x=S.a.version;if(y){var _=S.c.o;b(this.c,(S.a.api||"https://fast.fonts.net/jsapi")+"/"+y+".js"+(x?"?v="+x:""),function(D){D?u([]):(_["__MonotypeConfiguration__"+y]=function(){return S.a},f())}).id="__MonotypeAPIScript__"+y}else u([])};function oo(u,f){this.c=u,this.a=f}oo.prototype.load=function(u){var f,S,y=this.a.urls||[],x=this.a.families||[],_=this.a.testStrings||{},D=new E;for(f=0,S=y.length;f<S;f++)p(this.c,y[f],P(D));var U=[];for(f=0,S=x.length;f<S;f++)if(y=x[f].split(":"),y[1])for(var Y=y[1].split(","),j=0;j<Y.length;j+=1)U.push(new A(y[0],Y[j]));else U.push(new A(y[0]));v(D,function(){u(U,_)})};function an(u,f){u?this.c=u:this.c=rn,this.a=[],this.f=[],this.g=f||""}var rn="https://fonts.googleapis.com/css";function nn(u,f){for(var S=f.length,y=0;y<S;y++){var x=f[y].split(":");x.length==3&&u.f.push(x.pop());var _="";x.length==2&&x[1]!=""&&(_=":"),u.a.push(x.join(_))}}function ln(u){if(u.a.length==0)throw Error("No fonts to load!");if(u.c.indexOf("kit=")!=-1)return u.c;for(var f=u.a.length,S=[],y=0;y<f;y++)S.push(u.a[y].replace(/ /g,"+"));return f=u.c+"?family="+S.join("%7C"),0<u.f.length&&(f+="&subset="+u.f.join(",")),0<u.g.length&&(f+="&text="+encodeURIComponent(u.g)),f}function cn(u){this.f=u,this.a=[],this.c={}}var ao={latin:"BESbswy","latin-ext":"Ã§Ã¶Ã¼ÄŸÅŸ",cyrillic:"Ð¹ÑÐ–",greek:"Î±Î²Î£",khmer:"áž€ážáž‚",Hanuman:"áž€ážáž‚"},dn={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},mn={i:"i",italic:"i",n:"n",normal:"n"},un=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function hn(u){for(var f=u.f.length,S=0;S<f;S++){var y=u.f[S].split(":"),x=y[0].replace(/\+/g," "),_=["n4"];if(2<=y.length){var D,U=y[1];if(D=[],U)for(var U=U.split(","),Y=U.length,j=0;j<Y;j++){var $;if($=U[j],$.match(/^[\w-]+$/)){var oe=un.exec($.toLowerCase());if(oe==null)$="";else{if($=oe[2],$=$==null||$==""?"n":mn[$],oe=oe[1],oe==null||oe=="")oe="4";else var be=dn[oe],oe=be||(isNaN(oe)?"4":oe.substr(0,1));$=[$,oe].join("")}}else $="";$&&D.push($)}0<D.length&&(_=D),y.length==3&&(y=y[2],D=[],y=y?y.split(","):D,0<y.length&&(y=ao[y[0]])&&(u.c[x]=y))}for(u.c[x]||(y=ao[x])&&(u.c[x]=y),y=0;y<_.length;y+=1)u.a.push(new A(x,_[y]))}}function ro(u,f){this.c=u,this.a=f}var fn={Arimo:!0,Cousine:!0,Tinos:!0};ro.prototype.load=function(u){var f=new E,S=this.c,y=new an(this.a.api,this.a.text),x=this.a.families;nn(y,x);var _=new cn(x);hn(_),p(S,ln(y),P(f)),v(f,function(){u(_.a,_.c,fn)})};function no(u,f){this.c=u,this.a=f}no.prototype.load=function(u){var f=this.a.id,S=this.c.o;f?b(this.c,(this.a.api||"https://use.typekit.net")+"/"+f+".js",function(y){if(y)u([]);else if(S.Typekit&&S.Typekit.config&&S.Typekit.config.fn){y=S.Typekit.config.fn;for(var x=[],_=0;_<y.length;_+=2)for(var D=y[_],U=y[_+1],Y=0;Y<U.length;Y++)x.push(new A(D,U[Y]));try{S.Typekit.load({events:!1,classes:!1,async:!0})}catch{}u(x)}},2e3):u([])};function lo(u,f){this.c=u,this.f=f,this.a=[]}lo.prototype.load=function(u){var f=this.f.id,S=this.c.o,y=this;f?(S.__webfontfontdeckmodule__||(S.__webfontfontdeckmodule__={}),S.__webfontfontdeckmodule__[f]=function(x,_){for(var D=0,U=_.fonts.length;D<U;++D){var Y=_.fonts[D];y.a.push(new A(Y.name,ie("font-weight:"+Y.weight+";font-style:"+Y.style)))}u(y.a)},b(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+h(this.c)+"/"+f+".js",function(x){x&&u([])})):u([])};var Le=new so(window);Le.a.c.custom=function(u,f){return new oo(f,u)},Le.a.c.fontdeck=function(u,f){return new lo(f,u)},Le.a.c.monotype=function(u,f){return new io(f,u)},Le.a.c.typekit=function(u,f){return new no(f,u)},Le.a.c.google=function(u,f){return new ro(f,u)};var co={load:s(Le.load,Le)};a.exports?a.exports=co:(window.WebFont=co,window.WebFontConfig&&Le.load(window.WebFontConfig))})()})(em);const tm=ki;class sm extends Phaser.Loader.File{payload;constructor(e,t){super(e,{type:"webfont",key:t.type}),this.payload=t}load(){const{type:e}=this.payload;let t;switch(e){case"google":t=this.getGoogleFontConfig(this.payload);break;case"local":t=this.getLocalFontConfig(this.payload);break}tm.load(t)}getGoogleFontConfig(e){const{character:t,fontName:s,fontWeight:i=400}=e;return{google:{families:[`${s}:${i}`],text:t},active:()=>{this.loader.nextFile(this,!0)},timeout:15e3}}getLocalFontConfig(e){const{fontName:t,fontType:s}=e,i=document.createElement("style");document.head.appendChild(i);const o=i.sheet;if(o){const n=`@font-face { font-family: "${t}"; src: url("assets/fonts/${t}${s==="opentype"?".otf":".ttf"}") format("${s}"); }`;o.insertRule(n,0)}return{custom:{families:[t]},active:()=>{this.loader.nextFile(this,!0)},timeout:15e3}}}class im extends Phaser.Plugins.ScenePlugin{addFont(e){const t=new sm(this.scene.load,e);this.scene.load.addFile(t)}}class om extends Phaser.Plugins.BasePlugin{portraitRatio;portraitWidth;portraitHeight;landscapeRatio;landscapeWidth;landscapeHeight;worldWidth;worldHeight;worldRatio;autoResize;disableLandscape;fullSizeOnLandscape;forcePixelRatio;configure(e){const{autoResize:t,portraitRatio:s,portraitWidth:i,portraitHeight:o,landscapeWidth:r,landscapeHeight:n,landscapeRatio:l,disableLandscape:c,fullSizeOnLandscape:d}=e;this.autoResize=t,this.disableLandscape=c,this.fullSizeOnLandscape=d,this.portraitRatio=s,this.portraitWidth=i,this.portraitHeight=o,this.landscapeRatio=l,this.landscapeWidth=r,this.landscapeHeight=n,this.initWorldSize(),this.addEventResize()}resize(e){e&&e>0&&(this.forcePixelRatio=e);const{width:t,height:s}=this.getCanvasSizeFixedRatio(this.worldRatio);this.resizeCanvas(t,s),this.game.scene.scenes.forEach(i=>{const o=i.cameras.main;if(!o)return;const r=this.getZoomRatio(),{width:n,height:l}=this.getWorldSize();o.setZoom(r),o.centerOn(n/2,l/2)})}resizeCanvas(e,t){this.game.canvas.width=e,this.game.canvas.height=t,this.game.scale.resize(e,t)}getWorldSize(){return{width:this.worldWidth,height:this.worldHeight}}initWorldSize(){this.worldWidth=this.portraitWidth,this.worldHeight=this.portraitHeight;const e=this.getScreenRatio();if(this.isScreenSmallerOrEqualRatio(this.portraitRatio))this.worldHeight=this.worldWidth/e;else if(!this.disableLandscape&&(this.worldWidth=this.landscapeWidth,this.worldHeight=this.landscapeHeight,this.landscapeRatio>e&&(this.worldHeight=this.worldWidth/e),this.fullSizeOnLandscape)){this.worldRatio=this.worldWidth/this.worldHeight;const{width:t,height:s}=this.getCanvasSizeFixedRatio(e),i=this.getZoomRatio();this.worldWidth=t/i,this.worldHeight=s/i}this.worldRatio=this.worldWidth/this.worldHeight,console.info("ðŸš€ > this.worldRatio",this.worldRatio)}getZoomRatio(){const{width:e}=this.getWorldSize(),{width:t}=this.getCanvasSizeFixedRatio(this.worldRatio);return t/e}getPixelRatio(){if(this.forcePixelRatio>0)return this.forcePixelRatio;if(GameCore.Utils.Device.isDesktop())return 2;let e=GameCore.Utils.Device.pixelRatio();return e>2&&(e=2),e}getPhysicPixels(e,t){return e*t}getCanvasSizeFixedRatio(e){const t=this.getPixelRatio();let s=this.getScreenWidth()*t,i=this.getScreenHeight()*t;return this.isScreenEqualRatioWithError(e)?{width:s,height:i}:(this.isScreenSmallerOrEqualRatio(e)?i=s/e:s=i*e,{width:s,height:i})}getScreenRatio(){return this.getScreenWidth()/this.getScreenHeight()}getScreenHeight(){const{body:e,documentElement:t}=document,{clientHeight:s}=e,{clientHeight:i}=t;return Math.max(i,s)||0}getScreenWidth(){const{body:e,documentElement:t}=document,{clientWidth:s}=e,{clientWidth:i}=t;return Math.max(i,s)||0}isScreenEqualRatioWithError(e){const s=this.getScreenRatio();return e<s+1e-5&&e>s-1e-5}isScreenSmallerOrEqualRatio(e){return this.getScreenRatio()<=e}addEventResize(){this.autoResize&&window.addEventListener("resize",this.handleResize)}handleResize=Ai(()=>{this.resize()},300);isLandscape(){return this.worldRatio>this.portraitRatio}}class am{contextId;contextType;entryPointData;constructor(e,t,s){this.contextId=e||Hs.contextId,this.contextType=t||Hs.contextType,this.entryPointData=s||Hs.entryPointData}toObject(){return{contextId:this.contextId,contextType:this.contextType,entryPointData:this.entryPointData}}}const rm=(a,e,t)=>({type:pr,payload:{contextId:a,contextType:e,entryPointData:t}}),nm=()=>a=>{a(lm("normal"))},lm=a=>e=>{e({type:br,payload:{gameMode:a}})},cm={SCORE:"score",SETTINGS:"settings",GAME_DATA:"gameData",USER_GUIDE_DISPLAYS:"userGuideDisplays"};let Yt=!1,zt=!1;const yr=a=>{Yt=a},dm=()=>{zt=mm()},mm=()=>{if(GameCore.Utils.Device.isDesktop())return!1;const e=Yt;return Yt=!0,zt=!0,bt(0),Yt=e,zt},bt=a=>{try{if(!Yt||!zt)return!1;const e=GameCore.Utils.Device;return(e.isAndroid()||e.isMobileWeb())&&um(a),!0}catch{return zt=!1,!1}},um=a=>{window.navigator.vibrate(0),window.navigator.vibrate(a)};class hm{game;constructor(e){this.game=e}initContext=()=>{const e=window.GameSDK.context.getID(),t=window.GameSDK.context.getType(),s=window.GameSDK.getEntryPointData(),i=new am(e,t,s),{contextId:o,contextType:r,entryPointData:n}=i.toObject();this.game.storage.dispatch(rm(o,r,n))};initPlayer=async()=>{const{player:e}=this.game,t=this.getPlayerInfo(),s=Object.values(cm),i=await FBInstant.player.getDataAsync(s);console.info("ðŸš€ > rawData",i);const o=new vt(i);console.info("ðŸš€ > playerData",o);const r=o.toObject();r.settings.music===!0&&window.game.audio.playMusic(),r.settings.vibrate===!0&&yr(!0),e.receiveData(t,o.convertToPlayerData())};getPlayerInfo=()=>{try{const e=window.GameSDK.player.getID();let t=window.GameSDK.player.getName();const s=window.GameSDK.player.getPhoto(),i=window.GameSDK.getLocale();if(!GameCore.Utils.Valid.isString(e))throw new Error("Player ID is not valid");return GameCore.Utils.Valid.isString(t)||(t="You"),new vs(e,t,s,i).toObject()}catch{return new vs("123","You").toObject()}}}const fm=a=>{{console.error(a);return}},Sr=a=>{a&&fm(a)},Z={BOOT_SCENE:"BOOT_SCENE",LOAD_SCENE:"LOAD_SCENE",GAME_SCENE:"GAME_SCENE",GLOBAL_SCENE:"GLOBAL_SCENE",TEST_SCENE:"TEST_SCENE",ANIMATIONS_SCENE:"ANIMATIONS_SCENE"},xi={SWITCH:Symbol("SWITCH")};class pm extends Phaser.Plugins.BasePlugin{Text;Texture;currentLocale;supportedLanguages;data;configure(e){this.applyOptions(e)}getCurrentLanguage(){return this.currentLocale}switchLanguage(e="en"){const t=this.getCorrectLocale(e);this.currentLocale=t,this.Text=this.data[t].Text,this.Texture=this.data[t].Texture}getText(e){if(typeof e=="object"){const{key:t,variables:s=[],locale:i=this.currentLocale}=e,o=this.getCorrectLocale(i),r=this.data[o].Text[t];return this.replaceVariables(r,s)}return this.Text[e]}getTexture(e){if(typeof e=="object"){const{key:t,variables:s=[],locale:i=this.currentLocale}=e,o=this.getCorrectLocale(i),r=this.data[o].Texture[t];return this.replaceVariables(r,s)}return this.Texture[e]}isSupportLanguage(e){return this.supportedLanguages.indexOf(e)>=0}applyOptions(e){const{data:t,locale:s="en",upperCaseText:i=!1}=e;this.data=t,this.supportedLanguages=Object.keys(t);const o=this.getCorrectLocale(s);if(this.currentLocale=o,this.Text=t[o].Text,this.Texture=t[o].Texture,i)for(const r in this.Text)this.Text[r]=this.Text[r].toUpperCase()}replaceVariables(e,t){const s=t.length;if(s==0)return e;let i=0;return e.replace(/{.*}/,function(){return String(t[Math.min(i++,s-1)])})}getCorrectLocale(e){let t=e.split("_")[0];return this.isSupportLanguage(t)||(t="en"),t}}const bm={title:"Tile Connect",lv:"Lv",level:"Level",invite:"Invite",pause:"Pause",continue:"Continue",restart:"Restart",invite_friends:"Invite Friends",failed:"Failed",reason_time_out:"Time is up!",resurrection:"Resurrection",replay:"Replay",victory:"Victory",get:"Get",get_continue:"Get, and Continue",hint_description:"Show one matchable pair on the board",rocket_description:"Destroy two pairs on the board",shuffle_description:"Shuffle all tiles on the board",defuse_description:"Remove a bomb tile on the board",get_now:"Get now",free:"Free",reason_bomb:"The bomb exploded!",continue_question:"Continue?",skip:"Skip",tutorial_level_3:"Remove all icon tiles before the end of time",tutorial_hint:`Tap to reveal
a connectable pair`,rocket:"Rocket",tutorial_rocket_tile:"After the rocket is eliminated, two more will be eliminated",ok:"OK",boom:"Boom",tutorial_bomb_tile:"Remove this icon tile before the bomb exploded",tutorial_level_7:"Tap to clear a pair of bomb tiles",tutorial_level_8:"Tap to rearrange the tiles",tutorial_level_11:"Tap to eliminate 2 pairs",combo:"Combo",good:"Good",excellent:"Excellent",great:"Great",unbelievable:"Unbelievable",loading:"Loading",no_rewards_1:"Sorry, No Rewards!",no_rewards_2:"You have cancelled the ad!",no_ads:"No ads to display!",loading_ads:"Loading ads..."},gm={boom:"texts/boom",get_continue:"texts/get-and-continue",rocket:"texts/rocket",victory:"texts/victory",text_failed:"texts/text-failed",text_continue:"texts/text-continue",text_replay:"texts/text-replay",text_pause:"texts/text-pause",tutorial_text_failed:"text-failed",tutorial_text_good:"text-good",effect_good:"texts/good",effect_excellent:"texts/excellent",effect_great:"texts/great",effect_unbelievable:"texts/unbelievable",text_daily_rewards:"texts/text-daily-rewards"},Tm={Text:bm,Texture:gm},wm={title:"Hubung Ubin",lv:"Lv",level:"Level",invite:"Undang",pause:"Jeda",continue:"Lanjut",restart:"Mulai Ulang",invite_friends:"Undang Teman",failed:"Gagal",reason_time_out:"Waktu selesai!",resurrection:"Kebangkitan",replay:"Ulangi Permainan",victory:"KEMENANGAN",get:"Ambil",get_continue:"Dapatkan dan Lanjutkan",hint_description:"Tampilkan satu pasang yang dapat dicocokkan di papan",rocket_description:"Hancurkan dua pasang di papan",shuffle_description:"Acak semua ubin di papan",defuse_description:"Hilangkan ubin bom di papan",get_now:"Ambil",free:"Gratis",reason_bomb:"Bom meledak!",continue_question:"LANJUT?",skip:"Lewati",tutorial_level_3:"Hilangkan semua ubin ikon sebelum waktu berakhir",tutorial_hint:`Ketuk untuk
 mengungkap satu pasang
 yang dapat dihubungkan`,rocket:"Roket",tutorial_rocket_tile:"Setelah roket ini dihilangkan, dua lainnya akan dihilangkan",ok:"Oke",boom:"Duar",tutorial_bomb_tile:"Hilangkan ubin ikon ini sebelum bom meledak",tutorial_level_7:"Ketuk untuk membersihkan sepasang ubin bom",tutorial_level_8:"Ketuk untuk menyusun ulang ubin",tutorial_level_11:"Ketuk untuk menghilangkan 2 pasang",combo:"Kombo",good:"Bagus",excellent:"Luar Biasa",great:"Hebat",unbelievable:"Dahsyat",loading:"Memuat...",no_rewards_1:"Maaf, Tak Ada Hadiah!",no_rewards_2:"Kamu membatalkan iklan!",no_ads:"TIidak Ada Iklan Untuk Ditonton",loading_ads:"Memuat Iklan..."},Em={boom:"texts/indonesian/boom",get_continue:"texts/indonesian/get-and-continue",rocket:"texts/indonesian/rocket",victory:"texts/indonesian/victory",text_failed:"texts/indonesian/text-failed",text_continue:"texts/indonesian/text-continue",text_replay:"texts/indonesian/text-replay",text_pause:"texts/indonesian/text-pause",tutorial_text_failed:"text-failed-id",tutorial_text_good:"text-good-id",effect_good:"texts/indonesian/good-id",effect_excellent:"texts/indonesian/excellent-id",effect_great:"texts/indonesian/great-id",effect_unbelievable:"texts/indonesian/unbelievable-id",text_daily_rewards:"texts/indonesian/text-daily-rewards"},vm={Text:wm,Texture:Em},Pm={title:"Ð¡Ð¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ Ð¿Ð»Ð¸Ñ‚Ð¾Ðº",lv:"Ð£Ñ€.",level:"Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ",invite:"Ð—Ð²Ð°Ñ‚ÑŒ",pause:"ÐŸÑ€Ð¸Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð°",continue:"ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ",restart:"ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð°",invite_friends:"ÐŸÑ€Ð¸Ð³Ð»Ð°ÑÐ¸Ñ‚ÑŒ Ð”Ñ€ÑƒÐ·ÐµÐ¹",failed:"ÐŸÑ€Ð¾Ð²Ð°Ð»ÐµÐ½",reason_time_out:"Ð’Ñ€ÐµÐ¼Ñ Ð²Ñ‹ÑˆÐ»Ð¾!",resurrection:"Ð’Ð¾ÑÐºÑ€ÐµÑˆÐµÐ½Ð¸Ðµ",replay:"ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€",victory:"ÐŸÐ¾Ð±ÐµÐ´Ð°",get:"ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ",get_continue:"ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¸ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ",hint_description:"ÐŸÐ¾ÐºÐ°Ð¶Ð¸Ñ‚Ðµ Ð½Ð° Ð´Ð¾ÑÐºÐµ Ð¾Ð´Ð½Ñƒ Ð¿Ð°Ñ€Ñƒ, ÐºÐ¾Ñ‚Ð¾Ñ€ÑƒÑŽ Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾Ð¿Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ",rocket_description:"Ð£Ð½Ð¸Ñ‡Ñ‚Ð¾Ð¶ÑŒÑ‚Ðµ Ð´Ð²Ðµ Ð¿Ð°Ñ€Ñ‹ Ð½Ð° Ð´Ð¾ÑÐºÐµ",shuffle_description:"ÐŸÐµÑ€ÐµÑ‚Ð°ÑÑƒÐ¹Ñ‚Ðµ Ð²ÑÐµ Ð¿Ð»Ð¸Ñ‚ÐºÐ¸ Ð½Ð° Ð´Ð¾ÑÐºÐµ",defuse_description:"Ð£Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ Ð´Ð¾ÑÐºÐ¸ Ð¿Ð»Ð¸Ñ‚ÐºÑƒ Ñ Ð±Ð¾Ð¼Ð±Ð¾Ð¹",get_now:"ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ",free:"Ð´Ð°Ñ€",reason_bomb:"Ð‘Ð¾Ð¼Ð±Ð° Ð²Ð·Ð¾Ñ€Ð²Ð°Ð»Ð°ÑÑŒ!",continue_question:"ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ?",skip:"ÐŸÑ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ",tutorial_level_3:"Ð£Ð´Ð°Ð»Ð¸Ñ‚Ðµ Ð²ÑÐµ Ð¿Ð»Ð¸Ñ‚ÐºÐ¸ ÑÐ¾ Ð·Ð½Ð°Ñ‡ÐºÐ°Ð¼ Ð´Ð¾ Ð¸ÑÑ‚ÐµÑ‡ÐµÐ½Ð¸Ñ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸",tutorial_hint:`ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ,
Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð·Ð¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ñƒ,
ÐºÐ¾Ñ‚Ð¾Ñ€ÑƒÑŽ Ð¼Ð¾Ð¶Ð½Ð¾
ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸Ñ‚ÑŒ`,rocket:"Ð Ð°ÐºÐµÑ‚Ð°",tutorial_rocket_tile:"ÐšÐ¾Ð³Ð´Ð° Ñ€Ð°ÐºÐµÑ‚Ð° Ð±ÑƒÐ´ÐµÑ‚ ÑƒÐ½Ð¸Ñ‡Ñ‚Ð¾Ð¶ÐµÐ½Ð°, Ð±ÑƒÐ´ÑƒÑ‚ ÑƒÐ½Ð¸Ñ‡Ñ‚Ð¾Ð¶ÐµÐ½Ñ‹ ÐµÑ‰Ðµ Ð´Ð²Ðµ",ok:"Ð”Ð°",boom:"Ð‘ÑƒÐ¼",tutorial_bomb_tile:"Ð£Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑÑ‚Ñƒ Ð¿Ð»Ð¸Ñ‚ÐºÑƒ ÑÐ¾ Ð·Ð½Ð°Ñ‡ÐºÐ¾Ð¼ Ð´Ð¾ Ñ‚Ð¾Ð³Ð¾, ÐºÐ°Ðº Ð±Ð¾Ð¼Ð±Ð° Ð²Ð·Ð¾Ñ€Ð²ÐµÑ‚ÑÑ",tutorial_level_7:"ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ñƒ Ð¿Ð»Ð¸Ñ‚Ð¾Ðº Ñ Ð±Ð¾Ð¼Ð±Ð°Ð¼Ð¸",tutorial_level_8:"ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿ÐµÑ€ÐµÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ð»Ð¸Ñ‚ÐºÐ¸",tutorial_level_11:"ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ 2 Ð¿Ð°Ñ€Ñ‹",combo:"ÐšÐ¾Ð¼Ð±Ð¾",good:"Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾",excellent:"ÐŸÑ€ÐµÐ²Ð¾ÑÑ…Ð¾Ð´Ð½Ð¾",great:"ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾",unbelievable:"ÐÐµÐ²ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾",loading:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°",no_rewards_1:"Ð˜Ð·Ð²Ð¸Ð½Ð¸Ñ‚Ðµ, Ð½Ð°Ð³Ñ€Ð°Ð´ Ð½ÐµÑ‚!",no_rewards_2:"Ð’Ñ‹ Ð½Ðµ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ»Ð¸ Ñ€ÐµÐºÐ»Ð°Ð¼Ñƒ Ð´Ð¾ ÐºÐ¾Ð½Ñ†Ð°!",no_ads:"ÐÐµÑ‚ ÐžÐ±ÑŠÑÐ²Ð»ÐµÐ½Ð¸Ð¹ Ð”Ð»Ñ ÐžÑ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ!",loading_ads:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° ÐžÐ±ÑŠÑÐ²Ð»ÐµÐ½Ð¸Ð¹..."},ym={boom:"texts/russian/boom",get_continue:"texts/russian/get-and-continue",rocket:"texts/russian/rocket",victory:"texts/russian/victory",text_failed:"texts/russian/text-failed",text_continue:"texts/russian/text-continue",text_replay:"texts/russian/text-replay",text_pause:"texts/russian/text-pause",tutorial_text_failed:"text-failed-ru",tutorial_text_good:"text-good-ru",effect_good:"texts/russian/good-ru",effect_excellent:"texts/russian/excellent-ru",effect_great:"texts/russian/great-ru",effect_unbelievable:"texts/russian/unbelievable-ru",text_daily_rewards:"texts/text-daily-rewards"},Sm={Text:Pm,Texture:ym},km={title:"ã€Œã‚¿ã‚¤ãƒ«ã‚³ãƒã‚¯ãƒˆã€",lv:"Lv",level:"ãƒ¬ãƒ™ãƒ«",invite:"æ‹›å¾…",pause:"ä¸€æ™‚åœæ­¢",continue:"ç¶šã‘ã‚‹",restart:"ã‚„ã‚ŠãªãŠã™",invite_friends:"ãƒ•ãƒ¬ãƒ³ãƒ‰ã‚’æ‹›å¾…",failed:"å¤±æ•—",reason_time_out:"æ™‚é–“åˆ‡ã‚Œã§ã™ï¼",resurrection:"å¾©æ´»",replay:"ãƒªãƒ—ãƒ¬ã‚¤",victory:"å‹åˆ©",get:"å…¥æ‰‹",get_continue:"å…¥æ‰‹ã—ã¦ç¶šã‘ã‚‹",hint_description:`ãƒœãƒ¼ãƒ‰ä¸Šã®ãƒžãƒƒãƒãƒ³ã‚°
å¯èƒ½ãªãƒšã‚¢ã‚’1ã¤è¡¨ç¤º`,rocket_description:`ãƒœãƒ¼ãƒ‰ä¸Šã®2ã¤
ã®ãƒšã‚¢ã‚’ç ´å£Š`,shuffle_description:`ãƒœãƒ¼ãƒ‰ä¸Šã®ã™ã¹ã¦ã®
ã‚¿ã‚¤ãƒ«ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«`,defuse_description:`ãƒœãƒ¼ãƒ‰ä¸Šã®çˆ†å¼¾
ã‚¿ã‚¤ãƒ«ã‚’æ¶ˆã™`,get_now:"ä»Šã™ãå…¥æ‰‹",free:"ç„¡æ–™",reason_bomb:"çˆ†å¼¾ãŒçˆ†ç™ºã—ã¾ã—ãŸï¼",continue_question:"ç¶šã‘ã¾ã™ã‹ï¼Ÿ",skip:"ã‚¹ã‚­ãƒƒãƒ—",tutorial_level_3:`çµ‚äº†æ™‚é–“ã¾ã§ã«
ã‚¢ã‚¤ã‚³ãƒ³ã‚¿ã‚¤ãƒ«
ã‚’ã™ã¹ã¦å‰Šé™¤`,tutorial_hint:`ã‚¿ãƒƒãƒ—ã—ã¦æŽ¥ç¶š
å¯èƒ½ãªãƒšã‚¢ã‚’è¡¨ç¤º`,rocket:"ãƒ­ã‚±ãƒƒãƒˆ",tutorial_rocket_tile:`ãƒ­ã‚±ãƒƒãƒˆã‚’æ¶ˆã—ãŸå¾Œ
ã•ã‚‰ã«2ã¤ãŒæ¶ˆãˆã¾ã™`,ok:"OK",boom:"ãƒ–ãƒ¼ãƒ ",tutorial_bomb_tile:`çˆ†å¼¾ãŒçˆ†ç™ºã™ã‚‹å‰ã«ã€
ã“ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚¿ã‚¤ãƒ«
ã‚’æ¶ˆã—ã¾ã™`,tutorial_level_7:`ã‚¿ãƒƒãƒ—ã—ã¦çˆ†å¼¾ã‚¿ã‚¤ãƒ«
ã®ãƒšã‚¢ã‚’1ã¤æ¶ˆã™`,tutorial_level_8:`ã‚¿ãƒƒãƒ—ã—ã¦ã‚¿ã‚¤ãƒ«
ã‚’ä¸¦ã¹æ›¿ãˆã‚‹`,tutorial_level_11:"ã‚¿ãƒƒãƒ—ã—ã¦2ã¤ã®ãƒšã‚¢ã‚’æ¶ˆã™",combo:"ã‚³ãƒ³ãƒœ",good:"ã‚°ãƒƒãƒ‰",excellent:"ç´ æ™´ã‚‰ã—ã„",great:"æœ€é«˜",unbelievable:"ä¿¡ã˜ã‚‰ã‚Œãªã„",loading:"èª­ã¿è¾¼ã¿ä¸­",no_rewards_1:`ç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“ã€
å ±é…¬ã¯ã‚ã‚Šã¾ã›ã‚“!`,no_rewards_2:`åºƒå‘Šã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«
ã—ã¾ã—ãŸï¼`,no_ads:`è¡¨ç¤ºã§ãã‚‹åºƒå‘Š
ã¯ã‚ã‚Šã¾ã›ã‚“`,loading_ads:`åºƒå‘Šã‚’èª­ã¿è¾¼ã‚“ã§
ã„ã¾ã™...`},xm={boom:"texts/japanese/boom",get_continue:"texts/japanese/get-and-continue",rocket:"texts/japanese/rocket",victory:"texts/japanese/victory",text_failed:"texts/japanese/text-failed",text_continue:"texts/japanese/text-continue",text_replay:"texts/japanese/text-replay",text_pause:"texts/japanese/text-pause",tutorial_text_failed:"text-failed-ja",tutorial_text_good:"text-good-ja",effect_good:"texts/japanese/good-ja",effect_excellent:"texts/japanese/excellent-ja",effect_great:"texts/japanese/great-ja",effect_unbelievable:"texts/japanese/unbelievable-ja",text_daily_rewards:"texts/japanese/text-daily-rewards"},Rm={Text:km,Texture:xm},Om={title:"Tile Connect",lv:"Lv",level:"NÃ­vel",invite:"Convidar",pause:"Pausar",continue:"Continuar",restart:"Reiniciar",invite_friends:"Convidar amigos",failed:"Falhou",reason_time_out:"Acabou o tempo!",resurrection:"RessurreiÃ§Ã£o",replay:"RepetiÃ§Ã£o",victory:"VitÃ³ria",get:"Consegue",get_continue:"Apanha e continua",hint_description:"Mostra um par compatÃ­vel no tabuleiro",rocket_description:"DestrÃ³i dois pares no tabuleiro",shuffle_description:"Baralha todas as peÃ§as do tabuleiro",defuse_description:"Retira uma peÃ§a bomba no tabuleiro",get_now:"Consegue",free:"GrÃ¡tis",reason_bomb:"A bomba explodiu!",continue_question:"Continuar?",skip:"Pular",tutorial_level_3:"Remove todas as peÃ§as antes do tempo acabar",tutorial_hint:"Toca para revelares um par conectÃ¡vel",rocket:"Foguete",tutorial_rocket_tile:"ApÃ³s o foguete explodir, serÃ£o eliminadas mais duas",ok:"OK",boom:"Pumba",tutorial_bomb_tile:"Remove esta peÃ§a antes da bomba explodir",tutorial_level_7:"Toca para eliminares um par de peÃ§as bomba",tutorial_level_8:"Toca para reorganizares as peÃ§as",tutorial_level_11:"Toca para eliminares 2 pares",combo:"Combo",good:"Boa",excellent:"Excelente",great:"Ã“ptimo",unbelievable:"InacreditÃ¡vel",loading:"A carregar",no_rewards_1:"Desculpa, nÃ£o hÃ¡ recompensas!",no_rewards_2:"Cancelaste o anÃºncio!",no_ads:"NÃ£o hÃ¡ anÃºncios para mostrar!",loading_ads:"A carregar anÃºncios..."},Am={boom:"texts/portuguese/boom",get_continue:"texts/portuguese/get-and-continue",rocket:"texts/portuguese/rocket",victory:"texts/portuguese/victory",text_failed:"texts/portuguese/text-failed",text_continue:"texts/portuguese/text-continue",text_replay:"texts/portuguese/text-replay",text_pause:"texts/portuguese/text-pause",tutorial_text_failed:"text-failed-pt",tutorial_text_good:"text-good-pt",effect_good:"texts/portuguese/good-pt",effect_excellent:"texts/portuguese/excellent-pt",effect_great:"texts/portuguese/great-pt",effect_unbelievable:"texts/portuguese/unbelievable-pt",text_daily_rewards:"texts/text-daily-rewards"},Im={Text:Om,Texture:Am},Mm={title:"Tile Connect",lv:"Lv",level:"Nivel",invite:"Invitar",pause:"Pausar",continue:"Continuar",restart:"Reiniciar",invite_friends:"Invitar amigos",failed:"Fracaso",reason_time_out:"Â¡Se acabÃ³ el tiempo!",resurrection:"Resurreccion",replay:"RepeticiÃ³n",victory:"Victoria",get:"Consigue",get_continue:"Coge y continua",hint_description:"Muestra un par emparejable en el tablero",rocket_description:"Destruye dos pares en el tablero",shuffle_description:"Baraja todas las fichas del tablero",defuse_description:"Quitar una ficha de bomba en el tablero",get_now:"Consigue",free:"Gratis",reason_bomb:"Â¡La bomba explotÃ³!",continue_question:"Â¿Continuar?",skip:"Saltar",tutorial_level_3:"Elimina todos las fichas antes de que acabe el tiempo",tutorial_hint:`Toca para mostrar
 un par conectable`,rocket:"Cohete",tutorial_rocket_tile:"DespuÃ©s de explotar el cohete, se eliminarÃ¡n dos mÃ¡s",ok:"OK",boom:"Pum",tutorial_bomb_tile:"Retira esta ficha antes de que explote la bomba",tutorial_level_7:"Toca para eliminar un par de fichas bomba",tutorial_level_8:"Toca para reorganizar las fichas",tutorial_level_11:"Toca para eliminar 2 pares",combo:"Combo",good:"Bien",excellent:"Â¡Excelente!",great:"Genial",unbelievable:"IncreÃ­ble",loading:"Cargando",no_rewards_1:`Lo sentimos, no hay
 recompensas.`,no_rewards_2:"Â¡Has cancelado el anuncio!",no_ads:"Sin anuncios que mostrar",loading_ads:"Cargando anuncios..."},Cm={boom:"texts/spanish/boom",get_continue:"texts/spanish/get-and-continue",rocket:"texts/spanish/rocket",victory:"texts/spanish/victory",text_failed:"texts/spanish/text-failed",text_continue:"texts/spanish/text-continue",text_replay:"texts/spanish/text-replay",text_pause:"texts/spanish/text-pause",tutorial_text_failed:"text-failed-es",tutorial_text_good:"text-good-es",effect_good:"texts/spanish/good-es",effect_excellent:"texts/spanish/excellent-es",effect_great:"texts/spanish/great-es",effect_unbelievable:"texts/spanish/unbelievable-es",text_daily_rewards:"texts/text-daily-rewards"},_m={Text:Mm,Texture:Cm},Lm={title:"Tile Connect",lv:"Lv",level:"Seviye",invite:"Davet et",pause:"Duraklat",continue:"Devam",restart:"Yeniden baÅŸla",invite_friends:"ArkadaÅŸlarÄ±nÄ± Davet Et",failed:"BaÅŸarÄ±sÄ±z",reason_time_out:"SÃ¼re doldu!",resurrection:"Yeni can",replay:"Yeniden oynat",victory:"Zafer",get:"Al",get_continue:"Al ve Devam Et",hint_description:"Tahtada eÅŸleÅŸebilir bir Ã§ift gÃ¶ster",rocket_description:"Tahtadaki iki Ã§ifti yok et",shuffle_description:"Tahtadaki tÃ¼m karolarÄ± karÄ±ÅŸtÄ±r",defuse_description:"Tahtadaki bomba karosunu kaldÄ±r",get_now:"Åžimdi al",free:"Ãœcretsiz",reason_bomb:"Bomba patladÄ±!",continue_question:"Devam mÄ±?",skip:"Atla",tutorial_level_3:"SÃ¼re dolmadan Ã¶nce tÃ¼m simge karolarÄ±nÄ± kaldÄ±r",tutorial_hint:"EÅŸleÅŸtirilebilir bir karo Ã§iftini gÃ¶rmek iÃ§in dokun",rocket:"Roket",tutorial_rocket_tile:"Roketten sonra iki tane daha silinir",ok:"TAMAM",boom:"Bomba",tutorial_bomb_tile:"Bomba patlamadan Ã¶nce bu simge karosunu kaldÄ±r",tutorial_level_7:"Bir Ã§ift bomba karosunu silmek iÃ§in dokun",tutorial_level_8:"KarolarÄ± yeniden dÃ¼zenlemek iÃ§in dokun",tutorial_level_11:"2 Ã§ifti elemek iÃ§in dokun",combo:"Kombo",good:"Ä°yi",excellent:"MÃ¼kemmel",great:"Harika",unbelievable:"Ä°nanÄ±lmaz",loading:"YÃ¼kleniyor",no_rewards_1:"ÃœzgÃ¼nÃ¼m, Ã–dÃ¼l Yok!",no_rewards_2:"ReklamÄ± iptal ettin!",no_ads:"GÃ¶sterilecek reklam yok!",loading_ads:"Reklam yÃ¼kleniyor..."},Dm={boom:"texts/turkish/boom",get_continue:"texts/turkish/get-and-continue",rocket:"texts/turkish/rocket",victory:"texts/turkish/victory",text_failed:"texts/turkish/text-failed",text_continue:"texts/turkish/text-continue",text_replay:"texts/turkish/text-replay",text_pause:"texts/turkish/text-pause",tutorial_text_failed:"text-failed-tr",tutorial_text_good:"text-good-tr",effect_good:"texts/turkish/good-tr",effect_excellent:"texts/turkish/excellent-tr",effect_great:"texts/turkish/great-tr",effect_unbelievable:"texts/turkish/unbelievable-tr",text_daily_rewards:"texts/text-daily-rewards"},Nm={Text:Lm,Texture:Dm},Gm={title:"Connexion de tuiles",lv:"Lv",level:"Niveau",invite:"Inviter",pause:"Pause",continue:"Continuer",restart:"RedÃ©marrer",invite_friends:"Inviter des amis",failed:"Ã‰chec",reason_time_out:"Le temps est Ã©coulÃ© !",resurrection:"RÃ©surrection",replay:"Rejouer",victory:"Victoire",get:"Obtenir",get_continue:"Obtenir, puis Continuer",hint_description:"Afficher une paire compatible sur le plateau",rocket_description:"DÃ©truire deux paires sur le plateau",shuffle_description:"MÃ©langer toutes les tuiles du plateau",defuse_description:"Retirer une tuile bombe du plateau",get_now:"Obtenir",free:"Gratuit",reason_bomb:"La bombe a explosÃ© !",continue_question:"Continuer ?",skip:"Passer",tutorial_level_3:"Retirez toutes les tuiles dâ€™icÃ´nes avant la fin du temps imparti",tutorial_hint:"Appuyez pour rÃ©vÃ©ler une paire connectable",rocket:"FusÃ©e",tutorial_rocket_tile:"AprÃ¨s lâ€™Ã©limination de la fusÃ©e, deux autres seront Ã©liminÃ©es",ok:"OK",boom:"Boum",tutorial_bomb_tile:"Retirez cette tuile dâ€™icÃ´ne avant que la bombe nâ€™explose",tutorial_level_7:"Appuyez sur pour Ã©liminer une paire de tuiles bombe",tutorial_level_8:"Appuyez pour rÃ©organiser les tuiles",tutorial_level_11:"Appuyez pour Ã©liminer 2 paires",combo:"Combo",good:"Bien",excellent:"Excellent",great:"Super",unbelievable:"Incroyable",loading:"Chargement",no_rewards_1:"DÃ©solÃ©, aucune rÃ©compense !",no_rewards_2:`Vous avez annulÃ© la
 publicitÃ© !`,no_ads:"Aucune publicitÃ© Ã  afficher !",loading_ads:"Chargement des publicitÃ©s..."},Fm={boom:"texts/french/boom",get_continue:"texts/french/get-and-continue",rocket:"texts/french/rocket",victory:"texts/french/victory",text_failed:"texts/french/text-failed",text_continue:"texts/french/text-continue",text_replay:"texts/french/text-replay",text_pause:"texts/french/text-pause",tutorial_text_failed:"text-failed-fr",tutorial_text_good:"text-good-fr",effect_good:"texts/french/good-fr",effect_excellent:"texts/french/excellent-fr",effect_great:"texts/french/great-fr",effect_unbelievable:"texts/french/unbelievable-fr",text_daily_rewards:"texts/text-daily-rewards"},Bm={Text:Gm,Texture:Fm},Um={title:"Tile Connect",lv:"Lv",level:"Level",invite:"Einladen",pause:"Pause",continue:"Fortsetzen",restart:"Neu starten",invite_friends:"Freunde einladen",failed:"Gescheitert",reason_time_out:"Die Zeit ist um!",resurrection:"Wiederbelebung",replay:"Wiederholung",victory:"Sieg",get:"Holen",get_continue:"Holen und Fortsetzen",hint_description:"Ein passendes Paar auf dem Brett zeigen",rocket_description:"Zwei Paare auf dem Brett zerstÃ¶ren",shuffle_description:"Alle Kacheln auf dem Brett neu verteilen",defuse_description:"Eine Bombenkachel auf dem Spielbrett entfernen",get_now:"Jetzt holen",free:"Kostenlos",reason_bomb:"Die Bombe ist explodiert!",continue_question:"Fortsetzen?",skip:"Ãœberspringen",tutorial_level_3:"Entferne alle Symbolkacheln, bevor die Zeit ablÃ¤uft",tutorial_hint:"Tippe fÃ¼r ein kombinierbares Paar",rocket:"Rakete",tutorial_rocket_tile:"Nach der Rakete werden zwei weitere eliminiert",ok:"OK",boom:"Boom",tutorial_bomb_tile:"Entferne diese Symbolkachel, bevor die Bombe explodiert",tutorial_level_7:"Tippen, um ein Bombenpaar zu entfernen",tutorial_level_8:"Tippen, um die Felder neu anzuordnen",tutorial_level_11:"Tippen, um 2 Paare zu eliminieren",combo:"Kombo",good:"Gut",excellent:"Hervorragend",great:"GroÃŸartig",unbelievable:"Unglaublich",loading:"LÃ¤dt",no_rewards_1:`Tut uns leid, keine
 Belohnungen!`,no_rewards_2:`Du hast die Werbung
 abgebrochen!`,no_ads:"Keine Werbung verfÃ¼gbar!",loading_ads:"Lade Werbung ..."},Ym={boom:"texts/german/boom",get_continue:"texts/german/get-and-continue",rocket:"texts/german/rocket",victory:"texts/german/victory",text_failed:"texts/german/text-failed",text_continue:"texts/german/text-continue",text_replay:"texts/german/text-replay",text_pause:"texts/german/text-pause",tutorial_text_failed:"text-failed-de",tutorial_text_good:"text-good-de",effect_good:"texts/german/good-de",effect_excellent:"texts/german/excellent-de",effect_great:"texts/german/great-de",effect_unbelievable:"texts/german/unbelievable-de",text_daily_rewards:"texts/text-daily-rewards"},Hm={Text:Um,Texture:Ym},Km={title:"Tile Connect",lv:"Lv",level:"Livello",invite:"Invita",pause:"Pausa",continue:"Continua",restart:"Riavvia",invite_friends:"Invita gli amici",failed:"Non riuscito",reason_time_out:"Il tempo Ã¨ scaduto!",resurrection:"Risurrezione",replay:"Gioca ancora",victory:"Vittoria",get:"Ottieni",get_continue:"Ottieni e continua",hint_description:"Mostra una coppia abbinabile sul tabellone",rocket_description:"Distruggi due coppie sul tabellone",shuffle_description:"Mescola tutte le tessere sul tabellone",defuse_description:"Rimuovi una tessera bomba sul tabellone",get_now:"Ottieni ora",free:"Gratuito",reason_bomb:"La bomba Ã¨ esplosa!",continue_question:"Continuare?",skip:"Salta",tutorial_level_3:"Rimuovi tutte le tessere icona prima della fine del tempo",tutorial_hint:"Tocca per rivelare una coppia collegabile",rocket:"Razzo",tutorial_rocket_tile:"Dopo che il razzo Ã¨ stato eliminato, altri due saranno eliminati",ok:"OK",boom:"Boom",tutorial_bomb_tile:"Rimuovi questa tessera icona prima che la bomba esploda",tutorial_level_7:"Tocca per cancellare una coppia di tessere bomba",tutorial_level_8:"Tocca per riorganizzare le tessere",tutorial_level_11:"Tocca per eliminare 2 coppie",combo:"Combo",good:"Bene",excellent:"Eccellente",great:"Grande",unbelievable:"Incredibile",loading:"Caricamento",no_rewards_1:`Spiacente, nessuna
 ricompensa!`,no_rewards_2:"Hai cancellato l'annuncio!",no_ads:`Nessun annuncio da
 visualizzare!`,loading_ads:"Caricamento annunci..."},Wm={boom:"texts/italian/boom",get_continue:"texts/italian/get-and-continue",rocket:"texts/italian/rocket",victory:"texts/italian/victory",text_failed:"texts/italian/text-failed",text_continue:"texts/italian/text-continue",text_replay:"texts/italian/text-replay",text_pause:"texts/italian/text-pause",tutorial_text_failed:"text-failed-it",tutorial_text_good:"text-good-it",effect_good:"texts/italian/good-it",effect_excellent:"texts/italian/excellent-it",effect_great:"texts/italian/great-it",effect_unbelievable:"texts/italian/unbelievable-it",text_daily_rewards:"texts/text-daily-rewards"},zm={Text:Km,Texture:Wm},Vm={title:"æ–¹å—é…å¯¹",lv:"Lv",level:"å…³å¡",invite:"é‚€è¯·",pause:"æš‚åœ",continue:"ç»§ç»­",restart:"é‡æ–°å¼€å§‹",invite_friends:"é‚€è¯·å¥½å‹",failed:"å¤±è´¥",reason_time_out:"æ—¶é—´åˆ°ï¼",resurrection:"å¤æ´»",replay:"é‡æ–°å¼€å§‹",victory:"èƒœåˆ©",get:"èŽ·å¾—",get_continue:"èŽ·å¾—å¹¶ç»§ç»­",hint_description:"æ˜¾ç¤ºä¸€å¯¹å¯é…å¯¹æ–¹å—",rocket_description:"æ¶ˆç­ä¸¤å¯¹æ–¹å—",shuffle_description:"æ‰“ä¹±æ‰€æœ‰æ–¹å—çš„é¡ºåº",defuse_description:"æ¶ˆé™¤ä¸€å—ç‚¸å¼¹æ–¹å—",get_now:"ç«‹å³èŽ·å¾—",free:"å…è´¹å…è´¹",reason_bomb:"ç‚¸å¼¹çˆ†ç‚¸äº†ï¼",continue_question:"ç»§ç»­ï¼Ÿ",skip:"è·³è¿‡",tutorial_level_3:`åœ¨æ—¶é—´ç»“æŸå‰
æ¶ˆé™¤æ‰€æœ‰å›¾æ ‡æ–¹å—`,tutorial_hint:"ç‚¹å‡»æ¥æ˜¾ç¤ºä¸€å¯¹å¯é…å¯¹æ–¹å—",rocket:"ç«ç®­",tutorial_rocket_tile:`ç«ç®­æ¶ˆé™¤åŽï¼Œ
è¿˜å°†æ¶ˆé™¤å¦å¤–ä¸¤å—æ–¹å—`,ok:"ç¡®å®š",boom:"ç °",tutorial_bomb_tile:"åœ¨ç‚¸å¼¹çˆ†ç‚¸å‰æ¶ˆé™¤æ‰€æœ‰å›¾æ ‡æ–¹å—",tutorial_level_7:"ç‚¹å‡»æ¥æ¶ˆé™¤ä¸€å¯¹ç‚¸å¼¹æ–¹å—",tutorial_level_8:"ç‚¹å‡»æ¥é‡æ–°å¸ƒå±€æ–¹å—",tutorial_level_11:"ç‚¹å‡»æ¥æ¶ˆé™¤ä¸¤å¯¹æ–¹å—",combo:"è¿žå‡»",good:"çœŸæ£’",excellent:"å¤ªæ£’äº†",great:"åŽ‰å®³",unbelievable:"ä¸å¯æ€è®®",loading:"åŠ è½½ä¸­",no_rewards_1:"æŠ±æ­‰ï¼Œæ²¡æœ‰å¥–åŠ±ï¼",no_rewards_2:"ä½ å–æ¶ˆäº†å¹¿å‘Šï¼",no_ads:"æ²¡æœ‰å¯ä»¥æ’­æ”¾çš„å¹¿å‘Šï¼",loading_ads:"åŠ è½½å¹¿å‘Šä¸­â€¦â€¦"},jm={boom:"texts/chinese/boom",get_continue:"texts/chinese/get-and-continue",rocket:"texts/chinese/rocket",victory:"texts/chinese/victory",text_failed:"texts/chinese/text-failed",text_continue:"texts/chinese/text-continue",text_replay:"texts/chinese/text-replay",text_pause:"texts/chinese/text-pause",tutorial_text_failed:"text-failed-zh",tutorial_text_good:"text-good-zh",effect_good:"texts/chinese/good-zh",effect_excellent:"texts/chinese/excellent-zh",effect_great:"texts/chinese/great-zh",effect_unbelievable:"texts/chinese/unbelievable-zh",text_daily_rewards:"texts/text-daily-rewards"},$m={Text:Vm,Texture:jm},Xm={en:Tm,id:vm,ru:Sm,ja:Rm,pt:Im,es:_m,tr:Nm,fr:Bm,de:Hm,it:zm,zh:$m};class Zm extends pm{configure(e){super.configure({data:Xm,locale:"en",upperCaseText:!1,...e})}}class qm extends GameCore.Analytics.BaseAnalytics{isGamePlaying=!1;isGameStartLog=!1;constructor(e,t){super("GLanceAnalytics",{...t},"#E35360"),this.selfLog=!1}processEvent(e,t,s){if(e==M.LOAD_COMPLETE){window.sendCustomAnalyticsEvent(M.GLANCE_GAME_LOAD,{});return}}processGameEnd(e,t,s=-1e5){let i;const o=this.getCurrentGameType(),r={score:e,highScore:t};s!==-1e5?i={...r,level:s}:i=r,Object.keys(i).forEach(n=>{i[n]==null&&delete i[n]}),e!=null&&t!=null&&o!="level"&&(window.game.audio.pauseMusic(),window.game.audio.muteAll()),window.sendCustomAnalyticsEvent(M.GLANCE_GAME_END,i)}processGameStart(e,t=-1e5){if(!this.isGameStartLog){this.isGameStartLog=!0,window.sendCustomAnalyticsEvent(M.GLANCE_GAME_START,{});return}let s;const i={score:0,highScore:e};t!==-1e5?s={...i,level:t}:s=i,window.sendCustomAnalyticsEvent(M.GLANCE_GAME_REPLAY,s)}processGameLevel(e){window.sendCustomAnalyticsEvent(M.GLANCE_GAME_LEVEL,{level:e})}processPageView(e){}processLevelStart(e){if(!this.isGamePlaying){const t=window.game.player.getBestScore();this.processGameStart(t,e),this.isGamePlaying=!0}this.isGamePlaying&&this.processGameLevel(e)}processLevelFail(e,t){if(this.isGamePlaying){if(t!=null){const s=t||0,i=window.game.player.getBestScore(),o=Math.max(i,s);this.processGameEnd(s,o,e)}else this.processGameEnd(void 0,void 0,e);this.isGamePlaying=!1}}processLevelComplete(e,t){const s=t||0;window.sendCustomAnalyticsEvent(M.GLANCE_GAME_LEVEL_COMPLETED,{level:e,score:s})}processShowRewardedVideoAd(e){}processGameMilestone(e,t={},s=0,i=0){const o=window.game.player.getBestScore();sendCustomAnalyticsEvent(M.GLANCE_GAME_MILESTONE,{type:e,meta:t,level:s,score:i,highScore:Math.max(o,i)})}processGameLifeEnd(e,t=0,s=0){const i=window.game.player.getBestScore();sendCustomAnalyticsEvent(M.GLANCE_GAME_LIFE_END,{remainingLife:e,level:t,score:s,highScore:Math.max(i,s)})}processIngameTransactions(e,t={},s=0,i=0){const o=window.game.player.getBestScore();sendCustomAnalyticsEvent(M.GLANCE_INGAME_TRANSACTIONS,{transactionType:e,meta:t,level:s,score:i,highScore:Math.max(o,i)})}getCurrentGameType(){return"level"}}const le={PLAYING:"playing",DYING:"dying",FINISHED:"finished"},B={TILE_SELECT:"tile_select",COMBO_1:"combo_1",COLLECT_STARS:"collect_stars",INVALID_MATCH:"invalid_match",COMBO_2:"combo_2",COMBO_3:"combo_3",COMBO_4:"combo_4",COMBO_5:"combo_5",SHUFFLE_ITEM:"shuffle_item",HINT_ITEM:"hint_item",THREE_STARS:"three_stars",PROGRESS_STAR:"progress_star",BOMB_DEFUSE:"bomb_defuse",ROCKET_FLY:"rocket_fly",BOMB_EXPLODE_1:"bomb_explode_1",TICKING_BOMB_BEFORE_EXPLODE:"ticking_bomb_before_explode",EXTRA_TILE_SPAWN:"extra_tile_spawn",CLOSE_POPUP_CLICK:"close_popup_click",GENERAL_BUTTON_CLICK:"use_item_click",CLICKS:"clicks",GIFT_CHARGE:"gift_charge",GIFT_EXPLODE:"gift_explode",GIFT_REVEAL:"gift_reveal",DAILY_REWARD:"daily_reward",LEVEL_START:"level_start",LEVEL_COMPLETE:"level_complete",LEVEL_FAIL:"level_fail",RESCUE_TIMER:"rescue_timer"},X=Ii(),w={TUTORIAL:{KEY:"tutorial-resources",TEXTURE:`./assets/textures/${X}x/tutorial-resources.png`,JSON:`./assets/textures/${X}x/tutorial-resources.json`,FRAME:{HAND:"hand",BLANK:"blank",BOMB:"bomb",GUIDE_TILE1:"guide-tile1",GUIDE_TILE2:"guide-tile2",GUIDE_TILE3:"guide-tile3",GUIDE_TILE4:"guide-tile4",GUIDE_TILE5:"guide-tile5",LEAF_LEFT:"leaf-left",LEAF_RIGHT:"leaf-right",ROCKET:"rocket",TEXT_FAILED:"text-failed",TEXT_FAILED_RU:"text-failed-ru",TEXT_FAILED_JA:"text-failed-ja",TEXT_FAILED_ID:"text-failed-id",TEXT_GOOD:"text-good",TEXT_GOOD_RU:"text-good-ru",TEXT_GOOD_JA:"text-good-ja",TEXT_GOOD_ID:"text-good-id",TILE_BG:"tile-bg",CROSS_WRONG:"cross-wrong",DOT_WRONG:"dot-wrong",LINE_WRONG:"line-wrong"}},DEFAULT:{KEY:"default-resources",TEXTURE:`./assets/textures/${X}x/default-resources.png`,JSON:`./assets/textures/${X}x/default-resources.json`,FRAME:{BLANK:"blank",PRELOADER:"preloader/loading",LOGO_GIFT:"logo/gift",LOGO_GIFT_ADS:"logo/gift-ad",LOGO_GIFT_WHITE:"logo/gift_white",POPUP:"popup/popup",PROGRESS_CIRCLE_BG:"progress/circle-background",PROGRESS_CIRCLE:"progress/progress-circle",ICON_ADS:"icons/ads",ICON_LOSE:"icons/lose",ICON_BOMB:"icons/bomb",ICON_TIMEOUT_CLOCK:"icons/timeout-clock",ICON_CLOCK:"icons/clock",ICON_MUSIC_ON:"icons/music-on",ICON_MUSIC_OFF:"icons/music-off",ICON_SOUND_ON:"icons/sound-on",ICON_SOUND_OFF:"icons/sound-off",ICON_VIBRATE_ON:"icons/vibrate-on",ICON_VIBRATE_OFF:"icons/vibrate-off",ICON_CONTINUE:"icons/continue",ICON_RESTART:"icons/restart",ICON_INVITE:"icons/invite",ICON_X:"icons/x",BUTTON_CLOSE:"buttons/close",BUTTON_GREEN:"buttons/green",BUTTON_GREEN_SMALL:"buttons/green-small",BUTTON_GREEN_SMALL_BG:"buttons/green-small-bg",BUTTON_ORANGE:"buttons/orange",BUTTON_GREEN_ROUNDED_RECT:"buttons/green-rounded-rect",BUTTON_YELLOW_ROUNDED_RECT:"buttons/yellow-rounded-rect",BUTTON_BLUE_ROUNDED_RECT:"buttons/blue-rounded-rect",BUTTON_RED_CIRCLE:"buttons/red-circle",BUTTON_BG:"buttons/button-bg",BOOM:"texts/boom",GET_AND_CONTINUE:"texts/get-and-continue",ROCKET:"texts/rocket",VICTORY:"texts/victory",X2:"texts/x2",FAILED_TEXT:"texts/text-failed",NO_THANK_TEXT:"texts/no-thank",CONTINUE_TEXT:"texts/text-continue",REPLAY_TEXT:"texts/text-replay",PAUSE_TEXT:"texts/text-pause",BOOM_RU:"texts/russian/boom",GET_AND_CONTINUE_RU:"texts/russian/get-and-continue",ROCKET_RU:"texts/russian/rocket",VICTORY_RU:"texts/russian/victory",FAILED_TEXT_RU:"texts/russian/text-failed",CONTINUE_RU:"texts/russian/text-continue",REPLAY_RU:"texts/russian/text-replay",PAUSE_TEXT_RU:"texts/russian/text-pause",BOOM_JA:"texts/japanese/boom",GET_AND_CONTINUE_JA:"texts/japanese/get-and-continue",ROCKET_JA:"texts/japanese/rocket",VICTORY_JA:"texts/japanese/victory",FAILED_TEXT_JA:"texts/japanese/text-failed",CONTINUE_JA:"texts/japanese/text-continue",REPLAY_JA:"texts/japanese/text-replay",PAUSE_TEXT_JA:"texts/japanese/text-pause",BOOM_ID:"texts/indonesian/boom",GET_AND_CONTINUE_ID:"texts/indonesian/get-and-continue",ROCKET_ID:"texts/indonesian/rocket",VICTORY_ID:"texts/indonesian/victory",FAILED_TEXT_ID:"texts/indonesian/text-failed",CONTINUE_ID:"texts/indonesian/text-continue",REPLAY_ID:"texts/indonesian/text-replay",PAUSE_TEXT_ID:"texts/indonesian/text-pause",BOOM_PT:"texts/portuguese/boom",GET_AND_CONTINUE_PT:"texts/portuguese/get-and-continue",ROCKET_PT:"texts/portuguese/rocket",VICTORY_PT:"texts/portuguese/victory",FAILED_TEXT_PT:"texts/portuguese/text-failed",CONTINUE_PT:"texts/portuguese/text-continue",REPLAY_PT:"texts/portuguese/text-replay",PAUSE_TEXT_PT:"texts/portuguese/text-pause",BOOM_ES:"texts/spanish/boom",GET_AND_CONTINUE_ES:"texts/spanish/get-and-continue",ROCKET_ES:"texts/spanish/rocket",VICTORY_ES:"texts/spanish/victory",FAILED_TEXT_ES:"texts/spanish/text-failed",CONTINUE_ES:"texts/spanish/text-continue",REPLAY_ES:"texts/spanish/text-replay",PAUSE_TEXT_ES:"texts/spanish/text-pause",BOOM_IT:"texts/italian/boom",GET_AND_CONTINUE_IT:"texts/italian/get-and-continue",ROCKET_IT:"texts/italian/rocket",VICTORY_IT:"texts/italian/victory",FAILED_TEXT_IT:"texts/italian/text-failed",CONTINUE_IT:"texts/italian/text-continue",REPLAY_IT:"texts/italian/text-replay",PAUSE_TEXT_IT:"texts/italian/text-pause",BOOM_DE:"texts/german/boom",GET_AND_CONTINUE_DE:"texts/german/get-and-continue",ROCKET_DE:"texts/german/rocket",VICTORY_DE:"texts/german/victory",FAILED_TEXT_DE:"texts/german/text-failed",CONTINUE_DE:"texts/german/text-continue",REPLAY_DE:"texts/german/text-replay",PAUSE_TEXT_DE:"texts/german/text-pause",BOOM_FR:"texts/french/boom",GET_AND_CONTINUE_FR:"texts/french/get-and-continue",ROCKET_FR:"texts/french/rocket",VICTORY_FR:"texts/french/victory",FAILED_TEXT_FR:"texts/french/text-failed",CONTINUE_FR:"texts/french/text-continue",REPLAY_FR:"texts/french/text-replay",PAUSE_TEXT_FR:"texts/french/text-pause",BOOM_TR:"texts/turkish/boom",GET_AND_CONTINUE_TR:"texts/turkish/get-and-continue",ROCKET_TR:"texts/turkish/rocket",VICTORY_TR:"texts/turkish/victory",FAILED_TEXT_TR:"texts/turkish/text-failed",CONTINUE_TR:"texts/turkish/text-continue",REPLAY_TR:"texts/turkish/text-replay",PAUSE_TEXT_TR:"texts/turkish/text-pause",BOOM_ZH:"texts/chinese/boom",GET_AND_CONTINUE_ZH:"texts/chinese/get-and-continue",ROCKET_ZH:"texts/chinese/rocket",VICTORY_ZH:"texts/chinese/victory",FAILED_TEXT_ZH:"texts/chinese/text-failed",CONTINUE_ZH:"texts/chinese/text-continue",REPLAY_ZH:"texts/chinese/text-replay",PAUSE_TEXT_ZH:"texts/chinese/text-pause",DAILY_REWARDS_TITLE:"texts/text-daily-rewards",ART_BG_LIGHT:"art/bg-light",ART_WHITE_GLOW:"art/white-glow",RESULT_RIBBON:"result-screen/ribbon",RESULT_STAR:"result-screen/star",RESULT_VICTORY_TEXT:"result-screen/victory-text"}},EFFECTS:{KEY:"effects-resources",PATH:`./assets/textures/${X}x/`,JSON:`./assets/textures/${X}x/effects-resources.json`,FRAME:{BLANK:"blank",CAPTURE_PATH_START:"capture-path/capture-path-start",CAPTURE_PATH_MIDDLE:"capture-path/capture-path-middle",CAPTURE_PATH_END:"capture-path/capture-path-end",POLISH_EFFECT:"polish-effect/polish-effect-",ROCKET_TAIL:"rocket-tail-effect/fire-explosive-",COMBO_EFFECT_PARTICLE:"combo-effect/combo-particle",WHITE_SMOKE:"big-rocket-tail-effect/white-smoke",YELLOW_SMOKE:"big-rocket-tail-effect/yellow-smoke",FX_COMET:"comet",FX_COMET_DARK:"comet-dark",FX_SPARK:"spark",FX_CIRCLE:"circle",FX_HINT_GLOW:"hint-glow",FX_STAR_WHITE:"star-white",FX_STAR_YELLOW:"star-yellow",FX_STAR_YELLOW_DARK:"star-yellow-dark",TEXT_GOOD:"texts/good",TEXT_GOOD_LIGHT:"texts/good-light",TEXT_GREAT:"texts/great",TEXT_GREAT_LIGHT:"texts/great-light",TEXT_EXCELLENT:"texts/excellent",TEXT_EXCELLENT_LIGHT:"texts/excellent-light",TEXT_UNBELIEVABLE:"texts/unbelievable",TEXT_UNBELIEVABLE_LIGHT:"texts/unbelievable-light",TEXT_GOOD_RU:"texts/russian/good-ru",TEXT_GREAT_RU:"texts/russian/great-ru",TEXT_EXCELLENT_RU:"texts/russian/excellent-ru",TEXT_UNBELIEVABLE_RU:"texts/russian/unbelievable-ru",TEXT_GOOD_JA:"texts/japanese/good-ja",TEXT_GREAT_JA:"texts/japanese/great-ja",TEXT_EXCELLENT_JA:"texts/japanese/excellent-ja",TEXT_UNBELIEVABLE_JA:"texts/japanese/unbelievable-ja",TEXT_GOOD_PT:"texts/portuguese/good-pt",TEXT_GREAT_PT:"texts/portuguese/great-pt",TEXT_EXCELLENT_PT:"texts/portuguese/excellent-pt",TEXT_UNBELIEVABLE_PT:"texts/portuguese/unbelievable-pt",TEXT_GOOD_ID:"texts/indonesian/good-id",TEXT_GREAT_ID:"texts/indonesian/great-id",TEXT_EXCELLENT_ID:"texts/indonesian/excellent-id",TEXT_UNBELIEVABLE_ID:"texts/indonesian/unbelievable-id",TEXT_GOOD_ES:"texts/spanish/good-es",TEXT_GREAT_ES:"texts/spanish/great-es",TEXT_EXCELLENT_ES:"texts/spanish/excellent-es",TEXT_UNBELIEVABLE_ES:"texts/spanish/unbelievable-es",TEXT_GOOD_FR:"texts/french/good-fr",TEXT_GREAT_FR:"texts/french/great-fr",TEXT_EXCELLENT_FR:"texts/french/excellent-fr",TEXT_UNBELIEVABLE_FR:"texts/french/unbelievable-fr",TEXT_GOOD_DE:"texts/german/good-de",TEXT_GREAT_DE:"texts/german/great-de",TEXT_EXCELLENT_DE:"texts/german/excellent-de",TEXT_UNBELIEVABLE_DE:"texts/german/unbelievable-de",TEXT_GOOD_IT:"texts/italian/good-it",TEXT_GREAT_IT:"texts/italian/great-it",TEXT_EXCELLENT_IT:"texts/italian/excellent-it",TEXT_UNBELIEVABLE_IT:"texts/italian/unbelievable-it",TEXT_GOOD_TR:"texts/turkish/good-tr",TEXT_GREAT_TR:"texts/turkish/great-tr",TEXT_EXCELLENT_TR:"texts/turkish/excellent-tr",TEXT_UNBELIEVABLE_TR:"texts/turkish/unbelievable-tr",TEXT_GOOD_ZH:"texts/chinese/good-zh",TEXT_GREAT_ZH:"texts/chinese/great-zh",TEXT_EXCELLENT_ZH:"texts/chinese/excellent-zh",TEXT_UNBELIEVABLE_ZH:"texts/chinese/unbelievable-zh",FX_CONFETTI_SMALL_1:"confetti/small-1",FX_CONFETTI_SMALL_2:"confetti/small-2",FX_CONFETTI_SMALL_3:"confetti/small-3",FX_CONFETTI_SMALL_4:"confetti/small-4",FX_CONFETTI_HEXAGON:"confetti/hexagon-",EFFECT_BOMB_DEFUSE:"bomb-defuse/bomb-defuse-",EFFECT_BOMB_EXPLOSION:"bomb-explosion/bomb-explosion-",EFFECT_ROCKET_EXPLOSION:"rocket-explosion/rocket-explosion-",FX_HIGHLIGHT:"fx-items/highlight",ANIMATION_STAR_X:"star-x/star-",ANIMATION_STAR_Y:"star-y/star-",PREFIX_ANIMATION_RIBBON_CONFETTI_A:"ribbon/falling-confetti/confetti-a/confetti-a-",PREFIX_ANIMATION_RIBBON_CONFETTI_B:"ribbon/falling-confetti/confetti-b/confetti-b-",PREFIX_ANIMATION_RIBBON_CONFETTI_C:"ribbon/falling-confetti/confetti-c/confetti-c-",PREFIX_ANIMATION_RIBBON_CONFETTI_D:"ribbon/falling-confetti/confetti-d/confetti-d-"}},GAMEPLAY:{KEY:"gameplay-resources",PATH:`./assets/textures/${X}x/`,JSON:`./assets/textures/${X}x/gameplay-resources.json`,FRAME:{BLANK:"blank",LAYOUT_HEADER:"layout/header",LAYOUT_FOOTER:"layout/footer",LAYOUT_HEADER_LEFT:"layout/landscape-header-left",LAYOUT_HEADER_RIGHT:"layout/landscape-header-right",LAYOUT_HEADER_MIDDLE:"layout/landscape-header-middle",BUTTON_WOOD_SMALL:"buttons/wood-small",BUTTON_YELLOW_CIRCLE:"buttons/yellow-circle",TIMER_BG:"timer/bg",DEV_TOOL_ARROW:"dev-tool/arrow",DEV_TOOL_RESET:"dev-tool/reset",DEV_TOOL_BOMB:"dev-tool/bomb",DEV_TOOL_CLOCK:"dev-tool/clock",DEV_TOOL_HAND:"dev-tool/hand",DEV_TOOL_NEW_GAME:"dev-tool/new-game",PROGRESS_BAR_LEFT:"progress/bar-left",PROGRESS_BAR_MID:"progress/bar-mid",PROGRESS_BAR_RIGHT:"progress/bar-right",PROGRESS_STAR:"progress/bar-star",PROGRESS_BG_COMBO:"progress/bg-combo",PROGRESS_BAR_COMBO:"progress/bar-combo",ITEM_SHUFFLE:"items/shuffle",HINT_ITEM:"items/hint",ROCKET_ITEM:"items/rocket",DEFUSE_ITEM:"items/defuse",ITEM_SHARE:"items/share",ITEM_BG_ITEM:"items/bg-item",ITEM_BG_AMOUNT:"items/bg-amount",ITEM_SHUFFLE_LOCK:"items/shuffle-lock",ITEM_HINT_LOCK:"items/hint-lock",ITEM_ROCKET_LOCK:"items/rocket-lock",ITEM_DEFUSE_LOCK:"items/defuse-lock",ITEM_BG_LOCK:"items/bg-item-lock",NOTE_LOCK:"items/note-lock",NOTE_INVITE:"items/note-invite",NOTE_FREE:"items/note-free",NOTE_FREE_LONG:"items/note-free-long",BOTTOM_TILE_FRAGMENT:"effect/bottom-tile-fragment",LEF_TILE_FRAGMENT:"effect/left-tile-fragment",RIGHT_TILE_FRAGMENT:"effect/right-tile-fragment",TOP_TILE_FRAGMENT:"effect/top-tile-fragment",EFFECT_SPARK:"effect/spark",EFFECT_LONG_ROCKET:"effect/long-rocket",EFFECT_SHORT_ROCKET:"effect/short-rocket",EFFECT_CIRCLE:"effect/circle",EFFECT_TRAIL_STAR:"effect/trail-star",EFFECT_TILE_ROCKET:"effect/tile-rocket",EFFECT_TILE_HIGHLIGHT:"effect/tile-highlight/highlight-",EFFECT_TILE_OUTLINE:"effect/tile-select-bg",HINT_LINE_DOT:"effect/hint-line-dot",ICON_CLOCK:"icons/clock",ICON_BOMB:"icons/bomb",ICON_STAR_BIG:"icons/star-big",ICON_PAUSE:"icons/pause",TILE_BOMB:"blank",TILE_ROCKET:"tiles/rocket",TILE_BG:"tiles/tile-bg"}},TILES:{BIRD:{KEY:"bird-resources",TEXTURE:`./assets/textures/${X}x/bird-resources.png`,JSON:`./assets/textures/${X}x/bird-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:28}},CAKE:{KEY:"cake-resources",TEXTURE:`./assets/textures/${X}x/cake-resources.png`,JSON:`./assets/textures/${X}x/cake-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:28}},FRUIT:{KEY:"fruit-resources",TEXTURE:`./assets/textures/${X}x/fruit-resources.png`,JSON:`./assets/textures/${X}x/fruit-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:28}},CANDY:{KEY:"candy-resources",TEXTURE:`./assets/textures/${X}x/candy-resources.png`,JSON:`./assets/textures/${X}x/candy-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:28}},FLOWER:{KEY:"flower-resources",TEXTURE:`./assets/textures/${X}x/flower-resources.png`,JSON:`./assets/textures/${X}x/flower-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:44}},UMBRELLA:{KEY:"umbrella-resources",TEXTURE:`./assets/textures/${X}x/umbrella-resources.png`,JSON:`./assets/textures/${X}x/umbrella-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:30}},FOOD:{KEY:"food-resources",TEXTURE:`./assets/textures/${X}x/food-resources.png`,JSON:`./assets/textures/${X}x/food-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:30}}}},{EFFECTS:Ee,GAMEPLAY:Co}=w,{KEY:at,FRAME:rt}=Ee,F={CONFETTI_STAR_X:{KEY:"confetti-star-x",TEXTURE:at,PREFIX:rt.ANIMATION_STAR_X,FRAME_RATE:4,END:4,ZERO_PAD:0},CONFETTI_STAR_Y:{KEY:"confetti-star-y",TEXTURE:at,PREFIX:rt.ANIMATION_STAR_Y,FRAME_RATE:4,END:4,ZERO_PAD:0},RIBBON_A:{KEY:"animation-ribbon-a",TEXTURE:at,PREFIX:rt.PREFIX_ANIMATION_RIBBON_CONFETTI_A,FRAME_RATE:16,END:3,ZERO_PAD:0},RIBBON_B:{KEY:"animation-ribbon-b",TEXTURE:at,PREFIX:rt.PREFIX_ANIMATION_RIBBON_CONFETTI_B,FRAME_RATE:16,END:4,ZERO_PAD:0},RIBBON_C:{KEY:"animation-ribbon-c",TEXTURE:at,PREFIX:rt.PREFIX_ANIMATION_RIBBON_CONFETTI_C,FRAME_RATE:16,END:4,ZERO_PAD:0},RIBBON_D:{KEY:"animation-ribbon-d",TEXTURE:at,PREFIX:rt.PREFIX_ANIMATION_RIBBON_CONFETTI_D,FRAME_RATE:16,END:4,ZERO_PAD:0},POLISH_EFFECT:{KEY:"polish-effect-animation",TEXTURE:Ee.KEY,PREFIX:Ee.FRAME.POLISH_EFFECT,FRAME_RATE:30,END:5,ZERO_PAD:1},BOMB_EXPLOSION:{KEY:"bomb-explosion-animation",TEXTURE:Ee.KEY,PREFIX:Ee.FRAME.EFFECT_BOMB_EXPLOSION,FRAME_RATE:16,END:8,ZERO_PAD:1},BOMB_DEFUSE:{KEY:"bomb-defuse-animation",TEXTURE:Ee.KEY,PREFIX:Ee.FRAME.EFFECT_BOMB_DEFUSE,FRAME_RATE:16,END:8,ZERO_PAD:1},ROCKET_EXPLOSION:{KEY:"rocket-explosion-animation",TEXTURE:Ee.KEY,PREFIX:Ee.FRAME.EFFECT_ROCKET_EXPLOSION,FRAME_RATE:16,END:8,ZERO_PAD:1},ROCKET_TAIL:{KEY:"rocket-tail-animation",TEXTURE:Ee.KEY,PREFIX:Ee.FRAME.ROCKET_TAIL,FRAME_RATE:60,END:70,ZERO_PAD:1},TILE_HIGHLIGHT:{KEY:"tile-highlight-animation",TEXTURE:Co.KEY,PREFIX:Co.FRAME.EFFECT_TILE_HIGHLIGHT,FRAME_RATE:31,END:31,ZERO_PAD:1}},Qm={STATUS:{READY:"ready",RUNNING:"running",STOPPED:"stopped"}},{STATUS:nt}=Qm;class Pe{state;scene;constructor(e){this.scene=e}init(){this.setState(nt.READY)}start(){this.isRunning()||this.setState(nt.RUNNING)}stop(){this.isRunning()&&this.setState(nt.STOPPED)}setState(e){this.state=e}isReady(){return this.state===nt.READY}isRunning(){return this.state===nt.RUNNING}isStopped(){return this.state===nt.STOPPED}}const{KEY:Jm,TEXTURE:eu,FRAME_RATE:tu,END:su,PREFIX:iu,ZERO_PAD:ou}=F.BOMB_DEFUSE;class au extends Phaser.Animations.Animation{constructor(e){const t={repeat:0,frameRate:tu,frames:e.generateFrameNames(eu,{prefix:iu,end:su,zeroPad:ou}),showOnStart:!0,hideOnComplete:!0,skipMissedFrames:!0};super(e,Jm,t)}}const{KEY:ru,TEXTURE:nu,FRAME_RATE:lu,END:cu,PREFIX:du,ZERO_PAD:mu}=F.BOMB_EXPLOSION;class uu extends Phaser.Animations.Animation{constructor(e){const t={repeat:0,frameRate:lu,frames:e.generateFrameNames(nu,{prefix:du,end:cu,zeroPad:mu}),showOnStart:!0,hideOnComplete:!0,skipMissedFrames:!0};super(e,ru,t)}}const{KEY:hu,TEXTURE:fu,FRAME_RATE:pu,END:bu,PREFIX:gu,ZERO_PAD:Tu}=F.POLISH_EFFECT;class wu extends Phaser.Animations.Animation{constructor(e){const t={repeat:0,frameRate:pu,frames:e.generateFrameNames(fu,{prefix:gu,end:bu,zeroPad:Tu}),showOnStart:!0,hideOnComplete:!0,skipMissedFrames:!0};super(e,hu,t)}}const{KEY:Eu,TEXTURE:vu,FRAME_RATE:Pu,END:yu,PREFIX:Su,ZERO_PAD:ku}=F.ROCKET_EXPLOSION;class xu extends Phaser.Animations.Animation{constructor(e){const t={repeat:0,frameRate:Pu,frames:e.generateFrameNames(vu,{prefix:Su,end:yu,zeroPad:ku}),showOnStart:!0,hideOnComplete:!0,skipMissedFrames:!0};super(e,Eu,t)}}const{KEY:Ru,TEXTURE:Ou,FRAME_RATE:Au,END:Iu,PREFIX:Mu,ZERO_PAD:Cu}=F.ROCKET_TAIL;class _u extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:Au,frames:e.generateFrameNames(Ou,{prefix:Mu,end:Iu,zeroPad:Cu}),showOnStart:!0,hideOnComplete:!0,skipMissedFrames:!0};super(e,Ru,t)}}const{KEY:Lu,TEXTURE:Du,FRAME_RATE:Nu,END:Gu,PREFIX:Fu,ZERO_PAD:Bu}=F.TILE_HIGHLIGHT;class Uu extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:Nu,frames:e.generateFrameNames(Du,{prefix:Fu,end:Gu,zeroPad:Bu}),showOnStart:!0,hideOnComplete:!0,skipMissedFrames:!0};super(e,Lu,t)}}class Yu extends Pe{scene;moveDuration=500;isMoveTilesCompleted;pairWrongTween;constructor(e){super(e),this.scene=e,this.isMoveTilesCompleted=!0,this.createAnimations()}createAnimations(){const{POLISH_EFFECT:e,BOMB_EXPLOSION:t,BOMB_DEFUSE:s,ROCKET_EXPLOSION:i,ROCKET_TAIL:o,TILE_HIGHLIGHT:r}=F,n=new _u(this.scene.anims),l=new au(this.scene.anims),c=new wu(this.scene.anims),d=new uu(this.scene.anims),m=new xu(this.scene.anims),h=new Uu(this.scene.anims);this.scene.anims.add(s.KEY,l),this.scene.anims.add(o.KEY,n),this.scene.anims.add(e.KEY,c),this.scene.anims.add(t.KEY,d),this.scene.anims.add(i.KEY,m),this.scene.anims.add(r.KEY,h)}startBoard(e){const{boardManager:t,levelHandler:s}=this.scene,{rows:i,columns:o}=s.getConfigs(),r=t.getTileSize()+1,n=t.boardMap[1][1],l=n.x+r*(o-1)/2,c=n.y+r*(i-1)/2,d=l,m=c,h=[],p=600,b=p/e.length;return e.forEach(P=>{const{x:v,y:g,scale:T}=P;h.push({x:v,y:g,scale:T}),P.setX(d),P.setY(m),P.setAlpha(0),P.setScale(0)}),this.scene.tweens.add({targets:e,duration:p,props:{y:{value:{getEnd:(P,v,g,T)=>h[T].y},duration:p-p/12},x:{value:{getEnd:(P,v,g,T)=>h[T].x},duration:p-p/5},scale:{value:{getEnd:(P,v,g,T)=>h[T].scale},delay:0},alpha:{value:1,duration:p-100}},delay:(P,v,g,T)=>{const A=Phaser.Math.RND.between(0,b*T/2);return b*T-A}})}pairWrong(e,t=2){if(this.pairWrongTween?.remove(),t<1)return;const s=Math.random()*3-3,i={x:`+=${s}`,y:`-=${s}`},o={targets:e,duration:30,yoyo:!0,props:i,ease:Phaser.Math.Easing.Expo.Out};this.pairWrongTween=this.scene.add.tween({...o,onComplete:()=>{i.x=`-=${s}`,i.y=`+=${s}`,this.pairWrongTween=this.scene.add.tween({...o,onComplete:()=>{this.pairWrong(e,t-1)}})}})}capturing(e){e.forEach((t,s)=>{t.explosive(s)})}moveRows(e,t=0,s){const{tile:i,fromRow:o,toRow:r}=e;if(!o||!r)return;this.isMoveTilesCompleted=!1,this.updateNextState(i);const n=this.scene.boardManager.getTileSize()+1,l=r*n-o*n,d=i.y+l;i.nextY=d,this.scene.tweens.add({targets:[i],delay:t,duration:s||this.moveDuration,completeDelay:300,ease:Phaser.Math.Easing.Quartic.InOut,props:{y:d},onUpdate:()=>{this.isMoveTilesCompleted=!1},onStop:()=>{i.setY(d),i.nextY=null},onComplete:()=>{i.nextY=null,this.isMoveTilesCompleted=!0}})}moveColumns(e,t=0,s){const{tile:i,fromColumn:o,toColumn:r}=e;if(!o||!r)return;this.isMoveTilesCompleted=!1,this.updateNextState(i);const n=this.scene.boardManager.getTileSize()+1,l=r*n-o*n,d=i.x+l;i.nextX=d,this.scene.tweens.add({targets:[i],delay:t,duration:s||this.moveDuration,completeDelay:300,ease:Phaser.Math.Easing.Quartic.InOut,props:{x:d},onUpdate:()=>{this.isMoveTilesCompleted=!1},onStop:()=>{i.setX(d),i.nextX=null},onComplete:()=>{i.nextX=null,this.isMoveTilesCompleted=!0}})}updateNextState(e){this.scene.tweens.getTweensOf(e).forEach(t=>{t.stop(1),e.nextX&&e.setX(e.nextX),e.nextY&&e.setX(e.nextY),e.nextX=null,e.nextY=null}),this.scene.tweens.killTweensOf(e)}}const Hu={BOMB:"bomb",ROCKET:"rocket",EMPTY:"empty"},N={SIZE:37,STATUS:{READY:"ready",MOVING:"moving",CAPTURING:"capturing",CAPTURED:"captured"},EVENTS:{NEXT_TURN:"next-turn",CAPTURING:"capturing",INTERACTION:"interaction",NO_PATH_FOUND:"no-path-found",ROCKET_EXPLODE:"rocket-explode",FIRST_INTERACTION:"first-interaction"},SPECIALS:Hu,HASH:{1:"t01",2:"t02",3:"t03",4:"t04",5:"t05",6:"t06",7:"t07",8:"t08",9:"t09",10:"t10",11:"t11",12:"t12",13:"t13",14:"t14",15:"t15",16:"t16",17:"t17",empty:"i01",rocket:"i02"}};class Ku{scene;tileSize;constructor(e){this.scene=e,this.tileSize=0}getTileSize(){return this.tileSize===0?N.SIZE:this.tileSize}calculateTileSize(){this.tileSize=0;const{rows:e,columns:t}=this.scene.levelHandler.getConfigs(),{width:s,height:i}=this.scene.gameZone,{height:o}=this.scene.layoutManager.objects.footerBG,{height:r}=this.scene.layoutManager.objects.headerBG,n=.5+e+.5,l=.5+t+.5,c=s,d=i-o-r,m=Math.floor(c/l),h=Math.floor(d/n);this.tileSize=Math.min(m,h,65)}}const C={BACKGROUND:1,FIREWORKS:5,ITEM:10,LOGO:15,BUTTON:20,TILE:25,TEXT:30,EFFECT:32,BOMB:34,ROCKET:35,ENCOURAGING:38,MESSAGE:40,POPUP:45,PRIORITY:80,DEBUG:90,ON_TOP:1e4},$t={STATUS:{READY:"ready",RUNNING:"running",STOPPED:"stopped"}},Wu=35,zu=3;class kr extends Phaser.GameObjects.Graphics{tileSize;rectRadius;topLeftCurve;topRightCurve;bottomRightCurve;bottomLeftCurve;constructor(e,t,s){super(e),this.tileSize=t||Wu,this.rectRadius=s||zu,this.setDepth(C.TILE+1),this.createCurves(),this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.update),this.scene.add.existing(this)}createCurves(){const e=this.rectRadius,t=this.tileSize,s=t-2*e;this.topRightCurve=new Phaser.Curves.QuadraticBezier(new Phaser.Math.Vector2(s/2,-t/2),new Phaser.Math.Vector2(t/2,-t/2),new Phaser.Math.Vector2(t/2,-s/2)),this.topLeftCurve=new Phaser.Curves.QuadraticBezier(new Phaser.Math.Vector2(-t/2,-s/2),new Phaser.Math.Vector2(-t/2,-t/2),new Phaser.Math.Vector2(-s/2,-t/2)),this.bottomLeftCurve=new Phaser.Curves.QuadraticBezier(new Phaser.Math.Vector2(-s/2,t/2),new Phaser.Math.Vector2(-t/2,t/2),new Phaser.Math.Vector2(-t/2,s/2)),this.bottomRightCurve=new Phaser.Curves.QuadraticBezier(new Phaser.Math.Vector2(t/2,s/2),new Phaser.Math.Vector2(t/2,t/2),new Phaser.Math.Vector2(s/2,t/2))}stop(){this.clear(),this.scene.events.off(Phaser.Scenes.Events.UPDATE,this.update)}drawCountdown(e,t){const s=this.tileSize,i=this.rectRadius,o=s-2*i,r=Math.atan(o/s),n=Math.PI/2-2*r;let c=e/t*2*Math.PI;if(this.clear(),this.lineStyle(0,0,1),this.fillStyle(0,.25),c!==0){if(c===Math.PI*2){this.fillRoundedRect(-s/2,-s/2,s,s,i);return}if(this.beginPath(),this.moveTo(0,0),this.lineTo(0,-s/2),c>r)this.lineTo(o/2,-s/2),c-=r;else{this.lineTo(Math.tan(c)*s/2,-s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),c>n)this.slice(o/2,-o/2,i,-Math.PI/2,0,!1),c-=n,this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(o/2,-s/2),this.lineTo(o/2,-o/2),this.lineTo(s/2,-o/2),this.lineTo(0,0),this.closePath(),this.fillPath();else{const d=c/n;this.beginPath(),this.arc(o/2,-o/2,i,-Math.PI/2,-Math.PI/2+d*Math.PI/2,!1),this.fillPath();const m=this.topRightCurve.getPoint(d);this.beginPath(),this.moveTo(0,0),this.lineTo(o/2,-s/2),this.lineTo(m.x,m.y),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.beginPath(),this.moveTo(0,0),this.lineTo(s/2,-o/2),c>r)this.lineTo(s/2,0),c-=r;else{this.lineTo(s/2,-o/2- -Math.tan(c)*s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(s/2,0),c>r)this.lineTo(s/2,o/2),c-=r;else{this.lineTo(s/2,Math.tan(c)*s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),c>n)this.slice(o/2,o/2,i,0,Math.PI/2,!1),c-=n,this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(s/2,o/2),this.lineTo(o/2,o/2),this.lineTo(o/2,s/2),this.lineTo(0,0),this.closePath(),this.fillPath();else{const d=c/n;this.beginPath(),this.arc(o/2,o/2,i,0,d*Math.PI/2,!1),this.fillPath();const m=this.bottomRightCurve.getPoint(d);this.beginPath(),this.moveTo(0,0),this.lineTo(s/2,o/2),this.lineTo(m.x,m.y),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.beginPath(),this.moveTo(0,0),this.lineTo(o/2,s/2),c>r)this.lineTo(0,s/2),c-=r;else{this.lineTo(o/2-Math.tan(c)*s/2,s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(0,s/2),c>r)this.lineTo(-o/2,s/2),c-=r;else{this.lineTo(-Math.tan(c)*s/2,s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),c>n)this.slice(-o/2,o/2,i,Math.PI/2,Math.PI,!1),c-=n,this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(-o/2,s/2),this.lineTo(-o/2,o/2),this.lineTo(-s/2,o/2),this.lineTo(0,0),this.closePath(),this.fillPath();else{const d=c/n;this.beginPath(),this.arc(-o/2,o/2,i,Math.PI/2,Math.PI/2+d*Math.PI/2,!1),this.fillPath();const m=this.bottomLeftCurve.getPoint(d);this.beginPath(),this.moveTo(0,0),this.lineTo(-o/2,s/2),this.lineTo(m.x,m.y),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.beginPath(),this.moveTo(0,0),this.lineTo(-s/2,o/2),c>r)this.lineTo(-s/2,0),c-=r;else{this.lineTo(-s/2,o/2-Math.tan(c)*s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(-s/2,0),c>r)this.lineTo(-s/2,-o/2),c-=r;else{this.lineTo(-s/2,-Math.tan(c)*s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),c>n)this.slice(-o/2,-o/2,i,Math.PI,3*Math.PI/2,!1),c-=n,this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(-s/2,-o/2),this.lineTo(-o/2,-o/2),this.lineTo(-o/2,-s/2),this.lineTo(0,0),this.closePath(),this.fillPath();else{const d=c/n;this.beginPath(),this.arc(-o/2,-o/2,i,Math.PI,Math.PI+d*Math.PI/2,!1),this.fillPath();const m=this.topLeftCurve.getPoint(d);this.beginPath(),this.moveTo(0,0),this.lineTo(-s/2,-o/2),this.lineTo(m.x,m.y),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.beginPath(),this.moveTo(0,0),this.lineTo(-o/2,-s/2),c>r)this.lineTo(0,-s/2),c-=r;else{this.lineTo(-o/2- -Math.tan(c)*s/2,-s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}this.lineTo(0,0),this.closePath(),this.fillPath()}}}class fe{scene;config;isStarted;tween;constructor(e,t){if(t.targets.length<1)return;this.buildConfig(e,t);const{scene:s}=this.config.targets[0];s&&(this.scene=s,this.isStarted=!1,this.tween=s.tweens.create(this.config))}buildConfig(e,t){this.config=ce(e,t)}play(){if(this.tween){if(this.isStarted&&this.tween.hasStarted){this.restart();return}this.tween.play(),this.isStarted=!0}}restart(){this.tween?.restart()}stop(){this.tween?.stop()}remove(){this.tween?.remove()}next(e){return this.tween?(this.tween.off(Phaser.Tweens.Events.TWEEN_COMPLETE,e),this.tween.once(Phaser.Tweens.Events.TWEEN_COMPLETE,e),this.tween):null}}var Vu=4,ju=.001,$u=1e-7,Xu=10,Bt=11,is=1/(Bt-1),Zu=typeof Float32Array=="function";function xr(a,e){return 1-3*e+3*a}function Rr(a,e){return 3*e-6*a}function Or(a){return 3*a}function Rs(a,e,t){return((xr(e,t)*a+Rr(e,t))*a+Or(e))*a}function Ar(a,e,t){return 3*xr(e,t)*a*a+2*Rr(e,t)*a+Or(e)}function qu(a,e,t,s,i){var o,r,n=0;do r=e+(t-e)/2,o=Rs(r,s,i)-a,o>0?t=r:e=r;while(Math.abs(o)>$u&&++n<Xu);return r}function Qu(a,e,t,s){for(var i=0;i<Vu;++i){var o=Ar(e,t,s);if(o===0)return e;var r=Rs(e,t,s)-a;e-=r/o}return e}function Ju(a){return a}var eh=function(e,t,s,i){if(!(0<=e&&e<=1&&0<=s&&s<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&s===i)return Ju;for(var o=Zu?new Float32Array(Bt):new Array(Bt),r=0;r<Bt;++r)o[r]=Rs(r*is,e,s);function n(l){for(var c=0,d=1,m=Bt-1;d!==m&&o[d]<=l;++d)c+=is;--d;var h=(l-o[d])/(o[d+1]-o[d]),p=c+h*is,b=Ar(p,e,s);return b>=ju?Qu(l,p,e,s):b===0?p:qu(l,c,c+is,e,s)}return function(c){return c===0?0:c===1?1:Rs(n(c),t,i)}};const Ir=eh,Ki=Ir(.48,1.57,.6,.83),th={targets:[],duration:400,ease:Ki,props:{scale:"-=0.1"}};class Vt extends fe{constructor(e){super(th,e)}}const sh={targets:[],duration:400,ease:Ki,props:{scale:"+=0.1"}};class ih extends fe{constructor(e){super(sh,e)}}const{KEY:oh,FRAME:_o}=w.GAMEPLAY;class Mr extends Phaser.GameObjects.Particles.ParticleEmitterManager{deathZone;emitter;constructor(e){super(e,oh,_o.EFFECT_SPARK),this.createDeathZone(),this.createEmitters(),this.kill(),this.scene.add.existing(this)}createDeathZone(){this.deathZone=new Phaser.Geom.Circle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:_o.EFFECT_SPARK,speed:{min:100,max:180},scale:{min:e*.5,max:e*.8},alpha:{min:.8,max:1},deathZone:{source:this.deathZone,type:"onLeave"}})}explode(e,t,s,i){this.revive(),this.deathZone.radius=i,this.deathZone.setPosition(t,s),this.emitter.explode(e,t,s)}}class ah extends Mr{explode(e,t,s,i){super.explode(e,t,s,i),this.runParticleTween()}runParticleTween(){let e=0;this.emitter.forEachAlive(t=>{this.scene.tweens.killTweensOf(t),this.scene.tweens.add({targets:[t],duration:400,delay:5*e,ease:Phaser.Math.Easing.Circular.Out,props:{velocityX:t.velocityX/50,velocityY:t.velocityY/50},onComplete:()=>{e++,this.scene.add.tween({targets:[t],duration:800,delay:10*e,ease:Phaser.Math.Easing.Circular.Out,props:{alpha:0,scaleX:0,scaleY:0},onComplete:()=>{t.lifeCurrent=0},onStop:()=>{t.lifeCurrent=0}})}})},this)}}const{GAMEPLAY:Lo,EFFECTS:Do,TILES:No}=w,{STATUS:lt}=N;class Xt extends Phaser.GameObjects.Container{scene;nextX;nextY;scaleUp=1;scaleDown=1;row;column;color;frame;isBreakWhenExplosive;block;icon;polishEffect;explodeParticle;unselectAnimation;selectAnimation;extraSpawnEffect;constructor(e,t,s){super(e,0,0),this.scene=e,s&&(this.color=s),this.nextX=null,this.nextY=null,this.scaleUp=this.scale,this.scaleDown=this.scale*.8,this.isBreakWhenExplosive=!1,this.setDepth(C.TILE),t&&(this.frame=t,this.drawBlock(t)),this.createExplodeParticle(),this.scene.add.existing(this),this.setState(lt.READY)}show(){this.setVisible(!0),this.block.setVisible(!0)}setRow(e){this.row=e}setColumn(e){this.column=e}setIsBreakWhenExplosive(e){this.isBreakWhenExplosive=e}removeEvents(){this.block.off(Phaser.Input.Events.GAMEOBJECT_POINTER_UP,this.handleOnUnselect),this.block.off(Phaser.Input.Events.GAMEOBJECT_POINTER_OUT,this.handleOnUnselect)}createInput(){this.block.off(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handleOnSelect),this.block.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handleOnSelect)}showHighlight(){this.scene.effectManager.playTileHighlightEffect(this),this.scene.boardManager.boardContainer.bringToTop(this)}hideHighlight=()=>{const{effectManager:e}=this.scene;e.getCurrentlyHighlightedTile()===this&&e.stopTileHighlightEffect()};explosive(e){this.scene&&(this.nextX&&this.setX(this.nextX),this.nextY&&this.setY(this.nextY),this.explosiveAnimation())}handleOnSelect=()=>{this.removeEvents(),this.runSelectAnimation()};handleOnUnselect=()=>{this.runUnselectAnimation()};getExplosiveAnimationKey=()=>null;explosiveAnimation(){if(!this.icon||!this.icon.anims)return;if(this.isBreakWhenExplosive){const{effectManager:t}=this.scene;t.playTileBreakEffect(this),this.scene.audio.playSound(B.BOMB_EXPLODE_1),this.onExplosive();return}const e=this.getExplosiveAnimationKey();if(!e){const{x:t,y:s}=this.getWorldPosition();this.explodeParticle.explode(20,t,s,20),this.onExplosive();return}this.icon.once(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{this.onExplosive()}),this.icon.anims.play(e,!0)}onExplosive(){this.hideHighlight(),this.hidePolishEffect(),this.scene.boardManager.boardContainer.bringToTop(this),this.scene.tweens.killTweensOf(this),this.setScale(this.scaleUp),this.scene.tweens.add({targets:[this],duration:200,ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:0},onComplete:()=>{this.removeTile()}})}enableTile(){const e=this.scene.boardManager.getTileSize();this.block.setDisplaySize(e,e),this.icon.setScale(this.block.scale/2),this.revive(),this.setState(lt.READY)}changeDeck(e){const t=e.toUpperCase(),s=No[t].KEY,i=`tile-${this.color}`,o=this.scene.boardManager.getTileSize();this.icon.setTexture(s),this.icon.setFrame(i);const r=this.icon.displayWidth/this.icon.scaleX,n=this.icon.displayHeight/this.icon.scaleY,l=o/r*.85,c=o/n*.85;this.icon.setScale(Math.min(l,c))}removeTile(){if(!this.scene)return;const{tileManager:e}=this.scene;e.removeTile(this)}drawBlock(e){const t=this.scene.boardManager.getTileSize();this.block=this.scene.add.image(0,0,Lo.KEY,Lo.FRAME.TILE_BG),this.block.setDisplaySize(t,t),this.add(this.block);const{currentDeckPrefix:s}=this.scene.tileManager,i=No[s.toUpperCase()].KEY;this.icon=this.scene.make.sprite({key:i,frame:e});const o=this.icon.displayWidth/this.icon.scaleX,r=this.icon.displayHeight/this.icon.scaleY,n=t/o*.85,l=t/r*.85;this.icon.setScale(Math.min(n,l)),this.add(this.icon)}createExplodeParticle(){this.explodeParticle=new ah(this.scene)}drawPolishEffect(){this.polishEffect=this.scene.add.sprite(0,0,Do.KEY,Do.FRAME.POLISH_EFFECT+"0"),this.polishEffect.setDisplaySize(40,40),this.polishEffect.setAlpha(.8),this.polishEffect.setVisible(!1),this.add(this.polishEffect)}runSelectAnimation(){this.scene&&(this.selectAnimation||(this.selectAnimation=new Vt({targets:[this],duration:166,yoyo:!0,ease:Phaser.Math.Easing.Cubic.InOut,props:{scale:{start:this.scaleUp,from:this.scaleUp,to:this.scaleDown}},onStop:()=>{this.setScale(this.scaleUp)}})),this.selectAnimation.play())}runUnselectAnimation=()=>{this.scene&&(this.unselectAnimation||(this.unselectAnimation=new ih({targets:[this],duration:100,props:{scale:this.scaleUp}})),this.unselectAnimation.play())};runExtraSpawnEffect(){this.extraSpawnEffect?.stop();const e=this.scaleX,t=this.scaleY;this.setScale(e*.3,t*.3),this.extraSpawnEffect=this.scene.tweens.add({targets:this,duration:200,props:{scaleX:{from:e*.3,to:e},scaleY:{from:t*.3,to:t}},onComplete:()=>{this.playPolishEffect()},onStop:()=>{this.playPolishEffect(),this.setScale(e,t)}})}playPolishEffect(){this.polishEffect||this.drawPolishEffect();const e=this.scene.boardManager.getTileSize();this.polishEffect.setVisible(!0),this.polishEffect.setWorldSize(e,e),this.polishEffect.play(F.POLISH_EFFECT.KEY,!0)}hidePolishEffect(){this.polishEffect?.setVisible(!1)}isReady(){return this.state===lt.READY}isMoving(){return this.state===lt.MOVING}isCapturing(){return this.state===lt.CAPTURING}isCaptured(){return this.state===lt.CAPTURED}}const{KEY:rh,FRAME:Go}=w.GAMEPLAY,{SPECIALS:nh}=N,{BOMB_EXPLOSION:lh,BOMB_DEFUSE:ch}=F,{BombCountDownTime:dh,DelayEndGame:mh}=GameCore.Configs.Gameplay;class _e extends Xt{bombCountdown;bombTimer;remainingTime;bombIcon;bombIconTween;reason="pair";isTickingSoundPlaying;tickingSoundEvent;constructor(e,t,s){super(e,Go.TILE_BOMB,nh.BOMB),this.setName("BombTile"),this.isTickingSoundPlaying=!1,this.setRow(t),this.setColumn(s),this.createIconBomb(),this.createBombCountdownEffect(),this.runBombIconTween(),this.scene.events.on(N.EVENTS.FIRST_INTERACTION,this.startCountdown)}createIconBomb(){this.bombIcon=this.scene.add.image(0,0,rh,Go.ICON_BOMB);const t=this.scene.boardManager.getTileSize()/35;this.bombIcon.setWorldSize(16*t,17*t),this.bombIcon.setPosition(10*t,5*t),this.add(this.bombIcon)}createBombCountdownEffect(){this.bombCountdown=new kr(this.scene),this.bombCountdown.setPosition(0,0),this.add(this.bombCountdown)}enableTile(){super.enableTile();const t=this.scene.boardManager.getTileSize()/35;this.bombIcon.setWorldSize(16*t,17*t),this.bombIcon.setPosition(10*t,5*t),this.reason="pair",this.bombIcon.revive(),this.isTickingSoundPlaying=!1}getExplosiveAnimationKey=()=>this.reason==="defuse"?ch.KEY:this.reason==="exploded"?lh.KEY:null;setColor(e,t){this.isCaptured()||(this.color=e,this.changeDeck(t))}startCountdown=()=>{if(this.active&&this.reason!=="defuse"){if(this.remainingTime=dh,this.isTickingSoundPlaying=!1,this.remainingTime==0){this.bombExplodeGrant();return}this.setUpCountdownEffect(),this.startTimer()}};setUpCountdownEffect(){const{boardContainer:e}=this.scene.boardManager;e.bringToTop(this)}setBombEffectWhenGameStarts(){const{boardContainer:e}=this.scene.boardManager;e.bringToTop(this);const t=this.scene.boardManager.getTileSize();this.bombCountdown.setScale(t*.95/35),this.bombCountdown.drawCountdown(1,1)}updateBombCountdownEffect(){this.bombCountdown.drawCountdown(this.remainingTime,GameCore.Configs.Gameplay.BombCountDownTime)}runBombIconTween(){this.bringToTop(this.bombIcon),this.bombIconTween?.stop();const{scaleX:e,scaleY:t}=this.bombIcon;this.bombIconTween=this.scene.tweens.add({targets:this.bombIcon,scaleX:e*1.2,scaleY:t*1.2,ease:"Sine.easeInOut",duration:500,yoyo:!0,repeat:-1,onStop:()=>{this.bombIcon.setScale(e,t)}})}stopTimer(){this.bombTimer?.remove(),this.tickingSoundEvent?.remove(),this.bombCountdown.stop(),this.bombIcon.kill(),this.bombIconTween?.stop(),this.isTickingSoundPlaying=!1}isDefuse(){return this.reason==="defuse"}startTimer(){this.bombTimer=this.scene.time.addEvent({delay:500,callback:()=>{if(this.scene.gameStatus!==le.DYING){if(this.remainingTime-=500,this.remainingTime<500){this.bombExplodeGrant();return}this.updateBombCountdownEffect(),this.remainingTime<=4500&&!this.isTickingSoundPlaying&&(this.scene.audio.playSound(B.TICKING_BOMB_BEFORE_EXPLODE),this.isTickingSoundPlaying=!0,this.fireTickingSound())}},loop:!0})}fireTickingSound(){this.tickingSoundEvent?.remove(),this.tickingSoundEvent=this.scene.time.addEvent({delay:1500,callback:()=>{this.scene.audio.playSound(B.TICKING_BOMB_BEFORE_EXPLODE)},repeat:1})}bombExplodeGrant=()=>{this.stopTimer(),this.reason="exploded",this.explosive(0);const{boardContainer:e}=this.scene.boardManager;e.bringToTop(this),this.block.kill(),this.icon.scale*=5,this.scene.audio.playSound(B.BOMB_EXPLODE_1)};handleBombDefuse(){this.stopTimer(),this.reason="defuse",this.explosive(0);const{boardContainer:e}=this.scene.boardManager;e.bringToTop(this),this.icon.scale*=2.4,this.scene.audio.playSound(B.BOMB_DEFUSE)}onExplosive(){super.onExplosive();const{tileManager:e,levelHandler:t}=this.scene;this.reason==="exploded"&&(this.scene.time.delayedCall(mh,()=>{e.tilesChangeColor(this.color,[this])}),this.scene.die(t.level,"bombExplosive")),this.reason==="defuse"&&e.tilesChangeColor(this.color,[this])}removeTile(){if(super.removeTile(),!this.scene)return;this.stopTimer(),this.bombCountdown.clear();const{itemManager:e}=this.scene;e.updateBombDefuseItemState()}shortenRemainingTime(){this.remainingTime=2e3}}class Cr{priorityQueue=[];grid=[[0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,1,0,0,1,0],[0,2,1,0,1,0,0,0,0,3],[0,0,0,0,0,0,1,0,0,0],[1,0,1,0,0,0,0,0,0,0],[0,0,0,1,0,1,1,1,0,0],[0,0,0,1,0,1,0,1,0,0],[0,1,0,0,0,0,1,1,0,0],[0,0,0,0,0,0,0,0,1,0],[0,0,0,0,1,0,0,0,0,0]];width=10;height=10;path=null;constructor(){return this}findPath(e,t,s){return this.grid=s,this.height=s.length,this.width=s[0].length,this.priorityQueue=[],this.path=null,this.traverse(e,t),this.sharpenPath(),this.path}findWrongPath(e,t,s){return this.grid=s,this.height=s.length,this.width=s[0].length,this.priorityQueue=[],this.path=null,this.traverseFull(e,t),this.path?(this.sharpenPath(),this.path):[]}traverse(e,t){const{x:s=0,y:i=0}=e,{x:o=0,y:r=0}=t;if(this.isAllPathBlocked(e,t)){console.log("All paths are blocked on one square");return}for(this.priorityQueue.push({x:s,y:i,usedTurns:0,direction:"none",expectedCostToEnd:this.calculateExpectedCostToEndPoint({x:s,y:i},{x:o,y:r}),currentPath:[{x:s,y:i}]});this.priorityQueue.length>0;){const n=this.getFromPriorityQueue(),{x:l=0,y:c=0}=n;if(l===o&&c===r){this.path=n.currentPath;break}const d=this.getAdjacentSquares(n);for(const m of d){if(n.currentPath.includes(m))continue;const h=this.calculateExpectedCostToEndPoint(m,{x:o,y:r});this.addToPriorityQueue(m,n,h)}}}traverseFull(e,t){const{x:s=0,y:i=0}=e,{x:o=0,y:r=0}=t;if(this.isAllPathBlocked(e,t)){const n=this.getSpecialCasePath(e,t);n.length>0&&(this.path=n);return}for(this.priorityQueue.push({x:s,y:i,usedTurns:0,direction:"none",expectedCostToEnd:this.calculateExpectedCostToEndPoint({x:s,y:i},{x:o,y:r}),currentPath:[{x:s,y:i}]});this.priorityQueue.length>0;){const n=this.getFromPriorityQueue(),{x:l=0,y:c=0}=n;if(l===o&&c===r){this.path=n.currentPath;break}const d=this.getAdjacentSquares(n);for(const m of d){if(n.currentPath.includes(m))continue;const h=this.calculateExpectedCostToEndPoint(m,{x:o,y:r});this.addToGenerousPriorityQueue(m,n,h)}}if(!this.path){const n=this.getSpecialCasePath(e,t);n.length>0&&(this.path=n)}}getSpecialCasePath(e,t){const{x:s=0,y:i=0}=e,{x:o=0,y:r=0}=t;if(s===o)return this.getYLine(i,r,s);if(i===r)return this.getXLine(s,o,i);{const n=[];return n.push(...this.getXLine(s,o,i)),n.pop(),n.push(...this.getYLine(i,r,o)),n}}sharpenPath(){if(this.path)for(let e=0;e<this.path.length;e++){const{x:t=-1,y:s=-1}=this.path[e];t===0?this.path[e].x=.25:t===this.height-1&&(this.path[e].x=t-.25),s===0?this.path[e].y=.25:s===this.width-1&&(this.path[e].y=s-.25)}}getXLine(e,t,s){const i=[];if(e<t)for(let o=e;o<=t;o++)i.push({x:o,y:s});else for(let o=e;o>=t;o--)i.push({x:o,y:s});return i}getYLine(e,t,s){const i=[];if(e<t)for(let o=e;o<=t;o++)i.push({x:s,y:o});else for(let o=e;o>=t;o--)i.push({x:s,y:o});return i}addToGenerousPriorityQueue(e,t,s){const{x:i=0,y:o=0}=e,{x:r=0,y:n=0,direction:l,usedTurns:c}=t,d=this.getMovingDirectionString(i-r,o-n);if(d===l)this.priorityQueue.push({x:i,y:o,usedTurns:c,direction:d,expectedCostToEnd:s,currentPath:[...t.currentPath,{x:i,y:o}]});else{const m=c>=2&&s>t.expectedCostToEnd;c<7&&!m&&this.priorityQueue.push({x:i,y:o,usedTurns:c+1,direction:d,expectedCostToEnd:s,currentPath:[...t.currentPath,{x:i,y:o}]})}}getPath(){return this.path?(console.log("Path found: ",this.path),this.path):(console.log("No path found"),[])}calculateExpectedCostToEndPoint(e,t){const{x:s=0,y:i=0}=e,{x:o=0,y:r=0}=t;return Math.abs(s-o)+Math.abs(i-r)}addToPriorityQueue(e,t,s){const{x:i=0,y:o=0}=e,{x:r=0,y:n=0,direction:l,usedTurns:c}=t,d=this.getMovingDirectionString(i-r,o-n);if(d===l)this.priorityQueue.push({x:i,y:o,usedTurns:c,direction:d,expectedCostToEnd:s,currentPath:[...t.currentPath,{x:i,y:o}]});else{const m=c>=2&&s>t.expectedCostToEnd;c<3&&!m&&this.priorityQueue.push({x:i,y:o,usedTurns:c+1,direction:d,expectedCostToEnd:s,currentPath:[...t.currentPath,{x:i,y:o}]})}}getFromPriorityQueue(){const e=Math.min(...this.priorityQueue.map(s=>s.expectedCostToEnd+s.currentPath.length)),t=this.priorityQueue.find(s=>e===s.expectedCostToEnd+s.currentPath.length);return t?this.priorityQueue.splice(this.priorityQueue.indexOf(t),1)[0]:this.priorityQueue.splice(0,1)[0]}getAdjacentSquares(e){const{x:t=0,y:s=0}=e,i=[];return t-1>=0&&(this.grid[t-1][s]===1||i.push({x:t-1,y:s})),t+1<this.height&&(this.grid[t+1][s]===1||i.push({x:t+1,y:s})),s-1>=0&&(this.grid[t][s-1]===1||i.push({x:t,y:s-1})),s+1<this.width&&(this.grid[t][s+1]===1||i.push({x:t,y:s+1})),i}isAllPathBlocked(e,t){const{x:s=0,y:i=0}=e,{x:o=0,y:r=0}=t,n=this.getAdjacentSquares({x:s,y:i}),l=this.getAdjacentSquares({x:o,y:r});return n.length===0||l.length===0}getMovingDirectionString(e,t){return e===1?"down":e===-1?"up":t===1?"right":t===-1?"left":"none"}}class _r{scene;pathfinder;colorGrid=[];obstacleGrid=[];outerTiles=[];availableColors=[];pathForAutoplay=null;constructor(e){this.scene=e,this.pathfinder=new Cr}updateGrids(){this.updateColorGrid(),this.updateObstacleGrid(),this.createOuterTiles(),this.pathForAutoplay=null}checkForAvailableMatches(){return this.updateGrids(),this.checkForNearestMatch()||this.checkOuterTilesMatch()?!0:(console.log("No matches found"),!1)}updateColorGrid(){this.colorGrid=[];const{boardMap:e}=this.scene.boardManager,t=this.scene.levelHandler.getConfigs();if(!t)return;const{rows:s,columns:i}=t;for(let o=1;o<=s;o++){this.colorGrid[o-1]=[];for(let r=1;r<=i;r++){if(!e[o]||!e[o][r])continue;if(e[o][r].isCaptured()){this.colorGrid[o-1][r-1]="0";continue}const n=e[o][r].color;this.availableColors.includes(n)||this.availableColors.push(n),this.colorGrid[o-1][r-1]=n}}this.colorGrid.forEach(o=>{o.unshift("0"),o.push("0")}),this.colorGrid.unshift(new Array(i+2).fill("0")),this.colorGrid.push(new Array(i+2).fill("0"))}updateObstacleGrid(){this.obstacleGrid=[],this.colorGrid.forEach((e,t)=>{this.obstacleGrid[t]=[],e.forEach((s,i)=>{const o=s!=="0";this.obstacleGrid[t][i]=o?1:0})})}createOuterTiles(){this.outerTiles=[],this.availableColors.forEach(()=>{this.outerTiles.push([])})}getAdjacentSquaresData(e,t){const s=[],{boardMap:i}=this.scene.boardManager;return e-1>=1&&s.push(i[e-1][t]),e+1<this.colorGrid.length-1&&s.push(i[e+1][t]),t-1>=1&&s.push(i[e][t-1]),t+1<this.colorGrid[0].length-1&&s.push(i[e][t+1]),s.filter(o=>!o.isCaptured())}getMaximumSurroundingSlots(e,t){let s=4;return e-1<0&&s--,e+1>=this.colorGrid.length&&s--,t-1<0&&s--,t+1>=this.colorGrid[0].length&&s--,s}checkForNearestMatch(){let e=!1;for(let t=0;t<this.colorGrid.length;t++){for(let s=0;s<this.colorGrid[0].length;s++){const i=this.colorGrid[t][s];if(i==="0")continue;const o=this.getAdjacentSquaresData(t,s),r=this.getMaximumSurroundingSlots(t,s),n=o.map(l=>l.color);if(r>o.length){const l=this.availableColors.indexOf(i);this.outerTiles[l].push({x:t,y:s})}if(n.includes(i)){const l=n.indexOf(i),c=o[l];this.pathForAutoplay=[{x:t,y:s},{x:c.row,y:c.column}],e=!0;break}}if(e)break}return e}getAllPossiblePairs(e){const t=[];for(let s=0;s<e.length;s++)for(let i=s+1;i<e.length;i++)t.push({tile1:e[s],tile2:e[i]});return t.sort((s,i)=>{const o=Math.abs(s.tile1.x-s.tile2.x)+Math.abs(s.tile1.y-s.tile2.y),r=Math.abs(i.tile1.x-i.tile2.x)+Math.abs(i.tile1.y-i.tile2.y);return o-r}),t}checkOuterTilesMatch(){this.outerTiles.sort((t,s)=>s.length-t.length);let e=!1;for(let t=0;t<this.outerTiles.length;t++){const s=this.outerTiles[t];if(s.length<1)continue;const i=this.getAllPossiblePairs(s);for(let o=0;o<i.length;o++){const{tile1:r,tile2:n}=i[o];this.obstacleGrid[r.x][r.y]=0,this.obstacleGrid[n.x][n.y]=0;const l=this.pathfinder.findPath({x:r.x,y:r.y},{x:n.x,y:n.y},this.obstacleGrid);if(l){e=!0,this.pathForAutoplay=l;break}this.obstacleGrid[r.x][r.y]=1,this.obstacleGrid[n.x][n.y]=1}if(e)break}return e}}const{STATUS:Ks}=$t;class uh extends Pe{scene;tileMap={};boardMap={};boardContainer;boardSizeHandler;matchFinder;constructor(e){super(e),this.scene=e,this.boardContainer=this.scene.make.container({}),this.boardContainer.setDepth(C.TILE),this.matchFinder=new _r(this.scene),this.boardSizeHandler=new Ku(this.scene)}init(){this.clearBoard(),this.setState(Ks.READY)}start(){this.isRunning()||(this.boardSizeHandler.calculateTileSize(),this.generateBoard(),this.setState(Ks.RUNNING))}stop(){this.isRunning()&&this.setState(Ks.STOPPED)}loadBoardByFen(e){const{tileManager:t}=this.scene;this.tileMap=GameCore.Utils.Hash.decodeMap(e,N.HASH);for(const s in this.tileMap){const i=this.tileMap[s];if(GameCore.Utils.Valid.isObject(i))for(const o in i){let r=i[o],n;r[0]==="b"?(r=parseInt(r.substring(1)).toString(),this.tileMap[s][o]=N.SPECIALS.BOMB,n=t.createTileByType(N.SPECIALS.BOMB,+s,+o),n instanceof _e&&n.setColor(r,t.getCurrentDeck())):n=t.createTileByType(r,+s,+o),this.setTileToMap(n,+s,+o)}}}clearBoard(){this.tileMap={},this.boardMap={},this.boardContainer.removeAll()}generateBoard(){this.generateTiles(),this.placeBoard(),this.alignBoard()}generateTiles(){const{tileManager:e,levelHandler:t}=this.scene,s=t.getConfigs(),{rows:i,columns:o,specials:r={},customFen:n}=s,l=i*o;if(n&&this.loadBoardByFen(n.code),Object.keys(this.boardMap).length>0)return;const c=this.createListOfTilesByPair(),d=r.bomb||0,m=this.getBombPositions(d,c);for(let h=0;h<l;h++){const{row:p,column:b}=this.getPositionByIndex(h),E=c[h];let P=!1;m.includes(h)&&(P=!0);const v=P?N.SPECIALS.BOMB:E,g=e.createTileByType(v,p,b);P&&g instanceof _e&&g.setColor(E,e.getCurrentDeck()),this.setTileToMap(g,p,b)}}createListOfTilesByPair(){const{levelHandler:e}=this.scene,t=e.getConfigs(),{rows:s,columns:i,colors:o,specials:r={}}=t,n=s*i,l=r.rocket||0,c=Math.floor(n/2)-l,d=[];let m=0;for(let E=0;E<c;E++){m=m>=o?1:m+1;const P=m.toString();d.push(P),d.push(P)}for(let E=0;E<l;E++)d.push("rocket"),d.push("rocket");d.sort(()=>Math.random()-.5);const h=this.sortTilesByMaxSpace(d),b=this.sortTilesByMaxSpace(h.reverse()).reverse();return this.addOnePairNextToEachOther(b,s,i),d.length<n&&b.splice(Math.floor(b.length/2),0,N.SPECIALS.EMPTY),b}sortTilesByMaxSpace(e){const{levelHandler:t}=this.scene,s=t.getConfigs(),{rows:i,columns:o,colors:r,rules:n}=s;if(!n.maxSpaceOfPair)return e;const l=this.convertSingleListToGrid(e,i,o),c=[];for(let m=1;m<=r;m++)c.push(m.toString());const d=this.getSortedColorList(c,e);for(let m=0;m<d.length;m++){let h=null,p=null;for(let b=0;b<i;b++)for(let E=0;E<o;E++)if(l[b][E]===d[m]){if(!h||!p){h=b,p=E;continue}const v=n.maxSpaceOfPair+1;if(Math.abs(h-b)+Math.abs(p-E)<=v){p=E,h=b;continue}const T=this.getTileNewPosition(h,p,b,E),A=l[T.row][T.column];l[T.row][T.column]=l[b][E],l[b][E]=A}}return this.convertGridToSingleList(l)}addOnePairNextToEachOther(e,t,s){const i=Phaser.Math.Between(0,e.length-1);let o=i;for(let d=0;d<e.length;d++){const m=e[d];if(d!==i&&m===e[i]){o=d;break}}if(o===i)return;const r=this.getNeighborIndexes(i,t,s);if(r.length===0)return;const n=Phaser.Math.Between(0,r.length-1),l=r[n],c=e[l];e[l]=e[o],e[o]=c,console.info("ðŸš€ > One Pair Can Match Is",this.getPositionByIndex(i),this.getPositionByIndex(l))}getNeighborIndexes(e,t,s){const{row:i,column:o}=this.getPositionByIndex(e),r=[];let n=i+1,l=o;return n<=t&&r.push(this.getIndexByPosition(n,l)),n=i-1,l=o,n>=1&&r.push(this.getIndexByPosition(n,l)),n=i,l=o+1,l<=s&&r.push(this.getIndexByPosition(n,l)),n=i,l=o-1,l>=1&&r.push(this.getIndexByPosition(n,l)),r}getTileNewPosition(e,t,s,i){let o=e,r=t;return s>e&&(o=e+1),s<e&&(o=e-1),i>t&&(r=t+1),i<t&&(r=t-1),{row:o,column:r}}convertSingleListToGrid(e,t,s){const i=[];for(let o=0;o<t;o++){i[o]=[];for(let r=0;r<s;r++)i[o][r]=e[o*s+r]}return i}convertGridToSingleList(e){const t=[];for(let s=0;s<e.length;s++)for(let i=0;i<e[s].length;i++)t.push(e[s][i]);return t}getSortedColorList(e,t){const s=[],i=[N.SPECIALS.BOMB,N.SPECIALS.EMPTY,N.SPECIALS.ROCKET];for(let o=0;o<t.length&&s.length!==e.length;o++){const r=t[o];s.includes(r)||i.includes(r)||s.push(r)}return s}getBombPositions(e,t){const s=[];t.forEach((r,n)=>{r!==N.SPECIALS.EMPTY&&r!==N.SPECIALS.ROCKET&&s.push(n)});const i=s.length>e?e:s.length,o=[];s.sort(()=>Math.random()-.5);for(let r=0;r<i;r++)o.push(s[r]);return o}getTilesByMap(){const e=[];for(const t in this.boardMap){const s=this.boardMap[t];for(const i in s){const o=this.boardMap[t][i];e.push(o)}}return e}placeBoard(){const{levelHandler:e}=this.scene,t=e.getConfigs(),s=t.rows,i=t.columns,o=this.getTileSize()+1,r=this.getTilesByMap();Phaser.Actions.GridAlign(r,{width:i,height:s,cellWidth:o,cellHeight:o,x:-((i/2-1)*o),y:-((s/2-1)*o)})}alignBoard(){const{layoutManager:e}=this.scene,{objects:t}=e,s=this.scene.ads.getBannerHeight(),i=t.headerBG.height,o=t.footerBG.height;let r=(i-o-s+46)/2;this.scene.world.isLandscape()&&(r=(i-s)/2),Phaser.Display.Align.In.Center(this.boardContainer,this.scene.gameZone,0,r)}getPositionByIndex(e){const{columns:t}=this.scene.levelHandler.getConfigs(),s=Math.floor(e/t)+1,i=e%t+1;return{row:s,column:i}}getIndexByPosition(e,t){const{columns:s}=this.scene.levelHandler.getConfigs();return(e-1)*s+(t-1)}getTileByIndex(e){const{row:t,column:s}=this.getPositionByIndex(e);return this.getTileByPosition(t,s)}getTileByPosition(e,t){return!(e in this.boardMap)||!(t in this.boardMap[e])?null:this.boardMap[e][t]}setTileToMap(e,t,s){const{tileManager:i}=this.scene;this.tileMap[t]||(this.tileMap[t]={}),this.boardMap[t]||(this.boardMap[t]={}),e.setRow(t),e.setColumn(s),this.tileMap[t][s]=e.color;const o=this.boardMap[t][s];o&&i.removeTile(o),this.boardMap[t][s]=e,this.boardContainer.add(e),i.addTile(e)}tileSwap(e){const{fromRow:t,toRow:s,fromColumn:i,toColumn:o}=e,r=this.boardMap[s][o],n=this.boardMap[t][i];r.setRow(t),r.setColumn(i),n.setRow(s),n.setColumn(o),this.boardMap[s][o]=n,this.boardMap[t][i]=r,this.tileMap[s][o]=n.color,this.tileMap[t][i]=r.color}runShuffle=e=>{const t=this.getTilesAlive(),s=this.shuffleTiles();this.shuffleAnimation(t,s,e),this.updateTilesPosition(t,s),this.scene.time.delayedCall(300,()=>{this.scene.audio.playSound(B.SHUFFLE_ITEM)})};getTilesAlive(){const{tileManager:e}=this.scene,t=e.getTiles(),s=[];return t.forEach(i=>{i.isCaptured()||i.isCapturing()||s.push(i)}),s}shuffleTiles(){const e=this.getTilesAlive();GameCore.Utils.Array.unique(e);const t=[];return e.forEach(({row:s,column:i})=>{t.push({row:s,column:i})}),GameCore.Utils.Array.shuffle(t),t}shuffleAnimation(e,t,s){const{animationManager:i}=this.scene;e.forEach((o,r)=>{const{row:n,column:l}=o,{row:c,column:d}=t[r];n!==c&&i.moveRows({tile:o,fromRow:n,toRow:c},r*5,s),l!==d&&i.moveColumns({tile:o,fromColumn:l,toColumn:d},r*5,s)})}updateTilesPosition(e,t){e.forEach((s,i)=>{const{row:o,column:r}=s,{row:n,column:l}=t[i];o===n&&r===l||this.tileSwap({fromRow:o,toRow:n,fromColumn:r,toColumn:l})})}processNoAvailableMatches=()=>{if(this.checkIfAllTilesAreCaptured()){this.scene.events.emit(N.EVENTS.NEXT_TURN);return}if(this.matchFinder.checkForAvailableMatches()){this.scene.events.emit(N.EVENTS.NEXT_TURN);return}const{animationManager:t,itemManager:s,tileManager:i}=this.scene;i.isSelectable=!1,s.setIsUseableItem(!1),t.isMoveTilesCompleted=!1;const o=500;this.runShuffle(o),this.scene.time.delayedCall(o+50,this.processNoAvailableMatches)};checkIfAllTilesAreCaptured(){const{tileManager:e}=this.scene,t=e.getTiles();if(t.length<2)return!0;for(const s of t)if(!s.isCaptured())return!1;return!0}getTileSize(){return this.boardSizeHandler.getTileSize()}}const k={HINT:{ID:"ItemHint",REWARD_DESC:"Show one matchable pair on the board"},ROCKET:{ID:"ItemRocket",REWARD_DESC:"Destroy two pairs on the board"},INVITE:{ID:"ItemInvite"},SHUFFLE:{ID:"ItemShuffle",REWARD_DESC:"Shuffle all tiles on the board"},BOMB_DEFUSE:{ID:"ItemBombDefuse",REWARD_DESC:"Remove a bomb tile on the board"},GUIDE_BOMB_DEFUSE:{ID:"ItemGuideBombDefuse"},NEW_GAME:{ID:"ItemNewGame"},CHANGE_COLOR:{ID:"ItemChangeColor"},NEXT_LEVEL:{ID:"ItemNextLevel"},BACK_LEVEL:{ID:"ItemBackLevel"},BOMB_EXPLOSIVE:{ID:"ItemBombExplosive"},TIME_UP:{ID:"ItemTimeUp"},RESET_DATA:{ID:"ItemResetData"},AUTO_MATCH:{ID:"ItemAutoMatch"}},R={DIE:"die",REPLAY:"replay",RESCUE:"rescue",FINISH:"finish",CONTINUE:"continue",NEXT_LEVEL:"next-level",RECEIVE_ITEM:"receive-item",TILE_SHOWED_UP:"tile-show-up",SHOW_RESCUE_SCREEN:"show-rescue-screen",GAME_OVER_REPLAY:"game-over-replay"};var Ri={},hh={get exports(){return Ri},set exports(a){Ri=a}};(function(a){var e=Object.prototype.hasOwnProperty,t="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(t=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,m,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,m||l,h),b=t?t+c:c;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],p]:l._events[b].push(p):(l._events[b]=p,l._eventsCount++),l}function r(l,c){--l._eventsCount===0?l._events=new s:delete l._events[c]}function n(){this._events=new s,this._eventsCount=0}n.prototype.eventNames=function(){var c=[],d,m;if(this._eventsCount===0)return c;for(m in d=this._events)e.call(d,m)&&c.push(t?m.slice(1):m);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},n.prototype.listeners=function(c){var d=t?t+c:c,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var h=0,p=m.length,b=new Array(p);h<p;h++)b[h]=m[h].fn;return b},n.prototype.listenerCount=function(c){var d=t?t+c:c,m=this._events[d];return m?m.fn?1:m.length:0},n.prototype.emit=function(c,d,m,h,p,b){var E=t?t+c:c;if(!this._events[E])return!1;var P=this._events[E],v=arguments.length,g,T;if(P.fn){switch(P.once&&this.removeListener(c,P.fn,void 0,!0),v){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,d),!0;case 3:return P.fn.call(P.context,d,m),!0;case 4:return P.fn.call(P.context,d,m,h),!0;case 5:return P.fn.call(P.context,d,m,h,p),!0;case 6:return P.fn.call(P.context,d,m,h,p,b),!0}for(T=1,g=new Array(v-1);T<v;T++)g[T-1]=arguments[T];P.fn.apply(P.context,g)}else{var A=P.length,G;for(T=0;T<A;T++)switch(P[T].once&&this.removeListener(c,P[T].fn,void 0,!0),v){case 1:P[T].fn.call(P[T].context);break;case 2:P[T].fn.call(P[T].context,d);break;case 3:P[T].fn.call(P[T].context,d,m);break;case 4:P[T].fn.call(P[T].context,d,m,h);break;default:if(!g)for(G=1,g=new Array(v-1);G<v;G++)g[G-1]=arguments[G];P[T].fn.apply(P[T].context,g)}}return!0},n.prototype.on=function(c,d,m){return o(this,c,d,m,!1)},n.prototype.once=function(c,d,m){return o(this,c,d,m,!0)},n.prototype.removeListener=function(c,d,m,h){var p=t?t+c:c;if(!this._events[p])return this;if(!d)return r(this,p),this;var b=this._events[p];if(b.fn)b.fn===d&&(!h||b.once)&&(!m||b.context===m)&&r(this,p);else{for(var E=0,P=[],v=b.length;E<v;E++)(b[E].fn!==d||h&&!b[E].once||m&&b[E].context!==m)&&P.push(b[E]);P.length?this._events[p]=P.length===1?P[0]:P:r(this,p)}return this},n.prototype.removeAllListeners=function(c){var d;return c?(d=t?t+c:c,this._events[d]&&r(this,d)):(this._events=new s,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=t,n.EventEmitter=n,a.exports=n})(hh);const fh=Ri,O=new fh,Ms=Ir(.55,.47,.43,.91),ph={targets:[],yoyo:!0,repeat:-1,duration:600,repeatDelay:50,ease:Ms,easeParams:[0,.9],props:{scale:{from:1,to:1.2}}};class Zt extends fe{constructor(e){super(ph,e)}}const bh={targets:[],repeat:-1,yoyo:!0,duration:33,ease:Phaser.Math.Easing.Sine.InOut,props:{x:5}};class Wi extends fe{posX;constructor(e){super(bh,e),this.config?.props&&(this.posX=this.config.props.x,this.tween?.on(Phaser.Tweens.Events.TWEEN_REPEAT,this.handleSwitchPosition))}handleSwitchPosition=()=>{this.posX=-this.posX,this.tween?.updateTo("x",-this.posX)}}const gh={targets:[],props:{alpha:{duration:500,value:{start:0,from:0,to:1},ease:Phaser.Math.Easing.Cubic.Out},scale:{duration:1e3,value:{start:.8,from:.8,to:1},ease:Phaser.Math.Easing.Elastic.Out,easeParams:[.1,.45]}}};class Th extends fe{constructor(e){super(gh,e)}}const I={PRIMARY:{KEY:"Roboto-Black-Normal",TEXTURE:"./assets/fonts/Roboto-Black-Normal.png",DATA:"./assets/fonts/Roboto-Black-Normal.xml"},SHADOW:{KEY:"Roboto-Black-Shadow",TEXTURE:"./assets/fonts/Roboto-Black-Shadow.png",DATA:"./assets/fonts/Roboto-Black-Shadow.xml"},RED_STROKE:{KEY:"Roboto-Black-Red-Stroke",TEXTURE:"./assets/fonts/Roboto-Black-Red-Stroke.png",DATA:"./assets/fonts/Roboto-Black-Red-Stroke.xml"},WHITE_AND_STROKE:{KEY:"Roboto-Black-White-Stroke",TEXTURE:"./assets/fonts/Roboto-Black-White-Stroke.png",DATA:"./assets/fonts/Roboto-Black-White-Stroke.xml"},YELLOW_AND_STROKE:{KEY:"Roboto-Black-Yellow-Stroke",TEXTURE:"./assets/fonts/Roboto-Black-Yellow-Stroke.png",DATA:"./assets/fonts/Roboto-Black-Yellow-Stroke.xml"},FONT_FAMILY:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif'},{KEY:os,FRAME:ct}=w.GAMEPLAY;class pe extends Phaser.GameObjects.Container{scene;isActive=!0;isFree;isDisabled;amount;autoRunUpAnimation=!0;item;bg;amountItem;amountText;amountBg;itemLock;itemLockText;showItemAnimation;bubbleAnimation;shakeAnimation;parentName;callback;constructor(e,t,s,i){super(e),this.scene=e,this.isFree=!1,this.isDisabled=!1,this.createBg(),this.createItem(t,s,i),this.createAmountText(),this.createItemLock(),this.createAnimations(),this.setDepth(C.ITEM),this.scene.add.existing(this)}activeItem(){this.isActive=!0,this.showItemAnimation.play()}deactivateItem(){this.isActive=!1}enableItem(){this.isDisabled!==!1&&(this.item.setAlpha(1),this.isDisabled=!1,this.setInteractive({useHandCursor:!0}))}disableItem(){this.isDisabled!==!0&&(this.deactivateItem(),this.item.setAlpha(.4),this.isDisabled=!0,this.disableInteractive())}setFreeMode(e,t=!1){t||this.amountItem.setVisible(!e),this.isFree=e}getIsFree(){return this.isFree}set onClick(e){const{width:t,height:s}=this.bg;this.setSize(t,s+16),this.setInteractive({useHandCursor:!0}),this.callback=e,this.on(Phaser.Input.Events.GAMEOBJECT_POINTER_UP,this.handlePointerUp)}handlePointerUp=()=>{this.logItemEvent(),this.callback&&(this.scene.audio.playSound(B.GENERAL_BUTTON_CLICK),this.callback())};logItemEvent(){if(this.isActive)return;const e=this.getParentName(),t=this.name;this.scene.analytics.event(M.BUTTON_CLICK,{button_name:t,screen_name:e})}getParentName(){if(this.parentName)return this.parentName;let e=this.parentContainer;for(;e;){if(e instanceof GameCore.Screen){const t=e;return this.parentName=t.getScreenName(),this.parentName}e=e.parentContainer}return this.parentName=this.scene.getSceneName(),this.parentName}createBg(){this.bg=this.scene.add.image(0,0,os,ct.ITEM_BG_ITEM),this.bg.setWorldSize(48,48),this.add(this.bg)}createItem(e,t,s){this.item=this.scene.add.image(0,0,os,e),this.item.setWorldSize(t,s),Phaser.Display.Align.In.Center(this.item,this.bg,0,-3),this.add(this.item)}createAmountText(){this.amountItem=this.scene.add.container();const e=this.scene.lang.getCurrentLanguage();let t=10;switch(e){case"fr":t=8;break}this.amountText=this.scene.make.bitmapText({font:I.PRIMARY.KEY,size:this.scene.fontSize(t),origin:{x:.5,y:.5}}),this.amountText.setTint(8205077),this.amountText.setCenterAlign(),this.amountBg=this.scene.make.image({key:os,frame:ct.ITEM_BG_AMOUNT}),this.amountBg.setWorldSize(22,16),Phaser.Display.Align.In.Center(this.amountText,this.amountBg,0,-2),this.amountItem.add([this.amountBg,this.amountText]),Phaser.Display.Align.In.TopRight(this.amountItem,this.bg,-10,-2),this.add(this.amountItem),this.setAmount(0)}createItemLock(){this.itemLock=this.scene.make.image({key:os,frame:ct.NOTE_LOCK}),this.itemLock.setWorldSize(22,16),Phaser.Display.Align.In.TopRight(this.itemLock,this.bg,2,6),this.add(this.itemLock),this.itemLock.setVisible(!1),this.itemLockText=this.scene.make.bitmapText({font:I.WHITE_AND_STROKE.KEY,size:this.scene.fontSize(10),origin:{x:.5,y:.5},text:""}),this.itemLockText.setCenterAlign(),Phaser.Display.Align.In.BottomCenter(this.itemLockText,this.bg,0,1),this.add(this.itemLockText),this.itemLockText.setVisible(!1)}setAmount(e,t=!0){if(this.amount=e,t===!1)return;const s=this.amount<=0,i=this.scene.lang.getCurrentLanguage(),o=10;let r=10,n=ct.NOTE_FREE;switch(i){case"fr":r=8;break;case"tr":case"de":case"it":case"zh":n=ct.NOTE_FREE_LONG;break}if(this.amountBg){const c=s?n:ct.ITEM_BG_AMOUNT;this.amountBg.setFrame(c)}let l=e.toString();this.amountText.setTint(8205077),this.amountText.setFontSize(this.scene.fontSize(o)),s&&(l=this.scene.lang.Text.free,this.amountText.setTint(3355443),this.amountText.setFontSize(this.scene.fontSize(r))),this.amountText.setText(l)}createAnimations(){const{scale:e}=this.item;this.showItemAnimation=new Th({targets:[this.item],props:{scale:{duration:1e3,value:{start:e*.8,from:e*.8,to:e},ease:Phaser.Math.Easing.Elastic.Out,easeParams:[.1,.45]}}}),this.bubbleAnimation=new Zt({targets:[this.item],props:{scale:{from:e,to:e*1.2}}}),this.shakeAnimation=new Wi({targets:[this.amountText],repeat:3,props:{x:4}})}}const{ID:as}=k.BOMB_DEFUSE,{FRAME:kt}=w.GAMEPLAY;class zi extends pe{scene;isRunning=!1;constructor(e){super(e,kt.DEFUSE_ITEM,26,34.5),this.scene=e,this.setName(as),this.itemLockText.setText("Level 7"),this.onClick=this.handleUseItem}handleUseItem=()=>{if(this.isRunning)return;const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(as);return}if(!e.activeItem(as)){this.shakeAnimation.play();return}this.useItem()};useItem(){const{tileManager:e,itemManager:t}=this.scene;!this.isActive||this.isRunning||(this.isRunning=!0,this.defuseBomb(),e.emitInteraction(),t.updateBombDefuseItemState(),this.showItemAnimation.tween?.once(Phaser.Tweens.Events.TWEEN_COMPLETE,()=>{this.isRunning=!1,t.deactivateItem(as)}))}defuseBomb(){const{tileManager:e}=this.scene,t=e.getAliveTiles();for(let s=0;s<t.length;s++){const i=t[s];if(i instanceof _e&&!i.isDefuse()){i.handleBombDefuse();return}}}disableItem(){super.disableItem();const{levelHandler:e}=this.scene,{level:t}=e.getConfigs();this.item.setAlpha(1),this.item.setFrame(kt.ITEM_DEFUSE_LOCK),this.bg.setFrame(kt.ITEM_BG_LOCK),t<7?this.setVisible(!1):(this.itemLock.setVisible(!1),this.itemLockText.setVisible(!1),this.amountItem.setVisible(!0))}enableItem(){super.enableItem();const{levelHandler:e}=this.scene,{level:t}=e.getConfigs();this.item.setAlpha(1),t>=7&&this.setVisible(!0),this.item.setFrame(kt.DEFUSE_ITEM),this.bg.setFrame(kt.ITEM_BG_ITEM),this.amountItem.setVisible(!0),this.itemLock.setVisible(!1),this.itemLockText.setVisible(!1)}}const{ID:rs}=k.GUIDE_BOMB_DEFUSE;class Lr extends zi{constructor(e){super(e),this.setName(rs),this.callback=this.handleUseGuideItem}handleUseGuideItem=()=>{if(this.isRunning)return;const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(rs);return}if(!e.activeItem(rs)){this.shakeAnimation.play();return}this.useItem()};useItem(){const{tileManager:e,itemManager:t,tutorialManager:s}=this.scene;if(!this.isActive||this.isRunning)return;this.isRunning=!0;const i=e.getAliveTiles();for(let o=0;o<i.length;o++){const r=i[o];if(r instanceof _e&&!r.isDefuse()){const{x:n,y:l}=r.getWorldPosition(),c=r.block.displayWidth,d=r.block.displayHeight;//! wait for handle pointer down in guide complete
this.scene.time.delayedCall(0,()=>{this.scene.input.setTopOnly(!0),this.scene.tweens.killTweensOf(s.background),s.background.clearMask(!0),s.createMask(n-c/2,l-d/2,c,d,3),this.scene.time.delayedCall(1500,()=>{this.scene.input.setTopOnly(!1),r.handleBombDefuse(),e.emitInteraction(),s.runHideMaskAnimation(),this.isRunning=!1,t.deactivateItem(rs)})});return}}e.emitInteraction()}enableItem(){super.enableItem();const{levelHandler:e}=this.scene,{level:t}=e.getConfigs();t>7&&this.setVisible(!1)}}const{ID:Fo}=k.CHANGE_COLOR,{KEY:wh,FRAME:Ws}=w.GAMEPLAY,{SPECIALS:Eh}=N,{BOMB:Bo,ROCKET:Uo}=Eh;class Dr extends pe{scene;index;colors;color;constructor(e){super(e,Ws.ROCKET_ITEM,25,25),this.scene=e,this.index=0,this.colors=new Array(28).fill(null).map((t,s)=>`${s+1}`),this.colors.push(Bo),this.colors.push(Uo),this.setAmount(999),this.onClick=()=>{const{itemManager:t}=this.scene;console.info("ðŸš€ > this.isActive",this.isActive),console.info("ðŸš€ > this.isDisabled",this.isDisabled),this.isActive?t.deactivateItem(Fo):t.activeItem(Fo)},this.on(Phaser.Input.Events.GAMEOBJECT_POINTER_WHEEL,this.handleWheel)}handleWheel=Ai(e=>{this.isActive&&(this.isDisabled||(e.deltaY>0?this.nextColor():this.prevColor()))},250,{isImmediate:!0,maxWait:200});nextColor(){this.color=this.colors[this.index],this.index+=1,this.index>=this.colors.length&&(this.index=0),this.changeColor(this.color)}prevColor(){this.color=this.colors[this.index],this.index-=1,this.index<=0&&(this.index=this.colors.length-1),this.changeColor(this.color)}changeColor(e){if(this.item.setTexture(wh),e===Bo)this.item.setFrame(Ws.ICON_BOMB);else if(e===Uo)this.item.setFrame(Ws.TILE_ROCKET);else{const t=this.scene.tileManager.getCurrentDeck();this.item.setFrame(t+e)}this.item.setWorldSize(25,25)}activeItem=()=>{this.isActive=!0,this.setAlpha(1)};deactivateItem=()=>{super.deactivateItem(),this.setAlpha(.7)};useItem(e){if(!this.isActive)return!1;const{tileManager:t}=this.scene;return t.tilesChangeColor(this.color,[e]),!0}}const Xe={COMBO:"combo",RESET:"reset"},{ID:xt}=k.ROCKET,{FRAME:Rt}=w.GAMEPLAY;class Vi extends pe{scene;isRunning=!1;usingTimer;constructor(e){super(e,Rt.ROCKET_ITEM,23,36),this.scene=e,this.setName(xt),this.itemLockText.setText("Level 11"),this.onClick=this.handleUseItem}activeItem(){super.activeItem(),this.amountItem.kill()}deactivateItem(){super.deactivateItem(),this.amountItem.revive(),this.isDisabled&&this.amountItem.setVisible(!1)}handleUseItem=()=>{if(this.isRunning)return;const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(xt);return}if(!e.activeItem(xt)){this.shakeAnimation.play();return}this.useItem()};useItem(){const{tileManager:e}=this.scene;if(!this.isActive||this.isRunning)return;const t=e.getPairsOfTilesCanCapture(2);t.length===4&&(this.isRunning=!0,e.isSelectable=!1,e.emitInteraction(),e.removeSuggestPairHint(),this.scene.time.delayedCall(300,()=>{this.runEffectAndCapture(t)}))}runEffectAndCapture(e){const{tileManager:t,effectManager:s,itemManager:i}=this.scene,o=[],r=[];e.forEach(l=>{const{x:c,y:d}=l.getWorldPosition(),m=l.block.displayWidth,h=l.block.displayHeight;r.push({x:c,y:d}),o.push({x:c-m/2,y:d-h/2,width:m,height:h,radius:3})});const n=i.getItem(xt);n&&o.push({x:n.x-(n.displayWidth-4*n.scale)/2,y:n.y-n.displayHeight/2+7*n.scale,width:(n.width-4)*n.scale,height:(n.width-4)*n.scale,radius:(n.width-4)*n.scale/2}),i.createMultiMask(o),e.forEach(l=>{l.setState(N.STATUS.CAPTURING),l.setIsBreakWhenExplosive(!0)}),this.usingTimer?.remove(),this.usingTimer=this.scene.time.addEvent({delay:100,repeat:-1,callback:()=>{t.isSelectable=!1}}),s.playRocketEffect(r,()=>{this.scene.events.emit(Xe.COMBO),t.tilesCapturing([e[0],e[1]])},()=>{this.scene.events.emit(Xe.COMBO),t.tilesCapturing([e[2],e[3]]),this.isRunning=!1,this.usingTimer?.remove(),i.deactivateItem(xt),i.setIsUseableItem(!1)})}disableItem(){super.disableItem(),this.item.setAlpha(1);const{levelHandler:e}=this.scene,{level:t}=e.getConfigs();this.item.setFrame(Rt.ITEM_ROCKET_LOCK),this.bg.setFrame(Rt.ITEM_BG_LOCK),t<11?this.setVisible(!1):(this.amountItem.setVisible(!0),this.itemLock.setVisible(!1),this.itemLockText.setVisible(!1))}enableItem(){super.enableItem();const{levelHandler:e}=this.scene,{level:t}=e.getConfigs();this.item.setAlpha(1),t>=11&&this.setVisible(!0),this.item.setFrame(Rt.ROCKET_ITEM),this.bg.setFrame(Rt.ITEM_BG_ITEM),this.amountItem.setVisible(!0),this.itemLock.setVisible(!1),this.itemLockText.setVisible(!1)}}const{STATUS:zs}=$t,{BOMB_DEFUSE:Vs,ROCKET:Yo,AUTO_MATCH:Ho}=k,{KEY:vh,FRAME:Ph}=w.GAMEPLAY;class yh extends Pe{scene;isUseableItem=!1;items={};itemActive="";currentHideableObjects;background;maskGraphics;constructor(e){super(e),this.scene=e,this.createBackground(),this.createItems(),this.currentHideableObjects=[],O.on(R.TILE_SHOWED_UP,this.handleTileShowedUp),this.scene.events.on(N.EVENTS.CAPTURING,this.handleItemState)}init(){for(const e in this.items)this.enableItem(e),this.deactivateItem(e),this.updateItemAmount(e);this.setState(zs.READY)}start(){this.isRunning()||(this.updateItemState(),this.setIsUseableItem(!1),this.setState(zs.RUNNING))}increaseItem(e,t){const s=this.scene.player.getCustomData("items");if(!GameCore.Utils.Valid.isObject(s))return;let i="";switch(e){case"ItemBombDefuse":i=Vs.ID;break;case"ItemHint":i=k.HINT.ID;break;case"ItemShuffle":i=k.SHUFFLE.ID;break;case"ItemRocket":i=Yo.ID;break}const o=s[i];if(!GameCore.Utils.Valid.isNumber(o))return;const r=this.items[i].amount+t;this.scene.player.setCustomData("items",{[this.items[i].name]:r})}stop(){this.isRunning()&&(this.setIsUseableItem(!1),this.setState(zs.STOPPED))}handleTileShowedUp=()=>{this.setIsUseableItem(!0)};handleItemState=()=>{this.setIsUseableItem(!1),this.updateRocketItemState(),this.updateBombDefuseItemState()};setIsUseableItem(e){this.isUseableItem!==e&&(this.isUseableItem=e)}getIsUseableItem(){return this.isUseableItem}updateItemAmount(e){const t=this.items[e];if(!t)return;const s=this.scene.player.getCustomData("items");if(!GameCore.Utils.Valid.isObject(s))return;const i=s[e];GameCore.Utils.Valid.isNumber(i)&&(console.info("ðŸš€ > updateAmount",{id:e,amount:i}),t.setAmount(i))}addItemAmount(e,t,s=!0){const i=this.items[e];if(!i||!GameCore.Utils.Valid.isNumber(t))return;const o=i.amount+t;i.setAmount(o,s),this.scene.player.setCustomData("items",{[i.name]:o})}updateItemState(){const{levelHandler:e}=this.scene;e.isLevelHaveBomb()||this.disableItem(k.BOMB_DEFUSE.ID)}activeItem(e){if(!this.isRunning())return!1;const{tutorialManager:t,tileManager:s}=this.scene,{tutorialId:i}=t,o=i===e,r=e===Ho.ID;if(!this.isUseableItem&&!o&&!r||!this.items[e]||this.itemActive&&this.itemActive!==e)return!1;if(!this.items[e].getIsFree()&&this.items[e].amount<1&&e!==k.INVITE.ID){const{screenManager:n}=this.scene;return n.showRewardItemScreen(e,1),!1}if(e===Vs.ID&&!s.isHavingBomb())return!1;for(const n in this.items)n!==Ho.ID&&this.deactivateItem(n,!1);if(r||(this.itemActive=e),this.items[e].activeItem(),this.setIsUseableItem(!1),!this.items[e].getIsFree()&&e!==k.INVITE.ID){const n=this.items[e].amount-1;this.items[e].setAmount(n),this.scene.player.setCustomData("items",{[this.items[e].name]:n})}return this.scene.game.analytics.event(M.USE_ITEM,{item_name:e===k.GUIDE_BOMB_DEFUSE.ID?k.BOMB_DEFUSE.ID:e}),!0}enableItem(e){this.items[e]&&this.items[e].enableItem()}disableItem(e){this.items[e]&&this.items[e].disableItem()}setFreeItem(e){this.items[e]&&this.items[e].setFreeMode(!0)}setPaidItem(e,t=!1){this.items[e]&&this.items[e].setFreeMode(!1,t)}setDepthItemOnTop(e){this.items[e]&&this.items[e].setDepth(C.ON_TOP)}setDepthItemNormal(e){this.items[e]&&this.items[e].setDepth(C.ITEM)}deactivateItem(e,t=!0){this.items[e]&&(this.itemActive="",this.items[e].deactivateItem(),t&&this.hideMask(),this.setIsUseableItem(!0))}getActiveItem(){if(this.isRunning()&&this.items[this.itemActive])return this.items[this.itemActive]}createMultiMask(e){this.maskGraphics?.destroy(),this.maskGraphics=this.scene.make.graphics({fillStyle:{color:16711680,alpha:1}}),this.maskGraphics.setName("MaskGraphics"),e.forEach(t=>{this.maskGraphics.fillRoundedRect(t.x,t.y,t.width,t.height,t.radius)}),this.background.revive(),this.background.clearMask(!0),this.background.setMask(this.maskGraphics.createGeometryMask()),this.background.mask.invertAlpha=!0,this.showMask()}showMask(){if([k.ROCKET.ID].indexOf(this.itemActive)===-1)return;this.scene.tweens.killTweensOf(this.currentHideableObjects),this.scene.tweens.killTweensOf([this.background]);const{layoutManager:e}=this.scene,{groups:t}=e;switch(t.gameUI.killGroup(),this.itemActive){case k.ROCKET.ID:{const s=this.items[k.ROCKET.ID];s instanceof Vi&&s.setVisible(!0)}break}this.currentHideableObjects=t.gameUI.getMatching("visible",!1),this.currentHideableObjects.forEach(s=>{s.setVisible(!0)}),this.scene.add.tween({targets:this.currentHideableObjects,duration:400,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:0}}),this.background.setAlpha(0),this.scene.add.tween({targets:[this.background],duration:400,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:.6}})}hideMask(){if(!this.currentHideableObjects.length)return;const e=[this.scene.background,...this.currentHideableObjects];this.scene.tweens.killTweensOf(e),this.scene.add.tween({targets:this.currentHideableObjects,duration:400,ease:Phaser.Math.Easing.Quadratic.In,props:{alpha:1},onComplete:()=>{const{groups:t}=this.scene.layoutManager;t.gameUI.reviveGroup(),this.currentHideableObjects=[]}}),this.scene.add.tween({targets:[this.background],duration:400,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:0},onComplete:()=>{this.background.kill()}})}applyItem(e){if(!this.isRunning()||!this.getActiveItem())return!1;let s=!1;switch(this.itemActive){case k.CHANGE_COLOR.ID:{const i=this.items[k.CHANGE_COLOR.ID];i instanceof Dr&&(s=i.useItem(e))}break;default:return!1}return s}getItems(){const e=[];return Object.values(this.items).forEach(t=>{t instanceof Lr||e.push(t)}),e}getItem(e){return this.items[e]||null}updateBombDefuseItemState(){const{tileManager:e,itemManager:t}=this.scene;e.isHavingBomb()||t.disableItem(Vs.ID)}updateRocketItemState(){const{tileManager:e,itemManager:t}=this.scene;e.getAliveTiles().length<4&&t.disableItem(Yo.ID)}createBackground(){this.background=this.scene.make.image({key:vh,frame:Ph.BLANK}),this.background.setTint(0),this.background.setDepth(C.TILE+1);const{displayWidth:e,displayHeight:t}=this.scene.gameZone,s=e+100,i=t+100;this.background.setDisplaySize(s,i),Phaser.Display.Align.In.Center(this.background,this.scene.gameZone),this.background.kill()}createItems(){this.createHintItem(),this.createRocketItem(),this.createDefuseItem(),this.createGuideDefuseItem(),this.createShuffleItem(),this.createNewGameItem(),this.createTimeUpItem(),this.createAutoMatchItem(),this.createResetDataItem(),this.createBackLevelItem(),this.createNextLevelItem(),this.createChangeColorItem(),this.createBombExplosiveItem()}createHintItem(){const{objects:e}=this.scene.layoutManager;this.items[k.HINT.ID]=e.hintItem}createShuffleItem(){const{objects:e}=this.scene.layoutManager;this.items[k.SHUFFLE.ID]=e.shuffleItem}createDefuseItem(){const{objects:e}=this.scene.layoutManager;this.items[k.BOMB_DEFUSE.ID]=e.defuseItem}createGuideDefuseItem(){const{objects:e}=this.scene.layoutManager;this.items[k.GUIDE_BOMB_DEFUSE.ID]=e.guideDefuseItem}createRocketItem(){const{objects:e}=this.scene.layoutManager;this.items[k.ROCKET.ID]=e.rocketItem}createNewGameItem(){const{objects:e}=this.scene.layoutManager;e.newGame&&(this.items[k.NEW_GAME.ID]=e.newGame)}createChangeColorItem(){const{objects:e}=this.scene.layoutManager;e.changeColor&&(this.items[k.CHANGE_COLOR.ID]=e.changeColor)}createResetDataItem(){const{objects:e}=this.scene.layoutManager;e.resetData&&(this.items[k.RESET_DATA.ID]=e.resetData)}createBackLevelItem(){const{objects:e}=this.scene.layoutManager;e.backLevel&&(this.items[k.BACK_LEVEL.ID]=e.backLevel)}createNextLevelItem(){const{objects:e}=this.scene.layoutManager;e.nextLevel&&(this.items[k.NEXT_LEVEL.ID]=e.nextLevel)}createBombExplosiveItem(){const{objects:e}=this.scene.layoutManager;e.bombExplosive&&(this.items[k.BOMB_EXPLOSIVE.ID]=e.bombExplosive)}createTimeUpItem(){const{objects:e}=this.scene.layoutManager;e.timeUp&&(this.items[k.TIME_UP.ID]=e.timeUp)}createAutoMatchItem(){const{objects:e}=this.scene.layoutManager;e.autoMatch&&(this.items[k.AUTO_MATCH.ID]=e.autoMatch)}}const ne={NORMAL:"normal",FALL_DOWN:"fall-down",FLY_UP:"fly-up",PUSH_LEFT:"push-left",PUSH_RIGHT:"push-right",PUT_ROWS_MIDDLE:"put-rows-middle",PUT_COLUMNS_MIDDLE:"put-columns-middle",FLY_UP_PUSH_LEFT:"fly-up-push-left",FLY_UP_PUSH_RIGHT:"fly-up-push-right",FALL_DOWN_PUSH_LEFT:"fall-down-push-left",FALL_DOWN_PUSH_RIGHT:"fall-down-push-right",FLY_UP_PUT_COLUMNS_MIDDLE:"fly-up-put-columns-middle",FALL_DOWN_PUT_COLUMNS_MIDDLE:"fall-down-put-columns-middle"},Sh={MAX_SPACE_OF_PAIR:"maxSpaceOfPair",ADD_RANDOM_TILES_PER_MOVE:"addRandomTilesPerMove"},ns={BIRD:"BIRD",CAKE:"CAKE",FRUIT:"FRUIT",CANDY:"CANDY"},kh=[{level:1,mode:"normal",time:900,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:1,addRandomTilesPerMove:0},columns:5,rows:6,theme:["fruit"],customFen:{code:"",portraitCode:":t01t02t03t03t04:t05t06t05t07t08:t04t09i01t09t07:t10t02i01i01t06:t08t10i01i01t01",desktopCode:":t01t02t03t03t04:t05t06t05t07t08:t04t09i01t09t07:t10t02i01i01t06:t08t10i01i01t01",rows:5,columns:5}},{level:2,mode:"normal",time:900,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["cake"],customFen:{code:"",portraitCode:":t01t02t01t03t04:t05t04t02t06t03:t07t08t08t06t02:t05t09t02t08t07:t10t06t08t10t07:t04t09t05t03t01:t10t10t07t09t09:t01t04t05t03t06",desktopCode:":t01t05t07t05t10t04t10t01:t02t04t08t09t06t09t10t04:t01t02t08t02t08t05t07t05:t03t06t06t08t10t03t09t03:t04t03t02t07t07t01t09t06",rows:8,columns:5}},{level:3,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:3,addRandomTilesPerMove:0},columns:5,rows:8,theme:["candy"],customFen:{code:"",portraitCode:":t01t02t03t02t04:t05t04t06t04t03:t03t06t07t08t07:t01t03t05t02t05:t01t08t08t09t01:t07t09t09t07t10:t02t08t10t06t10:t04t05t06t10t09",desktopCode:":t01t05t03t01t01t07t02t04:t02t04t06t03t08t09t08t05:t03t06t07t05t08t09t10t06:t02t04t08t02t09t07t06t10:t04t03t07t05t01t10t10t09",rows:8,columns:5}},{level:4,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:2,addRandomTilesPerMove:0},columns:5,rows:8,theme:["flower"],customFen:{code:"",portraitCode:":t04t02t03t04t05:t01t06t01t05t07:t05t08t04t09t09:t02t04t02t08t07:t10t10t10t06t08:t03t05t09t01t07:t10t09t03t01t03:t06t07t02t06t08",desktopCode:":t04t01t05t02t10t03t10t06:t02t06t08t04t10t05t09t07:t03t01t04t02t10t09t03t02:t04t05t09t08t06t01t01t06:t05t07t09t07t08t07t03t08",rows:8,columns:5}},{level:5,mode:"push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:1,addRandomTilesPerMove:0},columns:5,rows:8,theme:["food"]},{level:6,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:2,addRandomTilesPerMove:0},columns:5,rows:8,theme:["umbrella"]},{level:7,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:2,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit"]},{level:8,mode:"normal",time:130,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:2,addRandomTilesPerMove:0},columns:6,rows:10,theme:["candy"]},{level:9,mode:"normal",time:130,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["cake"]},{level:10,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["flower"]},{level:11,mode:"fly-up-push-right",time:160,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["food"]},{level:12,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit"]},{level:13,mode:"normal",time:130,colors:15,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["candy"]},{level:14,mode:"fall-down",time:180,colors:14,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:12,theme:["cake"]},{level:15,mode:"push-right",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["umbrella"]},{level:16,mode:"fall-down-push-right",time:100,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit"]},{level:17,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["flower"]},{level:18,mode:"fall-down-push-left",time:100,colors:16,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["food"]},{level:19,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["cake"]},{level:20,mode:"fly-up-push-left",time:160,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["bird"]},{level:21,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:22,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:23,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:24,mode:"normal",time:100,colors:13,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:25,mode:"fly-up",time:160,colors:15,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:26,mode:"push-left",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:27,mode:"normal",time:180,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:28,mode:"push-right",time:100,colors:18,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:29,mode:"fall-down-push-right",time:130,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:30,mode:"fly-up-push-right",time:130,colors:14,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:31,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:32,mode:"fly-up-put-columns-middle",time:160,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:33,mode:"normal",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:34,mode:"put-columns-middle",time:100,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:35,mode:"fall-down",time:160,colors:15,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:36,mode:"fly-up-push-left",time:130,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:37,mode:"normal",time:130,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:38,mode:"fall-down-push-left",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:39,mode:"fall-down",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:40,mode:"put-columns-middle",time:160,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:41,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:42,mode:"fall-down",time:130,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:43,mode:"fly-up-put-columns-middle",time:160,colors:13,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:44,mode:"normal",time:130,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:45,mode:"normal",time:160,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:46,mode:"push-left",time:130,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:47,mode:"put-columns-middle",time:180,colors:15,specials:{bomb:1,rocket:4},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:48,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:49,mode:"normal",time:130,colors:27,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:50,mode:"fall-down",time:160,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:51,mode:"push-right",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:52,mode:"fly-up-put-columns-middle",time:100,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:53,mode:"normal",time:160,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:54,mode:"fly-up",time:130,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:55,mode:"normal",time:160,colors:28,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:56,mode:"normal",time:130,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:57,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:58,mode:"normal",time:130,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:59,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:60,mode:"normal",time:130,colors:21,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:61,mode:"put-rows-middle",time:160,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:62,mode:"fly-up",time:100,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:63,mode:"fall-down",time:180,colors:13,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:64,mode:"fly-up-put-columns-middle",time:160,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:65,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:66,mode:"normal",time:160,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:67,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:68,mode:"fall-down",time:130,colors:25,specials:{bomb:0,rocket:4},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:69,mode:"fly-up",time:160,colors:15,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:70,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:71,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:72,mode:"push-right",time:130,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:73,mode:"normal",time:160,colors:18,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:74,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:75,mode:"fall-down",time:160,colors:18,specials:{bomb:2,rocket:4},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:76,mode:"fall-down-push-left",time:100,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:77,mode:"normal",time:160,colors:26,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:78,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:79,mode:"put-rows-middle",time:100,colors:19,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:80,mode:"fly-up-push-right",time:180,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:81,mode:"normal",time:130,colors:14,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:82,mode:"fall-down",time:160,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:83,mode:"normal",time:130,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:84,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:85,mode:"normal",time:160,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:86,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:87,mode:"normal",time:130,colors:19,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:88,mode:"normal",time:160,colors:24,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:89,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:90,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:91,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:92,mode:"fall-down",time:160,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:93,mode:"normal",time:130,colors:15,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:94,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:95,mode:"put-columns-middle",time:130,colors:28,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:96,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:97,mode:"fly-up",time:180,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:98,mode:"normal",time:160,colors:24,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:99,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:100,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:101,mode:"put-columns-middle",time:180,colors:16,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:102,mode:"fall-down-put-columns-middle",time:180,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:103,mode:"normal",time:160,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:104,mode:"put-columns-middle",time:180,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:105,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:106,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:107,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:108,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:109,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:110,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:111,mode:"fall-down-push-right",time:160,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:112,mode:"normal",time:160,colors:25,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:113,mode:"normal",time:160,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:114,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:115,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:116,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:117,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:118,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:119,mode:"normal",time:160,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:120,mode:"fall-down-put-columns-middle",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:121,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:122,mode:"normal",time:130,colors:26,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:123,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:124,mode:"fly-up",time:130,colors:25,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:125,mode:"normal",time:160,colors:22,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:126,mode:"fly-up-push-right",time:130,colors:26,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:127,mode:"fall-down-push-left",time:100,colors:16,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:128,mode:"normal",time:130,colors:26,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:129,mode:"normal",time:160,colors:24,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:130,mode:"fall-down",time:160,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:131,mode:"normal",time:160,colors:19,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:132,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:133,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:134,mode:"fall-down-push-left",time:160,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:135,mode:"fly-up",time:130,colors:26,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:136,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:137,mode:"fall-down-push-left",time:100,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:138,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:139,mode:"push-left",time:130,colors:27,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:140,mode:"fall-down",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:141,mode:"push-right",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:142,mode:"push-right",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:143,mode:"fly-up",time:130,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:144,mode:"push-left",time:130,colors:15,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:145,mode:"normal",time:180,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:146,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:147,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:148,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:149,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:150,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:151,mode:"normal",time:100,colors:18,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:152,mode:"normal",time:130,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:153,mode:"fly-up",time:160,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:154,mode:"normal",time:180,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:155,mode:"fall-down-push-left",time:160,colors:16,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:156,mode:"fly-up-push-right",time:160,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:157,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:158,mode:"fall-down-push-right",time:160,colors:26,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:159,mode:"normal",time:160,colors:17,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:160,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:161,mode:"normal",time:100,colors:15,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:162,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:163,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:164,mode:"normal",time:130,colors:17,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:165,mode:"normal",time:130,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:166,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:167,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:168,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:169,mode:"fly-up-put-columns-middle",time:130,colors:21,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:170,mode:"push-right",time:180,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:171,mode:"fly-up-push-right",time:130,colors:13,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:172,mode:"fly-up",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:173,mode:"push-right",time:100,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:174,mode:"fall-down-put-columns-middle",time:100,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:175,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:176,mode:"normal",time:160,colors:14,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:177,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:178,mode:"push-right",time:160,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:179,mode:"fly-up-push-right",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:180,mode:"normal",time:130,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:181,mode:"normal",time:180,colors:25,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:182,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:183,mode:"normal",time:100,colors:19,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:184,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:185,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:186,mode:"fly-up",time:160,colors:14,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:187,mode:"push-right",time:160,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:188,mode:"fly-up-push-right",time:180,colors:13,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:189,mode:"push-left",time:130,colors:25,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:190,mode:"normal",time:160,colors:13,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:191,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:192,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:193,mode:"fly-up-push-left",time:130,colors:19,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:194,mode:"push-left",time:100,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:195,mode:"fly-up",time:100,colors:17,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:196,mode:"fall-down-push-left",time:100,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:197,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:198,mode:"push-left",time:100,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:199,mode:"fall-down-put-columns-middle",time:160,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:200,mode:"normal",time:100,colors:19,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:201,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:202,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:203,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:204,mode:"fall-down-push-left",time:130,colors:13,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:205,mode:"fly-up-push-left",time:100,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:206,mode:"fly-up-put-columns-middle",time:160,colors:18,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:207,mode:"put-rows-middle",time:100,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:208,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:209,mode:"fly-up-push-left",time:100,colors:14,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:210,mode:"push-left",time:100,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:211,mode:"fall-down-push-left",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:212,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:213,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:214,mode:"fly-up-push-right",time:100,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:215,mode:"normal",time:130,colors:14,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:216,mode:"normal",time:160,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:217,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:218,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:219,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:220,mode:"fly-up-push-right",time:160,colors:24,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:221,mode:"normal",time:130,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:222,mode:"normal",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:223,mode:"normal",time:100,colors:18,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:224,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:225,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:226,mode:"fly-up",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:227,mode:"fly-up-push-right",time:130,colors:26,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:228,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:229,mode:"normal",time:100,colors:16,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:230,mode:"fall-down",time:100,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:231,mode:"push-right",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:232,mode:"push-right",time:130,colors:14,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:233,mode:"fall-down-push-right",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:234,mode:"normal",time:160,colors:22,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:235,mode:"normal",time:160,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:236,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:237,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:238,mode:"normal",time:160,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:239,mode:"push-right",time:160,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:240,mode:"normal",time:130,colors:15,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:241,mode:"fall-down-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:242,mode:"fall-down",time:130,colors:26,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:243,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:244,mode:"normal",time:160,colors:14,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:245,mode:"fall-down",time:130,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:246,mode:"fall-down-put-columns-middle",time:130,colors:13,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:247,mode:"normal",time:130,colors:27,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:248,mode:"normal",time:160,colors:23,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:249,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:250,mode:"put-rows-middle",time:100,colors:14,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:251,mode:"normal",time:160,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:252,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:253,mode:"fly-up",time:180,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:254,mode:"push-left",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:255,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:256,mode:"normal",time:130,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:257,mode:"put-rows-middle",time:160,colors:28,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:258,mode:"fall-down-push-left",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:259,mode:"put-rows-middle",time:130,colors:25,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:260,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:261,mode:"normal",time:100,colors:13,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:262,mode:"fall-down-push-left",time:100,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:263,mode:"normal",time:160,colors:28,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:264,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:265,mode:"normal",time:180,colors:17,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:266,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:267,mode:"normal",time:180,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:268,mode:"fall-down-push-left",time:130,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:269,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:270,mode:"normal",time:180,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:271,mode:"normal",time:100,colors:19,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:272,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:273,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:274,mode:"normal",time:130,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:275,mode:"normal",time:130,colors:16,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:276,mode:"fly-up",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:277,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:278,mode:"fall-down-put-columns-middle",time:180,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:279,mode:"fly-up-put-columns-middle",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:280,mode:"normal",time:160,colors:19,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:281,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:282,mode:"normal",time:130,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:283,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:284,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:285,mode:"normal",time:130,colors:16,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:286,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:287,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:288,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:289,mode:"normal",time:130,colors:27,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:290,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:291,mode:"fly-up-push-right",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:292,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:293,mode:"fly-up-push-left",time:100,colors:17,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:294,mode:"put-rows-middle",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:295,mode:"fly-up",time:160,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:296,mode:"put-columns-middle",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:297,mode:"normal",time:100,colors:17,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:298,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:299,mode:"fly-up-put-columns-middle",time:130,colors:19,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:300,mode:"put-columns-middle",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:301,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:302,mode:"normal",time:130,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:303,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:304,mode:"normal",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:305,mode:"fall-down",time:100,colors:18,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:306,mode:"push-right",time:160,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:307,mode:"fall-down",time:130,colors:17,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:308,mode:"normal",time:130,colors:23,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:309,mode:"fly-up-push-right",time:100,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:310,mode:"normal",time:130,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:311,mode:"fall-down",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:312,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:313,mode:"fall-down-put-columns-middle",time:130,colors:16,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:314,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:315,mode:"normal",time:130,colors:24,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:316,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:317,mode:"normal",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:318,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:319,mode:"fly-up-push-left",time:130,colors:14,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:320,mode:"fly-up-push-left",time:160,colors:23,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:321,mode:"normal",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:322,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:323,mode:"push-left",time:160,colors:26,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:324,mode:"push-right",time:130,colors:21,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:325,mode:"normal",time:130,colors:27,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:326,mode:"put-rows-middle",time:130,colors:28,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:327,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:328,mode:"push-left",time:130,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:329,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:330,mode:"push-right",time:160,colors:28,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:331,mode:"push-right",time:100,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:332,mode:"fly-up-put-columns-middle",time:100,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:333,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:334,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:335,mode:"fall-down-push-left",time:130,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:336,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:337,mode:"fly-up-push-right",time:160,colors:19,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:338,mode:"fall-down",time:160,colors:21,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:339,mode:"push-right",time:100,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:340,mode:"normal",time:160,colors:14,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:341,mode:"push-left",time:100,colors:16,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:342,mode:"normal",time:180,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:343,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:344,mode:"push-right",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:345,mode:"put-columns-middle",time:160,colors:13,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:346,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:347,mode:"normal",time:160,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:348,mode:"normal",time:130,colors:24,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:349,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:350,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:351,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:352,mode:"normal",time:100,colors:18,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:353,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:354,mode:"put-rows-middle",time:160,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:355,mode:"fly-up-put-columns-middle",time:130,colors:13,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:356,mode:"fly-up",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:357,mode:"normal",time:100,colors:14,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:358,mode:"push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:359,mode:"fall-down",time:100,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:360,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:361,mode:"fall-down-push-left",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:362,mode:"fly-up-put-columns-middle",time:130,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:363,mode:"fall-down",time:180,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:364,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:365,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:366,mode:"normal",time:130,colors:23,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:367,mode:"normal",time:130,colors:24,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:368,mode:"push-left",time:100,colors:16,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:369,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:370,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:371,mode:"normal",time:160,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:372,mode:"normal",time:130,colors:12,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:373,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:374,mode:"push-left",time:100,colors:16,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:375,mode:"push-right",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:376,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:377,mode:"normal",time:160,colors:22,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:378,mode:"put-columns-middle",time:160,colors:25,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:379,mode:"push-left",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:380,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:381,mode:"fly-up-push-left",time:180,colors:28,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:382,mode:"normal",time:130,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:383,mode:"fly-up",time:100,colors:18,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:384,mode:"fall-down",time:160,colors:22,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:385,mode:"fall-down-put-columns-middle",time:100,colors:18,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:386,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:387,mode:"fall-down",time:180,colors:19,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:388,mode:"fly-up-push-right",time:130,colors:26,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:389,mode:"push-left",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:390,mode:"fly-up-put-columns-middle",time:180,colors:13,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:391,mode:"normal",time:100,colors:13,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:392,mode:"normal",time:130,colors:16,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:393,mode:"fly-up-push-right",time:160,colors:26,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:394,mode:"normal",time:130,colors:26,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:395,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:396,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:397,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:398,mode:"push-left",time:160,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:399,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:400,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:401,mode:"fly-up-push-right",time:100,colors:16,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:402,mode:"fall-down",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:403,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:404,mode:"normal",time:160,colors:26,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:405,mode:"normal",time:160,colors:28,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:406,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:407,mode:"normal",time:100,colors:18,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:408,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:409,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:410,mode:"fall-down-put-columns-middle",time:160,colors:18,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:411,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:412,mode:"fall-down",time:160,colors:19,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:413,mode:"fall-down-put-columns-middle",time:160,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:414,mode:"fly-up",time:130,colors:24,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:415,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:416,mode:"push-right",time:160,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:417,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:418,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:419,mode:"push-left",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:420,mode:"put-columns-middle",time:130,colors:23,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:421,mode:"fly-up-put-columns-middle",time:100,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:422,mode:"fall-down-put-columns-middle",time:160,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:423,mode:"fly-up-put-columns-middle",time:160,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:424,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:425,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:426,mode:"fall-down",time:130,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:427,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:428,mode:"normal",time:130,colors:12,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:429,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:430,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:431,mode:"normal",time:130,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:432,mode:"put-rows-middle",time:100,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:433,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:434,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:435,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:436,mode:"push-right",time:160,colors:27,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:437,mode:"fall-down-push-right",time:130,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:438,mode:"put-columns-middle",time:130,colors:27,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:439,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:440,mode:"normal",time:160,colors:25,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:441,mode:"fly-up-put-columns-middle",time:160,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:442,mode:"push-right",time:160,colors:25,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:443,mode:"normal",time:160,colors:19,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:444,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:445,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:446,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:447,mode:"fall-down-push-left",time:180,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:448,mode:"fall-down-push-right",time:160,colors:25,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:449,mode:"put-columns-middle",time:160,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:450,mode:"push-right",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:451,mode:"fly-up-put-columns-middle",time:160,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:452,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:453,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:454,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:455,mode:"normal",time:160,colors:22,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:456,mode:"push-right",time:130,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:457,mode:"fly-up-put-columns-middle",time:160,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:458,mode:"fall-down-put-columns-middle",time:160,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:459,mode:"normal",time:100,colors:14,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:460,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:461,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:462,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:463,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:464,mode:"put-rows-middle",time:100,colors:13,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:465,mode:"normal",time:130,colors:24,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:466,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:467,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:468,mode:"push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:469,mode:"normal",time:160,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:470,mode:"normal",time:160,colors:17,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:471,mode:"fall-down-push-right",time:100,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:472,mode:"fall-down",time:160,colors:17,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:473,mode:"normal",time:160,colors:25,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:474,mode:"push-right",time:130,colors:25,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:475,mode:"normal",time:160,colors:15,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:476,mode:"fall-down-push-left",time:180,colors:14,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:477,mode:"fall-down",time:100,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:478,mode:"push-right",time:180,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:479,mode:"normal",time:130,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:480,mode:"normal",time:160,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:481,mode:"fly-up-push-left",time:100,colors:18,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:482,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:483,mode:"put-columns-middle",time:130,colors:24,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:484,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:485,mode:"fall-down-put-columns-middle",time:180,colors:15,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:486,mode:"normal",time:130,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:487,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:488,mode:"fall-down-push-right",time:130,colors:24,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:489,mode:"normal",time:160,colors:25,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:490,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:491,mode:"fly-up-put-columns-middle",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:492,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:493,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:494,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:495,mode:"normal",time:130,colors:28,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:496,mode:"normal",time:180,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:497,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:498,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:499,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:500,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:501,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:502,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:503,mode:"fall-down",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:504,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:505,mode:"push-right",time:160,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:506,mode:"fly-up",time:160,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:507,mode:"push-right",time:100,colors:19,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:508,mode:"fly-up-push-right",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:509,mode:"push-right",time:100,colors:16,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:510,mode:"put-rows-middle",time:160,colors:25,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:511,mode:"normal",time:160,colors:19,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:512,mode:"push-right",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:513,mode:"fall-down-push-right",time:100,colors:14,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:514,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:515,mode:"fly-up-put-columns-middle",time:160,colors:25,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:516,mode:"push-right",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:517,mode:"push-left",time:180,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:518,mode:"normal",time:130,colors:24,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:519,mode:"normal",time:160,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:520,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:521,mode:"push-right",time:130,colors:22,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:522,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:523,mode:"normal",time:130,colors:25,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:524,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:525,mode:"fall-down",time:160,colors:15,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:526,mode:"fly-up-push-left",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:527,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:528,mode:"normal",time:160,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:529,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:530,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:531,mode:"fall-down-put-columns-middle",time:100,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:532,mode:"fall-down-push-right",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:533,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:534,mode:"normal",time:130,colors:25,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:535,mode:"normal",time:130,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:536,mode:"normal",time:160,colors:15,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:537,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:538,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:539,mode:"normal",time:130,colors:19,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:540,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:541,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:542,mode:"fly-up-put-columns-middle",time:130,colors:26,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:543,mode:"fall-down-push-left",time:100,colors:12,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:544,mode:"push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:545,mode:"put-rows-middle",time:100,colors:15,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:546,mode:"fall-down-put-columns-middle",time:160,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:547,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:548,mode:"fly-up",time:160,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:549,mode:"fly-up",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:550,mode:"normal",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:551,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:552,mode:"normal",time:130,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:553,mode:"fly-up-put-columns-middle",time:100,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:554,mode:"fall-down-push-right",time:100,colors:16,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:555,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:556,mode:"fly-up-push-left",time:100,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:557,mode:"normal",time:160,colors:16,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:558,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:559,mode:"put-rows-middle",time:160,colors:16,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:560,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:561,mode:"normal",time:130,colors:15,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:562,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:563,mode:"put-columns-middle",time:130,colors:16,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:564,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:565,mode:"fly-up-put-columns-middle",time:160,colors:14,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:566,mode:"fall-down-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:567,mode:"normal",time:130,colors:28,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:568,mode:"push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:569,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:570,mode:"fall-down-push-right",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:571,mode:"normal",time:180,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:572,mode:"normal",time:130,colors:23,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:573,mode:"normal",time:160,colors:22,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:574,mode:"put-columns-middle",time:100,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:575,mode:"normal",time:130,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:576,mode:"fall-down-put-columns-middle",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:577,mode:"normal",time:130,colors:26,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:578,mode:"fall-down-push-right",time:160,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:579,mode:"push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:580,mode:"fall-down-put-columns-middle",time:130,colors:19,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:581,mode:"fly-up-push-left",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:582,mode:"fly-up-push-right",time:100,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:583,mode:"put-columns-middle",time:130,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:584,mode:"fly-up",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:585,mode:"normal",time:130,colors:28,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:586,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:587,mode:"normal",time:130,colors:17,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:588,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:589,mode:"put-rows-middle",time:100,colors:18,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:590,mode:"fall-down",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:591,mode:"fall-down-put-columns-middle",time:130,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:592,mode:"fly-up",time:160,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:593,mode:"fly-up-put-columns-middle",time:160,colors:28,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:594,mode:"fall-down-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:595,mode:"fall-down-push-left",time:160,colors:17,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:596,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:597,mode:"normal",time:130,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:598,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:599,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:600,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:601,mode:"fall-down",time:160,colors:23,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:602,mode:"put-columns-middle",time:160,colors:27,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:603,mode:"fall-down-push-right",time:100,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:604,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:605,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:606,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:607,mode:"normal",time:160,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:608,mode:"fall-down-push-left",time:180,colors:24,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:609,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:610,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:611,mode:"normal",time:130,colors:24,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:612,mode:"put-rows-middle",time:130,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:613,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:614,mode:"normal",time:180,colors:28,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:615,mode:"fly-up-push-right",time:130,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:616,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:617,mode:"put-rows-middle",time:160,colors:15,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:618,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:619,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:620,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:621,mode:"fly-up-put-columns-middle",time:130,colors:22,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:622,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:623,mode:"fall-down",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:624,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:625,mode:"fly-up-push-left",time:180,colors:14,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:626,mode:"fly-up-put-columns-middle",time:130,colors:21,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:627,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:628,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:629,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:630,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:631,mode:"push-left",time:100,colors:19,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:632,mode:"normal",time:180,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:633,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:634,mode:"normal",time:160,colors:15,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:635,mode:"fall-down",time:130,colors:25,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:636,mode:"push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:637,mode:"normal",time:160,colors:25,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:638,mode:"put-columns-middle",time:100,colors:16,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:639,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:640,mode:"put-columns-middle",time:130,colors:27,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:641,mode:"put-columns-middle",time:100,colors:17,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:642,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:643,mode:"fly-up",time:130,colors:21,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:644,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:645,mode:"fall-down",time:100,colors:19,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:646,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:647,mode:"fall-down-push-right",time:100,colors:19,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:648,mode:"normal",time:130,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:649,mode:"fly-up-put-columns-middle",time:130,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:650,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:651,mode:"normal",time:130,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:652,mode:"fly-up-push-left",time:100,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:653,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:654,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:655,mode:"fly-up-push-left",time:100,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:656,mode:"fall-down",time:180,colors:22,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:657,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:658,mode:"push-right",time:100,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:659,mode:"normal",time:100,colors:18,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:660,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:661,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:662,mode:"push-left",time:160,colors:24,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:663,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:664,mode:"fly-up",time:160,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:665,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:666,mode:"fly-up-push-left",time:130,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:667,mode:"put-columns-middle",time:130,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:668,mode:"normal",time:160,colors:24,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:669,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:670,mode:"put-rows-middle",time:160,colors:28,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:671,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:672,mode:"normal",time:100,colors:18,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:673,mode:"fall-down-put-columns-middle",time:160,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:674,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:675,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:676,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:677,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:678,mode:"fall-down-push-left",time:130,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:679,mode:"fly-up",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:680,mode:"fly-up-push-left",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:681,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:682,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:683,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:684,mode:"fall-down-push-right",time:100,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:685,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:686,mode:"normal",time:130,colors:14,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:687,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:688,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:689,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:690,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:691,mode:"normal",time:160,colors:22,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:692,mode:"normal",time:160,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:693,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:694,mode:"push-left",time:130,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:695,mode:"normal",time:130,colors:15,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:696,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:697,mode:"normal",time:130,colors:14,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:698,mode:"fly-up-put-columns-middle",time:130,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:699,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:700,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:701,mode:"normal",time:130,colors:23,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:702,mode:"fly-up-put-columns-middle",time:160,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:703,mode:"fall-down-push-left",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:704,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:705,mode:"normal",time:130,colors:26,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:706,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:707,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:708,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:709,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:710,mode:"normal",time:100,colors:13,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:711,mode:"fall-down-push-left",time:160,colors:15,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:712,mode:"fall-down-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:713,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:714,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:715,mode:"push-left",time:130,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:716,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:717,mode:"fly-up",time:160,colors:18,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:718,mode:"put-columns-middle",time:160,colors:15,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:719,mode:"push-right",time:100,colors:18,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:720,mode:"fly-up-put-columns-middle",time:130,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:721,mode:"push-right",time:180,colors:21,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:722,mode:"normal",time:160,colors:28,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:723,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:724,mode:"push-left",time:160,colors:17,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:725,mode:"normal",time:130,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:726,mode:"fly-up-push-right",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:727,mode:"push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:728,mode:"normal",time:130,colors:26,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:729,mode:"fall-down",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:730,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:731,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:732,mode:"fly-up-push-right",time:160,colors:23,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:733,mode:"normal",time:130,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:734,mode:"fall-down-put-columns-middle",time:130,colors:21,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:735,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:736,mode:"normal",time:180,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:737,mode:"fly-up",time:160,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:738,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:739,mode:"normal",time:160,colors:13,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:740,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:741,mode:"normal",time:160,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:742,mode:"normal",time:100,colors:19,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:743,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:744,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:745,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:746,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:747,mode:"fall-down-put-columns-middle",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:748,mode:"normal",time:130,colors:17,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:749,mode:"normal",time:160,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:750,mode:"fall-down-push-right",time:160,colors:14,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:751,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:752,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:753,mode:"normal",time:130,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:754,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:755,mode:"normal",time:100,colors:16,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:756,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:757,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:758,mode:"normal",time:160,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:759,mode:"fly-up-push-left",time:130,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:760,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:761,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:762,mode:"normal",time:160,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:763,mode:"fall-down",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:764,mode:"fly-up",time:160,colors:13,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:765,mode:"fly-up-push-left",time:180,colors:14,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:766,mode:"push-right",time:180,colors:19,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:767,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:768,mode:"put-rows-middle",time:160,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:769,mode:"normal",time:180,colors:13,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:770,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:771,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:772,mode:"normal",time:130,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:773,mode:"put-rows-middle",time:160,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:774,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:775,mode:"put-columns-middle",time:160,colors:24,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:776,mode:"normal",time:160,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:777,mode:"push-right",time:160,colors:25,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:778,mode:"fly-up-push-left",time:100,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:779,mode:"fly-up-put-columns-middle",time:100,colors:18,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:780,mode:"normal",time:130,colors:23,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:781,mode:"normal",time:160,colors:15,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:782,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:783,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:784,mode:"normal",time:100,colors:15,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:785,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:786,mode:"normal",time:130,colors:15,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:787,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:788,mode:"fall-down-push-left",time:160,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:789,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:790,mode:"fly-up-push-right",time:160,colors:22,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:791,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:792,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:793,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:794,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:795,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:796,mode:"fly-up-push-right",time:130,colors:25,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:797,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:798,mode:"normal",time:160,colors:22,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:799,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:800,mode:"push-right",time:100,colors:19,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:801,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:802,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:803,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:804,mode:"fall-down-push-right",time:100,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:805,mode:"fly-up-push-left",time:160,colors:22,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:806,mode:"normal",time:160,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:807,mode:"normal",time:160,colors:24,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:808,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:809,mode:"push-right",time:130,colors:17,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:810,mode:"fly-up-push-left",time:160,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:811,mode:"fly-up",time:130,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:812,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:813,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:814,mode:"normal",time:160,colors:14,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:815,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:816,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:817,mode:"normal",time:100,colors:19,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:818,mode:"fly-up-put-columns-middle",time:130,colors:15,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:819,mode:"normal",time:160,colors:26,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:820,mode:"fly-up-put-columns-middle",time:130,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:821,mode:"put-columns-middle",time:130,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:822,mode:"push-left",time:130,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:823,mode:"fall-down-push-right",time:160,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:824,mode:"fly-up",time:100,colors:17,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:825,mode:"normal",time:160,colors:15,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:826,mode:"push-right",time:100,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:827,mode:"normal",time:130,colors:27,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:828,mode:"normal",time:130,colors:21,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:829,mode:"fly-up",time:130,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:830,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:831,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:832,mode:"fall-down-push-left",time:160,colors:17,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:833,mode:"normal",time:130,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:834,mode:"fall-down-push-left",time:100,colors:19,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:835,mode:"push-left",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:836,mode:"normal",time:100,colors:16,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:837,mode:"normal",time:130,colors:15,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:838,mode:"normal",time:160,colors:16,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:839,mode:"normal",time:130,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:840,mode:"normal",time:100,colors:17,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:841,mode:"normal",time:130,colors:27,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:842,mode:"put-rows-middle",time:100,colors:19,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:843,mode:"fly-up-put-columns-middle",time:100,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:844,mode:"fly-up-push-right",time:130,colors:23,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:845,mode:"normal",time:130,colors:25,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:846,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:847,mode:"normal",time:100,colors:15,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:848,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:849,mode:"push-right",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:850,mode:"normal",time:160,colors:27,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:851,mode:"put-rows-middle",time:100,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:852,mode:"fly-up-put-columns-middle",time:160,colors:25,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:853,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:854,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:855,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:856,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:857,mode:"fly-up-put-columns-middle",time:130,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:858,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:859,mode:"fall-down-push-right",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:860,mode:"normal",time:180,colors:19,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:861,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:862,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:863,mode:"fall-down",time:160,colors:15,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:864,mode:"fall-down-push-left",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:865,mode:"fall-down",time:160,colors:21,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:866,mode:"fall-down-push-left",time:160,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:867,mode:"fly-up-put-columns-middle",time:130,colors:13,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:868,mode:"normal",time:130,colors:27,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:869,mode:"normal",time:180,colors:25,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:870,mode:"normal",time:100,colors:13,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:871,mode:"normal",time:160,colors:19,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:872,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:873,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:874,mode:"fly-up-put-columns-middle",time:100,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:875,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:876,mode:"normal",time:180,colors:28,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:877,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:878,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:879,mode:"fly-up-push-left",time:130,colors:25,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:880,mode:"fly-up",time:160,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:881,mode:"normal",time:160,colors:25,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:882,mode:"normal",time:160,colors:22,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:883,mode:"normal",time:180,colors:24,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:884,mode:"normal",time:180,colors:17,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:885,mode:"fall-down-push-left",time:100,colors:17,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:886,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:887,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:888,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:889,mode:"normal",time:100,colors:16,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:890,mode:"normal",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:891,mode:"fly-up-push-right",time:160,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:892,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:893,mode:"normal",time:160,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:894,mode:"fall-down",time:180,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:895,mode:"fly-up",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:896,mode:"normal",time:160,colors:27,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:897,mode:"put-rows-middle",time:160,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:898,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:899,mode:"fly-up-push-left",time:100,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:900,mode:"fall-down-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:901,mode:"fall-down-push-right",time:100,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:902,mode:"fly-up-put-columns-middle",time:130,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:903,mode:"normal",time:160,colors:17,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:904,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:905,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:906,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:907,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:908,mode:"fly-up-push-right",time:100,colors:19,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:909,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:910,mode:"push-left",time:160,colors:26,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:911,mode:"put-columns-middle",time:130,colors:16,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:912,mode:"fall-down-push-left",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:913,mode:"normal",time:100,colors:14,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:914,mode:"fall-down",time:130,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:915,mode:"fall-down-push-left",time:160,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:916,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:917,mode:"fall-down-push-left",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:918,mode:"normal",time:130,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:919,mode:"fall-down-put-columns-middle",time:160,colors:25,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:920,mode:"put-rows-middle",time:100,colors:14,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:921,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:922,mode:"fall-down",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:923,mode:"normal",time:160,colors:16,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:924,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:925,mode:"normal",time:130,colors:15,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:926,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:927,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:928,mode:"fly-up-push-right",time:100,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:929,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:930,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:931,mode:"fly-up",time:130,colors:24,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:932,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:933,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:934,mode:"normal",time:130,colors:17,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:935,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:936,mode:"put-rows-middle",time:160,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:937,mode:"fly-up-put-columns-middle",time:160,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:938,mode:"normal",time:130,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:939,mode:"normal",time:130,colors:14,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:940,mode:"normal",time:160,colors:26,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:941,mode:"normal",time:180,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:942,mode:"normal",time:130,colors:14,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:943,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:944,mode:"fly-up",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:945,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:946,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:947,mode:"normal",time:130,colors:24,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:948,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:949,mode:"put-rows-middle",time:130,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:950,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:951,mode:"normal",time:130,colors:28,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:952,mode:"fall-down",time:130,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:953,mode:"fly-up-put-columns-middle",time:130,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:954,mode:"put-columns-middle",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:955,mode:"fly-up",time:160,colors:24,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:956,mode:"normal",time:130,colors:19,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:957,mode:"fall-down",time:160,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:958,mode:"fly-up-push-left",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:959,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:960,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:961,mode:"fly-up-push-right",time:180,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:962,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:963,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:964,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:965,mode:"fall-down-push-left",time:130,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:966,mode:"normal",time:180,colors:23,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:967,mode:"normal",time:160,colors:26,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:968,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:969,mode:"normal",time:130,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:970,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:971,mode:"normal",time:130,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:972,mode:"fall-down",time:130,colors:17,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:973,mode:"put-columns-middle",time:130,colors:27,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:974,mode:"fall-down",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:975,mode:"fly-up",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:976,mode:"fall-down-put-columns-middle",time:160,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:977,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:978,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:979,mode:"fall-down-push-right",time:160,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:980,mode:"push-left",time:160,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:981,mode:"normal",time:160,colors:15,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:982,mode:"normal",time:130,colors:14,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:983,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:984,mode:"fly-up-push-left",time:130,colors:28,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:985,mode:"fly-up",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:986,mode:"normal",time:130,colors:18,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:987,mode:"fall-down-put-columns-middle",time:160,colors:22,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:988,mode:"fly-up-push-left",time:130,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:989,mode:"normal",time:130,colors:13,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:990,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:991,mode:"fly-up",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:992,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:993,mode:"put-columns-middle",time:100,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:994,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:995,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:996,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:997,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:998,mode:"fly-up-put-columns-middle",time:160,colors:15,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:999,mode:"fall-down-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:1e3,mode:"normal",time:160,colors:23,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:1001,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]}],{BOMB:xh,ROCKET:Rh}=N.SPECIALS,{ADD_RANDOM_TILES_PER_MOVE:Oh,MAX_SPACE_OF_PAIR:Ah}=Sh,Ko=Object.values(ne),Ih={toString:()=>Ko[Math.floor(Math.random()*Ko.length)]},gt=[{level:0,mode:Ih,time:120,rows:12,columns:7,colors:28,specials:{[xh]:10,[Rh]:5},rules:{[Ah]:15,[Oh]:35},theme:[ns.BIRD,ns.CAKE,ns.FRUIT,ns.CANDY]},...kh],{Gameplay:Wo}=GameCore.Configs;class Mh{scene;level=0;targetScore=0;gameLevel;levelConfig;constructor(e){this.scene=e,this.gameLevel=gt}init(){const e=this.scene.player.getCustomData("levelProgress");this.level=Wo.StartLevel,GameCore.Utils.Valid.isNumber(e)&&(this.level=e),this.setConfig(this.level)}getConfigs(){return this.levelConfig}isLevelHaveBomb(){return!!(this.levelConfig.specials&&this.levelConfig.specials.bomb!==void 0&&this.levelConfig.specials.bomb>0||this.levelConfig.customFen&&this.levelConfig.customFen.code.includes("b"))}getConfigByLevel(e){const t=gt.length-1;return e>t?this.createNewRandomLevel(e):this.gameLevel[e]}up(){const e=this.canLevelUp(this.level);return this.level=e,this.setConfig(e),this.scene.player.setCustomData("levelProgress",e),!0}canLevelUp(e){return e+1}setConfig(e){const t=gt.length-1,s=e>t,i=s?t:e;s?this.levelConfig=this.createNewRandomLevel(e):this.levelConfig=GameCore.Utils.Json.clone(this.gameLevel[i]);let o=this.levelConfig.rows,r=this.levelConfig.columns;if(!this.levelConfig)return;this.levelConfig.customFen&&(this.levelConfig.rows=this.levelConfig.customFen.rows,o=this.levelConfig.rows,this.levelConfig.columns=this.levelConfig.customFen.columns,r=this.levelConfig.columns,this.levelConfig.customFen.code=this.levelConfig.customFen.portraitCode),this.scene.world.isLandscape()&&(this.levelConfig.rows=r,this.levelConfig.columns=o,this.levelConfig.customFen&&(this.levelConfig.customFen.code=this.levelConfig.customFen?.desktopCode));const{rows:n,columns:l}=this.levelConfig,c=5,d=n*l,m=c*d;this.targetScore=s?m+400:m}createNewRandomLevel(e){const t=gt.length-1,s=(e-t)%5;let i=8,o=5,r="normal",n=100,l=0,c=0,d=20;const m=Phaser.Math.RND.between(2,4);switch(s){case 1:i=10,o=6,r="fly-up-push-right",n=130,c=1,d=Phaser.Math.RND.between(12,24);break;case 2:i=10,o=7,r="fly-up-push-left",n=160,c=Phaser.Math.RND.between(1,3),l=2,d=Phaser.Math.RND.between(12,24);break;case 3:i=12,o=7,r="fall-down-push-left",n=180,c=1,d=Phaser.Math.RND.between(12,24);break;case 4:i=12,o=7,r="fall-down-push-right",n=200,c=Phaser.Math.RND.between(1,2),l=2,d=Phaser.Math.RND.between(24,28);break}return{level:e,mode:r,time:n,colors:d,specials:{bomb:l,rocket:c},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:m},columns:o,rows:i,theme:Wo.Themes}}}class Ch extends Pe{scene;delayModeTimer;checkApplyModeTimer;constructor(e){super(e),this.scene=e,this.scene.events.on(N.EVENTS.NEXT_TURN,this.updateNextTurnState)}processGravityMode=()=>{const{modeManager:e,tileManager:t,animationManager:s}=this.scene;this.delayModeTimer?.remove(),this.checkApplyModeTimer?.remove(),s.isMoveTilesCompleted=!1,this.delayModeTimer=this.scene.time.addEvent({delay:300,callback:()=>{if(this.checkApplyModeTimer?.remove(),t.getAliveTiles().length<=14){this.processAfterGravityMode();return}e.applyMode(),this.checkApplyModeTimer=this.scene.time.addEvent({delay:100,repeat:20,callback:()=>{s.isMoveTilesCompleted&&(this.checkApplyModeTimer.remove(),this.processAfterGravityMode())}})}})};processAfterGravityMode(){const{tileManager:e,boardManager:t}=this.scene;if(!e.isCanMove()){e.processOutOfMove();return}if(e.handleExtraSpawn()){this.processGravityMode();return}t.processNoAvailableMatches()}updateNextTurnState=()=>{const{animationManager:e,itemManager:t,tileManager:s}=this.scene;s.isSelectable=!0,t.setIsUseableItem(!0),e.isMoveTilesCompleted=!0};applyMode=()=>{const{animationManager:e,levelHandler:t}=this.scene,{mode:s}=t.getConfigs(),{moveDuration:i}=e,o=i+10;switch(s.toString()){case ne.NORMAL:e.isMoveTilesCompleted=!0;break;case ne.FALL_DOWN:this.tilesFallDown(0);break;case ne.FLY_UP:this.tilesFlyUp(0);break;case ne.PUSH_LEFT:this.tilesPushLeft(0);break;case ne.PUSH_RIGHT:this.tilesPushRight(0);break;case ne.FALL_DOWN_PUSH_LEFT:this.tilesFallDown(0),this.tilesPushLeft(o);break;case ne.FLY_UP_PUSH_RIGHT:this.tilesFlyUp(0),this.tilesPushRight(o);break;case ne.FALL_DOWN_PUSH_RIGHT:this.tilesFallDown(0),this.tilesPushRight(o);break;case ne.FLY_UP_PUSH_LEFT:this.tilesFlyUp(0),this.tilesPushLeft(o);break;case ne.PUT_COLUMNS_MIDDLE:this.tilesPutColumnsMiddle(0);break;case ne.PUT_ROWS_MIDDLE:this.tilesPutRowsMiddle(0);break;case ne.FALL_DOWN_PUT_COLUMNS_MIDDLE:this.tilesFallDown(0),this.tilesPutColumnsMiddle(o);break;case ne.FLY_UP_PUT_COLUMNS_MIDDLE:this.tilesFlyUp(0),this.tilesPutColumnsMiddle(o);break;default:e.isMoveTilesCompleted=!0;break}};getTiles(){const{boardManager:e}=this.scene,{boardMap:t}=e,s=[];for(const i in t)for(const o in t[i]){const r=t[i][o];s.push(r)}return s}tilesFlyUp(e=0){const{boardManager:t,animationManager:s}=this.scene,i=this.getTiles();let o=0;i.forEach(r=>{const{row:n,column:l}=r;if(r.isCaptured()||r.isCapturing())return;const c=this.getEmptySpacesAbove(n,l);c<1||(o++,s.moveRows({tile:r,fromRow:n,toRow:n-c},e),t.tileSwap({fromRow:n,toRow:n-c,fromColumn:l,toColumn:l}))}),o===0&&(s.isMoveTilesCompleted=!0)}tilesFallDown(e=0){const{boardManager:t,animationManager:s}=this.scene,i=this.getTiles();i.reverse();let o=0;i.forEach(r=>{const{row:n,column:l}=r;if(r.isCaptured()||r.isCapturing())return;const c=this.getEmptySpacesBlow(n,l);c<1||(o++,s.moveRows({tile:r,fromRow:n,toRow:n+c},e),t.tileSwap({fromRow:n,toRow:n+c,fromColumn:l,toColumn:l}))}),o===0&&(s.isMoveTilesCompleted=!0)}tilesPushLeft(e=0){const{boardManager:t,animationManager:s}=this.scene,i=this.getTiles();let o=0;i.forEach(r=>{const{row:n,column:l}=r;if(r.isCaptured()||r.isCapturing())return;const c=this.getEmptySpacesLeft(n,l);c<1||(o++,s.moveColumns({tile:r,fromColumn:l,toColumn:l-c},e),t.tileSwap({fromRow:n,toRow:n,fromColumn:l,toColumn:l-c}))}),o===0&&(s.isMoveTilesCompleted=!0)}tilesPushRight(e=0){const{boardManager:t,animationManager:s}=this.scene,i=this.getTiles();i.reverse();let o=0;i.forEach(r=>{const{row:n,column:l}=r;if(r.isCaptured()||r.isCapturing())return;const c=this.getEmptySpacesRight(n,l);c<1||(o++,s.moveColumns({tile:r,fromColumn:l,toColumn:l+c},e),t.tileSwap({fromRow:n,toRow:n,fromColumn:l,toColumn:l+c}))}),o===0&&(s.isMoveTilesCompleted=!0)}tilesPutColumnsMiddle(e=0){const{boardManager:t,animationManager:s}=this.scene,i=this.getTiles();let o=0;i.forEach(r=>{const{row:n,column:l}=r;if(r.isCaptured()||r.isCapturing())return;const c=this.getEmptySpacesMiddleLeft(n,l);c<1||(o++,s.moveColumns({tile:r,fromColumn:l,toColumn:l-c},e),t.tileSwap({fromRow:n,toRow:n,fromColumn:l,toColumn:l-c}))}),i.reverse(),i.forEach(r=>{const{row:n,column:l}=r;if(r.isCaptured()||r.isCapturing())return;const c=this.getEmptySpacesMiddleRight(n,l);c<1||(o++,s.moveColumns({tile:r,fromColumn:l,toColumn:l+c},e),t.tileSwap({fromRow:n,toRow:n,fromColumn:l,toColumn:l+c}))}),o===0&&(s.isMoveTilesCompleted=!0)}tilesPutRowsMiddle(e=0){const{boardManager:t,animationManager:s}=this.scene,i=this.getTiles();let o=0;i.forEach(r=>{const{row:n,column:l}=r;if(r.isCaptured()||r.isCapturing())return;const c=this.getEmptySpacesMiddleAbove(n,l);c<1||(o++,s.moveRows({tile:r,fromRow:n,toRow:n-c},e),t.tileSwap({fromRow:n,toRow:n-c,fromColumn:l,toColumn:l}))}),i.reverse(),i.forEach(r=>{const{row:n,column:l}=r;if(r.isCaptured()||r.isCapturing())return;const c=this.getEmptySpacesMiddleBelow(n,l);c<1||(o++,s.moveRows({tile:r,fromRow:n,toRow:n+c},e),t.tileSwap({fromRow:n,toRow:n+c,fromColumn:l,toColumn:l}))}),o===0&&(s.isMoveTilesCompleted=!0)}getEmptySpacesAbove(e,t,s=0){if(this.isEmptySpaceAbove(e,t)){s++;const i=e-1;return this.getEmptySpacesAbove(i,t,s)}return s}getEmptySpacesBlow(e,t,s=0){if(this.isEmptySpaceBlow(e,t)){s++;const i=e+1;return this.getEmptySpacesBlow(i,t,s)}return s}getEmptySpacesLeft(e,t,s=0){if(this.isEmptySpaceLeft(e,t)){s++;const i=t-1;return this.getEmptySpacesLeft(e,i,s)}return s}getEmptySpacesRight(e,t,s=0){if(this.isEmptySpaceRight(e,t)){s++;const i=t+1;return this.getEmptySpacesRight(e,i,s)}return s}getEmptySpacesMiddleLeft(e,t,s=0){if(this.isEmptySpaceMiddleLeft(e,t)){s++;const i=t-1;return this.getEmptySpacesMiddleLeft(e,i,s)}return s}getEmptySpacesMiddleRight(e,t,s=0){if(this.isEmptySpaceMiddleRight(e,t)){s++;const i=t+1;return this.getEmptySpacesMiddleRight(e,i,s)}return s}getEmptySpacesMiddleAbove(e,t,s=0){if(this.isEmptySpaceMiddleAbove(e,t)){s++;const i=e-1;return this.getEmptySpacesMiddleAbove(i,t,s)}return s}getEmptySpacesMiddleBelow(e,t,s=0){if(this.isEmptySpaceMiddleBelow(e,t)){s++;const i=e+1;return this.getEmptySpacesMiddleBelow(i,t,s)}return s}isEmptySpaceAbove(e,t){const s=e-1,{boardManager:i}=this.scene,{boardMap:o}=i;if(!o[s]||!o[s][t])return!1;const r=o[s][t];return r.isCaptured()||r.isCapturing()}isEmptySpaceBlow(e,t){const s=e+1,{boardManager:i}=this.scene,{boardMap:o}=i;if(!o[s]||!o[s][t])return!1;const r=o[s][t];return r.isCaptured()||r.isCapturing()}isEmptySpaceLeft(e,t){const s=t-1,{boardManager:i}=this.scene,{boardMap:o}=i;if(!o[e]||!o[e][s])return!1;const r=o[e][s];return r.isCaptured()||r.isCapturing()}isEmptySpaceRight(e,t){const s=t+1,{boardManager:i}=this.scene,{boardMap:o}=i;if(!o[e]||!o[e][s])return!1;const r=o[e][s];return r.isCaptured()||r.isCapturing()}isEmptySpaceMiddleLeft(e,t){const{columns:s}=this.scene.levelHandler.getConfigs(),i=t-1;if(i<s/2)return!1;const{boardManager:o}=this.scene,{boardMap:r}=o;if(!r[e]||!r[e][i])return!1;const n=r[e][i];return n.isCaptured()||n.isCapturing()}isEmptySpaceMiddleRight(e,t){const{columns:s}=this.scene.levelHandler.getConfigs(),i=t+1;if(i>s/2)return!1;const{boardManager:o}=this.scene,{boardMap:r}=o;if(!r[e]||!r[e][i])return!1;const n=r[e][i];return n.isCaptured()||n.isCapturing()}isEmptySpaceMiddleAbove(e,t){const{rows:s}=this.scene.levelHandler.getConfigs(),i=e-1;if(i<s/2)return!1;const{boardManager:o}=this.scene,{boardMap:r}=o;if(!r[i]||!r[i][t])return!1;const n=r[i][t];return n.isCaptured()||n.isCapturing()}isEmptySpaceMiddleBelow(e,t){const{rows:s}=this.scene.levelHandler.getConfigs(),i=e+1;if(i>s/2)return!1;const{boardManager:o}=this.scene,{boardMap:r}=o;if(!r[i]||!r[i][t])return!1;const n=r[i][t];return n.isCaptured()||n.isCapturing()}}const{KEY:js,FRAME:$s}=w.EFFECTS;class Os extends Phaser.GameObjects.Container{start;end;middle;constructor(e){super(e),this.scene=e,this.createGlowLine(),this.scene.add.existing(this)}createGlowLine(){this.start=this.scene.add.image(0,0,js,$s.CAPTURE_PATH_START),this.start.setOrigin(1,.5),this.end=this.scene.add.image(0,0,js,$s.CAPTURE_PATH_END),this.end.setOrigin(0,.5),this.middle=this.scene.add.image(0,0,js,$s.CAPTURE_PATH_MIDDLE),this.middle.setOrigin(.5,.5),this.add(this.start),this.add(this.end),this.add(this.middle)}setGlowLineLength(e,t){const s=e+6;this.middle.setWorldSize(s,18),this.start.setWorldSize(6,18),this.end.setWorldSize(6,18),this.start.x=-s/2,this.end.x=s/2,t==="horizontal"?this.angle=0:this.angle=90}}const{KEY:_h,FRAME:Lh}=w.GAMEPLAY,ls=C.TILE+1;class Dh extends Phaser.GameObjects.GameObject{whiteCircles;lineList;firstTilePosition=null;fadeTween;constructor(e){super(e,"captureHintPath"),this.whiteCircles=e.add.group(),this.lineList=e.add.group(),this.scene.add.existing(this)}drawNewPath(e){const t=[];let s=e[0],i=null;for(let o=1;o<e.length;o++){const r=e[o];if(!i){i=r;continue}if(s.x===i.x&&i.x===r.x){i=r;continue}if(s.y===i.y&&i.y===r.y){i=r;continue}t.push([s,i]),s=i,i=r}t.push([s,i]),t.forEach((o,r)=>{if(!o[0]||!o[1])return;const n=this.translateGridPositionToScreenPosition(o[0]),l=this.translateGridPositionToScreenPosition(o[1]);this.assignLine(n.x,n.y,l.x,l.y),this.assignWhiteCircle(n.x,n.y),r===t.length-1&&this.assignWhiteCircle(l.x,l.y)}),this.runFadeInTween()}updateFirstTilePosition(){const e=this.scene,{boardMap:t}=e.boardManager;if(!t||!t[1]||!t[1][1])return;const{x:s,y:i}=t[1][1].getWorldPosition();this.firstTilePosition=new Phaser.Math.Vector2(s,i)}clearFirstTilePosition(){this.firstTilePosition=null}setFirstTilePosition(e){this.firstTilePosition=e}clear(){this.runFadeOutTween()}hideHintEffect(){this.whiteCircles.getChildren().forEach(e=>{e.setVisible(!1)}),this.lineList.getChildren().forEach(e=>{e.setVisible(!1)})}showHintEffect(){this.whiteCircles.getChildren().forEach(e=>{e.active&&e.setVisible(!0)}),this.lineList.getChildren().forEach(e=>{e.active&&e.setVisible(!0)})}kill(){this.whiteCircles.getChildren().forEach(e=>{this.whiteCircles.killAndHide(e)}),this.lineList.getChildren().forEach(e=>{this.lineList.killAndHide(e)})}translateGridPositionToScreenPosition(e){const{x:t=1,y:s=1}=e;this.firstTilePosition||this.updateFirstTilePosition();const o=this.scene.boardManager.getTileSize()+1,r=this.firstTilePosition?this.firstTilePosition.x:0,n=this.firstTilePosition?this.firstTilePosition.y:0;return{x:r+(s-1)*o,y:n+(t-1)*o}}assignWhiteCircle(e,t){const s=this.whiteCircles.getFirstDead();if(s)return s.setPosition(e,t),s.setActive(!0),s.setVisible(!0),s.setAlpha(0),s.setDepth(ls+1),s;const i=this.scene.make.image({key:_h,frame:Lh.HINT_LINE_DOT});return this.whiteCircles.add(i),i.setPosition(e,t),i.setDepth(ls+1),i.setWorldSize(8,8),i.setAlpha(0),this.scene.add.existing(i),i}assignLine(e,t,s,i){const o=this.lineList.getFirstDead(),r=(e+s)/2,n=(t+i)/2,l=e===s?"vertical":"horizontal",c=Phaser.Math.Distance.Between(e,t,s,i);if(o&&o instanceof Os)return o.setPosition(r,n),o.setGlowLineLength(c,l),o.revive(),o.setAlpha(0),o.setDepth(ls),o;const d=new Os(this.scene);return this.lineList.add(d),d.setPosition(r,n),d.setGlowLineLength(c,l),d.setDepth(ls),d.setAlpha(0),this.scene.add.existing(d),d}runFadeInTween(){this.fadeTween?.stop();const e=this.lineList.getChildren().filter(i=>i.active),t=this.whiteCircles.getChildren().filter(i=>i.active),s=this.scene.tweens.add({targets:[...e,...t],props:{alpha:{from:0,to:1}},duration:200,onStop:()=>{e.forEach(i=>{i.setAlpha(1)}),t.forEach(i=>{i.setAlpha(1)})}});this.fadeTween=s}runFadeOutTween(){this.fadeTween?.stop();const e=this.lineList.getChildren().filter(i=>i.active),t=this.whiteCircles.getChildren().filter(i=>i.active),s=this.scene.tweens.add({targets:[...e,...t],props:{alpha:{from:1,to:0}},duration:200,onComplete:()=>{this.kill()},onStop:()=>{this.kill()}});this.fadeTween=s}}const{KEY:Nh,FRAME:zo}=w.GAMEPLAY;class Nr extends Phaser.GameObjects.Particles.ParticleEmitterManager{deathZone;emitter;constructor(e){super(e,Nh,zo.EFFECT_TRAIL_STAR),this.createDeathZone(),this.createEmitters(),this.kill(),this.scene.add.existing(this)}createDeathZone(){this.deathZone=new Phaser.Geom.Circle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:zo.EFFECT_TRAIL_STAR,speed:{min:10,max:80},scale:{start:e,end:0},alpha:{start:1,end:.2,ease:Phaser.Math.Easing.Expo.Out},deathZone:{source:this.deathZone,type:"onLeave"},lifespan:2e3})}explode(e,t,s,i){this.revive(),this.deathZone.radius=i,this.deathZone.setPosition(t,s),this.emitter.explode(e,t,s)}}const{KEY:Gh,FRAME:Vo}=w.GAMEPLAY;class Gr extends Phaser.GameObjects.Particles.ParticleEmitterManager{emitZone;isRunning;emitter;constructor(e){super(e,Gh,Vo.EFFECT_TRAIL_STAR),this.createEmitZone(),this.scene.add.existing(this)}createEmitZone(){this.emitZone=new Phaser.Geom.Rectangle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:Vo.EFFECT_TRAIL_STAR,emitZone:{source:this.emitZone,type:"random"},speed:20,timeScale:1,frequency:50,gravityY:100,alpha:{start:1,end:0,ease:Phaser.Math.Easing.Expo.Out},scale:{start:e*1.2,end:e*.1,ease:Phaser.Math.Easing.Expo.Out},lifespan:2666})}run(e,t,s,i,o){this.stop(),this.reset(),this.emitZone.setSize(i,o),this.emitZone.setPosition(t-i/2,s-o/2),this.emitter.setQuantity(e),this.emitter.start(),this.isRunning=!0}explode(e,t,s){this.emitter||this.reset(),this.isRunning=!1,this.emitter.explode(e,t,s)}stop(){this.isRunning=!1,this.emitter?.killAll(),this.emitter?.stop()}reset(){this.createEmitters()}moveEmitZone(e,t){this.emitZone.setPosition(e,t)}}const{KEY:jo,FRAME:$o}=w.GAMEPLAY,He=C.EFFECT+1;class Xo extends Phaser.GameObjects.GameObject{starList;lineList;whiteCircles;firstTilePosition=null;starTweenList=[];starExpandTween;lineTween;captureStarTrails;explodeParticle;score;pathLength;constructor(e){super(e,"capturePath"),this.starList=e.add.group(),this.lineList=e.add.group(),this.whiteCircles=e.add.group(),this.createEffects(),this.score=0}createEffects(){this.captureStarTrails=[],this.explodeParticle=new Nr(this.scene),this.explodeParticle.setDepth(C.EFFECT)}drawNewPath(e,t=!1){this.pathLength=e.length;const s=this.drawLines(e);t?this.drawDots(s):(this.drawStars(e),this.runStarExpandTween()),this.runLineTween("fadeIn")}drawDots(e){e.forEach((t,s)=>{if(!t[0]||!t[1])return;const i=this.translateGridPositionToScreenPosition(t[0]),o=this.translateGridPositionToScreenPosition(t[1]);this.assignLine(i.x,i.y,o.x,o.y),this.assignWhiteCircle(i.x,i.y),s===e.length-1&&this.assignWhiteCircle(o.x,o.y)})}drawLines(e){const t=[];let s=e[0],i=null;for(let o=1;o<e.length;o++){const r=e[o];if(!i){i=r;continue}if(s.x===i.x&&i.x===r.x){i=r;continue}if(s.y===i.y&&i.y===r.y){i=r;continue}t.push([s,i]),s=i,i=r}return t.push([s,i]),t.forEach(o=>{if(!o[0]||!o[1])return;const r=this.translateGridPositionToScreenPosition(o[0]),n=this.translateGridPositionToScreenPosition(o[1]);this.assignLine(r.x,r.y,n.x,n.y)}),t}drawStars(e){e.forEach(t=>{const{x:s,y:i}=this.translateGridPositionToScreenPosition(t);this.assignStar(s,i)})}kill(){this.starTweenList.forEach(e=>{e.stop()}),this.starTweenList=[],this.starList.getChildren().forEach(e=>{this.starList.killAndHide(e)}),this.score=0,this.pathLength=1,this.captureStarTrails.forEach(e=>{e.stop()}),this.lineList.getChildren().forEach(e=>{this.lineList.killAndHide(e)}),this.whiteCircles.getChildren().forEach(e=>{this.whiteCircles.killAndHide(e)}),this.lineTween?.stop(),this.setActive(!1)}updateFirstTilePosition(){const e=this.scene,{boardMap:t}=e.boardManager;if(!t||!t[1]||!t[1][1])return;const{x:s,y:i}=t[1][1].getWorldPosition();this.firstTilePosition=new Phaser.Math.Vector2(s,i)}clearFirstTilePosition(){this.firstTilePosition=null}setFirstTilePosition(e){this.firstTilePosition=e}setScore(e){this.score=e}handleCaptureEffectEnd(){const e=this.scene;if(!(this.starList.getFirstAlive()!==null)){e.eatScore(this.score),this.kill();return}this.runLineTween("fadeOut"),this.runStarTween()}runLineTween(e){this.lineTween?.stop();const t=this.lineList.getChildren().filter(o=>o.active),s=this.whiteCircles.getChildren().filter(o=>o.active),i=this.scene.tweens.add({targets:[...t,...s],duration:200,props:{alpha:{from:e==="fadeIn"?0:1,to:e==="fadeIn"?1:0}},onComplete:()=>{e==="fadeOut"&&this.cleanLineWhenFadeOut()},onStop:()=>{t.forEach(o=>{o.setAlpha(e==="fadeIn"?1:0)}),s.forEach(o=>{o.setAlpha(e==="fadeIn"?1:0)}),e==="fadeOut"&&this.cleanLineWhenFadeOut()}});this.lineTween=i}cleanLineWhenFadeOut(){const e=this.lineList.getChildren().filter(s=>s.active),t=this.whiteCircles.getChildren().filter(s=>s.active);e.forEach(s=>{this.lineList.killAndHide(s)}),t.forEach(s=>{this.whiteCircles.killAndHide(s)})}runStarTween(){this.starList.getChildren().forEach((e,t)=>{if(!e.active)return;const s=this.scene,{objects:i}=s.layoutManager,{x:o,y:r}=i.starProgressBar.getStarFlyInPosition(),n=25,l=this.scene.tweens.createTimeline(),c=Phaser.Math.Angle.Between(e.x,e.y,o,r),d=Phaser.Math.Distance.Between(e.x,e.y,o,r),m=this.requestCaptureStarTrail();m.run(1,e.x,e.y,0,0),l.add({targets:e,x:e.x-Math.cos(c)*n,y:e.y-Math.sin(c)*n,duration:250,delay:40*t,ease:Phaser.Math.Easing.Quadratic.In,onUpdate:()=>{m.moveEmitZone(e.x,e.y)}}),l.add({targets:e,props:{x:{from:e.x,to:o,ease:Phaser.Math.Easing.Quadratic.Out},y:{from:e.y,to:r,ease:Phaser.Math.Easing.Quadratic.Out},scale:{from:e.scale,to:e.scale*Math.sqrt(2),ease:Phaser.Math.Easing.Quintic.Out}},duration:(d+n)/300*600,onComplete:()=>{s.eatScore(this.score/this.pathLength),this.scene.audio.playSound(B.COLLECT_STARS),m.stop(),this.explodeParticle.explode(15,o,r,30)},onUpdate:()=>{m.moveEmitZone(e.x,e.y)},onStop:()=>{s.eatScore(this.score/this.pathLength),m.stop()}}),l.add({targets:e,alpha:0,duration:400,ease:Phaser.Math.Easing.Cubic.Out,onComplete:()=>{this.starList.killAndHide(e),this.starTweenList=this.starTweenList.filter(h=>h!==l),this.starTweenList.length===0&&this.kill()},onStop:()=>{this.starList.killAndHide(e),this.starTweenList=this.starTweenList.filter(h=>h!==l),this.starTweenList.length===0&&this.kill()}}),this.starTweenList.push(l),l.play()})}runStarExpandTween(){this.starExpandTween?.stop();const e=this.starList.getChildren().filter(o=>o.active);if(e.length<1)return;const t=e[0].scaleX,s=e[0].scaleY,i=this.scene.tweens.add({targets:e,duration:200,props:{scaleX:{from:0,to:t},scaleY:{from:0,to:t}},onStart:()=>{e.forEach(o=>{o.setVisible(!0)})},onStop:()=>{e.forEach(o=>{o.setScale(t,s)})}});this.starExpandTween=i}translateGridPositionToScreenPosition(e){const{x:t=1,y:s=1}=e;this.firstTilePosition||this.updateFirstTilePosition();const o=this.scene.boardManager.getTileSize()+1,r=this.firstTilePosition?this.firstTilePosition.x:0,n=this.firstTilePosition?this.firstTilePosition.y:0;return{x:r+(s-1)*o,y:n+(t-1)*o}}assignStar(e,t){const s=this.starList.getFirstDead();if(s)return s.setPosition(e,t),s.setWorldSize(21.2,21.2),s.setActive(!0),s.setAlpha(1),s.setDepth(He+1),s;const i=this.scene.make.image({key:jo,frame:$o.ICON_STAR_BIG});return this.starList.add(i),i.setWorldSize(21.2,21.2),i.setPosition(e,t),i.setDepth(He+1),i.setVisible(!1),i.setAlpha(1),this.scene.add.existing(i),i}requestCaptureStarTrail(){const e=this.captureStarTrails.find(s=>!s.isRunning);if(e)return e;const t=new Gr(this.scene);return t.setDepth(He-1),this.captureStarTrails.push(t),t}assignLine(e,t,s,i){const o=this.lineList.getFirstDead(),r=(e+s)/2,n=(t+i)/2,l=e===s?"vertical":"horizontal",c=Phaser.Math.Distance.Between(e,t,s,i);if(o&&o instanceof Os)return o.setPosition(r,n),o.setGlowLineLength(c,l),o.revive(),o.setDepth(He),o;const d=new Os(this.scene);return this.lineList.add(d),d.setPosition(r,n),d.setGlowLineLength(c,l),d.setDepth(He),this.scene.add.existing(d),d}assignWhiteCircle(e,t){const s=this.whiteCircles.getFirstDead();if(s)return s.setPosition(e,t),s.setActive(!0),s.setVisible(!0),s.setAlpha(0),s.setDepth(He+1),s;const i=this.scene.make.image({key:jo,frame:$o.HINT_LINE_DOT});return this.whiteCircles.add(i),i.setPosition(e,t),i.setDepth(He+1),i.setWorldSize(8,8),i.setAlpha(0),this.scene.add.existing(i),i}}class Fh extends Phaser.GameObjects.Group{firstTilePosition=null;constructor(e){super(e),this.scene.add.existing(this)}requestPath(){const e=this.getFirstDead();if(e)return e.setActive(!0),e.setFirstTilePosition(this.firstTilePosition),e;const t=this.scene,s=new Xo(t);return s.setFirstTilePosition(this.firstTilePosition),this.add(s),s}updateFirstTilePosition(){const e=this.scene,{boardMap:t}=e.boardManager;if(!t||!t[1]||!t[1][1])return;const{x:s,y:i}=t[1][1].getWorldPosition();this.firstTilePosition=new Phaser.Math.Vector2(s,i)}clearFirstTilePosition(){this.firstTilePosition=null}killPath(e){e.handleCaptureEffectEnd()}killAndHideAll(){this.getChildren().forEach(e=>{e instanceof Xo&&e.kill()})}}const{KEY:Bh,FRAME:Uh}=w.TUTORIAL;class Xs extends Phaser.GameObjects.Container{number;dot;constructor(e){super(e),this.dot=this.scene.make.image({key:Bh,frame:Uh.DOT_WRONG}),this.dot.setWorldSize(48/2,48/2),this.add(this.dot),this.number=this.scene.make.bitmapText({font:I.PRIMARY.KEY,text:"0",size:this.scene.fontSize(15),origin:{x:.5,y:.65}}),this.add(this.number);const{displayWidth:t,displayHeight:s}=this.dot;this.setSize(t,s),Phaser.Display.Align.In.Center(this.number,this.dot,0,-4),this.scene.add.existing(this)}setNumber(e){this.number.setText(e.toString())}}const{KEY:Zo,FRAME:qo}=w.TUTORIAL;class Yh{scene;decorList;lineList;firstTilePosition=null;drawX=0;drawY=0;constructor(e){this.scene=e,this.decorList=e.add.group(),this.lineList=e.add.group()}drawNewPath(e){const t=this.getShortenPath(e);this.clear();const s=this.translateGridPositionToScreenPosition(t[0]);this.moveTo(s.x,s.y);let i=1,o=null;for(let r=1;r<t.length;r++){const n=t[r],{x:l,y:c}=this.translateGridPositionToScreenPosition(n);if(this.lineTo(l,c),r!==t.length-1)if(i<=2){const d=this.assignDot(l,c);d.setNumber(i++),o=d}else o=this.assignCross(l,c)}if(i===2&&o!==null){const{x:r=1,y:n=1}=o;o.setVisible(!1),o.setActive(!1),this.assignCross(r,n)}else if(i===1){const{x:r,y:n}=this.translateGridPositionToScreenPosition(t[0]),{x:l,y:c}=this.translateGridPositionToScreenPosition(t[t.length-1]);this.assignCross((l+r)/2,(c+n)/2)}}getShortenPath(e){if(e.length<0)return[];const t=[];t.push(e[0]);let s="none",i=e[0];return e.forEach((o,r)=>{if(r===0)return;const{x:n=1,y:l=1}=o,{x:c=1,y:d=1}=i,m=this.getMovingDirectionString(n-c,l-d);s!=="none"&&s!==m&&t.push(i),s=m,i=o}),t.push(e[e.length-1]),t}updateFirstTilePosition(){const e=this.scene,{boardMap:t}=e.boardManager;if(!t||!t[1]||!t[1][1])return;const{x:s,y:i}=t[1][1].getWorldPosition();this.firstTilePosition=new Phaser.Math.Vector2(s,i)}clearFirstTilePosition(){this.firstTilePosition=null}setFirstTilePosition(e){this.firstTilePosition=e}clear(){return this.decorList.getChildren().forEach(e=>{e.setVisible(!1),e.setActive(!1)}),this.lineList.getChildren().forEach(e=>{e.setVisible(!1),e.setActive(!1)}),this}translateGridPositionToScreenPosition(e){const{x:t=1,y:s=1}=e;this.firstTilePosition||this.updateFirstTilePosition();const o=this.scene.boardManager.getTileSize()+1,r=this.firstTilePosition?this.firstTilePosition.x:0,n=this.firstTilePosition?this.firstTilePosition.y:0;return{x:r+(s-1)*o,y:n+(t-1)*o}}assignDot(e,t){const s=this.decorList.getChildren().find(o=>o instanceof Xs&&!o.active);if(s)return s.setPosition(e,t),s.setActive(!0),s.setVisible(!0),s.setDepth(C.TILE+2),s;const i=new Xs(this.scene);return this.decorList.add(i),i.setPosition(e,t),i.setDepth(C.TILE+2),this.scene.add.existing(i),i}assignCross(e,t){const s=this.decorList.getChildren().find(o=>!(o instanceof Xs)&&!o.active);if(s)return s.setPosition(e,t),s.setActive(!0),s.setVisible(!0),s.setDepth(C.TILE+2),s;const i=this.scene.make.image({key:Zo,frame:qo.CROSS_WRONG});return i.setOrigin(.5,.4),i.setWorldSize(108/4,108/4),i.setDepth(C.TILE+2),this.decorList.add(i),i.setPosition(e,t),this.scene.add.existing(i),i}moveTo(e,t){this.drawX=e,this.drawY=t}lineTo(e,t){const s=this.lineList.getChildren().find(o=>!o.active);if(s&&s instanceof Phaser.GameObjects.Image){s.setPosition(this.drawX,this.drawY),s.setAngle(this.getLineAngle(e-this.drawX,t-this.drawY)),s.setOrigin(0,.5),s.setDisplaySize(this.getLineLength(e-this.drawX,t-this.drawY),18/2),s.setActive(!0),s.setVisible(!0),s.setDepth(C.TILE+1),this.drawX=e,this.drawY=t;return}const i=this.scene.make.image({key:Zo,frame:qo.LINE_WRONG});i.setOrigin(0,.5),i.setDisplaySize(this.getLineLength(e-this.drawX,t-this.drawY),18/2),i.setDepth(C.TILE+1),this.lineList.add(i),i.setPosition(this.drawX,this.drawY),i.setAngle(this.getLineAngle(e-this.drawX,t-this.drawY)),this.scene.add.existing(i),this.drawX=e,this.drawY=t}getLineAngle(e,t){switch(this.getMovingDirectionString(t,e)){case"down":return 90;case"up":return-90;case"right":return 0;case"left":return 180;default:return 0}}getLineLength(e,t){switch(this.getMovingDirectionString(t,e)){case"down":case"up":return Math.abs(t);case"right":case"left":return Math.abs(e);default:return 0}}getMovingDirectionString(e,t){return e>0?"down":e<0?"up":t>0?"right":t<0?"left":"none"}}class Hh extends Xt{constructor(e,t,s){super(e),this.setName("EmptyTile"),this.setRow(t),this.setColumn(s),this.setState(N.STATUS.CAPTURED),this.hideHighlight(),this.removeTile()}}const{KEY:Qo,FRAME:Zs}=w.GAMEPLAY,{SPECIALS:Jo}=N;class cs extends Xt{rocketTailSprite;constructor(e,t,s){super(e,Zs.TILE_ROCKET,Jo.ROCKET),this.setName("RocketTile"),this.setRow(t),this.setColumn(s),this.createRocketSparkle(),console.log(Zs.TILE_ROCKET,Jo.ROCKET),this.icon.setScale(this.block.scale)}createRocketSparkle(){const{KEY:e,FRAME:t}=w.EFFECTS;this.rocketTailSprite=this.scene.make.sprite({key:e,frame:t.ROCKET_TAIL+"0",origin:{x:.5,y:.5}}),this.add(this.rocketTailSprite),this.updateRocketTailConfig(),this.rocketTailSprite.anims.play(F.ROCKET_TAIL.KEY,!0)}onExplosive(){this.startExplosive(),super.onExplosive()}kill(){this.rocketTailSprite.anims.stop(),super.kill()}revive(){super.revive(),this.updateRocketTailConfig(),this.rocketTailSprite.anims.play(F.ROCKET_TAIL.KEY,!0)}updateRocketTailConfig(){const e=this.scene.boardManager.boardSizeHandler.getTileSize();this.rocketTailSprite.setPosition(-e/5,e/5),this.rocketTailSprite.setScale(.5*this.scene.boardManager.boardSizeHandler.getTileSize()/N.SIZE)}enableTile(){super.enableTile(),this.icon.setScale(this.block.scale)}startExplosive=()=>{const{boardManager:e}=this.scene,{boardContainer:t}=e,s=t.count("visible",!0)-1;t.moveTo(this,s)};changeDeck(){}drawBlock(e){const t=this.scene.boardManager.getTileSize();this.block=this.scene.add.image(0,0,Qo,Zs.TILE_BG),this.block.setDisplaySize(t,t),this.add(this.block),this.icon=this.scene.make.sprite({key:Qo,frame:e}),this.icon.setScale(this.block.scale/2),this.add(this.icon)}}const Kh={ADD:"add",RESET:"reset"};class Wh extends Xt{constructor(e,t,s,i,o){super(e,o,i),this.setName("NormalTile"),this.setRow(t),this.setColumn(s)}}const{STATUS:qs}=$t,{BOMB:zh,ROCKET:Vh}=N.SPECIALS,{TILES:jh}=w,{Gameplay:ea}=GameCore.Configs;class $h extends Pe{scene;isSelectable=!1;isFirstInteractionFired=!1;currentDeckPrefix;hintTiles=[];hintEffect;pathFinder;captureWrongPathEffect;capturePathGroup;delayEnableItemTimer;tilesGroup;firstSelectedTile=null;isSuggestPairHintShowed;matchedPairCount;isExtraPairSpawned;isFirstExtraPairSpawn;remainingExtraTileSpawn;firstTilePosition;constructor(e){super(e),this.scene=e,this.pathFinder=new Cr,this.hintEffect=new Dh(this.scene),this.firstTilePosition=new Phaser.Math.Vector2(0,0),this.capturePathGroup=new Fh(this.scene),this.captureWrongPathEffect=new Yh(this.scene),this.createGroup(),this.listenEvents()}init(){this.isSelectable=!1,this.firstSelectedTile=null,this.isSuggestPairHintShowed=!1,this.isFirstInteractionFired=!1,this.clearTiles();const{theme:e}=this.scene.levelHandler.getConfigs();if(!e||typeof e=="string")this.currentDeckPrefix="candy";else{const t=Phaser.Math.Between(0,e.length-1),s=e[t].toUpperCase(),i=jh[s].KEY;this.scene.textures.exists(i)?this.currentDeckPrefix=e[t]:this.currentDeckPrefix="candy"}this.setState(qs.READY)}start(){if(this.isRunning())return;this.isSelectable=!1,this.matchedPairCount=0,this.isExtraPairSpawned=!1,this.isFirstExtraPairSpawn=!0,this.isFirstInteractionFired=!1;const{rules:e}=this.scene.levelHandler.getConfigs();this.remainingExtraTileSpawn=e.addRandomTilesPerMove||0,this.hintEffect.clearFirstTilePosition(),this.capturePathGroup.clearFirstTilePosition(),this.captureWrongPathEffect.clearFirstTilePosition(),this.showUpTilesAnimation(),this.setState(qs.RUNNING)}stop(){this.isRunning()&&(this.isSelectable=!1,this.isFirstInteractionFired=!1,this.removeSuggestPairHint(),this.capturePathGroup.killAndHideAll(),this.setState(qs.STOPPED))}getCurrentDeck(){return this.currentDeckPrefix}emitInteraction(){this.scene.events.emit(N.EVENTS.INTERACTION),this.isFirstInteractionFired||(this.isFirstInteractionFired=!0,this.scene.events.emit(N.EVENTS.FIRST_INTERACTION))}clearWrongPath(){this.captureWrongPathEffect.clear()}drawWrongPath(e){this.captureWrongPathEffect.drawNewPath(e)}createGroup(){this.tilesGroup=this.scene.make.group({active:!1,runChildUpdate:!1})}listenEvents(){this.scene.events.on(N.EVENTS.ROCKET_EXPLODE,this.handleRocketExplode)}getTiles(){return!this.scene||!this.tilesGroup?.scene?[]:this.tilesGroup.getMatching("active",!0)}getAliveTiles(){const e=this.getTiles(),t=[];return e.forEach(s=>{s.isCaptured()||s.isCapturing()||t.push(s)}),t}hideAllTiles(){this.getAliveTiles().forEach(t=>{t.setVisible(!1)})}showAllTiles(){this.getAliveTiles().forEach(t=>{t.setVisible(!0)})}clearTiles(){this.tilesGroup&&this.tilesGroup.children.each(e=>{e instanceof Xt&&e.removeTile()})}getTileExit(e){const t=this.tilesGroup.getMatching("type",e);return t.length<1?null:t.find(s=>s.visible===!1&&!(s instanceof _e))||null}createTileByType(e,t,s){const i=this.getTileExit(e);if(i)return i.changeDeck(this.currentDeckPrefix),i.enableTile(),i.setRow(t),i.setColumn(s),i;if(e===Vh)return new cs(this.scene,t,s);if(e===zh)return new _e(this.scene,t,s);const o=parseInt(e);if(o>28||o<1||!GameCore.Utils.Valid.isNumber(o)||e==="empty")return new Hh(this.scene,t,s);const r=new Wh(this.scene,t,s,e,`tile-${e}`);return r.changeDeck(this.currentDeckPrefix),r}addTile(e){this.tilesGroup.add(e),this.addEventsTile(e)}addEventsTile=e=>{e.block&&(e.block.setInteractive({useHandCursor:!0}),e.block.off(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN),e.block.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.tileSelect(e)),e.createInput())};removeEventsAllTiles(){this.getTiles().forEach(t=>{t.block?.off(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN),t.block?.disableInteractive()})}tileCapture(e){this.firstSelectedTile===e&&(this.firstSelectedTile=null),e.setState(N.STATUS.CAPTURED)}removeTile(e){if(!e)return;const{boardManager:t}=this.scene,{boardContainer:s,tileMap:i}=t,{row:o,column:r}=e;i[o]&&i[o][r]&&(i[o][r]="?"),e.nextX=null,e.nextY=null,e.setVisible(!1),s.remove(e),this.tilesGroup.killAndHide(e)}showUpTilesAnimation(){const e=[...this.getTiles()];e.reverse();const{animationManager:t}=this.scene;t.startBoard(e).once(Phaser.Tweens.Events.TWEEN_COMPLETE,()=>{this.scene.tweens.killTweensOf(e),e.forEach(i=>{i.setAlpha(1)}),this.isSelectable=!0,this.hintEffect.updateFirstTilePosition(),this.capturePathGroup.updateFirstTilePosition(),this.captureWrongPathEffect.updateFirstTilePosition(),this.getLocalFirstTilePosition(),this.setUpAllBombTilesWhenGameStarts(),O.emit(R.TILE_SHOWED_UP)})}setUpAllBombTilesWhenGameStarts(){const{boardMap:e}=this.scene.boardManager;if(!e||!e[1])return;const t=Object.keys(e).length,s=Object.keys(e[1]).length;for(let i=1;i<=t;i++)if(e[i])for(let o=1;o<=s;o++){if(!e[i][o])continue;const r=e[i][o];r instanceof _e&&r.setBombEffectWhenGameStarts()}}getLocalFirstTilePosition(){const{boardMap:e}=this.scene.boardManager;if(!e||!e[1]||!e[1][1])return;const{x:t,y:s}=e[1][1];this.firstTilePosition=new Phaser.Math.Vector2(t,s)}isCanMove(){return!(!this.isRunning()||this.scene.boardManager.checkIfAllTilesAreCaptured())}processOutOfMove(){if(!this.isRunning())return;const e=this.getTiles();for(const t of e)t.isCaptured()||(this.tileCapture(t),this.removeTile(t));this.scene.finishLevel()}isHavingBomb(){const{levelHandler:e}=this.scene,t=e.getConfigs();if(t.specials&&(!t.specials.bomb||t.specials.bomb===0))return!1;const s=this.getAliveTiles();for(let i=0;i<s.length;i++){const o=s[i];if(o instanceof _e&&!o.isDefuse())return!0}return!1}getPairsOfTilesCanCapture(e){const t=[],s=this.getTiles();GameCore.Utils.Array.shuffle(s);for(const i of s){if(i.isCaptured()||i.isCapturing())continue;const o=this.getPairTilesSameColor(i,t);if(o.length===2&&(t.push(o[0],o[1]),t.length===e*2))break}return t}suggestPairHint(){if(!this.isRunning()||this.isSuggestPairHintShowed)return;const e=this.getValidPairTilesSameColorPath();if(!e||e.length===0)return;const{x:t=1,y:s=1}=e[0],{x:i=1,y:o=1}=e[e.length-1],{boardMap:r}=this.scene.boardManager,n=r[t][s],l=r[i][o];this.isSuggestPairHintShowed=!0,this.hintEffect.drawNewPath(e),this.scene.effectManager.playTileHintEffect(n,l),this.scene.audio.playSound(B.HINT_ITEM)}removeSuggestPairHint(){this.hintEffect.clear(),this.hintTiles=[],this.isSuggestPairHintShowed=!1,this.scene.effectManager.stopTileHintEffect()}hideHintEffect(){this.isSuggestPairHintShowed&&(this.scene.effectManager.tileHintEffect.hide(),this.hintEffect.hideHintEffect())}showHintEffect(){this.isSuggestPairHintShowed&&(this.scene.effectManager.tileHintEffect.show(),this.hintEffect.showHintEffect())}tileSelect=e=>()=>{if(!this.isSelectable||e.isCapturing())return;const{itemManager:t,boardManager:s,animationManager:i}=this.scene;if(this.emitInteraction(),this.removeSuggestPairHint(),t.itemActive!==""&&t.applyItem(e))return;t.setIsUseableItem(!0);let o=[];const r=this.createPathFromTile(e);if(GameCore.Utils.Valid.isBoolean(r))return;if(r===null){const{levelHandler:m,tutorialManager:h}=this.scene,{level:p}=m;if(h.isLevelShowWrongPath(p)&&this.createWrongPath(e),this.scene.events.emit(N.EVENTS.NO_PATH_FOUND),this.scene.audio.playSound(B.INVALID_MATCH),i.isMoveTilesCompleted){const b=[...this.getTiles()];i.pairWrong(b)}this.firstSelectedTile?.hideHighlight(),this.firstSelectedTile=null;return}this.captureWrongPathEffect.clear();const{x:n=0,y:l=0}=r[0],{boardMap:c}=s;o=[c[n][l],e],this.firstSelectedTile=null,this.tilesCapturing(o,r),this.startVibrate(o.length)};createPathFromTile(e){if(!this.firstSelectedTile)return e.showHighlight(),this.firstSelectedTile=e,this.scene.audio.playSound(B.TILE_SELECT),!1;if(this.firstSelectedTile===e)return e.hideHighlight(),this.firstSelectedTile=null,this.scene.audio.playSound(B.TILE_SELECT),!1;if(this.firstSelectedTile.isCaptured()||this.firstSelectedTile.isCapturing())return this.firstSelectedTile=e,!1;const{row:t,column:s,color:i}=this.firstSelectedTile,{row:o,column:r,color:n}=e;if(i!==n)return this.firstSelectedTile.hideHighlight(),e.showHighlight(),this.firstSelectedTile=e,this.scene.audio.playSound(B.TILE_SELECT),!1;const l=this.getCurrentGrid(t,s,o,r);return l.forEach(d=>{d.push(0),d.unshift(0)}),l.push(new Array(l[0].length).fill(0)),l.unshift(new Array(l[0].length).fill(0)),this.pathFinder.findPath({x:t,y:s},{x:o,y:r},l)}createWrongPath(e){if(!this.firstSelectedTile)return;const{levelHandler:t}=this.scene,{level:s}=t;let i=null;const{row:o,column:r}=this.firstSelectedTile,{row:n,column:l}=e;if(s===1&&o===1&&r===2&&n===4&&l===2)i=[],i.push(new Phaser.Math.Vector2(1,2)),i.push(new Phaser.Math.Vector2(4,2));else{const c=this.getCurrentGrid(o,r,n,l);c.forEach(d=>{d.push(0),d.unshift(0)}),c.push(new Array(c[0].length).fill(0)),c.unshift(new Array(c[0].length).fill(0)),i=this.pathFinder.findWrongPath({x:o,y:r},{x:n,y:l},c)}this.captureWrongPathEffect.drawNewPath(i),this.scene.time.delayedCall(1e3,()=>{this.captureWrongPathEffect.clear()})}getCurrentGrid(e=-1,t=-1,s=-1,i=-1){const o=[],{boardMap:r}=this.scene.boardManager,n=Object.keys(r).length;for(let l=1;l<=n;l++){const c=r[l],d=Object.keys(c).length,m=[];for(let h=1;h<=d;h++){const p=c[h];p.isCaptured()||p.isCapturing()||l===e&&h===t||l===s&&h===i?m.push(0):m.push(1)}o.push(m)}return o}getValidPairTilesSameColorPath(){const e=this.getTiles(),t=[];if(e.forEach(i=>{i.isCaptured()||i.isCapturing()||t.push(i)}),t.length<2)return[];const s=this.getCurrentGrid();s.forEach(i=>{i.push(0),i.unshift(0)}),s.push(new Array(s[0].length).fill(0)),s.unshift(new Array(s[0].length).fill(0));for(let i=0;i<t.length;i++){const o=t[i],{row:r,column:n}=o;s[r][n]=0;for(let l=i+1;l<t.length;l++){const c=t[l];if(o.color!==c.color)continue;const{row:d,column:m}=c;s[d][m]=0;const h=this.pathFinder.findPath({x:r,y:n},{x:d,y:m},s);if(h)return this.hintTiles=[o,c],h;s[d][m]=1}s[r][n]=1}return null}getPairTilesSameColor(e,t=[]){if(t.includes(e))return[];const s=[];s.push(e);for(const i of this.getTiles())if(!i.isCaptured()&&!i.isCapturing()&&i!==e&&i.color===e.color&&!t.includes(i)){s.push(i);break}return s}tilesChangeColor(e,t){const{boardManager:s}=this.scene;t.forEach(i=>{const{row:o,column:r,x:n,y:l}=i,c=this.createTileByType(e,o,r);s.setTileToMap(c,o,r),c.setX(n),c.setY(l),this.removeTile(i)})}getCapturingTiles(){const e=this.getTiles(),t=[];return e.forEach(s=>{s.isCapturing()&&t.push(s)}),t}tilesCapturing(e,t){this.delayEnableItemTimer?.remove();const{animationManager:s,modeManager:i,itemManager:o}=this.scene;this.removeSuggestPairHint(),o.setIsUseableItem(!1),e.forEach(l=>{this.tileCapture(l)}),this.matchedPairCount+=e.length/2;const r=this.capturePathGroup.requestPath();t&&(r.setScore(5*e.length),r.drawNewPath(t)),this.processRocketTiles(e),this.scene.events.emit(N.EVENTS.CAPTURING),s.capturing(e),this.scene.time.addEvent({delay:400,callback:()=>{this.capturePathGroup.killPath(r)}}),this.getCapturingTiles().length<1&&i.processGravityMode(),this.scene.events.emit(Xe.COMBO),this.scene.events.emit(Kh.ADD,ea.BaseScore)}handleRocketExplode=e=>{this.tilesCapturing(e)};processRocketTiles(e){const t=e.filter(n=>n instanceof cs).length;if(!(t>0))return;const{effectManager:i}=this.scene,o=this.getPairsOfTilesCanCapture(t/2),r=e.filter(n=>n instanceof cs);o.forEach(n=>{n.setState(N.STATUS.CAPTURING)}),r.forEach((n,l)=>{if(l>=o.length||!(n instanceof cs))return;const c=o[l],{x:d,y:m}=n.getWorldPosition(),h=new Phaser.Math.Vector2(d,m);i.requestTileRocketEffect(h,c)}),i.playTileRocketEffects()}handleExtraSpawn(){if(this.remainingExtraTileSpawn===0)return!1;const{tileManager:e}=this.scene;return this.isFirstExtraPairSpawn?this.matchedPairCount<5?!1:(this.isFirstExtraPairSpawn=!1,e.spawnExtraPair(),!0):(this.matchedPairCount-5)%2===0?this.isExtraPairSpawned?!1:(e.spawnExtraPair(),!0):(this.isExtraPairSpawned=!1,!1)}spawnExtraPair(){this.remainingExtraTileSpawn-=1;const{boardManager:e,levelHandler:t}=this.scene,{boardMap:s,boardContainer:i}=e,{colors:o}=t.getConfigs(),r=this.findFreeSpacesInBoard();if(r.length<2){this.remainingExtraTileSpawn++;return}this.scene.audio.playSound(B.EXTRA_TILE_SPAWN),r.sort(()=>Math.random()-.5);const n=Phaser.Math.RND.between(1,o),{row:l,column:c}=r[0],{row:d,column:m}=r[1],h=this.createTileByType(n.toString(),l,c),p=this.createTileByType(n.toString(),d,m);this.addTile(h),this.addTile(p),s[l][c]=h,s[d][m]=p;const{x:b,y:E}=this.firstTilePosition;h.setVisible(!1),p.setVisible(!1),i.add(h),i.add(p);const P=this.scene.boardManager.getTileSize()+1;h.setPosition(b+(c-1)*P,E+(l-1)*P),p.setPosition(b+(m-1)*P,E+(d-1)*P),h.runExtraSpawnEffect(),p.runExtraSpawnEffect(),h.setVisible(!0),p.setVisible(!0),this.isExtraPairSpawned=!0}findFreeSpacesInBoard(){const{boardMap:e}=this.scene.boardManager,t=[],s=Object.keys(e).length,i=Object.keys(e[1]).length;for(let o=1;o<=s;o++)for(let r=1;r<=i;r++)e[o][r].isCaptured()&&t.push({row:o,column:r});return t}startVibrate(e){try{if(!ea.EnableVibrate||e<=4)return;const{player:t}=this.scene;if(!t.getPlayerSetting("vibrate"))return;if(e<=6){bt(340);return}if(e<=8){bt(410);return}if(e<=9){bt(480);return}if(e>9){bt(600);return}}catch(t){Sr(t)}}}const{KEY:Xh,FRAME:Zh}=w.TUTORIAL;class qh extends Phaser.GameObjects.Container{hand;toGlobalX=0;toGlobalY=0;constructor(e){super(e),this.name="DoubleTapTutorialHand",this.addHand(),this.bringToTop(this.hand),this.scene.add.existing(this)}addHand(){this.hand=this.scene.make.image({key:Xh,frame:Zh.HAND,origin:{x:0,y:0}}),this.hand.setWorldSize(65.5,55.5),this.add(this.hand)}setTarget(e,t){this.toGlobalX=e,this.toGlobalY=t}playAnimation(e=0,t=800){this.scene.tweens.killTweensOf(this.hand);const s=1/this.scene.world.getPixelRatio();this.hand.x=0,this.hand.y=0,this.hand.angle=30,this.hand.scale=s,this.hand.setPosition(0,0),this.hand.setAlpha(1),this.runTapTween(!0,e,t)}runTapTween(e,t=0,s=800){const i=1/this.scene.world.getPixelRatio();this.scene?.tweens.add({targets:[this.hand],ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:{start:0,value:1,duration:100},scale:{duration:200,start:i,to:i*.8},angle:{from:30,value:0,duration:200}},yoyo:!0,onComplete:()=>{const o=this.toGlobalX-this.x,r=this.toGlobalY-this.y;e?this.runMoveTween(0,0,o,r,t,s):this.runMoveTween(o,r,0,0,t,s)}})}runMoveTween(e,t,s,i,o=0,r=800){this.scene?.tweens.add({delay:o,targets:[this.hand],ease:Phaser.Math.Easing.Cubic.Out,props:{x:{from:e,to:s,duration:800},y:{from:t,to:i,duration:800}},onComplete:()=>{this.runTapTween(s===0&&i===0,o,r)}})}stopAnimation(){this.scene.tweens.killTweensOf(this.hand)}kill(){super.kill()}revive(){super.revive()}destroy(e){super.destroy(e)}preDestroy(){this.scene.tweens.killTweensOf(this.hand)}}const Q={GUIDE_1:"Guide1",GUIDE_2:"Guide2",GUIDE_3:"Guide3",GUIDE_4:"Guide4",GUIDE_5:"Guide5",GUIDE_6:"Guide6",GUIDE_7:"Guide7",GUIDE_8:"Guide8",GUIDE_11:"Guide11"};class Qh{scene;manager;isStep1Analyzed;isStep2Analyzed;hintOrder=[[2,5,5,1],[1,1,5,5],[2,2,4,5],[2,1,2,3],[4,1,5,2],[1,2,4,2],[1,3,1,4],[1,2,4,2],[4,1,5,2],[1,5,3,1],[2,4,3,5],[3,2,3,4]];constructor(e){this.manager=e,this.scene=e.scene}setup(){this.isStep1Analyzed=!1,this.isStep2Analyzed=!1,O.once(R.TILE_SHOWED_UP,this.startGuide),O.once(R.FINISH,this.closeTutorial),this.manager.background.setDepth(C.EFFECT)}startGuide=()=>{const{tileManager:e,uiManager:t,boardManager:s}=this.scene,{boardContainer:i}=s;i.add(this.manager.background),this.manager.background.setPosition(-i.x+this.manager.background.displayWidth/2,-i.y+this.manager.background.displayHeight/2),t.disableUILogicForGuide1(),e.removeEventsAllTiles(),this.createHint()};createHint=()=>{const e=this.hintOrder.pop();if(!e)return;const t=e[0],s=e[1],i=e[2],o=e[3],{tileManager:r}=this.scene,{boardMap:n,boardContainer:l}=this.scene.boardManager;l.bringToTop(this.manager.background);const c=n[t][s],{x:d,y:m}=c.getWorldPosition();r.addEventsTile(c),l.bringToTop(c);const h=n[i][o],{x:p,y:b}=h.getWorldPosition();r.addEventsTile(h),l.bringToTop(h),this.manager.runShowMaskAnimation(.4),this.createHandAt(d,m,p,b),this.scene.events.once(N.EVENTS.INTERACTION,this.handleInteract)};handleNoPathFound=()=>{this.scene.events.off(N.EVENTS.CAPTURING,this.handleCapturing);const{tileManager:e}=this.scene;e.removeEventsAllTiles(),this.isStep2Analyzed||(this.scene.analytics.event(M.TUTORIAL_STEP,{step:2}),this.isStep2Analyzed=!0),this.manager.runHideMaskAnimation(),this.scene.time.delayedCall(1e3,()=>{e.clearWrongPath(),this.scene.time.delayedCall(500,()=>{this.createHint()})})};handleCapturing=()=>{this.scene.events.off(N.EVENTS.NO_PATH_FOUND,this.handleNoPathFound),this.scene.audio.playSound("combo_1"),this.isStep1Analyzed||(this.scene.analytics.event(M.TUTORIAL_STEP,{step:1}),this.isStep1Analyzed=!0),this.manager.runHideMaskAnimation(),this.scene.time.delayedCall(600,()=>{this.createHint()})};handleInteract=()=>{this.manager.hand.stopAnimation(),this.manager.hand.kill(),this.scene.events.once(N.EVENTS.CAPTURING,this.handleCapturing),this.scene.events.once(N.EVENTS.NO_PATH_FOUND,this.handleNoPathFound)};createHandAt(e,t,s,i){this.manager.hand.setDepth(C.ON_TOP),this.manager.hand.setPosition(e-10,t),this.manager.hand.revive(),this.manager.hand.setTarget(s-10,i),this.manager.hand.stopAnimation(),this.manager.hand.playAnimation(300)}closeTutorial=()=>{O.off(R.TILE_SHOWED_UP,this.startGuide),this.scene.events.off(N.EVENTS.INTERACTION,this.handleInteract),this.scene.events.off(N.EVENTS.CAPTURING,this.handleCapturing),this.scene.events.off(N.EVENTS.NO_PATH_FOUND,this.handleNoPathFound);const{boardContainer:e}=this.scene.boardManager;e.remove(this.manager.background,!1),Phaser.Display.Align.In.Center(this.manager.background,this.scene.gameZone),this.scene.analytics.event(M.TUTORIAL_STEP,{step:3});const{objects:t}=this.scene.layoutManager;t.skipContainer.kill(),this.manager.stopTutorial()}}class Jh{scene;manager;constructor(e){this.manager=e,this.scene=e.scene}setup(){O.once(R.TILE_SHOWED_UP,this.startGuide),O.once(R.FINISH,this.closeTutorial),O.once(R.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo()};createInfo(){const{itemManager:e,layoutManager:t}=this.scene,{staticHand:s,infoText:i}=this.manager,{objects:o}=t;e.setDepthItemOnTop(k.ROCKET.ID);const{x:r,y:n,scale:l,width:c,displayWidth:d,displayHeight:m}=o.rocketItem;this.manager.createMask(r-(d-2*l)/2,n-m/2+6*l,(c-2)*l,(c-2)*l,(c-2)*l/2);const h=this.scene.world.isLandscape(),p=h?30:-50,b=h?60:-90,E=h?30:210;this.manager.runShowMaskAnimation(),s.revive(),s.angle=E,s.setPosition(r,n+p);const v=this.scene.lang.getCurrentLanguage()==="ru"?200:150;i.setMaxWidth(v),i.revive(),i.setPosition(r,n+b),i.setText(this.scene.lang.Text.tutorial_level_11),this.scene.input.setTopOnly(!0),this.scene.input.once(Phaser.Input.Events.POINTER_UP,this.handlePointerDown)}handlePointerDown=()=>{this.scene.input.setTopOnly(!1);const{itemManager:e}=this.scene,{infoText:t,staticHand:s}=this.manager;this.manager.runHideMaskAnimation(),t.kill(),s.kill(),e.setPaidItem(k.ROCKET.ID,!0),e.setDepthItemNormal(k.ROCKET.ID),e.itemActive!==k.ROCKET.ID&&e.enableItem(k.ROCKET.ID),this.scene.analytics.event(M.TUTORIAL_STEP,{step:18})};closeTutorial=()=>{O.off(R.TILE_SHOWED_UP,this.startGuide),O.off(R.FINISH,this.closeTutorial),O.off(R.DIE,this.closeTutorial),this.manager.stopTutorial(),this.manager.completeTutorial(),this.scene.analytics.event(M.TUTORIAL_STEP,{step:19})}}class ef{scene;manager;constructor(e){this.manager=e,this.scene=e.scene}setup(){O.once(R.TILE_SHOWED_UP,this.startGuide),O.once(R.FINISH,this.closeTutorial),O.once(R.DIE,this.closeTutorial)}startGuide=()=>{const{uiManager:e}=this.scene;e.disableUILogicForGuide2(),this.manager.listenAutoHintEvent(),this.manager.startAutoHint()};closeTutorial=()=>{O.off(R.TILE_SHOWED_UP,this.startGuide),O.off(R.FINISH,this.closeTutorial),O.off(R.DIE,this.closeTutorial),this.manager.stopListenAutoHintEvent(),this.manager.stopAutoHint(),this.manager.stopTutorial()}}class tf{scene;manager;constructor(e){this.manager=e,this.scene=e.scene}setup(){O.once(R.TILE_SHOWED_UP,this.startGuide),O.once(R.FINISH,this.closeTutorial),O.once(R.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo(),this.manager.listenAutoHintEvent(),this.manager.startAutoHint()};createInfo(){const{staticHand:e,infoText:t}=this.manager,{layoutManager:s}=this.scene,{objects:i}=s,{width:o,height:r,x:n,y:l}=i.playtimeClock,c=10;this.manager.createMask(n-c/2,l-r/2-c/2,o+c,r+c),this.manager.runShowMaskAnimation(),e.revive(),e.angle=30,e.setPosition(n+o/2,l+30),t.setMaxWidth(200),t.revive(),t.setPosition(n+90,l+60),t.setText(this.scene.lang.Text.tutorial_level_3),this.scene.input.setTopOnly(!0),this.scene.input.once(Phaser.Input.Events.POINTER_DOWN,this.handlePointerDown)}handlePointerDown=()=>{this.scene.input.setTopOnly(!1);const{infoText:e,staticHand:t}=this.manager;this.manager.runHideMaskAnimation(),e.kill(),t.kill(),this.scene.analytics.event(M.TUTORIAL_STEP,{step:4})};closeTutorial=()=>{O.off(R.TILE_SHOWED_UP,this.startGuide),O.off(R.FINISH,this.closeTutorial),O.off(R.DIE,this.closeTutorial),this.manager.stopListenAutoHintEvent(),this.manager.stopAutoHint(),this.manager.stopTutorial(),this.scene.analytics.event(M.TUTORIAL_STEP,{step:5})}}class sf{scene;manager;constructor(e){this.manager=e,this.scene=e.scene}setup(){O.once(R.TILE_SHOWED_UP,this.startGuide),O.once(R.FINISH,this.closeTutorial),O.once(R.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo(),this.manager.listenAutoHintEvent()};createInfo(){const{itemManager:e,layoutManager:t}=this.scene,{staticHand:s,infoText:i}=this.manager,{objects:o}=t;e.setDepthItemOnTop(k.HINT.ID);const{x:r,y:n,scale:l,width:c,displayWidth:d,displayHeight:m}=o.hintItem;this.manager.createMask(r-(d-2*l)/2,n-m/2+6*l,(c-2)*l,(c-2)*l,(c-2)*l/2),this.manager.runShowMaskAnimation();const h=this.scene.world.isLandscape(),p=h?30:-50;let b=h?60:-90;const E=h?30:210;s.revive(),s.angle=E,s.setPosition(r,n+p);const P=this.scene.lang.getCurrentLanguage();i.revive(),P==="ru"&&(h?b+=10:b-=10),i.setPosition(r,n+b),i.setText(this.scene.lang.Text.tutorial_hint),this.scene.input.setTopOnly(!0),this.scene.input.once(Phaser.Input.Events.POINTER_UP,this.handlePointerDown)}handlePointerDown=()=>{this.scene.input.setTopOnly(!1);const{itemManager:e}=this.scene,{infoText:t,staticHand:s}=this.manager;this.manager.runHideMaskAnimation(),t.kill(),s.kill(),e.setPaidItem(k.HINT.ID),e.setDepthItemNormal(k.HINT.ID),this.scene.analytics.event(M.TUTORIAL_STEP,{step:6})};closeTutorial=()=>{O.off(R.TILE_SHOWED_UP,this.startGuide),O.off(R.FINISH,this.closeTutorial),O.off(R.DIE,this.closeTutorial),this.manager.stopListenAutoHintEvent(),this.manager.stopAutoHint(),this.manager.stopTutorial(),this.scene.analytics.event(M.TUTORIAL_STEP,{step:7})}}class de extends Phaser.GameObjects.Container{useSound=!0;isClicked=!1;scaleUp=-1;scaleDown=-1;button;upAnimation;downAnimation;isUsePixelPerfect=!1;hitArea;hitZone;hitSoundEffectKey=B.GENERAL_BUTTON_CLICK;scaleDownPress;parentName;constructor(e,t,s,i,o,r=!1){super(e),this.isUsePixelPerfect=r,this.setDepth(C.BUTTON),this.createButton(t,s,i,o),this.updateSize(),this.listenEvents(),this.scene.add.existing(this)}listenEvents(){this.scene.events.on(Phaser.Scenes.Events.SLEEP,this.handleSceneSleep),this.once(Phaser.GameObjects.Events.DESTROY,this.handelObjectDestroy)}handelObjectDestroy=()=>{this.scene&&this.scene.events.off(Phaser.Scenes.Events.SLEEP,this.handleSceneSleep)};handleSceneSleep=()=>{this.scene&&this.scene.tweens.killTweensOf(this)};set onClick(e){this.isUsePixelPerfect?(this.hitArea=this.button,this.hitArea.setInteractive({useHandCursor:!0,pixelPerfect:!0})):(this.hitArea=this.hitZone,this.updateSize(),this.hitArea.setInteractive({useHandCursor:!0})),this.hitArea.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handlePointerDown),this.hitArea.on(Phaser.Input.Events.GAMEOBJECT_POINTER_UP,this.handleOnClick(e)),this.hitArea.on(Phaser.Input.Events.GAMEOBJECT_POINTER_OUT,this.handlePointerOut)}get isUsePixelPerFect(){return this.isUsePixelPerfect}handlePointerDown=()=>{this.isClicked||this.upAnimation?.tween?.isPlaying()||(this.isClicked=!0,this.runDownAnimation())};handleOnClick=e=>()=>{this.isClicked&&(this.upAnimation?.tween?.isPlaying()||(this.isClicked=!1,this.runUpAnimation(),this.upAnimation?.tween?.once(Phaser.Tweens.Events.TWEEN_COMPLETE,()=>{this.logButtonEvent(),this.processCallback(e)})))};handlePointerOut=()=>{this.isClicked&&(this.upAnimation?.tween?.isPlaying()||(this.isClicked=!1,this.runUpAnimation()))};processCallback(e){this.upAnimation?.stop(),this.downAnimation?.stop(),this.scene?.tweens.killTweensOf(this),this.scaleUp!==-1&&this.setScale(this.scaleUp),e()}setDisabled(e){e?(this.setAlpha(.5),this.hitArea?.disableInteractive()):(this.setAlpha(1),this.hitArea?.setInteractive())}createButton(e,t,s,i){this.button=this.scene.add.image(0,0,e,t),s&&i&&this.button.setWorldSize(s,i),this.scaleDownPress=this.scale-.07;const{displayWidth:o,displayHeight:r}=this.button;this.hitZone=this.scene.make.zone({displayWidth:o,displayHeight:r}),this.add([this.button,this.hitZone])}updateSize(){const{width:e,height:t}=this.button,s=10,i=e/100*10,o=t/100*10,r=i<s?i:s,n=o<s?o:s;this.setSize(e+r,t+n),this.hitZone.setSize(e+r,t+n)}runDownAnimation=()=>{this.scaleDown===-1&&(this.scaleUp=this.scale,this.scaleDown=this.scaleDownPress),this.useSound&&this.scene.audio.playSound(this.hitSoundEffectKey),this.downAnimation?.remove(),this.downAnimation=new Vt({targets:[this],duration:150,props:{scale:this.scaleDown},onUpdate:()=>{this.hitZone.scale=1/this.scale}}),this.downAnimation.play()};runUpAnimation=()=>{this.scaleUp!==-1&&(this.upAnimation?.remove(),this.upAnimation=new Vt({targets:[this],duration:150,props:{scale:this.scaleUp},onUpdate:()=>{this.hitZone.scale=1/this.scale}}),this.upAnimation.play())};logButtonEvent(){const e=this.getParentName(),t=this.name;this.scene.analytics.event(M.BUTTON_CLICK,{button_name:t,screen_name:e})}getParentName(){if(this.parentName)return this.parentName;let e=this.parentContainer;for(;e;){if(e instanceof GameCore.Screen){const t=e;return this.parentName=t.getScreenName(),this.parentName}e=e.parentContainer}return this.parentName=this.scene.getSceneName(),this.parentName}setButtonHitSoundEffect(e){this.hitSoundEffectKey=e}}const L={PAUSE_SCREEN:"PAUSE_SCREEN",NOTIFY_SCREEN:"NOTIFY_SCREEN",RESULT_SCREEN:"RESULT_SCREEN",RESCUE_SCREEN:"RESCUE_SCREEN",CONTINUE_SCREEN:"CONTINUE_SCREEN",REWARD_ITEM_SCREEN:"REWARD_ITEM_SCREEN",DAILY_REWARDS_SCREEN:"DAILY_REWARDS_SCREEN",TUTORIAL_POPUP_5:"TUTORIAL_POPUP_5",TUTORIAL_POPUP_6:"TUTORIAL_POPUP_6"},tt={SCREEN:200,POPUP:300,PRIORITY:999},{KEY:dt,FRAME:ue}=w.TUTORIAL,{KEY:ds,FRAME:Qs}=w.DEFAULT;class of extends Phaser.GameObjects.Container{popup;content;failContent;onClick;goodText;tile1;rocket1;curve1;tile5;tile4;tile7;rocket2;curve2;constructor(e){super(e),this.scene=e,this.name=L.TUTORIAL_POPUP_5,this.setDepth(C.POPUP),this.createPopup(),this.updateSize(),this.createTitle(),this.createContent(),this.createText(),this.createButton(),this.createFail(),this.scene.add.existing(this)}createPopup(){const e=this.scene.make.image({key:ds,frame:Qs.POPUP});e.setWorldSize(291.5,374),this.add(e),this.popup=e}updateSize(){const{displayWidth:e,displayHeight:t}=this.popup;this.setSize(e/2,t/2)}createTitle(){const e=this.scene.make.image({key:ds,frame:this.scene.lang.Texture.rocket}),t=this.scene.lang.getCurrentLanguage();let s=115,i=24.5;switch(t){case"ru":s=110,i=25;break;case"ja":s=99,i=29;break;case"pt":s=132,i=25;break;case"fr":s=90,i=30;break;case"it":s=97,i=25;break;case"tr":s=96,i=25;break;case"de":s=113,i=25;break;case"es":s=117,i=25;break;case"zh":s=54,i=29;break}e.setWorldSize(s,i),e.setTint(15584418),Phaser.Display.Align.In.TopCenter(e,this.popup,0,-22),this.add(e)}createContent(){this.content=this.scene.make.container({}),this.content.setSize(208,104),this.add(this.content),this.content.setPosition(0,-50),this.createTiles()}createTiles(){const e=[],t=this.createTile(ue.GUIDE_TILE5);this.content.add(t),e.push(t),this.tile1=t;const s=this.createTile(ue.GUIDE_TILE4);this.content.add(s),e.push(s);const i=this.createTile(ue.GUIDE_TILE3);this.content.add(i),e.push(i);const o=this.createTile(ue.GUIDE_TILE2);this.content.add(o),e.push(o),this.tile4=o;const r=this.createTile(ue.GUIDE_TILE5);this.content.add(r),e.push(r),this.tile5=r;const n=this.createTile(ue.GUIDE_TILE1);this.content.add(n),e.push(n);const l=this.createTile(ue.GUIDE_TILE2);this.content.add(l),e.push(l),this.tile7=l;const c=this.createTile(ue.GUIDE_TILE1);this.content.add(c),e.push(c),Phaser.Actions.GridAlign(e,{width:4,height:2,cellWidth:52,cellHeight:52,x:-(2*52)+26+1,y:-(1*52)+26+1});const d=this.scene.make.image({key:dt,frame:ue.ROCKET});d.setWorldSize(30,39),this.content.add(d),this.rocket1=d,this.rocket1.setPosition(t.x,t.y),this.rocket1.kill();const m=this.scene.make.image({key:dt,frame:ue.ROCKET});m.setWorldSize(30,39),this.content.add(m),this.rocket2=m,this.rocket2.setPosition(r.x,r.y),this.rocket2.kill();const h=(o.x-t.x)/2,p=t.x+h,b=t.y;this.curve1=new Phaser.Curves.Ellipse(p,b,h,50,180,360);const E=(l.x-r.x)/2,P=r.x+E,v=r.y;this.curve2=new Phaser.Curves.Ellipse(P,v,E,30,180,360,!0)}createTile(e,t=!1){const s=this.scene.make.container({});s.setSize(50,50);const i=this.scene.make.image({key:dt,frame:ue.TILE_BG});if(i.setWorldSize(50,50),s.add(i),e){const o=this.scene.make.image({key:dt,frame:e});o.setWorldSize(41,43.5),s.add(o)}if(t){const o=this.scene.add.graphics();o.fillStyle(0,.3),o.fillPoints([{x:0,y:0},{x:0,y:-25},{x:25,y:-25}],!0),s.add(o);const r=this.scene.make.image({key:dt,frame:ue.BOMB});r.setWorldSize(20,21),Phaser.Display.Align.In.BottomRight(r,s,0,-3),s.add(r)}return s}createText(){const e=this.scene.make.bitmapText({font:I.YELLOW_AND_STROKE.KEY,size:this.scene.fontSize(18)});e.setCenterAlign(),e.setText(this.scene.lang.Text.tutorial_rocket_tile),e.setMaxWidth(220),Phaser.Display.Align.In.Center(e,this.popup,0,50),this.add(e)}createButton(){const e=new de(this.scene,ds,Qs.BUTTON_GREEN,180,46.5);e.setName("Guide5Btn");const t=this.scene.lang.getCurrentLanguage();let s=-4,i=18;switch(t){case"ja":s=-6,i=20;break}const o=this.scene.make.bitmapText({font:I.SHADOW.KEY,size:this.scene.fontSize(i),origin:{x:.5,y:.5}});o.setText(this.scene.lang.Text.ok),e.add(o),Phaser.Display.Align.In.Center(o,e,0,s),Phaser.Display.Align.In.BottomCenter(e,this.popup,0,-30),e.onClick=this.handleButtonClick;const r=this.scene.make.image({key:ds,frame:Qs.BUTTON_BG});r.setWorldSize(184,50.5),r.setPosition(e.x,e.y),this.add([r,e])}handleButtonClick=()=>{this.kill(),this.onClick&&this.onClick()};createFail(){this.failContent=this.scene.make.container({}),Phaser.Display.Align.In.Center(this.failContent,this.content),this.add(this.failContent);const e=this.scene.lang.getCurrentLanguage();let t=171,s=79;switch(e){case"ru":t=200,s=79;break;case"ja":t=112,s=79;break;case"id":t=115,s=63;break;case"it":t=108,s=56;break;case"es":t=100,s=56;break;case"fr":t=100,s=56;break;case"pt":t=94,s=57;break;case"de":t=93,s=57;break;case"zh":t=88,s=60;break;case"tr":t=70,s=61;break}const i=this.scene.make.image({key:dt,frame:this.scene.lang.Texture.tutorial_text_good});i.setWorldSize(t,s),this.failContent.add(i),i.kill(),this.goodText=i}stopAnimation(){this.goodText.kill(),this.scene.tweens.killTweensOf([this.tile1,this.tile4,this.tile5,this.tile7,this.rocket1,this.rocket2]),this.scene.tweens.killTweensOf(this.goodText)}playAnimation(){this.scene.tweens.killTweensOf(this.goodText),this.scene.tweens.killTweensOf([this.tile1,this.tile4,this.tile5,this.tile7,this.rocket1,this.rocket2]),this.goodText.kill(),this.goodText.setPosition(0,0),this.rocket1.setPosition(this.tile1.x,this.tile1.y),this.rocket1.setAngle(0),this.rocket1.setAlpha(1),this.rocket1.kill(),this.rocket2.setPosition(this.tile5.x,this.tile5.y),this.rocket2.setAngle(0),this.rocket2.setAlpha(1),this.rocket2.kill(),this.tile1.setAlpha(1),this.tile4.setAlpha(1),this.tile5.setAlpha(1),this.tile7.setAlpha(1),this.scene.time.delayedCall(600,()=>{this.rocket1.revive(),this.rocket2.revive()}),this.scene.tweens.add({targets:[this.tile1,this.tile5],duration:500,delay:300,props:{alpha:{from:1,to:0}},onComplete:()=>{this.scene.tweens.addCounter({from:0,to:1,duration:500,onUpdate:e=>{const t=e.getValue(),s=this.curve1.getPoint(t);this.rocket1.setRotation(Phaser.Math.Angle.Between(this.rocket1.x,this.rocket1.y,s.x,s.y)+Phaser.Math.DegToRad(66)),this.rocket1.setPosition(s.x,s.y);const i=this.curve2.getPoint(t);this.rocket2.setRotation(Phaser.Math.Angle.Between(this.rocket2.x,this.rocket2.y,i.x,i.y)+Phaser.Math.DegToRad(66)),this.rocket2.setPosition(i.x,i.y)},onComplete:()=>{this.scene.tweens.add({targets:[this.tile4,this.tile7,this.rocket1,this.rocket2],duration:300,props:{alpha:{from:1,to:0}}}),this.scene.time.delayedCall(200,()=>{this.playGoodAnimation()})}})}})}playGoodAnimation(){this.goodText.revive(),this.scene.tweens.add({targets:this.goodText,duration:500,ease:Phaser.Math.Easing.Linear,props:{y:{from:0,to:-50}},onComplete:()=>{this.playAnimation()}})}}class af{scene;manager;popup;constructor(e){this.manager=e,this.scene=e.scene,this.popup=new of(this.scene),this.popup.setDepth(C.ON_TOP),this.scene.world.isLandscape()?(this.popup.setScale(.7),Phaser.Display.Align.In.Center(this.popup,this.scene.gameZone,0,-20)):Phaser.Display.Align.In.Center(this.popup,this.scene.gameZone,0,-50),this.popup.kill()}setup(){O.once(R.TILE_SHOWED_UP,this.startGuide),O.once(R.FINISH,this.closeTutorial),O.once(R.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo()};createInfo(){this.scene.input.setTopOnly(!0),this.manager.runShowMaskAnimation(),this.popup.revive(),this.scene.time.delayedCall(500,()=>{this.popup.playAnimation(),this.scene.analytics.event(M.TUTORIAL_STEP,{step:8})}),this.popup.onClick=()=>{this.scene.input.setTopOnly(!1),this.manager.runHideMaskAnimation(),this.popup.stopAnimation(),this.manager.listenAutoHintEvent(),this.manager.startAutoHint(),this.scene.analytics.event(M.TUTORIAL_STEP,{step:9})}}closeTutorial=()=>{O.off(R.TILE_SHOWED_UP,this.startGuide),O.off(R.FINISH,this.closeTutorial),O.off(R.DIE,this.closeTutorial),this.manager.stopListenAutoHintEvent(),this.manager.stopAutoHint(),this.manager.stopTutorial(),this.scene.analytics.event(M.TUTORIAL_STEP,{step:10})}}const{KEY:Ke,FRAME:Ae}=w.TUTORIAL,{KEY:ms,FRAME:Js}=w.DEFAULT;class rf extends Phaser.GameObjects.Container{popup;content;contentBg;failContent;onClick;failedText;originFailScale;leftLeaf;originLLeafScale;rightLeaf;originRLeafScale;bombCountDownMask;bomb;tileBomb;bombTween;constructor(e){super(e),this.scene=e,this.name=L.TUTORIAL_POPUP_6,this.setDepth(C.POPUP),this.createPopup(),this.updateSize(),this.createTitle(),this.createContent(),this.createText(),this.createButton(),this.createFail(),this.scene.add.existing(this)}createPopup(){const e=this.scene.make.image({key:ms,frame:Js.POPUP});e.setWorldSize(291.5,374),this.add(e),this.popup=e}updateSize(){const{displayWidth:e,displayHeight:t}=this.popup;this.setSize(e/2,t/2)}createTitle(){const e=this.scene.make.image({key:ms,frame:this.scene.lang.Texture.boom}),t=this.scene.lang.getCurrentLanguage();let s=86,i=25;switch(t){case"ru":s=63,i=25;break;case"ja":s=86,i=25;break;case"zh":s=29,i=28;break;case"pt":s=106,i=25;break;case"fr":s=85,i=25;break;case"id":s=80,i=25;break;case"es":s=65,i=25;break;case"tr":s=107,i=25;break}e.setWorldSize(s,i),e.setTint(15584418),Phaser.Display.Align.In.TopCenter(e,this.popup,0,-22),this.add(e)}createContent(){this.content=this.scene.make.container({}),this.content.setSize(102,102),this.add(this.content),this.content.setPosition(0,-20),this.createTiles();const e=this.scene.make.image({key:Ke,frame:Ae.BLANK});e.setTint(0),e.setWorldSize(102,102),e.setY(-20),this.content.add(e),e.kill(),this.contentBg=e}createTiles(){const e=this.createTile(Ae.GUIDE_TILE1);this.content.add(e),Phaser.Display.Align.In.TopLeft(e,this.content);const t=this.createTile(Ae.GUIDE_TILE2);this.content.add(t),Phaser.Display.Align.In.TopRight(t,this.content);const s=this.createTile(Ae.GUIDE_TILE1);this.content.add(s),Phaser.Display.Align.In.BottomLeft(s,this.content);const i=this.createTile(Ae.GUIDE_TILE2,!0);this.content.add(i),Phaser.Display.Align.In.BottomRight(i,this.content),this.tileBomb=i}createTile(e,t=!1){const s=this.scene.make.container({});s.setSize(50,50);const i=this.scene.make.image({key:Ke,frame:Ae.TILE_BG});i.setWorldSize(50,50),s.add(i);const o=this.scene.make.image({key:Ke,frame:e});if(o.setWorldSize(41,43.5),s.add(o),t){const r=this.scene.make.image({key:Ke,frame:Ae.BOMB});r.setWorldSize(20,21),Phaser.Display.Align.In.BottomRight(r,s,0,-3),s.add(r),this.bomb=r}return s}createText(){const e=this.scene.make.bitmapText({font:I.YELLOW_AND_STROKE.KEY,size:this.scene.fontSize(18)});e.setText(this.scene.lang.Text.tutorial_bomb_tile),e.setCenterAlign(),e.setMaxWidth(220),Phaser.Display.Align.In.Center(e,this.popup,0,50),this.add(e)}createButton(){const e=new de(this.scene,ms,Js.BUTTON_GREEN,180,46.5);e.setName("Guide6Btn");const t=this.scene.lang.getCurrentLanguage();let s=-4,i=18;switch(t){case"ja":s=-6,i=20;break}const o=this.scene.make.bitmapText({font:I.SHADOW.KEY,size:this.scene.fontSize(i),origin:{x:.5,y:.5}});o.setText(this.scene.lang.Text.ok),e.add(o),Phaser.Display.Align.In.Center(o,e,0,s),Phaser.Display.Align.In.BottomCenter(e,this.popup,0,-30),e.onClick=this.handleButtonClick;const r=this.scene.make.image({key:ms,frame:Js.BUTTON_BG});r.setWorldSize(184,50.5),r.setPosition(e.x,e.y),this.add([r,e])}handleButtonClick=()=>{this.kill(),this.onClick&&this.onClick()};createFail(){this.failContent=this.scene.make.container({}),Phaser.Display.Align.In.Center(this.failContent,this.content),this.add(this.failContent);const e=this.scene.make.image({key:Ke,frame:Ae.LEAF_LEFT});e.setOrigin(1,.5),e.setWorldSize(132.5,61),this.failContent.add(e),e.setY(-17),e.kill(),this.leftLeaf=e,this.originLLeafScale=e.scale;const t=this.scene.make.image({key:Ke,frame:Ae.LEAF_RIGHT});t.setOrigin(0,.5),t.setWorldSize(120,68),this.failContent.add(t),t.setY(-17),t.kill(),this.rightLeaf=t,this.originRLeafScale=t.scale;const s=this.scene.lang.getCurrentLanguage();let i=61.5;switch(s){case"ru":i=35;break;case"ja":i=90;break;case"it":i=45*(167.5/350);break;case"de":i=45*(167.5/336);break;case"tr":i=55*(167.5/263);break;case"es":i=45*(167.5/231);break;case"pt":i=45*(167.5/192);break;case"fr":i=54*(167.5/164);break;case"id":i=48*(167.5/163);break;case"zh":i=51*(167.5/93);break}const o=this.scene.make.image({key:Ke,frame:this.scene.lang.Texture.tutorial_text_failed});o.setWorldSize(167.5,i),this.failContent.add(o),o.setY(-20),o.kill(),this.failedText=o,this.originFailScale=o.scale}stopAnimation(){this.contentBg.kill(),this.leftLeaf.kill(),this.rightLeaf.kill(),this.failedText.kill(),this.scene.tweens.killTweensOf(this.content),this.scene.tweens.killTweensOf(this.leftLeaf),this.scene.tweens.killTweensOf(this.rightLeaf),this.scene.tweens.killTweensOf(this.failedText)}playAnimation(){this.scene.tweens.killTweensOf(this.content),this.scene.tweens.killTweensOf(this.leftLeaf),this.scene.tweens.killTweensOf(this.rightLeaf),this.scene.tweens.killTweensOf(this.failedText),this.contentBg.revive(),this.contentBg.setAlpha(0),this.bomb.revive(),this.failedText.revive(),this.failedText.setScale(0),this.leftLeaf.revive(),this.leftLeaf.setScale(0),this.leftLeaf.setAngle(-5),this.rightLeaf.revive(),this.rightLeaf.setScale(0),this.rightLeaf.setAngle(5),this.runBombIconTween(),this.scene.tweens.addCounter({from:1,to:0,duration:1e3,ease:"Linear",onUpdate:e=>{const t=e.getValue();this.bombCountDownMask.drawCountdown(t,1)},onComplete:()=>{this.bomb.kill(),this.scene.time.delayedCall(200,()=>{this.playFailAnimation()})}})}runBombIconTween(){this.bombTween?.stop(),this.bombTween?.stop();const{scaleX:e,scaleY:t}=this.bomb;this.bombTween=this.scene.tweens.add({targets:this.bomb,scaleX:e*1.2,scaleY:t*1.2,ease:"Sine.easeInOut",duration:500,yoyo:!0,repeat:-1,onStop:()=>{this.bomb.setScale(e,t)}})}createBombCountDown(){this.bombCountDownMask=new kr(this.scene,50,4),this.tileBomb.add(this.bombCountDownMask),this.bombCountDownMask.drawCountdown(0,1)}playFailAnimation(){this.scene.tweens.add({targets:this.contentBg,duration:1e3,ease:Phaser.Math.Easing.Linear,props:{alpha:{from:0,to:.5}}}),this.scene.tweens.add({targets:this.failedText,duration:1e3,ease:Phaser.Math.Easing.Expo.InOut,props:{scale:{from:0,to:this.originFailScale}},onComplete:()=>{const e=[this.originLLeafScale,this.originRLeafScale];this.scene.tweens.add({targets:[this.leftLeaf,this.rightLeaf],duration:500,ease:Phaser.Math.Easing.Expo.Out,props:{scale:{getStart:(s,i,o,r)=>0,getEnd:(s,i,o,r)=>e[r]}}});const t=[-5,5];this.scene.tweens.add({targets:[this.leftLeaf,this.rightLeaf],delay:300,duration:500,ease:Phaser.Math.Easing.Linear,props:{angle:{getStart:(s,i,o,r)=>t[r],getEnd:(s,i,o,r)=>0}},onComplete:()=>{this.playAnimation()}})}})}}class nf{scene;manager;popup;constructor(e){this.manager=e,this.scene=e.scene,this.popup=new rf(this.scene),this.popup.setDepth(C.ON_TOP),this.scene.world.isLandscape()?(this.popup.setScale(.7),Phaser.Display.Align.In.Center(this.popup,this.scene.gameZone,0,-20)):Phaser.Display.Align.In.Center(this.popup,this.scene.gameZone,0,-50),this.popup.kill(),this.popup.createBombCountDown()}setup(){O.once(R.TILE_SHOWED_UP,this.startGuide),O.once(R.FINISH,this.closeTutorial),O.once(R.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo()};createInfo(){this.scene.input.setTopOnly(!0),this.manager.runShowMaskAnimation(),this.popup.revive(),this.scene.time.delayedCall(500,()=>{this.popup.playAnimation(),this.scene.analytics.event(M.TUTORIAL_STEP,{step:11})}),this.popup.onClick=()=>{this.scene.input.setTopOnly(!1),this.manager.runHideMaskAnimation(),this.popup.stopAnimation(),this.manager.listenAutoHintEvent(),this.manager.startAutoHint(),this.scene.analytics.event(M.TUTORIAL_STEP,{step:12})}}closeTutorial=()=>{O.off(R.TILE_SHOWED_UP,this.startGuide),O.off(R.FINISH,this.closeTutorial),O.off(R.DIE,this.closeTutorial),this.manager.stopListenAutoHintEvent(),this.manager.stopAutoHint(),this.manager.stopTutorial(),this.scene.analytics.event(M.TUTORIAL_STEP,{step:13})}}class lf{scene;manager;constructor(e){this.manager=e,this.scene=e.scene}setup(){O.once(R.TILE_SHOWED_UP,this.startGuide),O.once(R.FINISH,this.closeTutorial),O.once(R.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo()};createInfo(){const{itemManager:e,layoutManager:t}=this.manager.scene,{staticHand:s,infoText:i}=this.manager,{objects:o}=t;e.setDepthItemOnTop(k.GUIDE_BOMB_DEFUSE.ID);const{x:r,y:n,scale:l,width:c,displayWidth:d,displayHeight:m}=o.defuseItem;this.manager.createMask(r-(d-2*l)/2,n-m/2+6*l,(c-2)*l,(c-2)*l,(c-2)*l/2),this.manager.runShowMaskAnimation();const h=this.scene.world.isLandscape(),p=h?30:-50,b=h?0:30,E=h?60:-90,P=h?30:210;s.revive(),s.angle=P,s.setPosition(r,n+p);const g=this.scene.lang.getCurrentLanguage()==="ru"?250:150;i.setMaxWidth(g),i.revive(),i.setPosition(r+b,n+E),i.setText(this.scene.lang.Text.tutorial_level_7),this.manager.scene.input.setTopOnly(!0),this.manager.scene.input.once(Phaser.Input.Events.POINTER_UP,this.handlePointerDown)}handlePointerDown=()=>{this.manager.scene.input.setTopOnly(!1);const{itemManager:e,uiManager:t}=this.manager.scene,{infoText:s,staticHand:i}=this.manager;this.manager.runHideMaskAnimation(),t.changeToDefuseItem(),s.kill(),i.kill(),e.setPaidItem(k.GUIDE_BOMB_DEFUSE.ID),e.setDepthItemNormal(k.GUIDE_BOMB_DEFUSE.ID),this.manager.scene.analytics.event(M.TUTORIAL_STEP,{step:14})};closeTutorial=()=>{O.off(R.TILE_SHOWED_UP,this.startGuide),O.off(R.FINISH,this.closeTutorial),O.off(R.DIE,this.closeTutorial),this.manager.stopTutorial(),this.manager.scene.analytics.event(M.TUTORIAL_STEP,{step:15})}}class cf{scene;manager;constructor(e){this.manager=e,this.scene=e.scene}setup(){O.once(R.TILE_SHOWED_UP,this.startGuide),O.once(R.FINISH,this.closeTutorial),O.once(R.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo()};createInfo(){const{itemManager:e,layoutManager:t}=this.manager.scene,{staticHand:s,infoText:i}=this.manager,{objects:o}=t;e.setDepthItemOnTop(k.SHUFFLE.ID);const{x:r,y:n,scale:l,width:c,displayWidth:d,displayHeight:m}=o.shuffleItem;this.manager.createMask(r-(d-2*l)/2,n-m/2+6*l,(c-2)*l,(c-2)*l,(c-2)*l/2);const h=this.scene.world.isLandscape(),p=h?30:-50,b=h?60:-90,E=h?30:210;this.manager.runShowMaskAnimation(),s.revive(),s.angle=E,s.setPosition(r,n+p);const v=this.scene.lang.getCurrentLanguage()==="ru"?225:150;i.setMaxWidth(v),i.revive(),i.setPosition(r,n+b),i.setText(this.scene.lang.Text.tutorial_level_8),this.manager.scene.input.setTopOnly(!0),this.manager.scene.input.once(Phaser.Input.Events.POINTER_UP,this.handlePointerDown)}handlePointerDown=()=>{this.manager.scene.input.setTopOnly(!1);const{itemManager:e}=this.manager.scene,{infoText:t,staticHand:s}=this.manager;this.manager.runHideMaskAnimation(),t.kill(),s.kill(),e.setPaidItem(k.SHUFFLE.ID),e.setDepthItemNormal(k.SHUFFLE.ID),this.manager.scene.analytics.event(M.TUTORIAL_STEP,{step:16})};closeTutorial=()=>{O.off(R.TILE_SHOWED_UP,this.startGuide),O.off(R.FINISH,this.closeTutorial),O.off(R.DIE,this.closeTutorial),this.manager.stopTutorial(),this.manager.scene.analytics.event(M.TUTORIAL_STEP,{step:17})}}const{STATUS:ei}=$t,{KEY:ta,FRAME:sa}=w.TUTORIAL;class df extends Pe{scene;tutorialId;isTutorialEnable;tutorialsDisplayed=[];isAnalyticFirstSent=!0;hand;staticHand;infoText;background;maskGraphics;tutGuide1;tutGuide2;tutGuide3;tutGuide4;tutGuide5;tutGuide6;tutGuide7;tutGuide8;tutGuide11;autoTimeEvent;constructor(e){super(e),this.scene=e,this.createBackground(),this.createHand(),this.createStaticHand(),this.createInfoText(),this.checkIsValidForTutorial()}init(){this.hand.kill(),this.infoText.kill(),this.background.kill(),this.staticHand.kill(),this.setState(ei.READY)}start(){this.isRunning()||this.isTutorialEnable&&(this.setState(ei.RUNNING),this.showTutorial())}stop(){this.isRunning()&&(this.checkIsValidForTutorial(),this.scene.tweens.killTweensOf([this.background,this.hand,this.staticHand,this.infoText]),this.setState(ei.STOPPED))}setTutorialEnable(e){this.isTutorialEnable=e}isLevelHaveTutorial(e){return e<=8||e===11}isLevelShowWrongPath(e){return e<=6}displayCount(e){return this.tutorialsDisplayed.filter(s=>s===e).length}isNothingToDisplay(){return this.scene.levelHandler.level>11}showTutorial(){if(!this.isRunning())return;const{levelHandler:e}=this.scene;this.isAnalyticFirstSent&&(this.scene.analytics.event(M.TUTORIAL_BEGIN),this.isAnalyticFirstSent=!1),e.level===1?this.startTutorial(Q.GUIDE_1):e.level===2?this.startTutorial(Q.GUIDE_2):e.level===3?this.startTutorial(Q.GUIDE_3):e.level===4?this.startTutorial(Q.GUIDE_4):e.level===5?this.startTutorial(Q.GUIDE_5):e.level===6?this.startTutorial(Q.GUIDE_6):e.level===7?this.startTutorial(Q.GUIDE_7):e.level===8?this.startTutorial(Q.GUIDE_8):e.level===11&&this.startTutorial(Q.GUIDE_11)}startTutorial=e=>{if(!this.isRunning())return!1;if(this.isNothingToDisplay())return this.stop(),this.setTutorialEnable(!1),!1;switch(this.background.kill(),e){case Q.GUIDE_1:this.tutGuide1=new Qh(this),this.tutGuide1.setup();break;case Q.GUIDE_2:this.tutGuide2=new ef(this),this.tutGuide2.setup();break;case Q.GUIDE_3:this.tutGuide3=new tf(this),this.tutGuide3.setup();break;case Q.GUIDE_4:this.tutGuide4=new sf(this),this.tutGuide4.setup();break;case Q.GUIDE_5:this.tutGuide5=new af(this),this.tutGuide5.setup();break;case Q.GUIDE_6:this.tutGuide6=new nf(this),this.tutGuide6.setup();break;case Q.GUIDE_7:this.tutGuide7=new lf(this),this.tutGuide7.setup();break;case Q.GUIDE_8:this.tutGuide8=new cf(this),this.tutGuide8.setup();break;case Q.GUIDE_11:this.tutGuide11=new Jh(this),this.tutGuide11.setup();break;default:return!1}return this.isRunning()?(this.tutorialId=e,this.tutorialsDisplayed.push(this.tutorialId),!0):!1};stopTutorial(){this.tutorialId="",this.hand.kill(),this.infoText.kill(),this.staticHand.kill(),this.background.kill()}completeTutorial(){this.scene.time.delayedCall(500,()=>{this.scene.analytics.event(M.TUTORIAL_COMPLETE),this.scene.player.incUserGuideDisplays()}),this.setTutorialEnable(!1)}checkIsValidForTutorial(){const e=this.scene.player.getCustomData("levelProgress"),s=(GameCore.Utils.Valid.isNumber(e)?e:0)<=11;return this.setTutorialEnable(s),s}createHand(){this.hand=new qh(this.scene),this.hand.kill(),this.hand.setDepth(C.PRIORITY)}createStaticHand(){this.staticHand=this.scene.add.image(0,0,ta,sa.HAND),this.staticHand.setWorldSize(20,16),this.staticHand.kill(),this.staticHand.setDepth(C.PRIORITY)}createInfoText(){this.infoText=this.scene.make.bitmapText({font:I.SHADOW.KEY,size:this.scene.fontSize(15),origin:{x:.5,y:.5}}),this.infoText.setTint(16637882),this.infoText.setCenterAlign(),this.infoText.kill(),this.infoText.setDepth(C.PRIORITY)}createBackground(){this.background=this.scene.make.image({key:ta,frame:sa.BLANK}),this.background.setInteractive({}),this.scene.input.setTopOnly(!1),this.background.setTint(0),this.background.setAlpha(.8),this.background.setDepth(C.PRIORITY),this.background.kill();const{displayWidth:e,displayHeight:t}=this.scene.gameZone,s=e+100,i=t+100;this.background.setDisplaySize(s,i),Phaser.Display.Align.In.Center(this.background,this.scene.gameZone)}createMask(e,t,s,i,o=10){this.maskGraphics?.destroy(),this.maskGraphics=this.scene.make.graphics({fillStyle:{color:16711680,alpha:1}}),this.maskGraphics.setName("MaskGraphics"),this.maskGraphics.fillRoundedRect(e,t,s,i,o),this.background.revive(),this.background.clearMask(!0),this.background.setMask(this.maskGraphics.createGeometryMask()),this.background.mask.invertAlpha=!0}createMultiMask(e){this.maskGraphics?.destroy(),this.maskGraphics=this.scene.make.graphics({fillStyle:{color:16711680,alpha:1}}),this.maskGraphics.setName("MaskGraphics"),e.forEach(t=>{this.maskGraphics.fillRoundedRect(t.x,t.y,t.width,t.height,t.radius)}),this.background.revive(),this.background.clearMask(!0),this.background.setMask(this.maskGraphics.createGeometryMask()),this.background.mask.invertAlpha=!0}runShowMaskAnimation(e=.8){const t=[this.background];this.background.revive(),this.background.setAlpha(0),this.scene.tweens.killTweensOf(t),this.scene.tweens.add({targets:t,duration:300,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:{from:0,to:e}}})}runHideMaskAnimation=()=>{const e=[this.background];this.background.revive(),this.scene.tweens.killTweensOf(e),this.scene.tweens.add({targets:e,duration:400,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:0},onComplete:()=>{this.background.kill(),this.background.clearMask(!0)}})};startAutoHint(){this.autoTimeEvent=this.scene.time.delayedCall(5e3,this.handleAutomaticallyHint)}handleAutomaticallyHint=()=>{const{tileManager:e,itemManager:t}=this.scene;e.hintTiles.length>0||t.getIsUseableItem()===!1?(this.stopAutoHint(),this.startAutoHint()):e.suggestPairHint()};stopAutoHint(){this.autoTimeEvent?.remove()}listenAutoHintEvent(){this.scene.events.on(N.EVENTS.INTERACTION,this.handlePlayerInteract),this.scene.events.on(N.EVENTS.NO_PATH_FOUND,this.handleNoPathFound)}stopListenAutoHintEvent(){this.scene.events.off(N.EVENTS.INTERACTION,this.handlePlayerInteract),this.scene.events.off(N.EVENTS.NO_PATH_FOUND,this.handleNoPathFound)}handleNoPathFound=()=>{const{tileManager:e}=this.scene;this.scene.time.delayedCall(1e3,()=>{e.clearWrongPath()})};handlePlayerInteract=()=>{this.stopAutoHint();const{tileManager:e}=this.scene;e.clearWrongPath(),this.startAutoHint()}}class mf extends Pe{scene;constructor(e){super(e),this.scene=e,this.initUILogic()}start(){this.isRunning()||(super.start(),this.updateUIData(),this.enablePause())}stop(){const{objects:e}=this.scene.layoutManager;e.playtimeClock.removeEvents(),this.disablePause()}updateUIData=()=>{const{levelHandler:e,layoutManager:t}=this.scene,{objects:s}=t,{time:i}=e.getConfigs();s.playtimeClock.setClockText(i),s.playtimeClock.addEvents(),s.playtimeClock.pauseClock()};initUILogic(){const{layoutManager:e}=this.scene,{objects:t}=e;t.skipBtn.onClick=this.handleSkipTutorial,t.pauseButton.onClick=this.handlePauseButton,this.scene.world.isLandscape()&&t.footerBG.kill()}handleSkipTutorial=()=>{const{tutorialManager:e,layoutManager:t}=this.scene,{objects:s}=t;e.stop(),this.scene.finishLevel(),s.skipContainer.kill(),s.headerBG.revive(),this.scene.world.isLandscape()||s.footerBG.revive()};handlePauseButton=()=>{const{screenManager:e}=this.scene;e.showPauseScreen()};updateLevel(e){const{objects:t}=this.scene.layoutManager;t.levelText.setText(`${this.scene.lang.Text.lv} ${e}`)}showUIForGuide(){const{levelHandler:e,layoutManager:t}=this.scene,{objects:s,groups:i}=t,{level:o}=e;if(!(o>11))switch(o){case 1:i.gameUI.killGroup(),s.headerBG.kill(),this.scene.world.isLandscape()||s.footerBG.kill();break;case 2:{const{itemManager:r}=this.scene;s.headerBG.revive(),this.scene.world.isLandscape()||s.footerBG.revive(),r.disableItem(k.BOMB_DEFUSE.ID),r.disableItem(k.ROCKET.ID),s.playtimeClock.kill();break}case 3:{const{itemManager:r}=this.scene;r.disableItem(k.BOMB_DEFUSE.ID),r.disableItem(k.ROCKET.ID);break}case 4:{const{itemManager:r}=this.scene;r.disableItem(k.BOMB_DEFUSE.ID),r.disableItem(k.ROCKET.ID),r.setFreeItem(k.HINT.ID);break}case 5:{const{itemManager:r}=this.scene;r.disableItem(k.BOMB_DEFUSE.ID),r.disableItem(k.ROCKET.ID);break}case 6:{const{itemManager:r}=this.scene;r.disableItem(k.BOMB_DEFUSE.ID),r.disableItem(k.ROCKET.ID);break}case 7:{const{itemManager:r}=this.scene;this.changeToGuideDefuseItem(),r.disableItem(k.ROCKET.ID),r.setFreeItem(k.GUIDE_BOMB_DEFUSE.ID);break}case 8:{const{itemManager:r}=this.scene;r.disableItem(k.ROCKET.ID),r.setFreeItem(k.SHUFFLE.ID);break}case 9:{const{itemManager:r}=this.scene;r.disableItem(k.ROCKET.ID);break}case 10:{const{itemManager:r}=this.scene;r.disableItem(k.ROCKET.ID);break}case 11:{const{itemManager:r}=this.scene;r.setFreeItem(k.ROCKET.ID)}}}disableUILogicForGuide1(){const{objects:e}=this.scene.layoutManager;e.playtimeClock.removeEvents(),e.playtimeClock.pauseClock(),e.skipContainer.revive(),e.skipBtn.setDisabled(!1),this.scene.comboManager.stop(),e.comboProgressBar.kill()}disableUILogicForGuide2(){const{objects:e}=this.scene.layoutManager;e.playtimeClock.removeEvents(),e.playtimeClock.pauseClock()}changeToGuideDefuseItem(){const{itemManager:e}=this.scene,t=e.getItem(k.BOMB_DEFUSE.ID);t&&t.kill();const s=e.getItem(k.GUIDE_BOMB_DEFUSE.ID);s&&s.revive()}changeToDefuseItem(){const{itemManager:e}=this.scene,t=e.getItem(k.BOMB_DEFUSE.ID);t&&t.revive();const s=e.getItem(k.GUIDE_BOMB_DEFUSE.ID);s&&s.kill()}enablePause(){const{objects:e}=this.scene.layoutManager;e.pauseButton.setDisabled(!1)}disablePause(){const{objects:e}=this.scene.layoutManager;e.pauseButton.setDisabled(!0)}}class uf extends Phaser.GameObjects.Zone{constructor(e,t,s){super(e,0,0,t,s),this.setOrigin(0,0)}}class Fr extends Phaser.Scene{unsubscribeList;gameZone;background;handleOpenScene=()=>{this.logPageviewOnOpen(),this.logEventOpen()};constructor(){super({visible:!1})}create(){this.events.on("wake",this.handleOpenScene),this.events.on("resume",this.handleOpenScene),this.events.on("create",this.handleOpenScene),this.scaleGame(),this.createGameZone()}scaleGame(){const e=this.getCamera("main"),t=this.world.getZoomRatio(),{width:s,height:i}=this.world.getWorldSize();e.setZoom(t),e.centerOn(s/2,i/2)}createGameZone(){const{width:e,height:t}=this.world.getWorldSize();this.gameZone=new uf(this,e,t)}getCamera(e){return e==="main"?this.cameras.main:this.cameras.getCamera(e)}createMask(e=1){this.getCamera("main").setBackgroundColor(`rgba(0, 0, 0, ${e})`)}fontSize(e){return e/1}createBackground(e,t,s,i){this.background?(this.background.setTexture(e),t&&this.background.setFrame(t)):this.background=this.make.image({key:e,frame:t}),this.background.setName(e);const{displayWidth:o,displayHeight:r}=this.gameZone;this.background.setDisplaySize(o,r),GameCore.Utils.Valid.isNumber(s)&&this.background.setAlpha(s),GameCore.Utils.Valid.isNumber(i)&&this.background.setTint(i),Phaser.Display.Align.In.Center(this.background,this.gameZone)}handleStateChange(e){this.unsubscribeList=[],e.forEach(t=>{const{selector:s,callback:i}=t,o=this.storage.watch(s,i);this.unsubscribeList.push(o)}),this.events.once("sleep",this.removeStateChange),this.events.once("destroy",this.removeStateChange),this.events.once("shutdown",this.removeStateChange)}removeStateChange=()=>{this.unsubscribeList.forEach(e=>e())};logPageviewOnOpen(){this.analytics.pageview(this.scene.key)}logEventOpen(){this.analytics.event(M.SCREEN_OPEN,{screen_name:this.getSceneName()})}getSceneName(){return GameCore.Utils.String.toUpperCamelCase(this.scene.key.toLowerCase())}}const{KEY:hf,FRAME:ti}=w.EFFECTS;class Br extends Phaser.GameObjects.Particles.ParticleEmitterManager{yellowEmitter;whiteEmitter;globalScale=1;constructor(e,t=1){super(e,hf,ti.YELLOW_SMOKE),this.globalScale=t,this.createEmitZone(),this.scene.add.existing(this)}createEmitZone(){}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.yellowEmitter=this.createEmitter({on:!1,frame:ti.YELLOW_SMOKE,timeScale:1,alpha:{start:.3,end:0,ease:Phaser.Math.Easing.Expo.Out},scale:{start:e/5*this.globalScale,end:e*this.globalScale,ease:Phaser.Math.Easing.Expo.Out},lifespan:1500}),this.whiteEmitter=this.createEmitter({on:!1,frame:ti.WHITE_SMOKE,timeScale:1,alpha:{start:.3,end:0,ease:Phaser.Math.Easing.Expo.Out},scale:{start:e/2*this.globalScale,end:e*this.globalScale,ease:Phaser.Math.Easing.Expo.Out},rotate:{start:0,end:360*1,random:!0},lifespan:1500})}explodeYellow(e,t,s,i,o){this.yellowEmitter||this.reset(),this.yellowEmitter.setSpeedX(i),this.yellowEmitter.setSpeedY(o),this.yellowEmitter.explode(e,t,s)}explodeWhite(e,t,s,i,o){this.whiteEmitter||this.reset(),this.whiteEmitter.setSpeedX(i),this.whiteEmitter.setSpeedY(o),this.whiteEmitter.explode(e,t,s)}stop(){this.yellowEmitter?.killAll(),this.yellowEmitter?.stop(),this.whiteEmitter?.killAll(),this.whiteEmitter?.stop()}reset(){this.createEmitters()}}const{KEY:ia,FRAME:oa}=w.GAMEPLAY;class ff{scene;longRocketList=[];rocketList=[];tween1=[];tween2=[];rocketTrail;explosionSpriteList=[];constructor(e){this.scene=e,this.createRockets(),this.createRocketTrail(),this.createExplosion()}createRockets(){for(let e=0;e<4;e++){const t=this.scene.add.image(0,0,ia,oa.EFFECT_LONG_ROCKET);t.setOrigin(.5,0),t.setWorldSize(40,180),t.setDepth(C.EFFECT),t.kill(),this.longRocketList.push(t);const s=this.scene.add.image(0,0,ia,oa.EFFECT_SHORT_ROCKET);s.setOrigin(1,.5),s.setWorldSize(107/2,78/2),s.setDepth(C.EFFECT),s.kill(),this.rocketList.push(s)}}createRocketTrail(){this.rocketTrail=new Br(this.scene),this.rocketTrail.setDepth(C.EFFECT)}createExplosion(){for(let e=0;e<4;e++){const{KEY:t,FRAME:s}=w.EFFECTS,i=this.scene.add.sprite(0,0,t,s.EFFECT_ROCKET_EXPLOSION+"0");i.setScale(.5),i.setOrigin(.5,.5),i.setDepth(C.EFFECT),i.kill(),this.explosionSpriteList.push(i)}}playExplosion(e,t,s){this.explosionSpriteList[s].revive(),this.explosionSpriteList[s].setPosition(e,t),this.explosionSpriteList[s].play(F.ROCKET_EXPLOSION.KEY,!0),this.explosionSpriteList[s].once(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{this.explosionSpriteList[s].kill()})}playTween1(e,t,s){const{width:i}=this.scene.world.getWorldSize(),o=[{x:-100,y:-50},{x:-50,y:-100},{x:i+100,y:-50},{x:i+100,y:-100}];this.tween1.push(this.getTween1Target(o[0],0,867)),this.tween1.push(this.getTween1Target(o[1],1,867+100,()=>{this.playTween2([o[0],o[1]],[e[0],e[1]],[0,1],0,t)})),this.tween1.push(this.getTween1Target(o[2],2,867+200)),this.tween1.push(this.getTween1Target(o[3],3,867+300,()=>{this.playTween2([o[2],o[3]],[e[2],e[3]],[2,3],100,s)}))}getTween1Target(e,t,s,i){const{height:o}=this.scene.world.getWorldSize(),r=o-67,n=this.scene.tweens.createTimeline({});n.add({targets:this.longRocketList[t],props:{y:{duration:867,getEnd:()=>r},rotation:{delay:s,duration:200,getEnd:c=>Phaser.Math.Angle.Between(e.x,e.y,c.x,r)-Math.PI/2}}});let l=.8;return n.add({targets:this.longRocketList[t],duration:133+200,ease:Phaser.Math.Easing.Expo.In,onStart:()=>{this.scene.audio.playSound(B.ROCKET_FLY)},props:{x:{getEnd:()=>e.x},y:{getEnd:()=>e.y}},onUpdate:(c,d)=>{const m=d.x-d.height/2*Math.cos(d.rotation-Math.PI/2),h=d.y-d.height/2*Math.sin(d.rotation-Math.PI/2),p=d.x-d.height/1.5*Math.cos(d.rotation-Math.PI/2),b=d.y-d.height/1.5*Math.sin(d.rotation-Math.PI/2);n.progress>l&&(this.rocketTrail.explodeYellow(1,m,h,m-p,h-b),l+=.02),Math.random()<.2&&this.rocketTrail.explodeWhite(1,m,h,m-p,h-b)},onComplete:()=>{i&&i()}}),n.play(),n}playTween2(e,t,s,i,o){const r=[],n=[];s.forEach(d=>{r.push(this.longRocketList[d]),n.push(this.rocketList[d])});let l=.3;const c=this.scene.tweens.add({targets:n,delay:i,duration:800,ease:Phaser.Math.Easing.Expo.In,onStart:()=>{r.forEach(d=>{d.kill()}),n.forEach((d,m)=>{d.setPosition(r[m].x,r[m].y),d.rotation=0,d.revive(),d.setRotation(Phaser.Math.Angle.Between(e[m].x,e[m].y,t[m].x,t[m].y))})},props:{x:{getEnd:(d,m,h,p)=>t[p].x},y:{getEnd:(d,m,h,p)=>t[p].y}},onUpdate:(d,m)=>{const h=m.x-1.5*m.height*Math.cos(m.rotation),p=m.y-1.5*m.height*Math.sin(m.rotation),b=m.x-2*m.height*Math.cos(m.rotation),E=m.y-2*m.height*Math.sin(m.rotation);d.progress>l&&(this.rocketTrail.explodeYellow(1,h,p,h-b,p-E),l+=.05),Math.random()<.1&&this.rocketTrail.explodeWhite(1,h,p,h-b,p-E)},onComplete:()=>{n.forEach((d,m)=>{d.kill(),this.playExplosion(t[m].x,t[m].y,s[m])}),o&&o()}});this.tween2.push(c)}play(e,t,s){if(e.length!==4)return;this.tween1.forEach(r=>{r.stop()}),this.tween1=[],this.tween2.forEach(r=>{r.stop()}),this.tween2=[];const{width:i,height:o}=this.scene.world.getWorldSize();this.longRocketList.forEach((r,n)=>{const l=i/8+i/4*n,c=o+133;r.setPosition(l,c),r.rotation=0,r.revive()}),this.playTween1(e,t,s)}stop(){this.tween1.forEach(e=>{e.stop()}),this.tween1=[],this.tween2.forEach(e=>{e.stop()}),this.tween2=[],this.longRocketList.forEach(e=>{e.kill()})}}const{KEY:aa,FRAME:ra}=w.EFFECTS;class pf{scene;glowEffect1;glowEffect2;glowSpinTween;tile1=null;tile2=null;defaultTileValues=null;tileTween;constructor(e){this.scene=e,this.createGlowEffect()}createGlowEffect(){this.glowEffect1=this.scene.add.image(0,0,aa,ra.FX_HINT_GLOW),this.glowEffect1.setOrigin(.5,.5),this.glowEffect1.setWorldSize(60,60),this.glowEffect1.kill(),this.glowEffect2=this.scene.add.image(0,0,aa,ra.FX_HINT_GLOW),this.glowEffect2.setOrigin(.5,.5),this.glowEffect2.setWorldSize(60,60),this.glowEffect2.kill()}play(){this.glowSpinTween?.stop(),this.tileTween?.stop(),!(!this.tile1||!this.tile2)&&(this.playGlowSpinTween(),this.playTileTween())}playGlowSpinTween(){if(!this.tile1||!this.tile2)return;const{x:e,y:t}=this.tile1.getWorldPosition(),{x:s,y:i}=this.tile2.getWorldPosition(),{boardContainer:o}=this.scene.boardManager;this.glowEffect1.revive(),this.glowEffect1.setPosition(e,t),this.glowEffect1.setDepth(o.depth-1),this.glowEffect2.revive(),this.glowEffect2.setPosition(s,i),this.glowEffect2.setDepth(o.depth-1),this.glowSpinTween=this.scene.tweens.add({targets:[this.glowEffect1,this.glowEffect2],duration:2e3,props:{angle:{from:0,to:360}},repeat:-1})}playTileTween(){if(!this.tile1||!this.tile2)return;this.tileTween=this.scene.tweens.createTimeline({loop:-1,loopDelay:300});const e=[this.tile1.scaleX,this.tile2.scaleX],t=[this.tile1.scaleY,this.tile2.scaleY],s=[this.tile1,this.tile2],i=this.tile1.scaleX,o=this.tile1.scaleY,r=this.tile2.scaleX,n=this.tile2.scaleY;this.defaultTileValues={scaleX1:i,scaleY1:o,scaleX2:r,scaleY2:n},this.tileTween.add({targets:s,duration:300,props:{scaleX:{getStart:(l,c,d,m)=>e[m],getEnd:(l,c,d,m)=>e[m]*.7},scaleY:{getStart:(l,c,d,m)=>t[m],getEnd:(l,c,d,m)=>e[m]*.7}}}),this.tileTween.add({targets:s,duration:100,props:{angle:{from:0,to:-30}}}),this.tileTween.add({targets:s,duration:100,props:{angle:{from:-30,to:30}}}),this.tileTween.add({targets:s,duration:100,props:{angle:{from:30,to:-30}}}),this.tileTween.add({targets:s,duration:100,props:{angle:{from:-30,to:0}}}),this.tileTween.add({targets:s,duration:300,props:{scaleX:{getStart:(l,c,d,m)=>e[m]*.7,getEnd:(l,c,d,m)=>e[m]},scaleY:{getStart:(l,c,d,m)=>t[m]*.7,getEnd:(l,c,d,m)=>t[m]}}}),this.tileTween.play()}hide(){this.glowEffect1.setVisible(!1),this.glowEffect2.setVisible(!1)}show(){this.glowEffect1.setVisible(!0),this.glowEffect2.setVisible(!0)}stop(){if(this.scene.tweens.killTweensOf([this.glowEffect1,this.glowEffect2,this.tile1,this.tile2]),this.glowEffect1.kill(),this.glowEffect2.kill(),this.defaultTileValues){const{scaleX1:e,scaleY1:t,scaleX2:s,scaleY2:i}=this.defaultTileValues;this.tile1?.setScale(e,t),this.tile2?.setScale(s,i)}this.tile1?.setAngle(0),this.tile2?.setAngle(0),this.tile1=null,this.tile2=null,this.defaultTileValues=null}}const{KEY:bf,FRAME:gf}=w.GAMEPLAY;class Tf{scene;startingPosition;target;rocket;flyTween;rocketTrail;explosionSprite;isPlaying;isInQueue;constructor(e){this.scene=e,this.target=null,this.startingPosition=null,this.isPlaying=!1,this.isInQueue=!1,this.createRockets(),this.createRocketTrail(),this.createExplosion()}createExplosion(){const{KEY:e,FRAME:t}=w.EFFECTS;this.explosionSprite=this.scene.add.sprite(0,0,e,t.EFFECT_ROCKET_EXPLOSION+"0"),this.explosionSprite.setOrigin(.5,.8),this.explosionSprite.kill(),this.explosionSprite.setDepth(C.ROCKET),this.explosionSprite.setScale(.5)}createRocketTrail(){this.rocketTrail=new Br(this.scene,.5),this.rocketTrail.setDepth(C.ROCKET)}createRockets(){const e=this.scene.add.image(0,0,bf,gf.EFFECT_TILE_ROCKET);e.setOrigin(.5,.5),e.setWorldSize(20,33.5),e.kill(),e.setDepth(C.ROCKET),this.rocket=e}playTween(){if(!this.target||!this.getTargetPosition())return;let t=.1;this.flyTween=this.scene.tweens.add({targets:[this.rocket],duration:600,ease:Phaser.Math.Easing.Expo.InOut,props:{x:{getEnd:()=>{const s=this.getTargetPosition();if(s)return s.x}},y:{getEnd:()=>{const s=this.getTargetPosition();if(s)return s.y}}},onStart:()=>{this.scene.audio.playSound(B.ROCKET_FLY)},onUpdate:s=>{const i=this.rocket.x-this.rocket.height/2*Math.cos(this.rocket.rotation-Math.PI/2),o=this.rocket.y-this.rocket.height/2*Math.sin(this.rocket.rotation-Math.PI/2),r=this.rocket.x-this.rocket.height/1.5*Math.cos(this.rocket.rotation-Math.PI/2)*3,n=this.rocket.y-this.rocket.height/1.5*Math.sin(this.rocket.rotation-Math.PI/2)*3;s.progress>t&&(t+=.05,this.rocketTrail.explodeYellow(1,i,o,r-i,n-o)),Math.random()<.3&&this.rocketTrail.explodeWhite(1,i,o,r-i,n-o)},onComplete:()=>{this.rocket.kill(),this.isPlaying=!1;const s=this.getTargetPosition();if(s){const{x:i,y:o}=s;this.playExplosion(i,o),this.target?.setIsBreakWhenExplosive(!0)}},onStop:()=>{this.rocket.kill(),this.isPlaying=!1;const s=this.getTargetPosition();if(s){const{x:i,y:o}=s;this.playExplosion(i,o),this.target?.setIsBreakWhenExplosive(!0)}this.target=null}})}playExplosion(e,t){this.explosionSprite.revive(),this.explosionSprite.setPosition(e,t),this.explosionSprite.once(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{this.explosionSprite.kill()}),this.explosionSprite.play(F.ROCKET_EXPLOSION.KEY,!0)}play(){if(this.flyTween?.stop(),!this.target||!this.startingPosition)return;this.isPlaying=!0;const{x:e,y:t}=this.startingPosition,s=this.getTargetPosition();if(!s)return;const{x:i,y:o}=s,r=Phaser.Math.Angle.Between(e,t,i,o),n=this.scene.boardManager.getTileSize();this.rocket.setWorldSize(20*n/35,33.5*n/35),this.rocket.setPosition(e,t),this.rocket.rotation=r+Math.PI/2,this.rocket.revive(),this.playTween()}getTargetPosition(){return this.target?this.target.getWorldPosition():null}stop(){this.flyTween?.stop(),this.rocket.kill(),this.target=null,this.isPlaying=!1,this.isInQueue=!1}}const{KEY:na,FRAME:mt}=w.EFFECTS,De={GOOD:{en:[129,60],ru:[162,64],ja:[107,62],pt:[94,57],es:[100,56],fr:[100,56],it:[108,56],de:[93,57],tr:[70,61],id:[115,63],zh:[88,60]},GREAT:{en:[129,57.5],ru:[151,55],ja:[89,62],pt:[148,61],es:[138,56],fr:[127,56],it:[150,56],de:[198,57],tr:[70,61],id:[114,63],zh:[88,60]},EXCELLENT:{en:[167,54],ru:[215,61],ja:[164,62],pt:[196,56],es:[213,61],fr:[195,56],it:[214,56],de:[267,57],tr:[200,61],id:[170,63],zh:[108,60]},UNBELIEVABLE:{en:[206,53],ru:[197,61],ja:[192,61],pt:[259,61],es:[182,61],fr:[213,56],it:[212,56],de:[236,57],tr:[196,61],id:[142,64],zh:[137,59]}};class wf{scene;originY;originScale;textTween;endTween;lightTween;textImage;textLight;constructor(e){this.scene=e,this.originScale=1/this.scene.world.getPixelRatio(),this.createTextLight(),this.createText(),this.alignText()}run=e=>{if(e<2){this.textImage.kill(),this.textLight.kill();return}this.textTween||(this.createTextAnimation(),this.createTextLightAnimation());let t=this.scene.lang.getCurrentLanguage();switch(["en","ru","ja"].indexOf(t)===-1&&(t="en"),e){case 2:this.textImage.setFrame(this.scene.lang.Texture.effect_good),this.textImage.setWorldSize(De.GOOD[t][0],De.GOOD[t][1]),this.textLight.setFrame(mt.TEXT_GOOD_LIGHT),this.textLight.setWorldSize(137,66.5);break;case 3:this.textImage.setFrame(this.scene.lang.Texture.effect_great),this.textImage.setWorldSize(De.GREAT[t][0],De.GREAT[t][1]),this.textLight.setFrame(mt.TEXT_GREAT_LIGHT),this.textLight.setWorldSize(137,66);break;case 4:this.textImage.setFrame(this.scene.lang.Texture.effect_excellent),this.textImage.setWorldSize(De.EXCELLENT[t][0],De.EXCELLENT[t][1]),this.textLight.setFrame(mt.TEXT_EXCELLENT_LIGHT),this.textLight.setWorldSize(138,66);break}e>=5&&(this.textImage.setFrame(this.scene.lang.Texture.effect_unbelievable),this.textImage.setWorldSize(De.UNBELIEVABLE[t][0],De.UNBELIEVABLE[t][1]),this.textLight.setFrame(mt.TEXT_UNBELIEVABLE_LIGHT),this.textLight.setWorldSize(134,66)),this.playTextAnimation()};stop(){this.textTween?.stop(),this.endTween?.stop(),this.lightTween?.stop(),this.textImage.kill(),this.textLight.kill()}playTextAnimation=()=>{this.textImage.revive(),this.textLight.revive(),this.endTween?.remove(),this.textTween.restart(),this.lightTween.restart()};createText(){this.textImage=this.scene.add.image(0,0,na,mt.TEXT_GOOD),this.textImage.kill(),this.textImage.setScale(this.originScale),this.textImage.setDepth(C.ENCOURAGING)}createTextLight(){this.textLight=this.scene.add.image(0,0,na,mt.TEXT_GOOD_LIGHT),this.textLight.kill(),this.textLight.setScale(this.originScale),this.textLight.setDepth(C.ENCOURAGING)}alignText=()=>{Phaser.Display.Align.In.TopCenter(this.textImage,this.scene.gameZone,0,-20),Phaser.Display.Align.In.Center(this.textLight,this.textImage),this.originY=this.textImage.y};createTextLightAnimation(){this.lightTween=this.scene.add.tween({targets:[this.textLight],props:{alpha:{repeat:1,duration:250,value:{start:1,to:0}},scale:{yoyo:!0,duration:100,ease:Phaser.Math.Easing.Quintic.Out,value:{from:this.originScale,to:this.originScale*1.1}}},onComplete:()=>{this.textLight.kill()}})}createTextAnimation(){this.textTween=this.scene.add.tween({targets:[this.textImage,this.textLight],props:{y:{delay:100,duration:600,ease:Phaser.Math.Easing.Quintic.InOut,value:{start:this.originY,to:this.originY-20}},scale:{delay:0,duration:350,ease:Phaser.Math.Easing.Circular.Out,value:{from:this.originScale*.5,to:this.originScale}},alpha:{duration:150,value:{start:0,to:1}}},onComplete:()=>{if(!this.endTween){this.createEndAnimation();return}this.endTween.restart()}})}createEndAnimation=()=>{this.endTween=this.scene.add.tween({targets:[this.textImage,this.textLight],duration:300,delay:100,props:{alpha:{from:1,to:0},scale:{ease:Phaser.Math.Easing.Sine.Out,value:this.originScale}},onComplete:()=>{this.textImage.setY(this.originY),this.textLight.setY(this.originY),this.textImage.kill(),this.textLight.kill()}})}}const{KEY:la,FRAME:si}=w.GAMEPLAY;class Ef{scene;currentTile=null;tileHighlightSprite;tileOutline;tileOutlineTween;constructor(e){this.scene=e,this.createTileOutline(),this.createSpinningImage()}createTileOutline(){this.tileOutline=this.scene.add.image(0,0,la,si.EFFECT_TILE_OUTLINE),this.tileOutline.setOrigin(.5,.5),this.tileOutline.setWorldSize(37,37),this.tileOutline.setDepth(C.EFFECT-1),this.tileOutline.kill()}createSpinningImage(){this.tileHighlightSprite=this.scene.make.sprite({key:la,frame:si.EFFECT_TILE_HIGHLIGHT+"0"},!0),this.tileHighlightSprite.setOrigin(.5,.5),this.tileHighlightSprite.setDepth(C.EFFECT),this.tileHighlightSprite.kill()}play(e){this.tileOutlineTween?.stop(),this.currentTile=e;const t=this.scene.boardManager.getTileSize(),s=t;this.tileOutline.revive(),this.tileOutline.setAlpha(1),this.tileOutline.setWorldSize(t*.95,t*.95),e.add(this.tileOutline),this.tileHighlightSprite.revive(),this.tileHighlightSprite.setWorldSize(s,s),this.tileHighlightSprite.play(F.TILE_HIGHLIGHT.KEY),e.add(this.tileHighlightSprite),this.scene.scene.systems.updateList.add(this.tileHighlightSprite),this.runFadeInTween()}runFadeInTween(){this.tileOutlineTween=this.scene.tweens.add({targets:this.tileOutline,duration:1e3,yoyo:!0,repeat:-1,ease:Phaser.Math.Easing.Sine.InOut,props:{alpha:0}})}stop(){this.tileHighlightSprite.anims.stop(),this.tileHighlightSprite.setFrame(si.EFFECT_TILE_HIGHLIGHT+"0"),this.tileHighlightSprite.kill(),this.tileOutlineTween?.stop(),this.tileOutline.kill(),this.currentTile?.remove(this.tileHighlightSprite),this.currentTile?.remove(this.tileOutline),this.currentTile=null}}const{KEY:us,FRAME:hs}=w.GAMEPLAY;class ca extends Phaser.GameObjects.Container{isPlaying;constructor(e){super(e),this.setDepth(C.EFFECT-1),this.createBreakFragments(),this.scene.add.existing(this)}getIsPlaying(){return this.isPlaying}createBreakFragments(){const e=this.scene.make.image({key:us,frame:hs.LEF_TILE_FRAGMENT});e.setWorldSize(37,37),this.add(e);const t=this.scene.make.image({key:us,frame:hs.RIGHT_TILE_FRAGMENT});t.setWorldSize(37,37),this.add(t);const s=this.scene.make.image({key:us,frame:hs.TOP_TILE_FRAGMENT});s.setWorldSize(37,37),this.add(s);const i=this.scene.make.image({key:us,frame:hs.BOTTOM_TILE_FRAGMENT});i.setWorldSize(37,37),this.add(i)}playAnimation(e,t){this.isPlaying=!0;const i=this.scene.boardManager.getTileSize();this.revive(),this.getAll().forEach(r=>{r.setPosition(0,0),r.setAlpha(1),r.setAngle(0),r instanceof Phaser.GameObjects.Image&&r.setWorldSize(i,i)}),this.setPosition(e,t);const o=[{x:-10,y:0,angle:-10},{x:10,y:0,angle:10},{x:0,y:-10,angle:10},{x:0,y:10,angle:-10}];this.scene.tweens.add({targets:this.getAll(),alpha:1,duration:500,props:{x:{value:(r,n,l,c)=>o[c].x},y:{value:(r,n,l,c)=>o[c].y},alpha:{value:0},angle:{value:(r,n,l,c)=>o[c].angle}},onComplete:()=>{this.kill(),this.isPlaying=!1}})}stop(){this.scene.tweens.killTweensOf(this.getAll()),this.kill(),this.isPlaying=!1}}const{KEY:vf,FRAME:Pf}=w.GAMEPLAY;class yf{scene;starList;flyingStarCounter;flyingStarTweens;clockRemainingTime;captureStarTrails;explodeParticle;constructor(e){this.scene=e,this.starList=this.scene.add.group(),this.flyingStarTweens=[],this.createEffects(),this.clockRemainingTime=0}createEffects(){this.captureStarTrails=[],this.explodeParticle=new Nr(this.scene),this.explodeParticle.setDepth(C.EFFECT+1)}play(e){this.flyingStarCounter?.stop();const{layoutManager:t}=this.scene,{playtimeClock:s,starProgressBar:i}=t.objects;if(!s.visible||!i.visible){e&&e();return}s.pauseClock(),this.clockRemainingTime=s.getRemainingTime();const o=this.clockRemainingTime>78?Math.ceil(this.clockRemainingTime/13):6;this.flyingStarCounter=this.scene.tweens.addCounter({from:0,to:100,duration:100,onStart:()=>{this.runStarTweens(),this.clockRemainingTime=this.clockRemainingTime>o?this.clockRemainingTime-o:0,s.setClockText(this.clockRemainingTime),this.clockRemainingTime===0&&(this.flyingStarCounter.stop(),typeof e=="function"&&this.scene.time.delayedCall(500,e))},onLoop:()=>{this.runStarTweens(),this.clockRemainingTime=this.clockRemainingTime>o?this.clockRemainingTime-o:0,s.setClockText(this.clockRemainingTime),this.clockRemainingTime===0&&(this.flyingStarCounter.stop(),typeof e=="function"&&this.scene.time.delayedCall(650,e))},loop:-1})}stop(){this.flyingStarCounter?.stop(),this.flyingStarTweens.forEach(e=>e.stop()),this.starList.getChildren().forEach(e=>this.starList.killAndHide(e)),this.captureStarTrails.forEach(e=>e.stop())}runStarTweens(){const e=this.requestNewStar(),t=this.requestCaptureStarTrail(),{layoutManager:s}=this.scene,{playtimeClock:i,starProgressBar:o}=s.objects,{x:r,y:n}=i.getWorldPosition(),{x:l,y:c}=o.getStarFlyInPosition(),d=r+10,m=new Phaser.Math.Vector2(d,n),h=new Phaser.Math.Vector2(l,c);let p=new Phaser.Math.Vector2(d+(l-d)/4,c*1.6);this.scene.world.isLandscape()&&(p=new Phaser.Math.Vector2(d+(l-d)/2,c*3));const b=new Phaser.Curves.QuadraticBezier(m,p,h),E=e.scale,P=this.scene.tweens.addCounter({from:0,to:100,duration:650,ease:Phaser.Math.Easing.Sine.Out,onStart:()=>{e.setScale(0),e.setPosition(d,n),e.setVisible(!0),t.run(1,e.x,e.y,0,0)},onUpdate:v=>{const g=v.getValue(),T=b.getPoint(g/100);e.setPosition(T.x,T.y),t.moveEmitZone(e.x,e.y);const A=g>50?1:g/50;e.setScale(E*A)},onComplete:()=>{this.starList.killAndHide(e),e.setScale(E),t.stop(),this.explodeParticle.explode(5,l,c,20),this.scene.audio.playSound(B.COLLECT_STARS),this.flyingStarTweens=this.flyingStarTweens.filter(v=>v!==v)},onStop:()=>{this.starList.killAndHide(e),e.setScale(E),t.stop(),this.flyingStarTweens=this.flyingStarTweens.filter(v=>v!==v)}});this.flyingStarTweens.push(P)}requestNewStar(){const e=this.starList.getFirstDead();if(e)return e.setActive(!0),e;const t=this.scene.make.image({key:vf,frame:Pf.ICON_STAR_BIG});return this.starList.add(t),t.setWorldSize(30,30),t.setDepth(C.EFFECT),t.setVisible(!1),this.scene.add.existing(t),t}requestCaptureStarTrail(){const e=this.captureStarTrails.find(s=>!s.isRunning);if(e)return e;const t=new Gr(this.scene);return t.setDepth(C.EFFECT-1),this.captureStarTrails.push(t),t}}const{FRAME:Sf}=w.GAMEPLAY;class kf extends Mr{constructor(e){super(e)}explode(e,t,s,i){super.explode(e,t,s,i),this.runParticleTween()}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:Sf.EFFECT_SPARK,speedX:{min:-300,max:300},speedY:{min:-300,max:300},scale:{min:e*.8,max:e*1.1},alpha:{min:.8,max:1},tint:16753660,deathZone:{source:this.deathZone,type:"onLeave"}})}runParticleTween(){this.emitter.forEachAlive(t=>{this.scene.tweens.killTweensOf(t),this.scene.tweens.add({targets:[t],duration:400,delay:5*0,ease:Phaser.Math.Easing.Circular.Out,props:{velocityX:t.velocityX/50,velocityY:t.velocityY/50}}),this.scene.add.tween({targets:[t],duration:2e3,delay:300,ease:Phaser.Math.Easing.Circular.Out,props:{alpha:0,scaleX:0,scaleY:0,velocityX:Phaser.Math.RND.between(-20,20),velocityY:Phaser.Math.RND.between(-60,-90)},onComplete:()=>{t.lifeCurrent=0}})},this)}}const{KEY:xf,FRAME:Rf}=w.EFFECTS;class Of{scene;comboExplosionParticle;explosionCircle;explosionCircleTween;constructor(e){this.scene=e,this.createComboExplosionParticle(),this.createExplosionCircle()}createComboExplosionParticle(){this.comboExplosionParticle=new kf(this.scene),this.comboExplosionParticle.setDepth(C.EFFECT+1)}createExplosionCircle(){this.explosionCircle=this.scene.add.image(0,0,xf,Rf.FX_CIRCLE),this.explosionCircle.setWorldSize(120,120),this.explosionCircle.setTint(16753660),this.explosionCircle.setDepth(C.EFFECT+1),this.explosionCircle.setVisible(!1)}play(){this.explosionCircleTween?.stop();const{objects:e}=this.scene.layoutManager;if(!e.comboProgressBar.visible)return;const{x:t,y:s}=e.comboProgressBar.comboNumber.getWorldPosition();this.runExplosionCircleTween(t,s)}runExplosionCircleTween(e,t){const s=this.explosionCircle.scale;this.explosionCircleTween=this.scene.tweens.createTimeline(),this.explosionCircleTween.add({targets:this.explosionCircle,scaleX:s,scaleY:s,alpha:.2,ease:Phaser.Math.Easing.Cubic.Out,duration:400,onStart:()=>{this.explosionCircle.setScale(.5*s),this.explosionCircle.setAlpha(.1),this.explosionCircle.setPosition(e,t),this.explosionCircle.setVisible(!0),this.comboExplosionParticle.explode(20,e,t,1e3)},onStop:()=>{this.explosionCircle.setVisible(!1),this.explosionCircle.setScale(s)}}),this.explosionCircleTween.add({targets:this.explosionCircle,alpha:0,ease:Phaser.Math.Easing.Cubic.Out,duration:800,onComplete:()=>{this.explosionCircle.setVisible(!1),this.explosionCircle.setScale(s)},onStop:()=>{this.explosionCircle.setVisible(!1),this.explosionCircle.setScale(s)}}),this.explosionCircleTween.play()}stop(){this.explosionCircleTween?.stop(),this.explosionCircle.setVisible(!1)}}class Af extends Pe{scene;comboEffect;rocketEffect;tileRocketEffects;tileRocketLaunchQueue;tileHintEffect;tileHighlightEffect;tileBreakEffects;flyingStarFromClockEffect;comboExplosionEffect;constructor(e){super(e),this.scene=e,this.tileRocketEffects=[],this.tileRocketLaunchQueue=[],this.createComboEffect(),this.createRocketEffect(),this.createTileHintEffect(),this.createTileHighlightEffect(),this.createTileBreakEffect(),this.createFlyingStarFromClockEffect(),this.createComboExplosionEffect()}createComboEffect(){this.comboEffect=new wf(this.scene)}createRocketEffect(){this.rocketEffect=new ff(this.scene)}createTileHintEffect(){this.tileHintEffect=new pf(this.scene)}createTileHighlightEffect(){this.tileHighlightEffect=new Ef(this.scene)}createFlyingStarFromClockEffect(){this.flyingStarFromClockEffect=new yf(this.scene)}createComboExplosionEffect(){this.comboExplosionEffect=new Of(this.scene)}createTileBreakEffect(){this.tileBreakEffects=[];for(let e=0;e<2;e++){const t=new ca(this.scene);t.setScale(.8),this.tileBreakEffects.push(t),t.kill()}}playComboEffect(e){this.comboEffect.run(e)}playRocketEffect(e,t,s){this.rocketEffect.play(e,t,s)}requestTileRocketEffect(e,t){let s=this.tileRocketEffects.find(i=>!i.isInQueue);s||(s=new Tf(this.scene),this.tileRocketEffects.push(s)),s.target=t,s.isInQueue=!0,s.startingPosition=e,this.tileRocketLaunchQueue.push(s)}playTileRocketEffects(){if(this.tileRocketLaunchQueue.length===0)return;const e=200;this.scene.time.delayedCall(e,()=>{const t=[];this.tileRocketLaunchQueue.forEach(s=>{s.isPlaying||(s.target&&t.push(s.target),s.play())}),this.scene.time.delayedCall(700,()=>{this.scene.events.emit(N.EVENTS.ROCKET_EXPLODE,t)}),this.tileRocketLaunchQueue=[]})}playTileHintEffect(e,t){this.tileHintEffect.stop(),this.tileHintEffect.tile1=e,this.tileHintEffect.tile2=t,this.tileHintEffect.play()}stopTileHintEffect(){this.tileHintEffect.stop()}playTileHighlightEffect(e){this.tileHighlightEffect.play(e)}stopTileHighlightEffect(){this.tileHighlightEffect.stop()}getCurrentlyHighlightedTile(){return this.tileHighlightEffect.currentTile}playTileBreakEffect(e){const{x:t,y:s}=e.getWorldPosition(),i=this.tileBreakEffects.find(r=>!r.getIsPlaying());if(i){i.playAnimation(t,s);return}const o=new ca(this.scene);o.playAnimation(t,s),this.tileBreakEffects.push(o)}playFlyingStarFromClockEffect(e){this.flyingStarFromClockEffect.play(e)}playComboExplosionEffect(){this.comboExplosionEffect.stop(),this.comboExplosionEffect.play()}stop(){this.isRunning()&&(super.stop(),this.comboEffect.stop(),this.rocketEffect.stop(),this.tileHintEffect.stop(),this.tileHighlightEffect.stop(),this.flyingStarFromClockEffect.stop(),this.comboExplosionEffect.stop(),this.tileRocketEffects.forEach(e=>e.stop()),this.tileBreakEffects.forEach(e=>e.stop()),this.tileRocketLaunchQueue=[])}}class If extends Pe{scene;currentCombo;comboTimer;progressTimer;comboDuration;constructor(e){super(e),this.scene=e,this.currentCombo=0;const t=this.scene.world.isLandscape();this.comboDuration=t?4e3:2e3}init(){this.currentCombo=0,this.clearTimer(),this.cleanListeners(),this.hideComboProgressBar()}start(){this.isRunning()||(super.start(),this.startComboTimer(),this.listenComboEvents())}stop(){this.isRunning()&&(super.stop(),this.currentCombo=0,this.clearTimer(),this.cleanListeners(),this.hideComboProgressBar())}getCombo(){return this.currentCombo}startComboTimer(){this.clearTimer();const e={repeat:-1,delay:this.comboDuration,callback:this.onReset};this.comboTimer=this.scene.time.addEvent(e)}clearTimer(){this.comboTimer?.remove(),this.comboTimer?.destroy(),this.progressTimer?.remove(),this.progressTimer?.destroy()}listenComboEvents(){this.scene.events.on(Xe.COMBO,this.onCombo),this.scene.events.on(Xe.RESET,this.onReset)}cleanListeners(){this.scene.events.off(Xe.COMBO,this.onCombo),this.scene.events.off(Xe.RESET,this.onReset)}onCombo=()=>{if(this.progressTimer?.remove(),!this.isRunning())return;this.currentCombo+=1,bt(Math.min(20+this.currentCombo*20,11*20)),this.startComboTimer();const{layoutManager:e,effectManager:t}=this.scene,{comboProgressBar:s}=e.objects;if(this.currentCombo>1){let i=1;s.revive(),s.setDepth(C.EFFECT),s.setAlpha(1),s.setComboText(this.currentCombo),t.playComboExplosionEffect(),s.setProcess(i,!0),this.progressTimer=this.scene.time.addEvent({delay:100,repeat:this.comboDuration/100,callback:()=>{i-=1/(this.comboDuration/100),i<0&&(i=0),i<=0&&this.scene.tweens.add({targets:s,alpha:0,delay:100,duration:100,onComplete:()=>{this.hideComboProgressBar()}}),s.setProcess(i)}})}this.scene.time.delayedCall(300,()=>{this.playComboSound(this.currentCombo),t.playComboEffect(this.currentCombo)})};playComboSound(e){const t=`combo_${e>5?5:e}`;this.scene.audio.playSound(t)}onReset=()=>{this.currentCombo=0,this.hideComboProgressBar()};hideComboProgressBar(){const{layoutManager:e}=this.scene,{comboProgressBar:t}=e.objects;t.kill(),this.scene.tweens.killTweensOf(t)}}const Mf={NORMAL:"normal"},{ID:fs}=k.HINT,{FRAME:Ot}=w.GAMEPLAY;class Ur extends pe{scene;constructor(e){super(e,Ot.HINT_ITEM,26.5,36.5),this.scene=e,this.setName(fs),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e,tileManager:t}=this.scene;if(t.isSuggestPairHintShowed){this.showItemAnimation.play();return}if(this.isActive){e.deactivateItem(fs);return}if(!e.activeItem(fs)){this.shakeAnimation.play();return}this.useItem()};useItem(){const{tileManager:e,itemManager:t}=this.scene;e.suggestPairHint(),t.deactivateItem(fs)}disableItem(){super.disableItem(),this.item.setAlpha(1),this.item.setFrame(Ot.ITEM_HINT_LOCK),this.bg.setFrame(Ot.ITEM_BG_LOCK),this.amountItem.setVisible(!1),this.itemLock.setVisible(!0),this.itemLockText.setVisible(!0)}enableItem(){super.enableItem(),this.item.setAlpha(1),this.item.setFrame(Ot.HINT_ITEM),this.bg.setFrame(Ot.ITEM_BG_ITEM),this.amountItem.setVisible(!0),this.itemLock.setVisible(!1),this.itemLockText.setVisible(!1)}}const{ID:ps}=k.SHUFFLE,{FRAME:At}=w.GAMEPLAY;class Yr extends pe{scene;duration;isRunning=!1;costTimer;constructor(e){super(e,At.ITEM_SHUFFLE,26.5,35.5),this.scene=e,this.duration=1200,this.setName(ps),this.onClick=this.handleUseItem}handleUseItem=()=>{if(this.isRunning)return;const{itemManager:e,animationManager:t}=this.scene;if(t.isMoveTilesCompleted||this.shakeAnimation.play(),this.isActive){e.deactivateItem(ps);return}if(!e.activeItem(ps)){this.shakeAnimation.play();return}this.useItem()};useItem=()=>{const{tileManager:e}=this.scene;this.isRunning=!0,e.isSelectable=!1,e.emitInteraction(),e.removeSuggestPairHint(),this.costTimer?.remove();const t=100;this.scene.time.delayedCall(t,this.runShuffle)};runShuffle=()=>{const{boardManager:e}=this.scene;e.runShuffle(this.duration),this.scene.time.delayedCall(this.duration+100,this.processNoAvailableMatches)};processNoAvailableMatches=()=>{const{boardManager:e,itemManager:t,tileManager:s}=this.scene,{matchFinder:i}=e;if(i.checkForAvailableMatches()){this.isRunning=!1,t.deactivateItem(ps),s.isSelectable=!0;return}this.runShuffle()};disableItem(){super.disableItem(),this.item.setAlpha(1),this.item.setFrame(At.ITEM_SHUFFLE_LOCK),this.bg.setFrame(At.ITEM_BG_LOCK),this.amountItem.setVisible(!1),this.itemLock.setVisible(!0),this.itemLockText.setVisible(!0)}enableItem(){super.enableItem(),this.item.setAlpha(1),this.item.setFrame(At.ITEM_SHUFFLE),this.bg.setFrame(At.ITEM_BG_ITEM),this.amountItem.setVisible(!0),this.itemLock.setVisible(!1),this.itemLockText.setVisible(!1)}}const{ID:bs}=k.AUTO_MATCH,{FRAME:Cf}=w.GAMEPLAY;class _f extends pe{scene;isRunning=!1;matchFinder;delayItemTimer;delayMatchTimer;activeTween;constructor(e){super(e,Cf.DEV_TOOL_HAND,25,25),this.scene=e,this.matchFinder=new _r(e),this.setAmount(999),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(bs);return}if(!e.activeItem(bs)){this.shakeAnimation.play();return}e.setIsUseableItem(!0),this.useItem()};deactivateItem(){this.cleanState(),super.deactivateItem()}useItem=()=>{this.cleanState(),this.scene.gameStatus===le.PLAYING&&(this.isRunning=!0,this.autoMatch(),this.autoUseItem(),this.runActiveTween())};runActiveTween=()=>{this.activeTween?.isPlaying()||(this.activeTween=this.scene.tweens.add({targets:[this],duration:400,yoyo:!0,repeat:-1,ease:Phaser.Math.Easing.Sine.InOut,props:{alpha:.3}}))};autoMatch=()=>{if(!this.isRunning)return;const{boardManager:e,tileManager:t,itemManager:s}=this.scene;if(this.scene.gameStatus!==le.PLAYING){this.cleanState(),s.deactivateItem(bs);return}if(this.runActiveTween(),t.firstSelectedTile=null,!t.isCanMove()){this.cleanState(),s.deactivateItem(bs);return}if(!this.matchFinder.checkForAvailableMatches()){this.nextAutoMatch();return}const o=this.matchFinder.pathForAutoplay;if(!o){this.nextAutoMatch();return}const{x:r=1,y:n=1}=o[0],{x:l=1,y:c=1}=o[o.length-1],d=e.getTileByPosition(r,n),m=e.getTileByPosition(l,c);if(!d||!m){this.nextAutoMatch();return}if(!this.emuSelectTile(d)){this.nextAutoMatch();return}const p=Phaser.Math.Between(100,400);this.delayMatchTimer=this.scene.time.delayedCall(p,()=>{this.emuSelectTile(m),this.nextAutoMatch()})};nextAutoMatch=()=>{const e=Phaser.Math.Between(300,2100);this.delayMatchTimer=this.scene.time.delayedCall(e,this.autoMatch)};autoUseItem=()=>{if(!this.isRunning)return;const{itemManager:e}=this.scene;this.runActiveTween();const t=Phaser.Math.Between(3e3,5e3);this.delayItemTimer=this.scene.time.delayedCall(t,()=>{if(!e.getIsUseableItem()){this.autoUseItem();return}const s=e.getItems();Phaser.Utils.Array.Shuffle(s);const i=s.filter(r=>r.isDisabled||r.amount<=0?!1:r instanceof Ur||r instanceof Vi||r instanceof Yr||r instanceof zi),o=Phaser.Math.Between(0,i.length-1);i[o]&&i[o].callback(),this.autoUseItem()})};emuSelectTile=e=>{const{tileManager:t}=this.scene;return t.isSelectable?(e.showHighlight(),t.emitInteraction(),t.tileSelect(e)(),!0):!1};cleanState(){this.setAlpha(1),this.isRunning=!1,this.activeTween?.remove(),this.delayItemTimer?.remove(),this.delayMatchTimer?.remove(),this.scene.tweens.killTweensOf(this)}}const{ID:ii}=k.BACK_LEVEL,{FRAME:Lf}=w.GAMEPLAY;class Df extends pe{scene;isRunning=!1;constructor(e){super(e,Lf.DEV_TOOL_ARROW,25,25),this.scene=e,this.setAmount(999),this.item.flipX=!0,this.onClick=this.handleUseItem}handleUseItem=()=>{if(this.isRunning)return;const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(ii);return}if(!e.activeItem(ii)){this.shakeAnimation.play();return}this.useItem()};useItem=()=>{const{itemManager:e,levelHandler:t}=this.scene,{level:s}=t;t.level=s-2,t.setConfig(s-2),this.scene.finishLevel(),e.deactivateItem(ii)}}const{ID:oi}=k.BOMB_EXPLOSIVE,{FRAME:Nf}=w.GAMEPLAY;class Gf extends pe{scene;constructor(e){super(e,Nf.DEV_TOOL_BOMB,25,25),this.scene=e,this.setAmount(999),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(oi);return}if(!e.activeItem(oi)){this.shakeAnimation.play();return}this.useItem()};useItem=()=>{const{itemManager:e,tileManager:t}=this.scene;t.emitInteraction(),t.getAliveTiles().forEach(i=>{i instanceof _e&&i.shortenRemainingTime()}),e.deactivateItem(oi)}}const{ID:ai}=k.NEW_GAME,{FRAME:Ff}=w.GAMEPLAY;class Bf extends pe{scene;constructor(e){super(e,Ff.DEV_TOOL_NEW_GAME,25,25),this.scene=e,this.setAmount(999),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(ai);return}if(!e.activeItem(ai)){this.shakeAnimation.play();return}this.useItem()};useItem=async()=>{await this.resetData(),this.resetGame();const{itemManager:e}=this.scene;e.deactivateItem(ai)};resetData=async()=>{const e=new vt({}).toObject();await FBInstant.player.setDataAsync(e),this.scene.player.setMultiCustomData({levelProgress:0})};resetGame(){const{levelHandler:e}=this.scene,t=e.getConfigByLevel(0);t&&(t.rows=Phaser.Math.Between(4,12),t.columns=Phaser.Math.Between(4,7)),e.setConfig(0),O.emit(R.NEXT_LEVEL)}}const{ID:ri}=k.NEXT_LEVEL,{FRAME:Uf}=w.GAMEPLAY;class Yf extends pe{scene;constructor(e){super(e,Uf.DEV_TOOL_ARROW,25,25),this.scene=e,this.setAmount(999),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(ri);return}if(!e.activeItem(ri)){this.shakeAnimation.play();return}this.useItem()};useItem=()=>{const{itemManager:e}=this.scene;this.scene.finishLevel(!0),e.deactivateItem(ri)}}const{ID:ni}=k.RESET_DATA,{FRAME:Hf}=w.GAMEPLAY,{StartItems:Kf}=GameCore.Configs.Gameplay;class Wf extends pe{scene;isResetToDefault;constructor(e){super(e,Hf.DEV_TOOL_RESET,25,25),this.scene=e,this.isResetToDefault=!1,this.setAmount(999),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(ni);return}if(!e.activeItem(ni)){this.shakeAnimation.play();return}this.useItem()};useItem=async()=>{await this.resetData(),this.resetItems();const{itemManager:e}=this.scene;e.deactivateItem(ni)};resetData=async()=>{const e={...Kf};this.isResetToDefault||Object.keys(e).forEach(t=>{const s=t;e[s]=0}),this.isResetToDefault=!this.isResetToDefault,await this.scene.player.setMultiCustomData({items:e})};resetItems(){const{itemManager:e}=this.scene;e.init(),e.start()}}const{ID:li}=k.TIME_UP,{FRAME:zf}=w.GAMEPLAY;class Vf extends pe{scene;constructor(e){super(e,zf.DEV_TOOL_CLOCK,25,25),this.scene=e,this.setAmount(999),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(li);return}if(!e.activeItem(li)){this.shakeAnimation.play();return}this.useItem()};useItem=()=>{const{itemManager:e,layoutManager:t}=this.scene,{objects:s}=t;s.playtimeClock.startClock(0),e.deactivateItem(li)}}const{KEY:jf,FRAME:da}=w.GAMEPLAY;class $f extends Phaser.GameObjects.Particles.ParticleEmitterManager{deathZone;emitter;constructor(e){super(e,jf,da.EFFECT_SPARK),this.createDeathZone(),this.createEmitters(),this.kill(),this.scene.add.existing(this)}createDeathZone(){this.deathZone=new Phaser.Geom.Circle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:da.EFFECT_SPARK,speed:{min:20,max:500},scale:{start:e*1.33,end:0},deathZone:{source:this.deathZone,type:"onLeave"},tint:16259176,lifespan:200})}explode(e,t,s,i){this.revive(),this.deathZone.radius=i,this.deathZone.setPosition(t,s),this.emitter.explode(e,t,s)}}const{KEY:ci,FRAME:di}=w.GAMEPLAY;class Xf extends Phaser.GameObjects.Container{process;minProcess;maxProcess;comboText;comboNumber;progressBox;circleLight;progressBar;comboParticle;circleLightTween;comboTextTween;progressAnimation;constructor(e){super(e),this.setSize(84,8),this.process=0,this.minProcess=0,this.maxProcess=1,this.createComboText(),this.createComboNumber(),this.createProgressBG(),this.createProgressBar(),this.createCircleLight(),this.createComboParticle(),this.createContainer()}setComboText(e){this.comboNumber.setText(`x${e}`),this.comboTextTween?.stop(0),this.circleLightTween?.stop(0);const{x:t,y:s}=this.comboNumber;this.comboParticle.explode(10,t,s,30),this.circleLightTween=this.scene.add.tween({targets:[this.circleLight],duration:200,props:{alpha:{start:.5,to:0,ease:Phaser.Math.Easing.Expo.In},scale:{start:0,to:1,ease:Phaser.Math.Easing.Cubic.Out}}}),this.comboTextTween=this.scene.add.tween({targets:[this.comboNumber],duration:100,completeDelay:400,ease:Phaser.Math.Easing.Sine.In,props:{scale:{from:1,to:1.3}},onComplete:()=>{this.comboTextTween=this.scene.add.tween({targets:[this.comboNumber],duration:100,ease:Phaser.Math.Easing.Sine.Out,props:{scale:{start:1.3,to:1}}})}})}setProcess(e,t=!1){if(this.process=this.getCorrectValue(e),!this.scene||t){this.updateProcess();return}this.runProcessAnimation(e)}updateProcess(){const{height:e}=this.progressBar,t=this.getDisplayWidthByProcess(this.process);this.progressBar.setWorldSize(t,e)}getCorrectValue(e){let t=e;return isFinite(t)||(t=0),t<this.minProcess&&(t=this.minProcess),t>this.maxProcess&&(t=this.maxProcess),t}getDisplayWidthByProcess(e){const{width:t}=this;return(t-1)*e}runProcessAnimation(e){this.progressAnimation?.stop(),this.progressAnimation=this.scene.add.tween({targets:[this.progressBar],duration:100,ease:Phaser.Math.Easing.Quadratic.InOut,props:{displayWidth:()=>{const t=this.getCorrectValue(e);return this.getDisplayWidthByProcess(t)}},onUpdate:()=>{const{displayWidth:t,displayHeight:s}=this.progressBar;this.progressBar.setWorldSize(t,s)},onComplete:()=>{this.updateProcess()}})}createComboText(){this.comboText=this.scene.make.bitmapText({font:I.RED_STROKE.KEY,size:this.scene.fontSize(10),origin:{x:.5,y:.5},text:this.scene.lang.Text.combo}),Phaser.Display.Align.In.Center(this.comboText,this,-16,-15)}createComboNumber(){this.comboNumber=this.scene.make.bitmapText({font:I.RED_STROKE.KEY,size:this.scene.fontSize(12),origin:{x:.5,y:.9},text:"x1"}),Phaser.Display.Align.In.RightCenter(this.comboNumber,this.comboText,23,-1)}createCircleLight(){this.circleLight=this.scene.make.image({key:ci,frame:di.EFFECT_CIRCLE}),this.circleLight.setTint(15677098),this.circleLight.setAlpha(0),this.circleLight.setWorldSize(45,45),Phaser.Display.Align.In.Center(this.circleLight,this.comboNumber)}createComboParticle(){this.comboParticle=new $f(this.scene)}createProgressBG(){this.progressBox=this.scene.make.image({key:ci,frame:di.PROGRESS_BG_COMBO}),this.progressBox.setWorldSize(87,7.5)}createProgressBar(){this.progressBar=this.scene.make.image({key:ci,frame:di.PROGRESS_BAR_COMBO,origin:{x:0,y:.5}}),this.progressBar.setWorldSize(0,4),Phaser.Display.Align.In.LeftCenter(this.progressBar,this.progressBox,-1),this.setProcess(0)}createContainer(){this.add([this.progressBox,this.progressBar,this.comboText,this.comboNumber,this.circleLight,this.comboParticle]),this.circleLight.setDepth(C.EFFECT),this.comboParticle.setDepth(C.EFFECT),this.setDepth(C.EFFECT),this.scene.add.existing(this)}}const{KEY:ma,FRAME:ua}=w.GAMEPLAY,ut={PLAY:"play",PAUSE:"pause"};class Zf extends Phaser.GameObjects.Container{scene;clockBG;clockIcon;clockIconOriginScale;clockText;tickEvent;remainingTime;tickAnimation;tickEventRemainingTime;constructor(e){super(e,0,0),this.scene=e,this.state=ut.PAUSE,this.remainingTime=0,this.createContents(),this.scene.add.existing(this)}createContents(){this.createClockBG(),this.updateSize(),this.createClockText(),this.createClockImage()}addEvents(){this.removeEvents(),this.scene.events.on(N.EVENTS.FIRST_INTERACTION,this.handleFirstInteraction)}removeEvents(){this.scene.events.off(N.EVENTS.FIRST_INTERACTION,this.handleFirstInteraction)}handleFirstInteraction=()=>{const e=this.scene,{levelHandler:t}=e,{time:s}=t.getConfigs();this.startClock(s)};handleRescueTimeout=()=>{const e=this.scene,{levelHandler:t}=e,{time:s}=t.getConfigs();this.startClock(Math.floor(s/2))};startClock(e){this.state=ut.PLAY,this.tickEvent?.destroy(),this.remainingTime=e,this.setClockText(this.remainingTime),this.tickEvent=this.scene.time.addEvent({delay:1e3,callback:this.updateClock,callbackScope:this,loop:!0})}updateClock=()=>{if(this.scene.gameStatus!==le.DYING){if(this.remainingTime<=31&&this.playNotifyAnimation(),this.remainingTime<=0){this.pauseClock();const{level:t}=this.scene.levelHandler;this.scene.die(t,"timeUp");return}this.remainingTime-=1,this.setClockText(this.remainingTime)}};setClockText(e){const t=Math.floor(e/60),s=e%60,i=t<10?`0${t}`:t,o=s<10?`0${s}`:s;this.clockText.setText(`${i}:${o}`)}pauseClock(){this.state!==ut.PAUSE&&(this.stopNotifyAnimation(),this.state=ut.PAUSE,this.tickEvent&&(this.tickEventRemainingTime=1e3-this.tickEvent.getElapsed(),this.tickEvent.destroy()))}resumeClock(){this.state!==ut.PLAY&&(this.state=ut.PLAY,this.tickEvent=this.scene.time.addEvent({delay:this.tickEventRemainingTime,callback:()=>{this.updateClock(),this.tickEvent=this.scene.time.addEvent({delay:1e3,callback:this.updateClock,callbackScope:this,loop:!0})},callbackScope:this}))}createClockBG(){this.clockBG=this.scene.make.image({key:ma,frame:ua.TIMER_BG,origin:{x:0,y:.5}}),this.clockBG.setWorldSize(71,25),this.add(this.clockBG)}updateSize(){const{displayWidth:e,displayHeight:t}=this.clockBG;this.setSize(e,t)}createClockText(){this.clockText=this.scene.make.bitmapText({text:"00:00",font:I.PRIMARY.KEY,size:this.scene.fontSize(13),origin:{x:0,y:.5}}),this.clockText.setTint(16763191),this.clockText.setRightAlign(),Phaser.Display.Align.In.RightCenter(this.clockText,this.clockBG,-8,-2),this.add(this.clockText)}createClockImage(){this.clockIcon=this.scene.make.image({key:ma,frame:ua.ICON_CLOCK}),this.clockIcon.setWorldSize(28,34),Phaser.Display.Align.In.LeftCenter(this.clockIcon,this.clockBG,2,-1),this.add(this.clockIcon),this.clockIconOriginScale=this.clockIcon.scaleX}getRemainingTime(){return this.remainingTime}playNotifyAnimation(){if(this.tickAnimation?.isPlaying())return;let e=15;this.tickAnimation?.stop(),this.tickAnimation=this.scene.tweens.timeline({loop:-1,onLoop:t=>{this.clockIcon.setAngle(e),t.data[0].data[0].from=e,t.data[0].data[0].start=e,e=-e,t.data[0].data[0].to=e,t.data[0].data[0].end=e,t.data[0].data[0].duration=200}}),this.tickAnimation.add({targets:this.clockIcon,ease:Phaser.Math.Easing.Linear,props:{angle:{duration:100,start:0,to:e}}}),this.tickAnimation.add({targets:this.clockIcon,ease:Phaser.Math.Easing.Linear,props:{scale:{duration:200,value:this.clockIconOriginScale*1.1}},yoyo:!0}),this.tickAnimation.play()}stopNotifyAnimation(){this.tickAnimation?.stop(),this.clockIcon.setScale(this.clockIconOriginScale),this.clockIcon.setAngle(0)}}const{KEY:It,FRAME:Mt}=w.GAMEPLAY;class qf extends Phaser.GameObjects.Container{stars=[];process;minProcess;maxProcess;progressBox;progressBarLeft;progressBarBg;progressBarRight;progressAnimation;constructor(e){super(e),this.setSize(163,30),this.process=0,this.minProcess=0,this.maxProcess=1,this.createProgressBox(),this.createProgressBar(),this.createStars(),this.createContainer()}setProcess(e,t=!1){if(this.process=this.getCorrectValue(e),this.updateStarVisibility(),!this.scene||t){this.updateProcess();return}this.runProcessAnimation(e)}updateProcess(){const{displayHeight:e}=this.progressBarBg,t=this.getDisplayWidthByProcess(this.process);this.progressBarBg.setWorldSize(t,e);const{x:s}=this.progressBarBg;this.progressBarRight.setX(s+t)}getCorrectValue(e){let t=e;return isFinite(t)||(t=0),t<this.minProcess&&(t=this.minProcess),t>this.maxProcess&&(t=this.maxProcess),t}getDisplayWidthByProcess(e){const{width:t}=this;return(t-17)*e}runProcessAnimation(e){this.progressAnimation?.stop(),this.progressAnimation=this.scene.add.tween({targets:[this.progressBarBg],duration:300,ease:Phaser.Math.Easing.Quadratic.InOut,props:{displayWidth:()=>{const t=this.getCorrectValue(e);return this.getDisplayWidthByProcess(t)}},onUpdate:()=>{const{x:t,displayWidth:s}=this.progressBarBg;this.progressBarRight.setX(t+s)},onComplete:()=>{this.updateProcess()}})}createProgressBox(){this.progressBox=this.scene.make.image({key:It,frame:Mt.PROGRESS_STAR}),this.progressBox.setWorldSize(163,30),this.add(this.progressBox)}createProgressBar(){this.progressBarLeft=this.scene.make.image({key:It,frame:Mt.PROGRESS_BAR_LEFT}),this.progressBarLeft.setOrigin(0,.5),this.progressBarLeft.setWorldSize(6,12.5),this.progressBarRight=this.scene.make.image({key:It,frame:Mt.PROGRESS_BAR_RIGHT}),this.progressBarRight.setOrigin(0,.5),this.progressBarRight.setWorldSize(6,12.5),this.progressBarBg=this.scene.make.image({key:It,frame:Mt.PROGRESS_BAR_MID}),this.progressBarBg.setOrigin(0,.5),this.progressBarBg.setWorldSize(6,12.5);const s=-2,i=.5,o=-7.5;Phaser.Display.Align.In.LeftCenter(this.progressBarBg,this.progressBox,o,i),Phaser.Display.Align.In.LeftCenter(this.progressBarLeft,this.progressBox,s,i),Phaser.Display.Align.In.LeftCenter(this.progressBarRight,this.progressBox,o,i),this.setProcess(0,!0)}createStars(){this.stars=[];for(let e=0;e<3;e++){const t=this.scene.make.image({key:It,frame:Mt.ICON_STAR_BIG});t.y=0,t.setWorldSize(30,30),t.setVisible(!1),this.stars.push(t)}this.stars[0].x=7,this.stars[1].x=38,this.stars[2].x=67}updateStarVisibility(){if(this.stars.length!==0){if(this.process>=.92){this.stars[0].setVisible(!0),this.stars[1].setVisible(!0),this.stars[2].setVisible(!0);return}if(this.process>=.72){this.stars[0].setVisible(!0),this.stars[1].setVisible(!0),this.stars[2].setVisible(!1);return}if(this.process>=.52){this.stars[0].setVisible(!0),this.stars[1].setVisible(!1),this.stars[2].setVisible(!1);return}this.stars[0].setVisible(!1),this.stars[1].setVisible(!1),this.stars[2].setVisible(!1)}}getStarAmount(){return this.process>=.92?3:this.process>=.72?2:this.process>=.52?1:0}getStarFlyInPosition(){if(this.process>=.72){const{translateX:s,translateY:i}=this.stars[2].getWorldTransformMatrix().decomposeMatrix();return{x:s,y:i}}if(this.process>=.52){const{translateX:s,translateY:i}=this.stars[1].getWorldTransformMatrix().decomposeMatrix();return{x:s,y:i}}const{translateX:e,translateY:t}=this.stars[0].getWorldTransformMatrix().decomposeMatrix();return{x:e,y:t}}createContainer(){this.add([this.progressBox,this.progressBarBg,this.progressBarLeft,this.progressBarRight]),this.add(this.stars),this.scene.add.existing(this)}}const ht=242,{KEY:Ct,FRAME:_t}=w.GAMEPLAY;class Qf extends Phaser.GameObjects.Container{scene;headerMiddle;headerLeft;headerRight;actualScreenWidth;constructor(e){super(e),this.scene=e,e.add.existing(this),this.initScreenWidth(),this.initHeader(),this.initSize()}initScreenWidth(){const e=this.scene.world.getScreenWidth(),t=this.scene.gameZone.width;this.actualScreenWidth=e>t?e:t}initSize(){//!! Size for calculating other UI positions, tile size, etc.
if(this.scene.world.isLandscape()){this.setSize(760,55.5);return}this.setSize(375,66)}initHeader(){if(!this.scene.world.isLandscape()){this.headerMiddle=this.scene.add.image(0,0,Ct,_t.LAYOUT_HEADER),this.headerMiddle.setWorldSize(375,66),this.add(this.headerMiddle);return}if(this.actualScreenWidth<ht*2){this.initReducedLandscapeHeader();return}this.initNormalLandscapeHeader()}initReducedLandscapeHeader(){const e=this.actualScreenWidth;this.headerMiddle=this.scene.add.image(0,0,Ct,_t.LAYOUT_HEADER_MIDDLE),this.headerMiddle.setWorldSize(e,55.5),this.add(this.headerMiddle)}initNormalLandscapeHeader(){const e=this.actualScreenWidth-ht*2;this.headerLeft=this.scene.add.image(0,0,Ct,_t.LAYOUT_HEADER_LEFT),this.headerLeft.setWorldSize(ht,55.5),this.headerMiddle=this.scene.add.image(0,0,Ct,_t.LAYOUT_HEADER_MIDDLE),this.headerMiddle.setWorldSize(e,55.5),this.headerRight=this.scene.add.image(0,0,Ct,_t.LAYOUT_HEADER_RIGHT),this.headerRight.setWorldSize(ht,55.5),this.add(this.headerLeft),this.add(this.headerMiddle),this.add(this.headerRight),this.headerMiddle.setPosition(0,0),this.headerLeft.setPosition(this.headerMiddle.x-(e+ht)/2,0),this.headerRight.setPosition(this.headerMiddle.x+(e+ht)/2,0)}}const{KEY:mi,FRAME:ui}=w.GAMEPLAY,{KEY:ha,FRAME:fa}=w.DEFAULT;class Jf{scene;skipBtn;skipContainer;pauseButton;headerBG;footerBG;levelText;playtimeClock;starProgressBar;comboProgressBar;hintItem;rocketItem;shuffleItem;defuseItem;guideDefuseItem;timeUp=null;newGame=null;resetData=null;backLevel=null;nextLevel=null;autoMatch=null;changeColor=null;bombExplosive=null;group;constructor(e){this.scene=e,this.createGroup(),this.createObjects()}getAll(){return this.group.getChildren()}createGroup(){this.group=this.scene.add.group()}createObjects(){this.createHeaderBG(),this.createFooterBG(),this.createLevelText(),this.createSkipButton(),this.createPauseButton(),this.createPlaytimeClock(),this.createStarProgressBar(),this.createComboProgressBar(),this.createHintItem(),this.createRocketItem(),this.createDefuseItem(),this.createGuideDefuseItem(),this.createShuffleItem(),this.createDevTools()}createHeaderBG(){this.headerBG=new Qf(this.scene),this.group.add(this.headerBG)}createFooterBG(){this.footerBG=this.scene.add.image(0,0,mi,ui.LAYOUT_FOOTER),this.footerBG.setWorldSize(375,108.5),this.group.add(this.footerBG)}createLevelText(){this.levelText=this.scene.make.bitmapText({font:I.YELLOW_AND_STROKE.KEY,size:this.scene.fontSize(15),origin:{x:.5,y:.6},text:"Lv 1"}),this.group.add(this.levelText)}createSkipButton(){this.skipContainer=this.scene.add.container(0,0),this.skipContainer.setDepth(C.ON_TOP);const e=this.scene.make.image({key:ha,frame:fa.BUTTON_GREEN_SMALL_BG});e.setY(-1),e.setWorldSize(67,24),this.skipContainer.add(e),this.skipBtn=new de(this.scene,ha,fa.BUTTON_GREEN_SMALL,63,20),this.skipBtn.setName("SkipGuide"),this.skipContainer.add(this.skipBtn);const t=this.scene.lang.getCurrentLanguage();let s=13,i=-2;switch(t){case"ru":case"de":s=8,i=-1}const o=this.scene.make.bitmapText({font:I.SHADOW.KEY,size:this.scene.fontSize(s),origin:{x:.5,y:.6},text:this.scene.lang.Text.skip});o.setY(i),this.skipBtn.add(o),this.skipContainer.setSize(63,20),this.skipContainer.kill(),this.group.add(this.skipContainer)}createPauseButton(){this.pauseButton=new de(this.scene,mi,ui.BUTTON_YELLOW_CIRCLE,37,37),this.pauseButton.setName("Pause");const e=this.scene.make.image({key:mi,frame:ui.ICON_PAUSE});e.setWorldSize(15,17),this.pauseButton.add(e),this.group.add(this.pauseButton)}createPlaytimeClock(){this.playtimeClock=new Zf(this.scene),this.group.add(this.playtimeClock)}createStarProgressBar(){this.starProgressBar=new qf(this.scene),this.group.add(this.starProgressBar)}createComboProgressBar(){this.comboProgressBar=new Xf(this.scene),this.comboProgressBar.setAlpha(0),this.comboProgressBar.kill(),this.group.add(this.comboProgressBar)}createHintItem(){this.hintItem=new Ur(this.scene),this.group.add(this.hintItem)}createShuffleItem(){this.shuffleItem=new Yr(this.scene),this.group.add(this.shuffleItem)}createDefuseItem(){this.defuseItem=new zi(this.scene),this.group.add(this.defuseItem)}createGuideDefuseItem(){this.guideDefuseItem=new Lr(this.scene),this.guideDefuseItem.kill(),this.group.add(this.guideDefuseItem)}createRocketItem(){this.rocketItem=new Vi(this.scene),this.group.add(this.rocketItem)}createDevTools(){GameCore.Utils.Valid.isDebugger()&&(this.createNewGameItem(),this.createTimeUpItem(),this.createAutoMatchItem(),this.createResetDataItem(),this.createBackLevelItem(),this.createNextLevelItem(),this.createChangeColorItem(),this.createBombExplosiveItem())}createNewGameItem(){this.newGame=new Bf(this.scene),this.newGame.setScale(.7),this.group.add(this.newGame)}createChangeColorItem(){this.changeColor=new Dr(this.scene),this.changeColor.setScale(.7),this.group.add(this.changeColor)}createResetDataItem(){this.resetData=new Wf(this.scene),this.resetData.setScale(.7),this.group.add(this.resetData)}createBackLevelItem(){this.backLevel=new Df(this.scene),this.backLevel.setScale(.7),this.group.add(this.backLevel)}createNextLevelItem(){this.nextLevel=new Yf(this.scene),this.nextLevel.setScale(.7),this.group.add(this.nextLevel)}createBombExplosiveItem(){this.bombExplosive=new Gf(this.scene),this.bombExplosive.setScale(.7),this.group.add(this.bombExplosive)}createTimeUpItem(){this.timeUp=new Vf(this.scene),this.timeUp.setScale(.7),this.group.add(this.timeUp)}createAutoMatchItem(){this.autoMatch=new _f(this.scene),this.autoMatch.setScale(.7),this.group.add(this.autoMatch)}}class ep{scene;objects;allUI;groups;constructor(e){this.scene=e,this.objects=null,this.createGroups()}setUIObjects(e){this.objects=e,this.allUI.addMultiple(this.objects.getAll())}createGroups(){this.groups={},this.allUI=this.scene.add.group(),this.groups.allUI=this.allUI}killAllUI(){this.allUI.killGroup()}reviveAllUI(){this.allUI.reviveGroup()}}const tp=43;class Hr extends ep{itemUI;gameUI;alignUI(){if(this.objects===null)return;const{headerBG:e,footerBG:t,levelText:s,skipContainer:i}=this.objects,{pauseButton:o,playtimeClock:r,starProgressBar:n,comboProgressBar:l}=this.objects,{gameZone:c}=this.scene,d=this.scene.ads.getBannerHeight();Phaser.Display.Align.In.TopCenter(e,c),Phaser.Display.Align.In.BottomCenter(t,c,0,-d+tp),Phaser.Display.Align.In.BottomCenter(s,e,-70,-35),Phaser.Display.Align.In.TopRight(i,c,-5,-15),Phaser.Display.Align.In.TopRight(o,e,-8,-6),Phaser.Display.Align.In.TopLeft(r,e,22,-13),Phaser.Display.Align.In.BottomCenter(n,e,43,-26),Phaser.Display.Align.In.TopRight(l,c,-20,-80)}alignItems(){const{objects:e}=this;if(!e)return;const{hintItem:t,rocketItem:s,defuseItem:i,shuffleItem:o,guideDefuseItem:r}=e,{footerBG:n}=e,l=this.scene;if(!(l instanceof Ze))return;const{level:c}=l.levelHandler.getConfigs(),{width:d,height:m}=n,h=-m*.15;let p=4;const b=[i,t,s,o];if(!i.visible&&c!==7){p-=1;const W=b.indexOf(i);b.splice(W,1)}if(!s.visible){p-=1;const W=b.indexOf(s);b.splice(W,1)}const E=d*62/75,P=E/p;Phaser.Display.Align.In.Center(b[0],n,-E/2+P/2,h);for(let W=1;W<b.length;W++){const V=b[W];V.x=b[0].x+W*P,V.y=b[0].y}c===7&&r.setPosition(i.x,i.y);const{changeColor:v,newGame:g,resetData:T,autoMatch:A}=e,{backLevel:G,nextLevel:H,timeUp:K,bombExplosive:re}=e,{gameZone:ie}=this.scene;if(GameCore.Utils.Valid.isDebugger()){v&&Phaser.Display.Align.In.TopLeft(v,ie,0,-80),g&&Phaser.Display.Align.In.TopLeft(g,ie,0,-120),T&&Phaser.Display.Align.In.TopLeft(T,ie,0,-160),A&&Phaser.Display.Align.In.TopLeft(A,ie,0,-200);const W=0,V=-240;G&&Phaser.Display.Align.In.TopLeft(G,ie,W,V),H&&Phaser.Display.Align.In.TopLeft(H,ie,W,V-40),K&&Phaser.Display.Align.In.TopLeft(K,ie,W,V-2*40),re&&Phaser.Display.Align.In.TopLeft(re,ie,W,V-3*40)}}createGroups(){super.createGroups(),this.itemUI=this.scene.add.group(),this.gameUI=this.scene.add.group(),this.itemUI.setDepth(C.ITEM),this.groups.itemUI=this.itemUI,this.groups.gameUI=this.gameUI}setUIObjects(e){super.setUIObjects(e),this.addUIObjectsToGroups()}addUIObjectsToGroups(){this.objects!==null&&(this.addObjectsForItem(),this.addObjectsForGame())}addObjectsForItem(){this.objects!==null&&this.groups.itemUI.addMultiple([this.objects.hintItem,this.objects.rocketItem,this.objects.shuffleItem,this.objects.defuseItem])}addObjectsForGame(){this.objects!==null&&this.groups.gameUI.addMultiple([this.objects.levelText,this.objects.pauseButton,this.objects.playtimeClock,this.objects.starProgressBar,...this.groups.itemUI.getChildren()])}}class sp extends Hr{alignUI(){if(super.alignUI(),this.objects===null)return;const{gameZone:e}=this.scene;Phaser.Display.Align.In.TopRight(this.objects.footerBG,this.objects.headerBG,-26,16),Phaser.Display.Align.In.TopCenter(this.objects.levelText,this.objects.headerBG,-220,-10),Phaser.Display.Align.In.TopRight(this.objects.pauseButton,this.objects.headerBG,-10),Phaser.Display.Align.In.TopLeft(this.objects.playtimeClock,this.objects.headerBG,5,-7),Phaser.Display.Align.In.BottomCenter(this.objects.starProgressBar,this.objects.headerBG,-80,-20),Phaser.Display.Align.In.TopRight(this.objects.comboProgressBar,e,-100,-65)}alignItems(){const{objects:e}=this;if(!e)return;const{hintItem:t,rocketItem:s,defuseItem:i,shuffleItem:o,guideDefuseItem:r}=e,{footerBG:n}=e,l=this.scene;if(!(l instanceof Ze))return;const{level:c}=l.levelHandler.getConfigs(),{width:d,height:m}=n,h=.675;t.setScale(h),s.setScale(h),i.setScale(h),o.setScale(h),r.setScale(h);const p=-m*.13;let b=4;const E=[i,t,s,o];if(!i.visible&&c!==7){b-=1;const V=E.indexOf(i);E.splice(V,1)}if(!s.visible){b-=1;const V=E.indexOf(s);E.splice(V,1)}let P=d*18/25;b===3?P=d*8/15:b===4?P=d*2/3:b===2&&(P=d*12/25);const v=P/b;Phaser.Display.Align.In.Center(E[0],n,-P/2+v/2,p);for(let V=1;V<E.length;V++){const ye=E[V];ye.x=E[0].x+V*v,ye.y=E[0].y}c===7&&r.setPosition(i.x,i.y);const{changeColor:g,newGame:T,resetData:A,autoMatch:G}=e,{backLevel:H,nextLevel:K,timeUp:re,bombExplosive:ie}=e,{gameZone:W}=this.scene;if(GameCore.Utils.Valid.isDebugger()){g&&Phaser.Display.Align.In.TopLeft(g,W,0,-80),T&&Phaser.Display.Align.In.TopLeft(T,W,0,-120),A&&Phaser.Display.Align.In.TopLeft(A,W,0,-160),G&&Phaser.Display.Align.In.TopLeft(G,W,0,-200);const V=-50,ye=-80;H&&Phaser.Display.Align.In.TopLeft(H,W,V,ye),K&&Phaser.Display.Align.In.TopLeft(K,W,V,ye-40),re&&Phaser.Display.Align.In.TopLeft(re,W,V,ye-2*40),ie&&Phaser.Display.Align.In.TopLeft(ie,W,V,ye-3*40)}}}const{STATUS:hi}=$t;class ip extends Pe{scene;layout;objects;groups;constructor(e){super(e),this.scene=e,this.createObjects(),this.createLayouts(),this.createGroups()}createObjects(){this.objects=new Jf(this.scene)}createLayouts(){this.scene.world.isLandscape()?this.layout=new sp(this.scene):this.layout=new Hr(this.scene),this.layout.setUIObjects(this.objects)}createGroups(){this.groups=this.layout.groups}init(){this.layout.alignUI(),this.setState(hi.READY)}start(){this.isRunning()||(this.updateUIState(),this.setState(hi.RUNNING))}stop(){this.isRunning()&&this.setState(hi.STOPPED)}updateUIState(){}}const op={targets:[],duration:600,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:{start:1,from:1,to:0}}};class St extends fe{constructor(e){super(op,e)}}const ap={targets:[],duration:600,ease:Phaser.Math.Easing.Back.Out,props:{y:{from:250,to:0},scale:{from:.9,to:1},alpha:{start:0,from:0,to:1}}};class Cs extends fe{constructor(e){super(ap,e)}}const{KEY:We,FRAME:ft}=w.DEFAULT,{Match:fi}=GameCore.Configs;class rp extends GameCore.Screen{level;reason;isUseRescue;popup;contents;countdownText;countdownTimer;countdownCount;realTimeCountdown;progressTween;rescueSoundEvent;progressCircle;progressMaskImage;progressMask;reasonText;continueButton;continueButtonBg;continueButtonAnimation;popupShowUpAnimation;popupFadeOutAnimation;adsTimer;constructor(e,t,s,i){super(e,t,s,i),this.reason="",this.realTimeCountdown=1400,this.countdownCount=fi.MaxRescueCount,this.setDepth(tt.POPUP),this.background.setAlpha(.8),this.createContent(),this.addContent()}open=e=>{super.open(),this.progressCircle.clearMask(),this.isUseRescue=!1,this.countdownCount=fi.RescueGamePopupTimeout,this.setTime(this.countdownCount),this.level=e.level,this.reason=e.reason,this.updateReasonText(e.reason),this.runOpenAnimation()};close(){this.rescueSoundEvent?.remove(),super.close()}handleShowRewardedVideoAd=async()=>{const{globalScene:e,audio:t}=this.scene.game;let s=null;try{if(this.isUseRescue)return;this.isUseRescue=!0,this.progressTween.pause(),this.rescueSoundEvent?.remove(),this.countdownTimer.remove(),s=this.scene.game.globalScene.time.delayedCall(200,()=>{e.screen.open(L.NOTIFY_SCREEN,{message:this.scene.lang.Text.loading_ads,duration:0,loading:!0})}),t.pauseMusic(),t.pauseAllSounds(),t.muteAll(),await this.scene.ads.showRewardedVideoAsync(),e.screen.events.off(GameCore.Screens.Events.CLOSE),this.scene.audio.playSound(B.DAILY_REWARD),s?.remove(),e.screen.close(L.NOTIFY_SCREEN),this.runCloseAnimation(),this.popupFadeOutAnimation.tween?.once(Phaser.Tweens.Events.TWEEN_COMPLETE,()=>{O.emit(R.CONTINUE,{reason:this.reason})})}catch(i){if(this.runCloseAnimation(),this.isUseRescue=!1,s?.remove(),i instanceof Object&&GameCore.Utils.Object.hasOwn(i,"code")&&i.code==="USER_INPUT"){this.showNotifySkipAds();return}this.showNotifyNoAds()}finally{this.adsTimer?.destroy(),this.scene.audio.unmuteAll(),this.scene.audio.playMusic(),this.scene.audio.resumeAllSounds(),this.scene.ads.preloadRewardedVideoAsync().catch(i=>{})}};showNotifyNoAds=e=>{if(e&&e.name!==L.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.events.off(GameCore.Screens.Events.CLOSE),t.screen.events.on(GameCore.Screens.Events.CLOSE,this.showRescueScreen),t.screen.open(L.NOTIFY_SCREEN,{message:this.scene.lang.Text.no_ads,duration:2e3,loading:!1})};showNotifySkipAds=()=>{const{globalScene:e}=this.scene.game;e.screen.events.off(GameCore.Screens.Events.CLOSE),e.screen.events.on(GameCore.Screens.Events.CLOSE,this.showRescueScreen),e.screen.open(L.NOTIFY_SCREEN,{message:`${this.scene.lang.Text.no_rewards_1}
${this.scene.lang.Text.no_rewards_2}`,duration:3e3,loading:!1})};showRescueScreen=e=>{if(e&&e.name!==L.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.events.off(GameCore.Screens.Events.CLOSE,this.showRescueScreen),this.countdownTimer.remove(),this.progressTween.pause(),this.scene.screen.close(this.name),O.emit(R.SHOW_RESCUE_SCREEN,{level:this.level,reason:this.reason})};createContent(){this.createPopup(),this.createCountdown(),this.createProgressCircle(),this.createReasonText(),this.createContinueButton()}createPopup(){this.popup=this.scene.add.container(0,0),this.popup.setSize(292,374);const e=this.scene.make.image({key:We,frame:ft.POPUP});e.setWorldSize(292,374);const t=this.scene.make.image({key:We,frame:this.scene.lang.Texture.text_continue}),s=this.scene.lang.getCurrentLanguage();let i=164,o=25;switch(s){case"ru":i=213,o=28;break;case"ja":i=151,o=30;break;case"id":i=131,o=25;break;case"it":i=189,o=24;break;case"de":i=187,o=24;break;case"es":i=187,o=29;break;case"fr":i=178,o=24;break;case"pt":i=173,o=24;break;case"tr":i=150,o=24;break;case"zh":i=74,o=27;break}t.setWorldSize(i,o),Phaser.Display.Align.In.TopCenter(t,e,4,-23),this.popup.add([e,t]),this.add(this.popup),Phaser.Display.Align.In.Center(this.popup,this.zone)}createCountdown(){this.countdownText=this.scene.make.bitmapText({size:this.scene.fontSize(50),font:I.YELLOW_AND_STROKE.KEY,origin:{x:.5,y:.5}}),this.countdownText.setTint(16773122),this.countdownText.setCenterAlign(),this.setTime(this.countdownCount)}runCountdown(){const e={loop:!0,delay:this.realTimeCountdown,callback:this.handleRunCountdown};this.countdownTimer=this.scene.time.addEvent(e),this.startProgressCircle()}setProgressCircle(e){const{translateX:t,translateY:s}=this.progressCircle.getWorldTransformMatrix().decomposeMatrix();if(this.progressMaskImage.setPosition(t,s),this.progressMaskImage.clear(),e===0)return;this.progressMaskImage.fillStyle(16777215,0);const i=-Math.PI/2,o=3*Math.PI/2-Phaser.Math.DegToRad(360-e);this.progressMaskImage.slice(0,0,80,i,o,!1),this.progressMaskImage.fillPath()}setTime(e){this.countdownText.setText(`${e}`)}createProgressCircle(){this.progressCircle=this.scene.make.image({key:We,frame:ft.PROGRESS_CIRCLE});const e=this.scene.make.image({key:We,frame:ft.PROGRESS_CIRCLE_BG});this.progressMaskImage=this.scene.make.graphics({}),this.progressMask=this.progressMaskImage.createGeometryMask(),this.progressCircle.setWorldSize(129,129),e.setWorldSize(129,129),Phaser.Display.Align.In.Center(this.progressCircle,this.popup,0,-40),Phaser.Display.Align.In.Center(e,this.popup,0,-40),Phaser.Display.Align.In.Center(this.countdownText,e,0,-10),this.popup.add([e,this.progressCircle])}startProgressCircle(){this.setProgressCircle(360),this.progressCircle.setMask(this.progressMask),this.progressTween=this.scene.tweens.addCounter({from:360,to:0,duration:fi.RescueGamePopupTimeout*this.realTimeCountdown,onUpdate:e=>{const t=+e.getValue().toFixed(2);this.setProgressCircle(t)},onComplete:()=>{this.setProgressCircle(0),this.rescueSoundEvent?.remove()}}),this.playSoundTimeCountdown(),this.rescueSoundEvent=this.scene.time.addEvent({repeat:3,delay:this.realTimeCountdown,callback:this.playSoundTimeCountdown})}playSoundTimeCountdown=()=>{this.scene.audio.playSound(B.RESCUE_TIMER,{volume:1.5})};createReasonText(){this.reasonText=this.scene.make.bitmapText({font:I.YELLOW_AND_STROKE.KEY,origin:{x:.5,y:.5}})}updateReasonText(e){let t=this.scene.fontSize(16);switch(e){case"bombExplosive":t=this.scene.fontSize(18),this.reasonText.setText(this.scene.lang.Text.reason_bomb);break;case"timeUp":t=this.scene.fontSize(20),this.reasonText.setText(this.scene.lang.Text.reason_time_out);break;default:this.reasonText.setText("You have failed the level!")}this.reasonText.setFontSize(t);const s=this.scene.lang.getCurrentLanguage();let i=0;switch(s){case"ja":i=5}Phaser.Display.Align.In.Center(this.reasonText,this.popup,i,57)}createContinueButton(){this.continueButton=new de(this.scene,We,ft.BUTTON_GREEN_ROUNDED_RECT,184,51),this.continueButton.setName("Continue"),this.continueButtonBg=this.scene.make.image({key:We,frame:ft.BUTTON_BG}),this.continueButtonBg.setWorldSize(184,51),this.continueButton.onClick=this.handleShowRewardedVideoAd;const e=this.scene.add.image(0,0,We,ft.ICON_ADS);e.setWorldSize(27,29),Phaser.Display.Align.In.Center(e,this.continueButton,-60),this.continueButton.add(e);const t=this.scene.lang.getCurrentLanguage();let s=20;switch(t){case"ru":s=17;break;case"ja":s=18;break}const i=this.scene.make.bitmapText({text:this.scene.lang.Text.continue,font:I.SHADOW.KEY,origin:{x:.35,y:.75},size:this.scene.fontSize(s)});this.continueButton.add(i),Phaser.Display.Align.In.BottomCenter(this.continueButton,this.popup,0,-40),Phaser.Display.Align.In.Center(this.continueButtonBg,this.continueButton,0,-1)}handleRunCountdown=()=>{if(this.countdownCount-=1,this.setTime(this.countdownCount),this.countdownCount<=0){this.countdownTimer.remove(),this.progressTween.complete(),this.rescueTimeout();return}};rescueTimeout(){this.scene.time.delayedCall(800,()=>{this.runCloseAnimation(),this.isUseRescue||this.popupFadeOutAnimation.tween?.once(Phaser.Tweens.Events.TWEEN_COMPLETE,()=>{O.emit(R.SHOW_RESCUE_SCREEN,{level:this.level,reason:this.reason})})})}runContinueButtonAnimation(){this.continueButtonAnimation||(this.continueButtonAnimation=new Zt({targets:[this.continueButton],props:{scale:"-=0.02"}})),this.continueButtonAnimation?.play()}addContent(){this.contents=this.scene.add.group(),this.contents.addMultiple([this.countdownText,this.reasonText,this.continueButtonBg,this.continueButton]),this.popup.add(this.contents.getChildren())}runOpenAnimation(){this.popupShowUpAnimation?.tween?.isPlaying()||this.runPopupEntrancesAnimation(0,400)}runCloseAnimation(){this.popupFadeOutAnimation?.tween?.isPlaying()||this.runPopupExitsAnimation(0,200)}runPopupEntrancesAnimation(e,t){if(!this.popupShowUpAnimation){const{y:s,scale:i}=this.popup;this.popupShowUpAnimation=new Cs({targets:[this.popup],delay:e,duration:t,props:{y:{from:350,to:s},alpha:{start:1,from:1,to:1},scale:{start:0,from:0,to:i}},onComplete:()=>{this.runCountdown(),this.runContinueButtonAnimation()}})}this.popupShowUpAnimation.play()}runPopupExitsAnimation(e,t){this.popupFadeOutAnimation||(this.popupFadeOutAnimation=new St({targets:[this.popup],delay:e,duration:t,props:{y:250,scale:0},onComplete:()=>{this.popup.setY(0),this.scene.screen.close(this.name)}})),this.popupFadeOutAnimation.play()}}const np={targets:[],duration:1e3,ease:Phaser.Math.Easing.Quadratic.InOut,props:{scale:.2}};class Kr extends fe{spline;constructor(e){super(np,e);const{curve:t}=this.config;t&&(this.spline=new Phaser.Curves.Spline(t),this.tween?.on(Phaser.Tweens.Events.TWEEN_START,this.createCounter))}createCounter=(e,t)=>{const{onCurveUpdate:s}=this.config,i=typeof s=="function"?s:null;t.forEach((o,r)=>{if(!this.scene)return;const{duration:n,delay:l}=e.data[r],c=new Phaser.Math.Vector2;this.scene.tweens.addCounter({delay:l,duration:n,ease:Phaser.Math.Easing.Quadratic.InOut,onUpdate:d=>{this.spline.getPoint(d.getValue(),c),o.x=c.x,o.y=c.y,i&&i(o)}})})}}const{KEY:lp,FRAME:cp}=w.TUTORIAL;class Wr extends Phaser.GameObjects.Container{hand;constructor(e){super(e),this.name="TapTutorialHand",this.addHand(),this.scene.add.existing(this)}addHand(){this.hand=this.scene.make.image({key:lp,frame:cp.HAND,origin:{x:.5,y:.5}}),this.hand.setWorldSize(65.5,55.5),this.add(this.hand)}playAnimation(e=0,t=800){const s=1/this.scene.world.getPixelRatio();this.hand.angle=30,this.scene?.tweens.add({delay:e,targets:[this.hand],ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:{start:0,value:1,duration:200},scale:{duration:400,start:s*1.6,to:s*1.2},angle:{from:30,value:0,duration:400}},onComplete:()=>{this.scene?.tweens.add({targets:[this.hand],delay:200,duration:200,ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:0},onComplete:()=>{this.hand.x=0,this.hand.y=0,this.hand.scale=s,this.playAnimation(t)}})}})}stopAnimation(){this.scene.tweens.killTweensOf(this.hand)}preDestroy(){this.scene.tweens.killTweensOf(this.hand)}}const{KEY:dp,FRAME:pa}=w.EFFECTS;class zr extends Phaser.GameObjects.Particles.ParticleEmitterManager{emitZone;emitter;constructor(e){super(e,dp,pa.FX_STAR_YELLOW),this.createEmitZone(),this.scene.add.existing(this)}createEmitZone(){this.emitZone=new Phaser.Geom.Rectangle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:pa.FX_COMET,emitZone:{source:this.emitZone,type:"random"},speed:20,timeScale:1,frequency:100,alpha:{start:1,end:0,ease:Phaser.Math.Easing.Expo.Out},scale:{start:e*2,end:e*.1,ease:Phaser.Math.Easing.Expo.Out},lifespan:2666})}run(e,t,s,i,o){this.stop(),this.reset(),this.emitZone.setSize(i,o),this.emitZone.setPosition(t-i/2,s-o/2),this.emitter.setQuantity(e),this.emitter.start()}explode(e,t,s){this.emitter||this.reset(),this.emitter.explode(e,t,s)}stop(){this.emitter?.killAll(),this.emitter?.stop()}reset(){this.createEmitters()}}const{KEY:mp,FRAME:ba}=w.EFFECTS;class Vr extends Phaser.GameObjects.Particles.ParticleEmitterManager{deathZone;emitter;constructor(e){super(e,mp,ba.FX_SPARK),this.createDeathZone(),this.createEmitters(),this.setActive(!1),this.setVisible(!1),this.scene.add.existing(this)}createDeathZone(){this.deathZone=new Phaser.Geom.Circle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:ba.FX_SPARK,speed:{min:10,max:1200},scale:{start:e*1.33,end:0},alpha:{start:1,end:0,ease:Phaser.Math.Easing.Expo.Out},deathZone:{source:this.deathZone,type:"onLeave"},lifespan:3e3})}explode(e,t,s,i){this.setActive(!0),this.setVisible(!0),this.deathZone.radius=i,this.deathZone.setPosition(t,s),this.emitter.explode(e,t,s)}}const{KEY:up,FRAME:ga}=w.EFFECTS;class jr extends Phaser.GameObjects.Particles.ParticleEmitterManager{emitZone;emitter;constructor(e){super(e,up,ga.FX_COMET),this.createEmitZone(),this.createEmitters(),this.scene.add.existing(this)}createEmitZone(){this.emitZone=new Phaser.Geom.Rectangle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:ga.FX_COMET,emitZone:{source:this.emitZone,type:"random"},deathZone:{source:this.emitZone,type:"onLeave"},timeScale:1,frequency:150,speedY:{min:-20,max:-60},alpha:{start:1,end:0,ease:Phaser.Math.Easing.Cubic.Out},scale:{start:e*1,end:0,ease:Phaser.Math.Easing.Cubic.Out},lifespan:{min:1500,max:2500}})}run(e,t,s,i,o){this.stop(),this.emitZone.setSize(i,o),this.emitZone.setPosition(t-i/2,s-o/2),this.emitter.setQuantity(e),this.emitter.start()}stop(){this.emitter?.killAll(),this.emitter?.stop()}}const hp={targets:[],duration:600,ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:{start:0,from:0,to:1}}};class ji extends fe{constructor(e){super(hp,e)}}const fp={targets:[],duration:300,ease:Ki,props:{scale:{from:1.2,to:1}}};class _s extends fe{constructor(e){super(fp,e)}}class $r extends de{constructor(e,t,s,i,o,r=!1){super(e,t,s,i,o,r)}processCallback(e){this.upAnimation?.stop(),this.downAnimation?.stop(),this.scaleUp!==-1&&this.setScale(this.scaleUp),e()}}const{KEY:Ta,FRAME:wa}=w.DEFAULT;class Xr extends $r{text1;icon;x2;text2;constructor(e,t,s,i,o){super(e,t,s,i,o),this.createAdsICon(),this.createTexts()}createAdsICon(){const e=this.scene.lang.getCurrentLanguage();let t=-50,s=1;switch(e){case"ru":t=-65,s=.9;break;case"es":case"pt":t=-65;break;case"fr":case"it":t=-55;break}const i=this.scene.make.image({key:Ta,frame:wa.ICON_ADS});i.setOrigin(.5,.5),i.setWorldSize(30.5*s,33*s),i.setPosition(t,0),this.add(i),this.icon=i}createTexts(){const e=this.scene.lang.getCurrentLanguage();let t=23,s=50,i=23,o=0,r=1;switch(e){case"ru":t=20,s=65,i=18,r=.75;break;case"ja":t=23,o=-3;break;case"id":i=21,r=.75;break;case"pt":case"es":i=20,r=.8,s=65;break;case"fr":case"it":i=20,r=.8,s=55;break;case"de":i=21;break}const n=this.scene.make.bitmapText({font:I.SHADOW.KEY,text:this.scene.lang.Text.get,size:this.scene.fontSize(i),origin:{x:.5,y:.75}});this.add(n),this.text1=n;const l=this.scene.make.image({key:Ta,frame:wa.X2});l.setWorldSize(42*r,27*r),l.setPosition(s,0),this.add(l),this.x2=l;const c=this.scene.make.bitmapText({font:I.SHADOW.KEY,text:this.scene.lang.Text.continue,size:this.scene.fontSize(t),origin:{x:.5,y:.7}});this.add(c),c.setPosition(0,o),this.text2=c}setMode(e){e==="item"?(this.text1.revive(),this.icon.revive(),this.x2.revive(),this.text2.kill()):(this.text1.kill(),this.icon.kill(),this.x2.kill(),this.text2.revive())}}class $i extends de{paddingZone;showDebugZone;debugZone;constructor(e,t){const{key:s,frame:i,width:o,height:r,usePixelPerfect:n}=t;super(e,s,i,o,r,n);const{paddingZone:l=0,showDebugZone:c=!1}=t;this.paddingZone=l,this.showDebugZone=c,this.updateSize()}updateSize(){super.updateSize();const{width:e,height:t}=this,s=e+this.paddingZone,i=t+this.paddingZone;this.setSize(s,i),this.hitZone.setSize(s,i),this.showDebugZone&&(this.debugZone?.destroy(),this.debugZone=this.hitZone.drawDebugBox(10699282,.5),this.add(this.debugZone))}}const{KEY:pp,FRAME:Ea}=w.EFFECTS;class Zr extends Phaser.GameObjects.Particles.ParticleEmitterManager{config;emitZone;emitter;constructor(e,t){super(e,pp,Ea.BLANK),this.config=t||{},this.createEmitZone(),this.createEmitters(),this.scene.add.existing(this)}createEmitZone(){this.emitZone=new Phaser.Geom.Rectangle}createEmitters(){const e=1/this.scene.world.getPixelRatio(),t={on:!1,frame:Ea.FX_STAR_YELLOW,emitZone:{source:this.emitZone,type:"random"},timeScale:1,frequency:150,speedY:{min:-20,max:-60},alpha:{start:1,end:0,ease:Phaser.Math.Easing.Cubic.Out},scale:{start:e*1,end:0,ease:Phaser.Math.Easing.Cubic.Out},lifespan:{min:1500,max:2500}},s=ce(t,this.config);this.emitter=this.createEmitter(s)}run(e,t,s,i,o){this.stop(),this.emitZone.setSize(i,o),this.emitZone.setPosition(t-i/2,s-o/2),this.emitter.setQuantity(e),this.emitter.start()}stop(){this.emitter?.killAll(),this.emitter?.stop()}explode(){this.emitter.explode(100,0,0)}}const{DEFAULT:ze,GAMEPLAY:Se}=w,{KEY:va,FRAME:bp}=w.DEFAULT;class gp extends GameCore.Screen{title;whiteGlow;itemIcon=[];quantityText=[];viewAdButton;getContinueBtn;iconTwinkle;popupContents;hand;giftIcon;giftIconWhite;cometTwinkle;starTwinkleUp;sparksExplosive;giftEntrancesAnimation;giftAttentionAnimation;giftShakeAnimation;giftOpenAnimation;backgroundFadeInAnimation;contentShowUpAnimation;viewAdButtonAnimation;popupFadeOutAnimation;glowSpinTween;constructor(e,t,s,i){super(e,t,s,i),this.setDepth(tt.POPUP),this.background.setAlpha(.6),this.createEffects(),this.createContents(),this.createContentsEffects(),this.createGiftIcon(),this.createHand()}open=e=>{super.open(e),this.rewardItem({updateUI:!1,isFree:!0}),this.updateScreen(e),this.runGlowSpinTween(),this.runOpenAnimation()};updateScreen(e){const t=Object.keys(e),s=this.createWhiteGlow();t.length>1&&(s.scale=s.scale*2),this.whiteGlow=s,this.createIcons(e),this.createTexts(e),this.addAt(this.quantityText,2),this.addAt(this.itemIcon,2),this.addAt(this.whiteGlow,2);let i=25;const o=Object.values(e);GameCore.Utils.Array.unique(o).length>1&&(i=80);let n=(this.itemIcon.length-1)/2;this.itemIcon.forEach((l,c)=>{l.setPosition((c-n)*i,-75)}),n=(this.quantityText.length-1)/2,this.quantityText.forEach((l,c)=>{l.setPosition((c-n)*i,-30)}),this.createContentsGroup()}createIcons(e){Object.keys(e).forEach(s=>{const i=this.createItemIcon();switch(s){case k.HINT.ID:i.setTexture(Se.KEY,Se.FRAME.HINT_ITEM);break;case k.ROCKET.ID:i.setTexture(Se.KEY,Se.FRAME.ROCKET_ITEM);break;case k.BOMB_DEFUSE.ID:i.setTexture(Se.KEY,Se.FRAME.DEFUSE_ITEM);break;case k.SHUFFLE.ID:i.setTexture(Se.KEY,Se.FRAME.ITEM_SHUFFLE);break}this.itemIcon.push(i)})}createTexts(e){const t=Object.values(e),i=GameCore.Utils.Array.unique(t).length===1?1:t.length;for(let o=0;o<i;o++){const r=this.createQuantityText();r.setText(`x${t[o]}`),this.quantityText.push(r)}}runGlowSpinTween(){this.glowSpinTween?.stop(),this.whiteGlow.angle=0,this.whiteGlow.setPosition((this.itemIcon[0].x+this.itemIcon[this.itemIcon.length-1].x)/2,this.itemIcon[0].y),this.glowSpinTween=this.scene.tweens.add({targets:this.whiteGlow,angle:360,duration:5e3,repeat:-1,ease:"Linear"})}createEffects(){this.cometTwinkle=new zr(this.scene),this.starTwinkleUp=new jr(this.scene),this.sparksExplosive=new Vr(this.scene),this.add([this.cometTwinkle,this.starTwinkleUp,this.sparksExplosive])}createContentsEffects(){const e=1/Ii();this.iconTwinkle=new Zr(this.scene,{scale:{min:.05*e,max:e*.4}}),this.add([this.iconTwinkle])}createContents(){this.createTitle(),this.createViewAdsButton(),this.createGetContinueBtn()}createTitle(){const e=this.scene.make.image({key:ze.KEY,frame:this.scene.lang.Texture.text_daily_rewards}),t=this.scene.lang.getCurrentLanguage();let s=259,i=56.5;t==="ja"?(s=244.5,i=60):t==="id"&&(s=261,i=56),e.setWorldSize(s,i),this.add(e),Phaser.Display.Align.In.Center(e,this,0,-200),this.title=e}createItemIcon(){const e=this.scene.make.image({key:Se.KEY,frame:Se.FRAME.HINT_ITEM});return e.setWorldSize(55,55),e}createWhiteGlow(){return this.whiteGlow=this.scene.make.image({key:ze.KEY,frame:ze.FRAME.ART_WHITE_GLOW}),this.whiteGlow.setWorldSize(127,127),this.whiteGlow}createQuantityText(){return this.scene.make.bitmapText({text:"x1",font:I.YELLOW_AND_STROKE.KEY,size:this.scene.fontSize(35),origin:{x:.5,y:.5}})}createViewAdsButton(){const e=new Xr(this.scene,va,bp.BUTTON_GREEN,180,46.5);e.setPosition(0,120),e.setMode("item"),e.onClick=this.handleShowRewardedVideoAd,Phaser.Display.Align.In.Center(e,this,0,110),this.add(e),this.viewAdButton=e}createGetContinueBtn(){const e=this.scene.lang.getCurrentLanguage();let t=152,s=18.5;switch(e){case"ru":t=224,s=18;break;case"ja":t=123,s=21;break;case"zh":t=88,s=18;break;case"fr":t=235,s=18;break;case"de":t=224,s=18;break;case"id":t=205,s=19;break;case"it":t=184,s=18;break;case"pt":t=189,s=18;break;case"es":t=164,s=18;break;case"tr":t=146,s=18;break}const i=new $i(this.scene,{key:va,frame:this.scene.lang.Texture.get_continue,width:t,height:s,paddingZone:40});Phaser.Display.Align.In.Center(i,this,0,180),i.onClick=this.handleOnGetContinueBtnClick,this.add(i),this.getContinueBtn=i}createContentsGroup(){this.popupContents=this.scene.make.group({}),this.popupContents.addMultiple([this.title,this.whiteGlow,...this.itemIcon,...this.quantityText,this.iconTwinkle,this.viewAdButton,this.getContinueBtn])}createGiftIcon(){this.giftIconWhite=this.scene.make.image({key:ze.KEY,frame:ze.FRAME.LOGO_GIFT_WHITE,visible:!1}),this.giftIconWhite.setWorldSize(150,150),this.giftIconWhite.setDepth(C.PRIORITY),this.add(this.giftIconWhite),this.giftIcon=this.scene.make.image({key:ze.KEY,frame:ze.FRAME.LOGO_GIFT,visible:!1}),this.giftIcon.setInteractive({useHandCursor:!0}),this.giftIcon.setWorldSize(150,150),this.giftIcon.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handleTheGiftClick),this.setTheGiftClickable(!1),this.add(this.giftIcon)}createHand(){this.hand=new Wr(this.scene),this.add(this.hand)}handleOnGetContinueBtnClick=()=>{this.updateItemUI(),this.scene.audio.playSound(B.DAILY_REWARD),this.runCloseAnimation()};handleTheGiftClick=()=>{this.setTheGiftClickable(!1),this.logButtonEvent("OpenGift"),this.hand.kill(),this.giftIconWhite.revive(),this.scene.tweens.killTweensOf(this.giftIcon),Phaser.Display.Align.In.Center(this.giftIconWhite,this.giftIcon),this.scene.audio.playSound(B.GIFT_CHARGE),this.runShakeTheGift(),this.runOpenTheGift()};runShakeTheGift(){this.giftShakeAnimation||(this.giftShakeAnimation=new Wi({targets:[this.giftIcon,this.giftIconWhite],duration:22})),this.giftShakeAnimation.play()}runOpenTheGift(){if(!this.giftOpenAnimation){const e=1/this.scene.world.getPixelRatio();this.giftOpenAnimation=new Vt({targets:[this.giftIcon,this.giftIconWhite],duration:1500,props:{alpha:0,scale:e},onUpdate:()=>{this.giftIconWhite.setAlpha(1)},onComplete:()=>{this.giftShakeAnimation.stop(),this.giftIcon.kill(),this.giftIconWhite.kill(),this.sparksExplosive.explode(100,this.giftIcon.x,this.giftIcon.y,230),this.scene.audio.playSound(B.GIFT_EXPLODE),this.scene.time.delayedCall(500,this.runCloseAnimation),this.rewardItem({updateUI:!0,isFree:!1})}})}this.giftOpenAnimation.play()}rewardItem(e){const t=this.data.list,s=Object.keys(t),{updateUI:i,isFree:o}=e;s.forEach(r=>{O.emit(R.RECEIVE_ITEM,{itemId:r,rewardCount:t[r],updateUI:i,isFree:o})})}updateItemUI(){const e=this.data.list;Object.keys(e).forEach(s=>{O.emit(R.RECEIVE_ITEM,{itemId:s,rewardCount:0})})}runCloseAnimation=()=>{this.runExitsAnimation(0,200)};handleShowRewardedVideoAd=async()=>{let e=null;try{const{audio:t,game:s}=this.scene;this.viewAdButton.setDisabled(!0),e=s.globalScene.time.delayedCall(200,()=>{s.globalScene.screen.open(L.NOTIFY_SCREEN,{message:this.scene.lang.Text.loading_ads,duration:0,loading:!0})}),t.pauseMusic(),t.pauseAllSounds(),t.muteAll(),await this.scene.ads.showRewardedVideoAsync(),e?.remove(),s.globalScene.screen.close(L.NOTIFY_SCREEN),this.starTwinkleUp.stop(),this.scene.audio.playSound(B.DAILY_REWARD),this.popupContents.setActive(!1),this.popupContents.setVisible(!1),this.runTheGiftEntrancesAnimation(0,1500)}catch(t){if(e?.remove(),t instanceof Object&&GameCore.Utils.Object.hasOwn(t,"code")&&t.code==="USER_INPUT"){this.showNotifySkipAds();return}this.showNotifyNoAds()}finally{this.scene.ads.preloadRewardedVideoAsync().catch(t=>{}),this.scene.audio.unmuteAll(),this.scene.audio.playMusic(),this.scene.audio.resumeAllSounds(),this.viewAdButton.setDisabled(!1)}};runTheGiftEntrancesAnimation(e,t){this.giftIcon.revive(),this.giftIcon.setAlpha(1),Phaser.Display.Align.In.TopRight(this.giftIcon,this.zone),this.giftEntrancesAnimation?.remove();const{x:s,y:i}=this.giftIcon,o=(this.itemIcon[0].x+this.itemIcon[this.itemIcon.length-1].x)/2,r=this.itemIcon[0].y,n={x:s,y:i},l={x:o,y:r},c=1/this.scene.world.getPixelRatio();this.giftEntrancesAnimation=new Kr({targets:[this.giftIcon],delay:e,duration:t,curve:[[n.x,n.y],[n.x-80,n.y+80],[l.x,l.y]],props:{scale:{start:c*.5,to:c},angle:{start:20,to:0}},onCurveUpdate:d=>{const h=d.x+Phaser.Math.RND.between(-40,40),p=d.y+Phaser.Math.RND.between(-40,40);this.cometTwinkle.explode(1,h,p)},onComplete:()=>{this.scene.audio.playSound(B.GIFT_REVEAL);const d=1.5;this.starTwinkleUp.setScale(d);const{x:m,y:h,width:p,height:b}=this.giftIcon;this.starTwinkleUp.run(1,m,h,p/d,b/d),this.moveTo(this.starTwinkleUp,this.length-1),this.runTheGiftAttentionAnimation()}}),this.giftEntrancesAnimation.play()}runTheGiftAttentionAnimation(){this.giftAttentionAnimation||(this.giftAttentionAnimation=new Zt({targets:[this.giftIcon],props:{scale:"+=0.05"}})),this.hand.revive(),this.hand.playAnimation(),Phaser.Display.Align.In.Center(this.hand,this.giftIcon,20,20),this.setTheGiftClickable(!0),this.giftAttentionAnimation.play()}setTheGiftClickable(e){e?this.giftIcon.setInteractive():this.giftIcon.disableInteractive()}showNotifySkipAds=()=>{const{globalScene:e}=this.scene.game;e.screen.open(L.NOTIFY_SCREEN,{message:`${this.scene.lang.Text.no_rewards_1}
${this.scene.lang.Text.no_rewards_2}`,duration:1500,loading:!1})};showNotifyNoAds=e=>{if(e&&e.name!==L.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.open(L.NOTIFY_SCREEN,{message:this.scene.lang.Text.no_ads,duration:1200,loading:!1})};logButtonEvent(e){const t=this.getScreenName();this.scene.analytics.event(M.BUTTON_CLICK,{button_name:e,screen_name:t})}runOpenAnimation(){this.revive(),this.hand.kill(),this.popupContents.setActive(!0),this.popupContents.setVisible(!0),this.starTwinkleUp.stop();const e=this.quantityText.length===3?200:100;this.iconTwinkle.run(1,(this.itemIcon[0].x+this.itemIcon[this.itemIcon.length-1].x)/2,this.itemIcon[0].y,e,50),this.runBackgroundEntrancesAnimation(0,200),this.runPopupContentEntrancesAnimation(100,400)}runBackgroundEntrancesAnimation(e,t){this.backgroundFadeInAnimation||(this.backgroundFadeInAnimation=new ji({targets:[this.background],delay:e,duration:t,props:{alpha:{start:0,to:.8}}})),this.backgroundFadeInAnimation.play()}runPopupContentEntrancesAnimation(e,t){this.viewAdButton.setDisabled(!0),this.viewAdButton.setAlpha(0),this.contentShowUpAnimation?.remove(),this.contentShowUpAnimation=new _s({targets:this.popupContents.getChildren(),duration:t,delay:this.scene.tweens.stagger(100,{start:e}),props:{scale:{getStart:s=>s.scale-.3,getEnd:s=>s.scale},alpha:{start:0,from:0,to:1}},onComplete:()=>{this.viewAdButton.setDisabled(!1),this.runViewAdButtonAnimation()}}),this.contentShowUpAnimation.play()}runViewAdButtonAnimation(){this.viewAdButtonAnimation?.stop(),this.viewAdButtonAnimation=this.scene.add.tween({targets:[this.viewAdButton],yoyo:!0,repeat:-1,duration:600,repeatDelay:50,ease:Ms,easeParams:[0,.9],props:{scale:{from:1,to:.98}}})}runExitsAnimation(e,t){this.popupFadeOutAnimation||(this.popupFadeOutAnimation=new St({targets:this.getAll(),delay:e,duration:t,props:{alpha:{start:.8,to:0}},onComplete:()=>{this.glowSpinTween?.stop(),this.iconTwinkle?.stop(),this.iconTwinkle.stop(),this.scene.screen.close(this.name)}})),this.popupFadeOutAnimation.play()}}const{KEY:Tp}=w.DEFAULT;class pi extends de{options;icon;constructor(e,t){super(e,Tp,t.frameOn),this.options=t}processCallback(e){const{enable:t}=this.options;this.updateStatus(!t),e(!t)}updateStatus(e){this.options.enable=e;const t=this.getFrameByStatus();this.button.setFrame(t)}getFrameByStatus=()=>{const{enable:e,frameOn:t,frameOff:s}=this.options;return e?t:s};logButtonEvent(){const e=this.getParentName(),t=this.name,s=!this.options.enable;this.scene.analytics.event(M.BUTTON_CLICK,{button_name:t,screen_name:e,enable:s})}}class wp extends Error{constructor(e,t){super(e,t),this.name="LoadResourceFail",this.message=e||"Load resource fail",this.payload=t}}const Ep=()=>()=>{const{player:a,analytics:e,globalScene:t}=window.game;try{a.getPlayer().isUserNew&&e.event(M.NEW_USER),t.events.emit(xi.SWITCH,Z.GAME_SCENE)}catch(s){t.events.emit(xi.SWITCH,Z.GAME_SCENE),console.warn(s)}},qr=a=>({type:gr,payload:{sceneKey:a}}),vp=a=>a.scene.currentSceneKey,Pp=se([vp],a=>a),{KEY:yp,FRAME:Sp}=w.DEFAULT;class kp extends Phaser.GameObjects.Container{fps=0;fpsString="FPS: %1";fpsText;background;zone;lastUpdate;constructor(e){super(e,0,0),this.createFps(),this.createInputZone(),this.setDepth(C.DEBUG),this.scene.add.existing(this),this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.update)}update=e=>{if(e-this.lastUpdate<800)return;this.lastUpdate=e;const t=Math.floor(this.scene.game.loop.actualFps);this.setFps(t)};setFps(e){this.fps=e;const t=Phaser.Utils.String.Format(this.fpsString,[e]);this.fpsText.setText(t)}createFps(){this.background=this.scene.make.image({key:yp,frame:Sp.BLANK}),this.background.setName("BG"),this.background.setTint(13801480),this.background.setWorldSize(50,20),this.fpsText=this.scene.make.bitmapText({size:this.scene.fontSize(12),text:this.fpsString,font:I.PRIMARY.KEY,origin:{x:.5,y:.5}}),this.fpsText.setName("FPS Meter"),Phaser.Display.Align.In.Center(this.fpsText,this.background,0,-3),this.add([this.background,this.fpsText]),this.setFps(0)}createInputZone(){const{width:e,height:t}=this.background;this.zone=this.scene.make.zone({width:e,height:t}),this.add(this.zone),this.zone.setInteractive({useHandCursor:!0}),this.zone.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handleShowFps)}handleShowFps=()=>{const{fpsText:e,background:t}=this;e.setVisible(!e.visible),t.setVisible(!t.visible)}}class xp extends Phaser.GameObjects.Container{performance;memory=0;maxMemoryLimit;maxPercentThreshold;normalColor=3459162;warningColor=16768343;alarmColor=15812200;memoryString="Memory: %1MB / %2MB";memoryText;lastUpdate;constructor(e){if(super(e,0,0),this.performance=window.performance,this.createMemory(),this.setDepth(C.DEBUG),this.scene.add.existing(this),!this.isSupport()){this.memoryText.setText("Memory: not supported!");return}const{jsHeapSizeLimit:t}=this.performance.memory;this.maxPercentThreshold=90,this.setMaxMemory(t/1048576),this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.update)}update=e=>{if(e-this.lastUpdate<1e3)return;this.lastUpdate=e;const{usedJSHeapSize:t}=this.performance.memory,s=this.maxMemoryLimit*1048576,i=Math.round(t/1048576);this.setMemory(i),this.memoryText.setTint(this.normalColor),t>this.maxPercentThreshold/100*s&&this.memoryText.setTint(this.warningColor),t>s&&this.memoryText.setTint(this.alarmColor)};isSupport(){return this.performance&&!!this.performance?.memory}setMaxMemory(e){this.maxMemoryLimit=Math.round(e)}setMemory(e){this.memory=e;const t=Phaser.Utils.String.Format(this.memoryString,[e,this.maxMemoryLimit]);this.memoryText.setText(t)}createMemory(){this.memoryText=this.scene.make.bitmapText({size:this.scene.fontSize(14),text:this.memoryString,font:I.PRIMARY.KEY,depth:2e3}),this.memoryText.setName("Memory Meter"),this.add(this.memoryText),this.setMemory(0)}}const Rp={targets:[],duration:600,ease:Phaser.Math.Easing.Linear,props:{angle:{from:0,to:360}}};class Op extends fe{constructor(e){super(Rp,e)}}const{KEY:Ap,FRAME:Ip}=w.DEFAULT;class Mp extends Phaser.GameObjects.Image{anim;constructor(e){super(e,0,0,Ap,Ip.PRELOADER),this.runAnimation(),this.setWorldSize(65,65),this.scene.add.existing(this)}runAnimation(){this.anim?.remove(),this.anim=new Op({targets:[this],repeat:-1,duration:1200}),this.anim.play()}setVisible(e){return super.setVisible(e),e?this.runAnimation():this.anim.stop(),this}}const Pa={no_rewards_2_ru:`Ð’Ð« ÐÐ• ÐŸÐžÐ¡ÐœÐžÐ¢Ð Ð•Ð›Ð˜
 Ð Ð•ÐšÐ›ÐÐœÐ£ Ð”Ðž ÐšÐžÐÐ¦Ð!`,no_ads_ru:`ÐÐ•Ð¢ ÐžÐ‘ÐªÐ¯Ð’Ð›Ð•ÐÐ˜Ð™ Ð”Ð›Ð¯
 ÐžÐ¢ÐžÐ‘Ð ÐÐ–Ð•ÐÐ˜Ð¯!`};class Cp extends GameCore.Screen{loadingIcon;messageText;openAnimation;closeTimerEvent;constructor(e,t,s,i){super(e,t,s,i),this.addLoadingIcon(),this.addMessageText(),this.setDepth(tt.PRIORITY),this.background.setAlpha(.8)}open(e){super.open(e);const[t="",s=0,i=!1]=this.getData(["message","duration","loading"]);this.setMessage(t),this.showLoading(i),this.closeTimerEvent?.remove(),s>0&&(this.closeTimerEvent=this.scene.time.addEvent({delay:s,callback:()=>{this.visible&&this.scene.screen.close(this.name)}})),this.runOpenAnimation()}addLoadingIcon(){this.loadingIcon=new Mp(this.scene),this.add(this.loadingIcon),Phaser.Display.Align.In.Center(this.loadingIcon,this.zone)}addMessageText(){const t=this.scene.lang.getCurrentLanguage()==="ru"?22:26;this.messageText=this.scene.make.bitmapText({size:this.scene.fontSize(t),font:I.PRIMARY.KEY,origin:{x:.5,y:.5}}),this.messageText.setTint(13007418),this.messageText.setCenterAlign(),this.add(this.messageText)}setMessage(e){let t=e;!this.scene.world.isLandscape()&&this.scene.lang.getCurrentLanguage()==="ru"&&(e.includes(this.scene.lang.Text.no_rewards_1)&&(t=`${this.scene.lang.Text.no_rewards_1}
${Pa.no_rewards_2_ru}`),e.includes(this.scene.lang.Text.no_ads)&&(t=Pa.no_ads_ru)),this.messageText.setText(t)}showLoading(e){this.loadingIcon.setVisible(e);const t=e===!1?20:60;Phaser.Display.Align.In.Center(this.messageText,this.zone,0,t)}runOpenAnimation(){this.openAnimation?.stop(),this.openAnimation?.remove(),this.openAnimation=new _s({targets:[this.messageText,this.loadingIcon],props:{scale:{getStart:e=>e.scale-.3,getEnd:e=>e.scale}}}),this.openAnimation.play()}logPageviewOnOpen(){}logPageviewOnClose(){}}const{KEY:_p,FRAME:Lp}=w.DEFAULT;class Xi extends Fr{mask;fadeInAnim;fadeOutAnim;fpsMeter;memoryMeter;init(){this.listenScenesEvents(),this.game.globalScene=this}setup(){this.scaleGame(),this.addMask(),this.addNotifyScreen(),this.addFPS(),this.addMemory()}addNotifyScreen(){const e=this.screen.add(L.NOTIFY_SCREEN,Cp);Phaser.Display.Align.In.Center(e,this.gameZone)}addMask(){this.mask=this.make.image({key:_p,frame:Lp.BLANK});const{width:e,height:t}=this.gameZone;this.mask.setAlpha(0),this.mask.setOrigin(0,0),this.mask.setTint(0),this.mask.setWorldSize(e,t)}addFPS(){const{ShowFPSInGame:e}=GameCore.Configs.Statistics;e&&(this.fpsMeter=new kp(this),Phaser.Display.Align.In.TopLeft(this.fpsMeter,this.gameZone,-25,-10))}addMemory(){const{ShowMemoryInGame:e}=GameCore.Configs.Statistics;e&&(this.memoryMeter=new xp(this),Phaser.Display.Align.In.TopLeft(this.memoryMeter,this.gameZone,-45,-3))}updateSceneState(){this.setGlobalSceneOnTop()}setGlobalSceneOnTop(){this.scene.bringToTop(this)}runMaskFadeInAnimation(){this.mask&&GameCore.Configs.EnableEffectSceneTransition&&(this.fadeInAnim?.remove(),this.fadeOutAnim?.remove(),this.fadeInAnim=new ji({targets:[this.mask],duration:400,ease:Phaser.Math.Easing.Cubic.In,props:{alpha:{start:0,from:0,to:.6}}}),this.mask.setAlpha(0),this.fadeInAnim.play())}runMaskFadeOutAnimation(){this.mask&&GameCore.Configs.EnableEffectSceneTransition&&(this.fadeInAnim?.remove(),this.fadeOutAnim?.remove(),this.fadeOutAnim=new St({targets:[this.mask],duration:400,ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:{start:.6,from:.6,to:0}}}),this.mask.setAlpha(1),this.fadeOutAnim.play())}listenScenesEvents(){this.scene.manager.getScenes(!1).forEach(t=>{t.events.on(Phaser.Scenes.Events.CREATE,this.emitGameEventStartScene),t.events.on(Phaser.Scenes.Events.SLEEP,this.emitGameEventSleepScene),t.events.on(Phaser.Scenes.Events.WAKE,this.emitGameEventWakeScene),t.events.on(Phaser.Scenes.Events.PAUSE,this.emitGameEventPauseScene),t.events.on(Phaser.Scenes.Events.RESUME,this.emitGameEventResumeScene),t.events.on(Phaser.Scenes.Events.SHUTDOWN,this.emitGameEventShutdownScene)}),this.events.on(xi.SWITCH,this.switchScene)}getActiveScene(){return this.scene.manager.getScenes(!0)[0]}getCurrentScene(){return this.currentScene}get currentScene(){const e=this.storage.getState(),t=Pp(e);let s;return t?s=this.scene.manager.getScene(t):s=this.getActiveScene(),s.scene}switchScene=e=>{this.currentScene.switch(e)};updateActiveSceneKey(e){e!==Z.GLOBAL_SCENE&&this.storage.dispatch(qr(e))}emitGameEventStartScene=e=>{const{key:t}=e.scene;console.info("%cScene start","color: #D27D2D",t),this.updateSceneState(),this.runMaskFadeOutAnimation(),this.updateActiveSceneKey(t),this.game.events.emit(Phaser.Scenes.Events.START,t)};emitGameEventSleepScene=e=>{const{key:t}=e.scene.scene;console.info("%cScene sleep","color: #D27D2D",t),t!==Z.LOAD_SCENE&&(this.runMaskFadeInAnimation(),this.game.events.emit(Phaser.Scenes.Events.SLEEP,t))};emitGameEventWakeScene=e=>{const{key:t}=e.scene.scene;console.info("%cScene wake","color: #D27D2D",t),t!==Z.LOAD_SCENE&&(this.updateSceneState(),this.runMaskFadeOutAnimation(),this.updateActiveSceneKey(t),this.game.events.emit(Phaser.Scenes.Events.WAKE,t))};emitGameEventPauseScene=e=>{const{key:t}=e.scene.scene;console.info("%cScene pause","color: #D27D2D",t),this.game.events.emit(Phaser.Scenes.Events.PAUSE,t)};emitGameEventResumeScene=e=>{const{key:t}=e.scene;console.info("%cScene resume","color: #D27D2D",t),this.game.events.emit(Phaser.Scenes.Events.RESUME,t)};emitGameEventShutdownScene=e=>{const{key:t}=e.scene.scene;console.info("%cScene shutdown","color: #D27D2D",t),this.game.events.emit(Phaser.Scenes.Events.SHUTDOWN,t)};logEventOpen(){}logPageviewOnOpen(){}}const{NEW_EFFECTS:vb}=Ue,{Gameplay:Dp}=GameCore.Configs;class Qr extends Phaser.Scene{isMusicLoaded=!1;isLazyLoadRequesting=!1;loadingPercent=0;preload(){window.getLoadingPerc=()=>this.loadingPercent,this.facebook.progressLoading.loadingProgressFbLoadScene(),this.analytics.event(M.SCREEN_OPEN,{screen_name:"LoadScene"});const e=t=>{this.loadingPercent=Math.max(this.loadingPercent,t*100),t===1&&this.load.off("progress",e),this.facebook.progressLoading.onProgress(t)};this.load.on("progress",e),this.load.on(Phaser.Loader.Events.FILE_LOAD_ERROR,t=>{const s=new wp("Load resources at LoadScene failed.");console.error(s)}),this.loadFonts(),this.load.image(Be.AVATAR_DEFAULT.KEY,Be.AVATAR_DEFAULT.FILE),this.world.isLandscape()?this.load.image(Be.BACKGROUND.KEY,Be.BACKGROUND.FILE_LANDSCAPE):this.load.image(Be.BACKGROUND.KEY,Be.BACKGROUND.FILE),this.load.atlas({key:w.DEFAULT.KEY,textureURL:w.DEFAULT.TEXTURE,atlasURL:w.DEFAULT.JSON}),this.load.multiatlas({key:w.GAMEPLAY.KEY,path:w.GAMEPLAY.PATH,atlasURL:w.GAMEPLAY.JSON}),this.load.multiatlas({key:w.EFFECTS.KEY,path:w.EFFECTS.PATH,atlasURL:w.EFFECTS.JSON}),this.load.atlas({key:w.TUTORIAL.KEY,textureURL:w.TUTORIAL.TEXTURE,atlasURL:w.TUTORIAL.JSON}),this.player.updateData().then(this.handleUpdateNotificationData).catch(t=>{console.warn(t)}),this.load.atlas({key:w.TILES.CANDY.KEY,textureURL:w.TILES.CANDY.TEXTURE,atlasURL:w.TILES.CANDY.JSON}),this.loadCurrentLevelTiles()}create(){this.audio.initSound(),this.analytics.event(M.LOAD_COMPLETE),this.facebook.on("startgame",this.handleFBInstantGameStarted),this.facebook.gameStarted(),this.setupGlobalScene(),this.lazyLoadResource(),this.setAdsAvailabilityThenStartGame()}setAdsAvailabilityThenStartGame(){if(!GameCore.Configs.Ads.Enabled){this.startGame();return}const e=setInterval(()=>{if(!window.isAdSDKLoaded)return;clearInterval(e),GameCore.Configs.Ads.Enabled=!1;const t=!window.GlanceGamingAdInterface,s=!window.GlanceGamingAdInterface.isLibraryInitialized||!window.GlanceGamingAdInterface.isLibraryInitialized(),i=!window.GlanceGamingAdInterface.showStickyBannerAd,o=!window.GlanceGamingAdInterface.loadRewardedAd;if(t||s||i||o){this.startGame();return}GameCore.Configs.Ads.Enabled=!0,this.startGame()},50)}handleFBInstantGameStarted=()=>{window.__fbGameReady=!0,this.player.updateData().catch(e=>{console.warn(e)}),this.player.requestConnectedPlayers()};handleUpdateNotificationData=()=>{const e=this.player.getPlayer(),{playerId:t,name:s,locale:i,data:o}=e,r=this.player.getCustomData("levelProgress");this.notification.updateData({playerId:t,name:s,photo:"",locale:i,friendIds:this.player.getConnectedPlayerIds(10,0),gameSettings:this.player.getPlayerSettings(),gameProgress:{currentLevel:r},gameStatistics:{highScore:o.score}}),this.notification.sendRequest()};setupGlobalScene(){const e=this.scene.get(Z.GLOBAL_SCENE);e instanceof Xi&&e.setup()}startGame=()=>{this.showStickyBannerAd(),this.preloadAds(),this.analytics.event(M.APP_READY),this.storage.dispatch(qr(Z.LOAD_SCENE)),this.storage.dispatch(Ep())};showStickyBannerAd=()=>{this.ads.showBannerAdAsync().catch(e=>{console.warn(e)})};preloadAds=()=>{this.ads.preloadRewardedVideoAsync().catch(e=>{}),this.ads.preloadInterstitialAdAsync().catch(e=>{})};lazyLoadResource(){setTimeout(()=>{this.scene.wake(),this.loadSounds(),this.load.once(Phaser.Loader.Events.COMPLETE,()=>{this.scene.sleep()})},1500)}loadSounds(){const{player:e}=this.game,t=!!e.getPlayerSetting("music");this.loadSoundFX(),t&&this.loadMusic()}loadSoundFX(){Object.values(B).forEach(t=>{this.load.audio(t,Ue.NEW_EFFECTS[t])})}loadMusic(){if(this.isMusicLoaded)return;this.isMusicLoaded=!0;const{FILE_KEY_COMPLETE:e}=Phaser.Loader.Events;this.scene.isSleeping()&&this.scene.wake(),this.load.once(`${e}audio-${Ue.BACKGROUND.KEY}`,this.handleLoadMusicCompleted),this.load.once(Phaser.Loader.Events.COMPLETE,()=>{this.scene.sleep()}),this.load.audio(Ue.BACKGROUND.KEY,Ue.BACKGROUND.FILE),this.load.start()}handleLoadMusicCompleted=()=>{this.audio.initMusic(Ue.BACKGROUND.KEY),this.audio.playMusic()};loadCurrentLevelTiles(){let e=this.player.getCustomData("levelProgress");GameCore.Utils.Valid.isNumber(e)||(e=1);let t=Dp.Themes;e<gt.length&&(t=gt[e].theme);for(const s of t)switch(s){case"cake":{console.log("Loaded cake"),this.load.atlas({key:w.TILES.CAKE.KEY,textureURL:w.TILES.CAKE.TEXTURE,atlasURL:w.TILES.CAKE.JSON});break}case"bird":{console.log("Loaded bird"),this.load.atlas({key:w.TILES.BIRD.KEY,textureURL:w.TILES.BIRD.TEXTURE,atlasURL:w.TILES.BIRD.JSON});break}case"fruit":{console.log("Loaded fruit"),this.load.atlas({key:w.TILES.FRUIT.KEY,textureURL:w.TILES.FRUIT.TEXTURE,atlasURL:w.TILES.FRUIT.JSON});break}case"flower":{console.log("Loaded flower"),this.load.atlas({key:w.TILES.FLOWER.KEY,textureURL:w.TILES.FLOWER.TEXTURE,atlasURL:w.TILES.FLOWER.JSON});break}case"umbrella":{console.log("Loaded umbrella"),this.load.atlas({key:w.TILES.UMBRELLA.KEY,textureURL:w.TILES.UMBRELLA.TEXTURE,atlasURL:w.TILES.UMBRELLA.JSON});break}case"food":{console.log("Loaded food"),this.load.atlas({key:w.TILES.FOOD.KEY,textureURL:w.TILES.FOOD.TEXTURE,atlasURL:w.TILES.FOOD.JSON});break}}}lazyLoadResources(){this.isLazyLoadRequesting=!1,this.lazyLoadTiles(),this.isLazyLoadRequesting&&(this.scene.wake(),this.load.once(Phaser.Loader.Events.COMPLETE,()=>{this.scene.sleep()}),this.load.start())}lazyLoadTiles(){this.textures.exists(w.TILES.CAKE.KEY)||(this.isLazyLoadRequesting=!0,console.log("Lazy load cake"),this.load.atlas({key:w.TILES.CAKE.KEY,textureURL:w.TILES.CAKE.TEXTURE,atlasURL:w.TILES.CAKE.JSON})),this.textures.exists(w.TILES.BIRD.KEY)||(this.isLazyLoadRequesting=!0,console.log("Lazy load bird"),this.load.atlas({key:w.TILES.BIRD.KEY,textureURL:w.TILES.BIRD.TEXTURE,atlasURL:w.TILES.BIRD.JSON})),this.textures.exists(w.TILES.FRUIT.KEY)||(this.isLazyLoadRequesting=!0,console.log("Lazy load fruit"),this.load.atlas({key:w.TILES.FRUIT.KEY,textureURL:w.TILES.FRUIT.TEXTURE,atlasURL:w.TILES.FRUIT.JSON})),this.textures.exists(w.TILES.FLOWER.KEY)||(this.isLazyLoadRequesting=!0,console.log("Lazy load flower"),this.load.atlas({key:w.TILES.FLOWER.KEY,textureURL:w.TILES.FLOWER.TEXTURE,atlasURL:w.TILES.FLOWER.JSON})),this.textures.exists(w.TILES.FOOD.KEY)||(this.isLazyLoadRequesting=!0,console.log("Lazy load food"),this.load.atlas({key:w.TILES.FOOD.KEY,textureURL:w.TILES.FOOD.TEXTURE,atlasURL:w.TILES.FOOD.JSON})),this.textures.exists(w.TILES.UMBRELLA.KEY)||(this.isLazyLoadRequesting=!0,console.log("Lazy load umbrella"),this.load.atlas({key:w.TILES.UMBRELLA.KEY,textureURL:w.TILES.UMBRELLA.TEXTURE,atlasURL:w.TILES.UMBRELLA.JSON}))}loadFonts(){switch(this.lang.getCurrentLanguage()){case"ja":I.PRIMARY={KEY:"Noto-Black-Normal",TEXTURE:"./assets/fonts/Noto-Black-Normal.png",DATA:"./assets/fonts/Noto-Black-Normal.xml"},I.SHADOW={KEY:"Noto-Black-Shadow",TEXTURE:"./assets/fonts/Noto-Black-Shadow.png",DATA:"./assets/fonts/Noto-Black-Shadow.xml"},I.RED_STROKE={KEY:"Noto-Black-Red-Stroke",TEXTURE:"./assets/fonts/Noto-Black-Red-Stroke.png",DATA:"./assets/fonts/Noto-Black-Red-Stroke.xml"},I.WHITE_AND_STROKE={KEY:"Noto-Black-White-Stroke",TEXTURE:"./assets/fonts/Noto-Black-White-Stroke.png",DATA:"./assets/fonts/Noto-Black-White-Stroke.xml"},I.YELLOW_AND_STROKE={KEY:"Noto-Black-Yellow-Stroke",TEXTURE:"./assets/fonts/Noto-Black-Yellow-Stroke.png",DATA:"./assets/fonts/Noto-Black-Yellow-Stroke.xml"},I.FONT_FAMILY="NotoSansJP-Black";break;case"zh":I.PRIMARY={KEY:"Noto-Black-Normal",TEXTURE:"./assets/fonts/NotoZh-Black-Normal.png",DATA:"./assets/fonts/NotoZh-Black-Normal.xml"},I.SHADOW={KEY:"Noto-Black-Shadow",TEXTURE:"./assets/fonts/NotoZh-Black-Shadow.png",DATA:"./assets/fonts/NotoZh-Black-Shadow.xml"},I.RED_STROKE={KEY:"Noto-Black-Red-Stroke",TEXTURE:"./assets/fonts/NotoZh-Black-Red-Stroke.png",DATA:"./assets/fonts/NotoZh-Black-Red-Stroke.xml"},I.WHITE_AND_STROKE={KEY:"Noto-Black-White-Stroke",TEXTURE:"./assets/fonts/NotoZh-Black-White-Stroke.png",DATA:"./assets/fonts/NotoZh-Black-White-Stroke.xml"},I.YELLOW_AND_STROKE={KEY:"Noto-Black-Yellow-Stroke",TEXTURE:"./assets/fonts/NotoZh-Black-Yellow-Stroke.png",DATA:"./assets/fonts/NotoZh-Black-Yellow-Stroke.xml"},I.FONT_FAMILY="NotoSansSC-Black";break;default:{const t=this.lang.getCurrentLanguage(),i=["en","id","ru"].indexOf(t)!==-1?"":`-${t}`;I.PRIMARY={KEY:"Roboto-Black-Normal",TEXTURE:`./assets/fonts/Roboto-Black-Normal${i}.png`,DATA:`./assets/fonts/Roboto-Black-Normal${i}.xml`},I.SHADOW={KEY:"Roboto-Black-Shadow",TEXTURE:`./assets/fonts/Roboto-Black-Shadow${i}.png`,DATA:`./assets/fonts/Roboto-Black-Shadow${i}.xml`},I.RED_STROKE={KEY:"Roboto-Black-Red-Stroke",TEXTURE:`./assets/fonts/Roboto-Black-Red-Stroke${i}.png`,DATA:`./assets/fonts/Roboto-Black-Red-Stroke${i}.xml`},I.WHITE_AND_STROKE={KEY:"Roboto-Black-White-Stroke",TEXTURE:`./assets/fonts/Roboto-Black-White-Stroke${i}.png`,DATA:`./assets/fonts/Roboto-Black-White-Stroke${i}.xml`},I.YELLOW_AND_STROKE={KEY:"Roboto-Black-Yellow-Stroke",TEXTURE:`./assets/fonts/Roboto-Black-Yellow-Stroke${i}.png`,DATA:`./assets/fonts/Roboto-Black-Yellow-Stroke${i}.xml`},I.FONT_FAMILY="Roboto-Black";break}}this.load.bitmapFont(I.SHADOW.KEY,I.SHADOW.TEXTURE,I.SHADOW.DATA),this.load.bitmapFont(I.PRIMARY.KEY,I.PRIMARY.TEXTURE,I.PRIMARY.DATA),this.load.bitmapFont(I.RED_STROKE.KEY,I.RED_STROKE.TEXTURE,I.RED_STROKE.DATA),this.load.bitmapFont(I.WHITE_AND_STROKE.KEY,I.WHITE_AND_STROKE.TEXTURE,I.WHITE_AND_STROKE.DATA),this.load.bitmapFont(I.YELLOW_AND_STROKE.KEY,I.YELLOW_AND_STROKE.TEXTURE,I.YELLOW_AND_STROKE.DATA)}}const{KEY:ke,FRAME:ae}=w.DEFAULT;class Np extends GameCore.Screen{popup;title;buttonClose;contents;settingMusic;settingSound;settingVibrate;popupShowUpAnimation;popupFadeOutAnimation;contentShowUpAnimation;constructor(e,t,s,i){super(e,t,s,i),this.createPopup(),this.createTitle(),this.createButtons(),this.addItem(),this.arrangeItems(),this.createInput(),this.setDepth(tt.POPUP),this.background.setAlpha(.8)}open(){super.open();const{player:e}=this.scene,t=e.getPlayerSettings(),{music:s,sound:i,vibrate:o}=t;this.settingMusic.updateStatus(s),this.settingSound.updateStatus(i),this.runOpenAnimation()}createInput(){this.buttonClose.setButtonHitSoundEffect(B.CLOSE_POPUP_CLICK),this.buttonClose.onClick=this.handleClose,this.settingMusic.onClick=this.handleMusicSetting,this.settingSound.onClick=this.handleSoundSetting,this.settingVibrate.kill()}handleClose=()=>{this.runCloseAnimation()};handleRestart=()=>{this.runCloseAnimation(),O.emit(R.REPLAY)};handleMusicSetting=e=>{if(this.scene.player.setSetting("music",e),e){const t=this.scene.game.scene.getScene(Z.LOAD_SCENE);t instanceof Qr&&t.loadMusic(),this.scene.audio.playMusic()}else this.scene.audio.pauseMusic()};handleSoundSetting=e=>{this.scene.player.setSetting("sound",e)};handleVibrateSetting=e=>{this.scene.player.setSetting("vibrate",e),yr(e)};createPopup(){this.popup=this.scene.add.container(0,0),this.popup.setSize(292,374);const e=this.scene.make.image({key:ke,frame:ae.POPUP});e.setWorldSize(292,374),this.popup.add(e),this.add(this.popup),Phaser.Display.Align.In.Center(this.popup,this.zone)}createTitle(){this.title=this.scene.make.image({key:ke,frame:this.scene.lang.Texture.text_pause});const e=this.scene.lang.getCurrentLanguage();let t=94,s=25;switch(e){case"ru":t=101,s=26;break;case"ja":t=112,s=28;break;case"it":t=97,s=25;break;case"tr":t=153,s=25;break;case"fr":t=93,s=25;break;case"de":t=93,s=25;break;case"id":t=77,s=25;break;case"pt":t=116,s=25;break;case"es":t=116,s=25;break;case"zh":t=56,s=29;break}this.title.setWorldSize(t,s),Phaser.Display.Align.In.TopCenter(this.title,this.popup,2,-23),this.popup.add(this.title)}createButtons(){const{music:e,sound:t,vibrate:s}=this.scene.player.getPlayerSettings();this.createCloseButton(),this.createContinueButton(),this.createRestartButton(),this.createMusicButton(e),this.createSoundButton(t),this.createVibrateButton(s)}createCloseButton(){this.buttonClose=new de(this.scene,ke,ae.BUTTON_RED_CIRCLE,36,36);const e=this.scene.make.image({key:ke,frame:ae.ICON_X});e.setWorldSize(15,17),this.buttonClose.add(e),this.buttonClose.setName("Close"),this.popup.add(this.buttonClose),Phaser.Display.Align.In.TopRight(this.buttonClose,this.popup,-15,-15)}createContinueButton(){const e=new de(this.scene,ke,ae.BUTTON_BLUE_ROUNDED_RECT,184,51),t=this.scene.lang.getCurrentLanguage();let s=-3;switch(t){case"ja":s=-5;break}const i=this.scene.make.bitmapText({text:this.scene.lang.Text.continue,font:I.SHADOW.KEY,size:this.scene.fontSize(15),origin:{x:.5,y:.6}}),o=this.scene.make.image({key:ke,frame:ae.ICON_CONTINUE});o.setWorldSize(21,26);const r=this.scene.make.image({key:ke,frame:ae.BUTTON_BG});r.setWorldSize(184,51),e.add(o),e.add(i),Phaser.Display.Align.In.Center(i,e,16,s),Phaser.Display.Align.In.LeftCenter(o,i,30,3),e.setName("Continue"),this.popup.add(r),this.popup.add(e),Phaser.Display.Align.In.Center(e,this.popup,0,30),Phaser.Display.Align.In.Center(r,this.popup,0,29.5),e.onClick=this.handleClose}createRestartButton(){const e=new de(this.scene,ke,ae.BUTTON_GREEN_ROUNDED_RECT,184,51),t=this.scene.lang.getCurrentLanguage();let s=-3,i=35;switch(t){case"ja":s=-5;break;case"ru":i=30;break}const o=this.scene.make.bitmapText({text:this.scene.lang.Text.restart,font:I.SHADOW.KEY,size:this.scene.fontSize(15),origin:{x:.5,y:.6}}),r=this.scene.make.image({key:ke,frame:ae.ICON_RESTART});r.setWorldSize(25,27);const n=this.scene.make.image({key:ke,frame:ae.BUTTON_BG});n.setWorldSize(184,51),e.add(r),e.add(o),Phaser.Display.Align.In.Center(o,e,16,s),Phaser.Display.Align.In.LeftCenter(r,o,i,3),e.setName("Restart"),this.popup.add(n),this.popup.add(e);const l=20;Phaser.Display.Align.In.Center(e,this.popup,0,90+l),Phaser.Display.Align.In.Center(n,this.popup,0,89.5+l),e.onClick=this.handleRestart}createMusicButton(e){this.settingMusic=new pi(this.scene,{enable:e,frameOn:ae.ICON_MUSIC_ON,frameOff:ae.ICON_MUSIC_OFF}),this.settingMusic.setName("Music"),this.settingMusic.button.setWorldSize(48,48)}createSoundButton(e){this.settingSound=new pi(this.scene,{enable:e,frameOn:ae.ICON_SOUND_ON,frameOff:ae.ICON_SOUND_OFF}),this.settingSound.setName("Sound"),this.settingSound.button.setWorldSize(48,48)}createVibrateButton(e){this.settingVibrate=new pi(this.scene,{enable:e,frameOn:ae.ICON_VIBRATE_ON,frameOff:ae.ICON_VIBRATE_OFF}),this.settingVibrate.setName("Vibrate"),this.settingVibrate.button.setWorldSize(48,48)}addItem(){this.contents=this.scene.add.group(),this.contents.addMultiple([this.settingMusic,this.settingSound,this.settingVibrate]),this.popup.add(this.contents.getChildren())}arrangeItems(){const t=-this.popup.height*.16;this.settingSound.setPosition(-70,t),this.settingMusic.setPosition(70,t)}runOpenAnimation(){this.popupShowUpAnimation?.tween?.isPlaying()||(this.runPopupEntrancesAnimation(0,400),this.runPopupContentEntrancesAnimation(200,300))}runCloseAnimation(){this.popupFadeOutAnimation?.tween?.isPlaying()||this.runPopupExitsAnimation(0,200)}runPopupEntrancesAnimation(e,t){if(!this.popupShowUpAnimation){const{y:s,scale:i}=this.popup;this.popupShowUpAnimation=new Cs({targets:[this.popup],delay:e,duration:t,props:{y:{from:350,to:s},alpha:{start:1,from:1,to:1},scale:{start:0,from:0,to:i}}})}this.popupShowUpAnimation.play()}runPopupContentEntrancesAnimation(e,t){const s=this.contents.getChildren(),i=s.map(o=>o.alpha);s.forEach(o=>{o.setAlpha(0)}),this.contentShowUpAnimation?.remove(),this.contentShowUpAnimation=new _s({targets:s,duration:t,delay:e,props:{alpha:{getStart:()=>0,getEnd:(o,r,n,l)=>i[l]}}}),this.contentShowUpAnimation.play()}runPopupExitsAnimation(e,t){this.popupFadeOutAnimation||(this.popupFadeOutAnimation=new St({targets:[this.popup],delay:e,duration:t,props:{y:250,scale:0},onComplete:()=>{this.popup.setY(0),this.scene.screen.close(this.name)}})),this.popupFadeOutAnimation.play()}}const{DEFAULT:gs,EFFECTS:ya}=w;class Gp extends Phaser.GameObjects.Container{whiteGlow;bomb;explosion;bombShakeTween;glowSpinTween;constructor(e){super(e),this.createWhiteGlow(),this.createBomb(),this.createExplosion()}createWhiteGlow(){const e=this.scene.add.image(0,0,gs.KEY,gs.FRAME.ART_WHITE_GLOW);e.setWorldSize(110,110),this.add(e),e.setPosition(0,0),this.whiteGlow=e}createBomb(){const e=this.scene.add.image(0,0,gs.KEY,gs.FRAME.ICON_BOMB);e.setWorldSize(57,63),this.add(e),e.setPosition(0,0),this.bomb=e}createExplosion(){const e=this.scene.add.sprite(0,0,ya.KEY,ya.FRAME.EFFECT_BOMB_EXPLOSION+"0");this.add(e),e.setPosition(0,0),e.setWorldSize(45,45),e.kill(),this.explosion=e}runBombShakeAnimation(){this.bombShakeTween?.stop(),this.bomb.setPosition(0,0),this.bomb.revive(),this.whiteGlow.revive(),this.explosion.kill(),this.bombShakeTween=this.scene.tweens.add({targets:this.bomb,x:-2,delay:800,duration:50,ease:"Sine.easeInOut",yoyo:!0,repeat:6,onComplete:this.runBombExplodeAnimation})}runGlowSpinAnimation(){this.glowSpinTween?.stop(),this.whiteGlow.revive(),this.whiteGlow.angle=0,this.glowSpinTween=this.scene.tweens.add({targets:this.whiteGlow,angle:360,duration:5e3,repeat:-1})}runBombExplodeAnimation=()=>{this.bomb.kill(),this.whiteGlow.kill(),this.explosion.revive(),this.explosion.anims.play(F.BOMB_EXPLOSION.KEY,!0),this.explosion.on(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{this.explosion.kill(),this.runBombShakeAnimation(),this.runGlowSpinAnimation()})};play(){this.runGlowSpinAnimation(),this.runBombShakeAnimation()}stop(){this.bombShakeTween?.stop(),this.glowSpinTween?.stop(),this.bomb.kill(),this.explosion.kill(),this.whiteGlow.kill()}revive(){super.revive(),this.whiteGlow.angle=0,this.whiteGlow.revive(),this.bomb.setPosition(0,0),this.bomb.revive()}}const{KEY:Sa,FRAME:ka}=w.DEFAULT;class Fp extends Phaser.GameObjects.Container{clock;clockSpinTween;whiteGlow;glowSpinTween;constructor(e){super(e),this.createWhiteGlow(),this.createClock()}createClock(){const e=this.scene.add.image(0,0,Sa,ka.ICON_TIMEOUT_CLOCK);e.setWorldSize(50,68.7),this.add(e),e.setPosition(0,0),this.clock=e}createWhiteGlow(){const e=this.scene.add.image(0,0,Sa,ka.ART_WHITE_GLOW);e.setWorldSize(110,110),this.add(e),e.setPosition(0,0),this.whiteGlow=e}runClockSpinAnimation(){this.clockSpinTween?.stop(),this.clock.angle=0,this.clock.setFlipY(!1),this.clock.revive(),this.clockSpinTween=this.scene.tweens.add({targets:this.clock,angle:this.clock.angle+180,duration:800,delay:800,ease:Phaser.Math.Easing.Sine.InOut,repeat:-1,repeatDelay:800,onStart:()=>{this.clock.setFlipY(!1)}})}runGlowSpinAnimation(){this.glowSpinTween?.stop(),this.whiteGlow.angle=0,this.whiteGlow.revive(),this.glowSpinTween=this.scene.tweens.add({targets:this.whiteGlow,angle:360,duration:5e3,repeat:-1})}play(){this.runClockSpinAnimation(),this.runGlowSpinAnimation()}stop(){this.clockSpinTween?.stop(),this.glowSpinTween?.stop()}revive(){super.revive(),this.clock.angle=0,this.clock.setFlipY(!1),this.clock.revive(),this.whiteGlow.angle=0,this.whiteGlow.revive()}}const{KEY:Ie,FRAME:Ne}=w.DEFAULT;class Bp extends GameCore.Screen{level;reason;isUseRescue;popup;levelText;reasonText;reasonIcon;resultBombAnimation;resultTimeOutAnimation;rescueButton;replayButton;rescueButtonAnimation;adsTimer;popupShowUpAnimation;popupFadeOutAnimation;constructor(e,t,s,i){super(e,t,s,i),this.setDepth(tt.POPUP),this.background.setAlpha(.8),this.createPopup()}open=e=>{super.open(),this.isUseRescue=!1,this.level=e.level,this.reason=e.reason,this.updateLevel(),this.updateReason(),this.runOpenAnimation(),this.runContinueButtonAnimation()};close(){this.resultBombAnimation.stop(),this.resultBombAnimation.kill(),this.resultTimeOutAnimation.stop(),this.resultTimeOutAnimation.kill(),super.close()}handleShowRewardedVideoAd=async()=>{const{globalScene:e,audio:t}=this.scene.game;let s=null;try{if(this.isUseRescue)return;this.isUseRescue=!0,s=e.time.delayedCall(200,()=>{e.screen.open(L.NOTIFY_SCREEN,{message:this.scene.lang.Text.loading_ads,duration:0,loading:!0})}),t.pauseMusic(),t.pauseAllSounds(),t.muteAll(),await this.scene.ads.showRewardedVideoAsync(),e.screen.events.off(GameCore.Screens.Events.CLOSE),this.runCloseAnimation(),this.popupFadeOutAnimation.tween?.once(Phaser.Tweens.Events.TWEEN_COMPLETE,()=>{O.emit(R.RESCUE,{reason:this.reason})}),this.scene.audio.playSound(B.DAILY_REWARD),s?.remove(),e.screen.close(L.NOTIFY_SCREEN)}catch(i){if(s?.remove(),i instanceof Object&&GameCore.Utils.Object.hasOwn(i,"code")&&i.code==="USER_INPUT"){this.showNotifySkipAds();return}this.showNotifyNoAds()}finally{this.adsTimer?.destroy(),this.scene.audio.unmuteAll(),this.scene.audio.playMusic(),this.scene.audio.resumeAllSounds(),this.scene.ads.preloadRewardedVideoAsync().catch(i=>{})}};showNotifyNoAds=e=>{if(e&&e.name!==L.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.events.off(GameCore.Screens.Events.CLOSE),t.screen.events.on(GameCore.Screens.Events.CLOSE,this.replayGame),t.screen.open(L.NOTIFY_SCREEN,{message:this.scene.lang.Text.no_ads,duration:2e3,loading:!1})};showNotifySkipAds=()=>{const{globalScene:e}=this.scene.game;e.screen.events.off(GameCore.Screens.Events.CLOSE),e.screen.events.on(GameCore.Screens.Events.CLOSE,this.replayGame),e.screen.open(L.NOTIFY_SCREEN,{message:`${this.scene.lang.Text.no_rewards_1}
${this.scene.lang.Text.no_rewards_2}`,duration:3e3,loading:!1})};replayGame=e=>{if(e&&e.name!==L.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.events.off(GameCore.Screens.Events.CLOSE,this.replayGame),this.runCloseAnimation(),O.emit(R.GAME_OVER_REPLAY)};handleReplay=()=>{this.runCloseAnimation(),O.emit(R.GAME_OVER_REPLAY)};createContent(){this.createTitle(),this.createLevelText(),this.createReasonText(),this.createReasonIcon(),this.createResultBombAnimation(),this.createResultTimeOutAnimation(),this.createRescueButton(),this.createReplayText()}createPopup(){this.popup=this.scene.add.container(),this.popup.setSize(292,374);const e=this.scene.make.image({key:Ie,frame:Ne.POPUP});e.setWorldSize(292,374);const t=this.scene.make.image({key:Ie,frame:Ne.ART_BG_LIGHT});t.setWorldSize(244,244),this.popup.add([t,e]),this.add(this.popup),this.createContent(),Phaser.Display.Align.In.Center(this.popup,this.zone,0,-50)}createTitle(){const e=this.scene.make.image({key:Ie,frame:this.scene.lang.Texture.text_failed}),t=this.scene.lang.getCurrentLanguage();let s=118;switch(t){case"ru":s=181;break;case"ja":s=57;break;case"pt":s=127;break;case"es":s=118;break;case"de":s=222;break;case"it":s=232;break;case"fr":s=107*(30/36);break;case"zh":s=62*(30/33);break;case"tr":s=173*(30/37);break}e.setWorldSize(s,30),this.popup.add(e),Phaser.Display.Align.In.TopCenter(e,this.popup,0,-20)}createLevelText(){this.levelText=this.scene.make.bitmapText({size:this.scene.fontSize(20),font:I.YELLOW_AND_STROKE.KEY,origin:{x:.5,y:.5},text:"Level X"}),this.popup.add(this.levelText),Phaser.Display.Align.In.TopCenter(this.levelText,this.popup,0,-75)}createReasonText(){this.reasonText=this.scene.make.bitmapText({size:this.scene.fontSize(16),font:I.YELLOW_AND_STROKE.KEY,origin:{x:.5,y:.5}}),this.reasonText.kill(),this.popup.add(this.reasonText);const e=this.scene.lang.getCurrentLanguage();let t=0;switch(e){case"ja":t=5}Phaser.Display.Align.In.Center(this.reasonText,this.popup,t,60)}createReasonIcon(){this.reasonIcon=this.scene.make.image({key:Ie,frame:Ne.ICON_LOSE}),this.reasonIcon.setWorldSize(60,60),this.reasonIcon.kill(),this.popup.add(this.reasonIcon),Phaser.Display.Align.In.Center(this.reasonIcon,this.popup,-60,60)}createResultBombAnimation(){this.resultBombAnimation=new Gp(this.scene),this.popup.add(this.resultBombAnimation),Phaser.Display.Align.In.Center(this.resultBombAnimation,this.popup,0,-15),this.resultBombAnimation.kill()}createResultTimeOutAnimation(){this.resultTimeOutAnimation=new Fp(this.scene),this.popup.add(this.resultTimeOutAnimation),Phaser.Display.Align.In.Center(this.resultTimeOutAnimation,this.popup,0,-15),this.resultTimeOutAnimation.kill()}updateLevel(){this.levelText.setText(`${this.scene.lang.Text.level} ${this.level}`)}updateReason(){const e=this.scene.fontSize(16);switch(this.reasonText.revive(),this.reason){case"bombExplosive":this.resultBombAnimation.revive(),this.resultBombAnimation.play(),this.reasonText.setText(this.scene.lang.Text.reason_bomb);break;case"timeUp":this.resultTimeOutAnimation.revive(),this.resultTimeOutAnimation.play(),this.reasonIcon.setFrame(Ne.ICON_CLOCK),this.reasonText.setText(this.scene.lang.Text.reason_time_out);break;default:this.reasonText.setText("You have failed the level!")}this.reasonText.setFontSize(e)}createRescueButton(){this.rescueButton=new de(this.scene,Ie,Ne.BUTTON_GREEN_ROUNDED_RECT,184,51),this.rescueButton.setName("Continue");const e=this.scene.make.image({key:Ie,frame:Ne.BUTTON_BG});e.setWorldSize(184,51),this.rescueButton.onClick=this.handleShowRewardedVideoAd;const t=this.scene.add.image(0,0,Ie,Ne.ICON_ADS);t.setWorldSize(27,29),Phaser.Display.Align.In.Center(t,this.rescueButton,-65),this.rescueButton.add(t);const s=this.scene.lang.getCurrentLanguage();let i=20;switch(s){case"ru":i=17;break;case"de":i=16;break}const o=this.scene.make.bitmapText({size:this.scene.fontSize(i),text:this.scene.lang.Text.resurrection,font:I.WHITE_AND_STROKE.KEY,origin:{x:.38,y:.75}});this.rescueButton.add(o),this.popup.add(e),this.popup.add(this.rescueButton),Phaser.Display.Align.In.BottomCenter(this.rescueButton,this.popup,0,-40),Phaser.Display.Align.In.Center(e,this.rescueButton)}createReplayText(){this.replayButton=new $i(this.scene,{key:Ie,frame:Ne.NO_THANK_TEXT,paddingZone:0}),this.replayButton.button.kill(),this.replayButton.setName("Replay");const e=this.scene.make.image({key:Ie,frame:this.scene.lang.Texture.text_replay}),t=this.scene.lang.getCurrentLanguage();let s=59,i=19;switch(t){case"ru":s=75,i=18;break;case"ja":s=57,i=19;break;case"id":s=149,i=19;break;case"de":s=143,i=18;break;case"tr":s=143,i=18;break;case"it":s=137,i=18;break;case"pt":s=100,i=22;break;case"es":s=107,i=22;break;case"zh":s=70,i=18;break;case"fr":s=81,i=18;break}e.setWorldSize(s,i),this.replayButton.add(e),this.popup.add(this.replayButton),this.replayButton.onClick=this.handleReplay,this.replayButton.setPosition(0,this.popup.height/2+15)}runContinueButtonAnimation(){this.rescueButtonAnimation||(this.rescueButtonAnimation=new Zt({targets:[this.rescueButton],props:{scale:"-=0.02"}})),this.rescueButtonAnimation?.play()}runOpenAnimation(){this.popupShowUpAnimation?.tween?.isPlaying()||this.runPopupEntrancesAnimation(0,400)}runCloseAnimation(){this.popupFadeOutAnimation?.tween?.isPlaying()||this.runPopupExitsAnimation(0,200)}runPopupEntrancesAnimation(e,t){if(!this.popupShowUpAnimation){const{y:s,scale:i}=this.popup;this.popupShowUpAnimation=new Cs({targets:[this.popup],delay:e,duration:t,props:{y:{from:s+400,to:s},alpha:{start:1,from:1,to:1},scale:{start:0,from:0,to:i}},onComplete:()=>{this.updateLevel(),this.updateReason()}})}this.popupShowUpAnimation.play()}runPopupExitsAnimation(e,t){this.popupFadeOutAnimation||(this.popupFadeOutAnimation=new St({targets:[this.popup],delay:e,duration:t,props:{y:250,scale:0},onComplete:()=>{this.popup.setY(0),this.scene.screen.close(this.name)}})),this.popupFadeOutAnimation.play()}}const Up={targets:[],repeat:3,duration:33,ease:Phaser.Math.Easing.Linear,props:{y:5},yoyo:!0};class Yp extends fe{targetY;shakeAmount;constructor(e){super(Up,e),this.config?.props&&(this.targetY=this.config.targets[0].y,this.shakeAmount=this.config.props.y-this.targetY,this.tween?.on(Phaser.Tweens.Events.TWEEN_REPEAT,this.handleSwitchPosition))}handleSwitchPosition=()=>{this.shakeAmount*=-.7,this.tween?.updateTo("y",this.targetY+this.shakeAmount)}}const{KEY:Hp,TEXTURE:Kp,FRAME_RATE:Wp,END:zp,PREFIX:Vp,ZERO_PAD:jp}=F.RIBBON_A;class $p extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:Wp,frames:e.generateFrameNames(Kp,{prefix:Vp,end:zp,zeroPad:jp,start:1}),yoyo:!0,showOnStart:!0};super(e,Hp,t)}}const{KEY:Xp,TEXTURE:Zp,FRAME_RATE:qp,END:Qp,PREFIX:Jp,ZERO_PAD:e0}=F.RIBBON_B;class t0 extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:qp,frames:e.generateFrameNames(Zp,{prefix:Jp,end:Qp,zeroPad:e0,start:1}),yoyo:!0,showOnStart:!0};super(e,Xp,t)}}const{KEY:s0,TEXTURE:i0,FRAME_RATE:o0,END:a0,PREFIX:r0,ZERO_PAD:n0}=F.RIBBON_C;class l0 extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:o0,frames:e.generateFrameNames(i0,{prefix:r0,end:a0,zeroPad:n0,start:1}),yoyo:!0,showOnStart:!0};super(e,s0,t)}}const{KEY:c0,TEXTURE:d0,FRAME_RATE:m0,END:u0,PREFIX:h0,ZERO_PAD:f0}=F.RIBBON_D;class p0 extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:m0,frames:e.generateFrameNames(d0,{prefix:h0,end:u0,zeroPad:f0,start:1}),yoyo:!0,showOnStart:!0};super(e,c0,t)}}const{KEY:b0,TEXTURE:g0,FRAME_RATE:T0,END:w0,PREFIX:E0,ZERO_PAD:v0}=F.CONFETTI_STAR_X;class P0 extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:T0,frames:e.generateFrameNames(g0,{prefix:E0,end:w0,zeroPad:v0,start:1}),yoyo:!0,showOnStart:!0};super(e,b0,t)}}const{KEY:y0,TEXTURE:S0,FRAME_RATE:k0,END:x0,PREFIX:R0,ZERO_PAD:O0}=F.CONFETTI_STAR_Y;class A0 extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:k0,frames:e.generateFrameNames(S0,{prefix:R0,end:x0,zeroPad:O0,start:1}),showOnStart:!0};super(e,y0,t)}}class I0 extends Phaser.GameObjects.Particles.Particle{scene;ribbon;graphics;colorUse;lastChange;currentFrame;isYoyo;isGravityChanged;points;constructor(e){super(e),this.scene=e.manager.scene,this.points=new Array(10).fill(null).map(()=>({x:0,y:0})),this.isYoyo=!1,this.isGravityChanged=!1,this.lastChange=0,this.currentFrame=-1,this.createGraphics(),this.randomRibbonUsedWhenFall()}randomRibbonUsedWhenFall(){switch(Phaser.Math.Between(0,3)){case 0:this.ribbon=this.scene.anims.get(F.RIBBON_A.KEY);break;case 1:this.ribbon=this.scene.anims.get(F.RIBBON_B.KEY);break;case 2:this.ribbon=this.scene.anims.get(F.RIBBON_C.KEY);break;case 3:this.ribbon=this.scene.anims.get(F.RIBBON_D.KEY);break;default:this.ribbon=this.scene.anims.get(F.RIBBON_A.KEY);break}}setRibbonPosition(e,t){this.points.map(s=>{s.x=e,s.y=t})}createGraphics(){const e=[8443204,2928867,12013036,16376097,15285798];this.colorUse=e[Phaser.Math.Between(0,e.length-1)],this.graphics=this.scene.add.graphics({lineStyle:{width:3,color:this.colorUse}});const{x:t,y:s,depth:i}=this.emitter.manager;this.graphics.setDepth(i),this.graphics.setPosition(t,s)}update(e,t,s){const i=super.update(e,t,s);return this.updateFrames(e),this.updatePoints(),this.updateGraphics(),this.updateGravity(),this.updateVelocity(),this.updateColor(),i}updateFrames(e){this.lastChange+=e,this.lastChange>=this.ribbon.msPerFrame&&(this.isYoyo?this.currentFrame--:this.currentFrame++,this.currentFrame<0&&(this.isYoyo=!1,this.currentFrame=1),this.currentFrame>=this.ribbon.frames.length&&(this.isYoyo=!0,this.currentFrame-=1),this.frame=this.ribbon.frames[this.currentFrame].frame,this.lastChange-=this.ribbon.msPerFrame)}updatePoints(){this.graphics.visible&&(this.points.shift(),this.points.push({x:this.x,y:this.y}))}updateGraphics(){if(this.graphics.visible){for(const e of this.points)if(e.y===0)return;this.graphics.clear(),this.graphics.strokePoints(this.points)}}updateGravity(){this.lifeCurrent>this.life-2e3||this.isGravityChanged||(this.isGravityChanged=!0,this.graphics.destroy(),this.emitter.setVisible(!0),this.emitter.setGravityY(45))}updateVelocity(){if(this.graphics.visible){if(this.lifeCurrent>this.life-1800){this.velocityX+=Phaser.Math.Between(-12,12);return}this.velocityX>0?this.velocityX+=Phaser.Math.Between(-10,6):this.velocityX+=Phaser.Math.Between(-6,10)}}updateColor(){this.graphics.visible||(this.tint=this.colorUse)}}class M0 extends Phaser.GameObjects.Particles.Particle{scene;isYoyo;isGravityChanged;lastChange;currentFrame;star;starX;starY;constructor(e){super(e),this.isYoyo=!1,this.isGravityChanged=!1,this.lastChange=0,this.currentFrame=-1,this.scene=e.manager.scene,this.starX=this.scene.anims.get(F.CONFETTI_STAR_X.KEY),this.starY=this.scene.anims.get(F.CONFETTI_STAR_Y.KEY),this.star=this.starX}update(e,t,s){const i=super.update(e,t,s);return this.updateGravity(),this.updateVelocity(),this.updateFrameRate(),this.updateFrames(e),i}updateGravity(){this.lifeCurrent>this.life-2e3||this.isGravityChanged||(this.isGravityChanged=!0,this.emitter.setGravityY(15),this.emitter.setSpeedX(0))}updateVelocity(){this.lifeCurrent>this.life-2e3||(this.velocityX>0?this.velocityX+=Phaser.Math.Between(-6,3):this.velocityX+=Phaser.Math.Between(-3,6))}updateFrames(e){if(this.lastChange+=e,this.lastChange>=this.star.msPerFrame){const t=Phaser.Math.RND.between(0,1);this.star=t>0?this.starX:this.starY,this.isYoyo?this.currentFrame--:this.currentFrame++,this.currentFrame<0&&(this.isYoyo=!1,this.currentFrame=1,this.emitter.setAlpha(1)),this.currentFrame>=this.star.frames.length&&(this.isYoyo=!0,this.currentFrame-=1,this.emitter.setAlpha(.8)),this.frame=this.star.frames[this.currentFrame].frame,this.lastChange-=this.star.msPerFrame}}updateFrameRate(){this.lifeCurrent<this.life-2e3?this.star.msPerFrame=150:this.star.msPerFrame=Phaser.Math.RND.between(300,600)}}const{KEY:C0,FRAME:bi}=w.EFFECTS;class _0 extends Phaser.GameObjects.Particles.ParticleEmitterManager{emitterConfetti;emitterRibbons;ribbonConfig;confettiConfig;width;height;isDesktop;constructor(e,t){super(e,C0,bi.BLANK),this.isDesktop=t,this.emitterRibbons=[],this.emitterConfetti=[],this.createConfigs(),this.createAnimations(),this.scene.add.existing(this)}createConfigs(){const e=[7915829,3184860,10768119,16766779,11337728],t=1/this.scene.world.getPixelRatio();this.ribbonConfig={on:!1,visible:!1,timeScale:1.5,frame:bi.BLANK,particleBringToTop:!0,speedY:{min:this.isDesktop?-250:-480,max:this.isDesktop?-330:-560},gravityY:this.isDesktop?160:290,lifespan:{min:4e3,max:6e3},rotate:{start:0,end:360*5,random:!0},scale:{min:t*.6,max:t},particleClass:I0},this.confettiConfig={on:!1,delay:200,timeScale:2,tint:e,particleBringToTop:!0,frame:bi.PREFIX_ANIMATION_RIBBON_CONFETTI_A+"1",speedY:{min:this.isDesktop?-250:-460,max:this.isDesktop?-330:-580},gravityY:this.isDesktop?160:280,lifespan:{min:5e3,max:8e3},rotate:{start:0,end:360*3},scale:{min:t*.6,max:t},particleClass:M0}}createAnimations(){if(!this.scene.anims.get(F.CONFETTI_STAR_X.KEY)){const e=new P0(this.scene.anims);this.scene.anims.add(F.CONFETTI_STAR_X.KEY,e)}if(!this.scene.anims.get(F.CONFETTI_STAR_Y.KEY)){const e=new A0(this.scene.anims);this.scene.anims.add(F.CONFETTI_STAR_Y.KEY,e)}if(!this.scene.anims.get(F.RIBBON_A.KEY)){const e=new $p(this.scene.anims);this.scene.anims.add(F.RIBBON_A.KEY,e)}if(!this.scene.anims.get(F.RIBBON_B.KEY)){const e=new t0(this.scene.anims);this.scene.anims.add(F.RIBBON_B.KEY,e)}if(!this.scene.anims.get(F.RIBBON_C.KEY)){const e=new l0(this.scene.anims);this.scene.anims.add(F.RIBBON_C.KEY,e)}if(!this.scene.anims.get(F.RIBBON_D.KEY)){const e=new p0(this.scene.anims);this.scene.anims.add(F.RIBBON_D.KEY,e)}}run(e,t,s,i){this.setPosition(e,t),this.width=s,this.height=i,this.createEmitters(),this.emitterConfetti.forEach(o=>{o.emitParticle(this.isDesktop?40:25)}),this.emitterRibbons.forEach(o=>{o.emitParticle(this.isDesktop?35:20)})}stop(){this.emitterConfetti.forEach(e=>{e.killAll()}),this.emitterRibbons.forEach(e=>{e.killAll()}),this.kill()}createEmitters(){this.emitterRibbons=[],this.emitterConfetti=[],this.createConfettiLeftEmitter(),this.createConfettiRightEmitter(),this.createRibbonLeftEmitter(),this.createRibbonRightEmitter()}createConfettiLeftEmitter(){const e={...this.confettiConfig,speedX:{min:5,max:90}},t=this.createEmitter(e);this.emitterConfetti.push(t)}createConfettiRightEmitter(){const{width:e}=this,t={...this.confettiConfig,x:e,speedX:{min:-5,max:-90}},s=this.createEmitter(t);this.emitterConfetti.push(s)}createRibbonLeftEmitter(){const e={...this.ribbonConfig,speedX:{min:20,max:80},emitCallback:s=>{s.setRibbonPosition(0,0)}},t=this.createEmitter(e);this.emitterRibbons.push(t)}createRibbonRightEmitter(){const{width:e}=this,t={...this.ribbonConfig,x:e,speedX:{min:-20,max:-80},emitCallback:i=>{i.setRibbonPosition(e,0)}},s=this.createEmitter(t);this.emitterRibbons.push(s)}killAllParticles(){this.emitterConfetti.forEach(e=>{e.forEachAlive(t=>{t.lifeCurrent=0},this)}),this.emitterRibbons.forEach(e=>{e.forEachAlive(t=>{t.lifeCurrent=0},this)})}}const{KEY:L0,FRAME:D0}=w.EFFECTS;class N0 extends Phaser.GameObjects.Particles.ParticleEmitterManager{emitter;emitZone;constructor(e,t){super(e,L0),this.createEmitZone(),this.setDepth(C.ON_TOP),this.createExplodeAnimation(t),this.scene.add.existing(this)}createEmitZone(){this.emitZone=new Phaser.Geom.Circle(0,0,25)}createExplodeAnimation(e){const t=1/this.scene.world.getPixelRatio();let s={frame:[D0.ANIMATION_STAR_X+"1"],scale:{start:t*1.5,end:t*5,random:!0},lifespan:{min:600,max:900},alpha:{start:.5,end:1},speed:{min:50,max:60},rotate:{start:0,end:360},tint:[16777215,16776960,16750848],emitZone:{source:this.emitZone,type:"random"},particleClass:G0,on:!1};e&&(s=ce(s,e)),this.emitter=this.createEmitter(s)}explode(e=8,t,s){this.emitter.explode(e,t,s)}}class G0 extends Phaser.GameObjects.Particles.Particle{constructor(e){super(e);const t=Math.random()*.18+.01;this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:t},scaleY:{min:1,max:1}}}fire(e,t){super.fire(e,t);const{x:s,y:i}=this.emitter;e||(e=s.defaultValue),t||(t=i.defaultValue);const o=Phaser.Math.Distance.Between(0,0,this.velocityX,this.velocityY),r=Math.atan2(this.y-t,this.x-e);this.velocityX=o*Math.cos(r),this.velocityY=o*Math.sin(r),this.rotation=r}update(e,t,s){return super.update(e,t,s)}}const{KEY:Te,FRAME:Me}=w.DEFAULT,{KEY:F0,FRAME:Lt}=w.GAMEPLAY;class B0 extends Phaser.GameObjects.Container{popup;ribbon;listStars=[];starOriginScale=0;levelStars=0;levelText;levelTextOriginScale=0;buttonBg;buttonBgOriginScale=0;button;getContinueBtn;itemContainer;itemIcon;currentItem;bigGlow;bigGlowTween;glow;glowTween;onGreenClick;onGetContinueClick;confettiAnimation;continueButtonAnimation;starsParticle=[];listTimeLine=[];twinkle;constructor(e){super(e),this.createPopup(),this.updateSize(),this.createRibbon(),this.createBigGlow(),this.createStarsParticle(),this.createStars(),this.createLevelText(),this.createWinText(),this.createButton(),this.createItem(),this.createGetContinueBtn(),this.createEffect(),this.setDepth(C.POPUP),this.scene.add.existing(this)}createEffect(){const e=this.scene.world.isLandscape();this.confettiAnimation=new _0(this.scene,e),this.confettiAnimation.setDepth(C.ON_TOP);const t=1/this.scene.world.getPixelRatio();this.twinkle=new Zr(this.scene,{scale:{min:.05*t,max:t*.4}}),this.twinkle.setDepth(C.EFFECT),this.add(this.twinkle)}createStarsParticle(){for(let e=0;e<3;e++){const t=new N0(this.scene);this.starsParticle.push(t)}this.add(this.starsParticle)}createPopup(){const e=this.scene.make.image({key:Te,frame:Me.POPUP});e.setWorldSize(291.5,374),this.add(e),this.popup=e}createRibbon(){const e=this.scene.make.image({key:Te,frame:Me.RESULT_RIBBON});e.setWorldSize(365.5,115),e.setPosition(0,-40),this.add(e),this.ribbon=e}createBigGlow(){const e=this.scene.make.image({key:Te,frame:Me.ART_WHITE_GLOW});e.setWorldSize(63.5*3,66.25*3),e.setPosition(0,-70),this.add(e),this.bigGlow=e,e.kill()}createStars(){const e=this.scene.make.image({key:Te,frame:Me.RESULT_STAR});e.setWorldSize(359/4,370/4),e.setPosition(-85,-60),e.setAngle(-12),this.listStars.push(e);const t=this.scene.make.image({key:Te,frame:Me.RESULT_STAR});t.setWorldSize(359/4,370/4),t.setPosition(0,-70),t.setAngle(0),this.listStars.push(t);const s=this.scene.make.image({key:Te,frame:Me.RESULT_STAR});s.setWorldSize(359/4,370/4),s.setPosition(85,-60),s.setAngle(12),this.listStars.push(s),this.add([e,s,t]),this.starOriginScale=e.scaleX}updateSize(){const{displayWidth:e,displayHeight:t}=this.popup;this.setSize(e,t)}createLevelText(){const e=this.scene.make.bitmapText({font:I.YELLOW_AND_STROKE.KEY,text:"Level 1",size:this.scene.fontSize(25),origin:{x:.5,y:.5}});e.setPosition(0,0),this.add(e),this.levelText=e,this.levelTextOriginScale=e.scale}createWinText(){const e=this.scene.make.image({key:Te,frame:this.scene.lang.Texture.victory}),t=this.scene.lang.getCurrentLanguage();let s=152,i=31;switch(t){case"ru":s=133,i=34;break;case"ja":s=67.5,i=35.5;break;case"id":s=205,i=25;break;case"pt":s=130,i=35;break;case"es":s=152,i=29;break;case"it":s=151,i=29;break;case"fr":s=147,i=29;break;case"tr":s=102,i=28;break;case"de":s=72,i=29;break;case"zh":s=62,i=33;break}e.setPosition(0,-152),e.setWorldSize(s,i),this.add(e)}createButton(){const e=new Xr(this.scene,Te,Me.BUTTON_GREEN,180,46.5);e.setPosition(0,120),e.onClick=this.handleOnGreenBtnClick,this.button=e;const t=this.scene.make.image({key:Te,frame:Me.BUTTON_BG});t.setWorldSize(184,50.5),t.setPosition(e.x,e.y),this.buttonBg=t,this.buttonBgOriginScale=t.scale,this.add([t,e])}createItem(){this.itemContainer=this.scene.make.container({}),this.add(this.itemContainer),this.itemContainer.setPosition(0,50);const e=this.scene.make.image({key:Te,frame:Me.ART_WHITE_GLOW});e.setWorldSize(63.5,66.25),e.setPosition(-15,0),this.itemContainer.add(e),this.glow=e;const t=this.scene.make.image({key:F0,frame:Lt.BLANK});t.setPosition(-17,0),t.setWorldSize(25,25),this.itemContainer.add(t),this.itemIcon=t;const s=this.scene.make.bitmapText({font:I.WHITE_AND_STROKE.KEY,text:"+1",size:this.scene.fontSize(22),origin:{x:.5,y:.57}});s.setPosition(17,0),this.itemContainer.add(s)}createGetContinueBtn(){const e=this.scene.lang.getCurrentLanguage();let t=152,s=18.5;switch(e){case"ru":t=224,s=18;break;case"ja":t=123,s=21;break;case"zh":t=88,s=18;break;case"fr":t=235,s=18;break;case"de":t=224,s=18;break;case"id":t=205,s=19;break;case"it":t=184,s=18;break;case"pt":t=189,s=18;break;case"es":t=164,s=18;break;case"tr":t=146,s=18;break}const i=new $i(this.scene,{key:Te,frame:this.scene.lang.Texture.get_continue,width:t,height:s,paddingZone:40});Phaser.Display.Align.In.BottomCenter(i,this.popup,0,50),i.onClick=this.handleOnGetContinueBtnClick,this.add(i),this.getContinueBtn=i}setLevel(e){this.levelText.setText(`${this.scene.lang.Text.level} ${e}`)}setStars(e){this.levelStars=e}setItem(e){if(this.currentItem!==e){switch(this.currentItem=e,e){case"defuse":this.itemIcon.setFrame(Lt.DEFUSE_ITEM),this.itemIcon.setWorldSize(26,34.5);break;case"hint":this.itemIcon.setFrame(Lt.HINT_ITEM),this.itemIcon.setWorldSize(26.5,36.5);break;case"shuffle":this.itemIcon.setFrame(Lt.ITEM_SHUFFLE),this.itemIcon.setWorldSize(26.5,35.5);break;case"rocket":this.itemIcon.setFrame(Lt.ROCKET_ITEM),this.itemIcon.setWorldSize(23,36);break;case"none":this.itemContainer.kill()}e!=="none"?this.button.setMode("item"):this.button.setMode("continue")}}handleOnGreenBtnClick=()=>{this.onGreenClick&&this.onGreenClick()};handleOnGetContinueBtnClick=()=>{this.onGetContinueClick&&this.onGetContinueClick()};playAnimation(e=0){this.playShowUpAnimation(e)}playShowUpAnimation(e){this.listTimeLine?.forEach(h=>h.stop()),this.listTimeLine=[],this.bigGlow.kill(),this.twinkle.stop();const t=e;this.listStars.forEach((h,p)=>{if(p>=this.levelStars){h.kill();return}this.listStars[p].revive(),this.listStars[p].setScale(0)}),this.listStars[0].setAngle(-10),this.listStars[1].setAngle(0),this.listStars[2].setAngle(10);const s=this.playStarAnimation(this.listStars[0],t,200,400,366,"-=10","+=10"),i=this.playStarAnimation(this.listStars[1],t+166,200,233,566,"+=0","+=0"),o=this.playStarAnimation(this.listStars[2],t+333,200,100,466,"+=10","-=10");this.listTimeLine?.push(s,i,o),this.scaleObject(t,400,this.listStars[0],0,this.starOriginScale*1.75,Phaser.Math.Easing.Sine.In,()=>{this.scene.audio.playSound(B.PROGRESS_STAR)}),this.scaleObject(t+166,366,this.listStars[1],0,this.starOriginScale*1.75,Phaser.Math.Easing.Sine.In),this.scaleObject(t+333,200,this.listStars[2],0,this.starOriginScale*1.75,Phaser.Math.Easing.Sine.In),this.scaleObject(t+400,400,this.listStars[0],this.starOriginScale*1.75,this.starOriginScale-.1,Phaser.Math.Easing.Cubic.In,void 0,()=>{this.starsParticle[0].explode(50,this.listStars[0].x,this.listStars[0].y)}),this.scaleObject(t+533,266,[this.listStars[1],this.listStars[2]],this.starOriginScale*1.75,this.starOriginScale-.1,Phaser.Math.Easing.Cubic.In,void 0,()=>{this.starsParticle[1].explode(50,this.listStars[1].x,this.listStars[1].y),this.starsParticle[2].explode(50,this.listStars[2].x,this.listStars[2].y),new Yp({targets:[this.ribbon],props:{y:this.ribbon.y+5}}).play(),this.runEffect3Stars(),this.scene.audio.playSound(B.THREE_STARS)}),this.scaleObject(t+800,166,this.listStars,this.starOriginScale-.1,this.starOriginScale,void 0,void 0,()=>{this.scene.audio.playSound(B.LEVEL_COMPLETE)});const r=800+166,n=[this.levelText],l=[this.levelTextOriginScale];this.levelText.setScale(0);const c=this.scene.tweens.createTimeline();c.add({targets:n,delay:r+t,duration:800,props:{scale:{getStart:()=>0,getEnd:(h,p,b,E)=>l[E],ease:Phaser.Math.Easing.Elastic.Out,easeParams:[.1,.45]}}}),this.currentItem!=="none"?(this.getContinueBtn.revive(),this.itemContainer.revive(),this.itemContainer.setScale(0),this.glowTween?.remove(),this.glowTween=this.scene.add.tween({targets:this.glow,duration:1e6,ease:Phaser.Math.Easing.Linear,repeat:-1,props:{rotation:{start:0,to:180}}}),c.add({targets:this.itemContainer,duration:800,props:{scale:{getStart:()=>0,getEnd:()=>1,ease:Phaser.Math.Easing.Elastic.Out,easeParams:[.1,.45]}},onStart:()=>{this.scene.audio.playSound(B.HINT_ITEM,{volume:1.5})}})):(this.getContinueBtn.kill(),this.itemContainer.kill());const d=[this.button,this.buttonBg],m=[1,this.buttonBgOriginScale];this.button.setScale(0),this.buttonBg.setScale(0),c.add({targets:d,duration:800,props:{scale:{getStart:()=>0,getEnd:(h,p,b,E)=>m[E],ease:Phaser.Math.Easing.Elastic.Out,easeParams:[.1,.45]}},onComplete:()=>{this.runContinueButtonAnimation()}}),this.currentItem!=="none"&&(this.getContinueBtn.setScale(0),c.add({targets:this.getContinueBtn,duration:300,props:{scale:{from:0,to:1}}})),c.play(),this.listTimeLine.push(c)}scaleObject(e,t,s,i,o,r,n,l){this.scene.tweens.add({targets:s,duration:t,delay:e,props:{scale:{from:i,to:o}},ease:r,onStart:n,onComplete:l})}playStarAnimation(e,t,s,i,o,r,n){const l=this.scene.tweens.createTimeline();return l.add({targets:e,delay:t,duration:s,props:{angle:"-=15"}}),l.add({targets:e,duration:i,props:{angle:"+=15"}}),l.add({targets:e,delay:o,duration:1300,props:{angle:r,scale:"+=0.1"}}),l.add({targets:e,duration:2333,props:{angle:n,scale:"-=0.1"},yoyo:!0,repeat:-1,ease:Phaser.Math.Easing.Sine.InOut}),l.play(),l}runEffect3Stars(){const e=this.bigGlow.scale;this.bigGlow.revive(),this.bigGlow.setScale(0),this.scene.tweens.add({targets:this.bigGlow,scale:{from:0,to:e},duration:500,ease:Phaser.Math.Easing.Sine.Out}),this.bigGlowTween=this.scene.tweens.add({targets:this.bigGlow,rotation:{from:0,to:Math.PI*2},duration:5e3,repeat:-1}),this.twinkle.run(2,this.x,this.y,230,80),this.runConfetti()}runConfetti(){const{displayWidth:e,displayHeight:t}=this.scene.gameZone,s=this.scene.world.isLandscape();this.confettiAnimation.run(s?e/4:0,t,s?e/2:e,t*.75)}stopAnimation(){this.bigGlowTween?.remove(),this.glowTween?.remove(),this.twinkle.stop(),this.stopConfetti(),this.continueButtonAnimation?.stop(),this.button.setScale(1),this.listTimeLine.forEach(e=>{e.stop()}),this.listTimeLine=[]}stopConfetti(){this.confettiAnimation.killAllParticles()}runContinueButtonAnimation(){this.button.setScale(1),this.continueButtonAnimation?.stop(),this.continueButtonAnimation=this.scene.add.tween({targets:[this.button],yoyo:!0,repeat:-1,duration:600,repeatDelay:50,ease:Ms,easeParams:[0,.9],props:{scale:{from:1,to:.98}}})}}const{Gameplay:U0}=GameCore.Configs,{RewardItemResultPopupRatio:Y0}=U0;class H0 extends GameCore.Screen{popup;popupShowUpAnimation;item="none";rewardAmount;adsTimer;constructor(e,t,s,i){super(e,t,s,i),this.createPopup(),this.setDepth(tt.POPUP),this.background.setAlpha(.6)}open=e=>{super.open(e),this.updateData(),this.scene.audio.setMusicVolume(0),this.runOpenAnimation()};updateData(){const e=this.getData("level"),t=this.getData("eatStars");if(this.popup.setLevel(e||1),this.popup.setStars(t||0),Math.random()>Y0){this.item="none",this.popup.setItem("none");return}const i=["ItemHint","ItemShuffle"],o=["hint","shuffle"];let r=[.54,1];e>=7&&(i.push("ItemBombDefuse"),o.push("defuse"),r=[.4,.73,1]),e>=11&&(i.push("ItemRocket"),o.push("rocket"),r=[.29,.54,.74,1]);const n=Math.random(),l=r.findIndex(m=>n<=m),c=i[l],d=o[l];this.item=c,this.popup.setItem(d)}createPopup(){this.popup=new B0(this.scene),this.add(this.popup),this.popup.onGreenClick=this.handleGreenBtnClick,this.popup.onGetContinueClick=this.handleContinueLevel,Phaser.Display.Align.In.Center(this.popup,this.zone,0,-50)}handleGreenBtnClick=async()=>{if(this.item==="none")this.handleContinueLevel();else try{await this.handleShowRewardedVideoAd()}catch(e){console.log(e)}};handleContinueLevel=()=>{this.rewardItem(1),this.closeAndNextLevel()};closeAndNextLevel(){this.item!=="none"&&this.scene.game.analytics.event(M.GET_FREE_ITEM,{item_name:this.item,value:this.rewardAmount}),this.popup.stopAnimation(),this.scene.screen.close(this.name),O.emit(R.NEXT_LEVEL)}handleShowRewardedVideoAd=async()=>{let e=null;try{const{audio:t,game:s}=this.scene;e=s.globalScene.time.delayedCall(200,()=>{s.globalScene.screen.open(L.NOTIFY_SCREEN,{message:this.scene.lang.Text.loading_ads,duration:0,loading:!0})}),t.pauseMusic(),t.pauseAllSounds(),t.muteAll(),await this.scene.ads.showRewardedVideoAsync(),e?.remove(),s.globalScene.screen.close(L.NOTIFY_SCREEN),this.rewardItem(2),this.closeAndNextLevel()}catch(t){if(e?.remove(),t instanceof Object&&GameCore.Utils.Object.hasOwn(t,"code")&&t.code==="USER_INPUT"){this.showNotifySkipAds(),this.popup.runContinueButtonAnimation();return}this.showNotifyNoAds(),this.popup.runContinueButtonAnimation()}finally{this.adsTimer?.destroy(),this.scene.audio.unmuteAll(),this.scene.audio.playMusic(),this.scene.audio.resumeAllSounds(),this.scene.ads.preloadRewardedVideoAsync().catch(t=>{})}};showNotifySkipAds=()=>{const{globalScene:e}=this.scene.game;e.screen.open(L.NOTIFY_SCREEN,{message:`${this.scene.lang.Text.no_rewards_1}
${this.scene.lang.Text.no_rewards_2}`,duration:1500,loading:!1})};showNotifyNoAds=e=>{if(e&&e.name!==L.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.open(L.NOTIFY_SCREEN,{message:this.scene.lang.Text.no_ads,duration:1500,loading:!1})};rewardItem(e){if(this.item==="none")return;this.rewardAmount=e;const t=this.scene.scene.get(Z.GAME_SCENE);if(!(t instanceof Ze))return;const{itemManager:s}=t;s.increaseItem(this.item,this.rewardAmount)}runOpenAnimation(){this.runPopupEntrancesAnimation(0,300),this.popup.playAnimation(300)}runPopupEntrancesAnimation(e,t){if(!this.popupShowUpAnimation){const{y:s,scale:i}=this.popup;this.popupShowUpAnimation=new Cs({targets:[this.popup],delay:e,duration:t,props:{y:{from:350,to:s},alpha:{start:1,from:1,to:1},scale:{start:0,from:0,to:i}}})}this.popupShowUpAnimation.play()}}const{DEFAULT:ee,GAMEPLAY:xe}=w;class K0 extends GameCore.Screen{hand;giftIcon;giftIconWhite;popup;itemIcon;descText;quantityText;viewAdButton;closeButton;viewAdBg;whiteGlow;itemId;popupContents;cometTwinkle;starTwinkleUp;sparksExplosive;popupFadeOutAnimation;backgroundFadeInAnimation;contentShowUpAnimation;giftEntrancesAnimation;giftAttentionAnimation;giftShakeAnimation;giftOpenAnimation;glowSpinTween;viewAdButtonAnimation;adsTimer;constructor(e,t,s,i){super(e,t,s,i),this.setDepth(tt.POPUP),this.background.setAlpha(.8),this.createPopup(),this.createEffects(),this.createGiftIcon(),this.createHand(),this.createContentsGroup()}open=e=>{super.open(e),this.itemId=e.itemId,this.updateScreen(),this.runGlowSpinTween(),this.runOpenAnimation()};updateScreen(){switch(this.itemId){case k.HINT.ID:this.itemIcon.setTexture(xe.KEY,xe.FRAME.HINT_ITEM),this.descText.setText(this.scene.lang.Text.hint_description);break;case k.ROCKET.ID:this.itemIcon.setTexture(xe.KEY,xe.FRAME.ROCKET_ITEM),this.descText.setText(this.scene.lang.Text.rocket_description);break;case k.BOMB_DEFUSE.ID:this.itemIcon.setTexture(xe.KEY,xe.FRAME.DEFUSE_ITEM),this.descText.setText(this.scene.lang.Text.defuse_description);break;case k.SHUFFLE.ID:this.itemIcon.setTexture(xe.KEY,xe.FRAME.ITEM_SHUFFLE),this.descText.setText(this.scene.lang.Text.shuffle_description);break}}handleClosePopup=()=>{this.glowSpinTween?.stop(),this.runCloseAnimation()};handleShowRewardedVideoAd=async()=>{let e=null;try{const{audio:t,game:s}=this.scene;this.viewAdButton.setDisabled(!0),e=s.globalScene.time.delayedCall(200,()=>{s.globalScene.screen.open(L.NOTIFY_SCREEN,{message:this.scene.lang.Text.loading_ads,duration:0,loading:!0})}),t.pauseMusic(),t.pauseAllSounds(),t.muteAll(),await this.scene.ads.showRewardedVideoAsync(),e?.remove(),s.globalScene.screen.close(L.NOTIFY_SCREEN),this.starTwinkleUp.stop(),this.scene.audio.playSound(B.DAILY_REWARD),this.popupContents.setActive(!1),this.popupContents.setVisible(!1),this.runTheGiftEntrancesAnimation(0,1500)}catch(t){if(e?.remove(),t instanceof Object&&GameCore.Utils.Object.hasOwn(t,"code")&&t.code==="USER_INPUT"){this.showNotifySkipAds();return}this.showNotifyNoAds()}finally{this.scene.ads.preloadRewardedVideoAsync().catch(t=>{}),this.adsTimer?.destroy(),this.scene.audio.unmuteAll(),this.scene.audio.playMusic(),this.scene.audio.resumeAllSounds(),this.viewAdButton.setDisabled(!1)}};setTheGiftClickable(e){e?this.giftIcon.setInteractive():this.giftIcon.disableInteractive()}handleTheGiftClick=()=>{this.setTheGiftClickable(!1),this.logButtonEvent("OpenGift"),this.hand.kill(),this.giftIconWhite.revive(),this.scene.tweens.killTweensOf(this.giftIcon),Phaser.Display.Align.In.Center(this.giftIconWhite,this.giftIcon),this.scene.audio.playSound(B.GIFT_CHARGE),this.runShakeTheGift(),this.runOpenTheGift()};logButtonEvent(e){const t=this.getScreenName();this.scene.analytics.event(M.BUTTON_CLICK,{button_name:e,screen_name:t})}showNotifyNoAds=e=>{if(e&&e.name!==L.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.open(L.NOTIFY_SCREEN,{message:this.scene.lang.Text.no_ads,duration:1200,loading:!1})};showNotifySkipAds=()=>{const{globalScene:e}=this.scene.game;e.screen.open(L.NOTIFY_SCREEN,{message:`${this.scene.lang.Text.no_rewards_1}
${this.scene.lang.Text.no_rewards_2}`,duration:1500,loading:!1})};runOpenAnimation(){this.revive(),this.hand.kill(),this.popupContents.setActive(!0),this.popupContents.setVisible(!0),this.starTwinkleUp.stop(),this.runBackgroundEntrancesAnimation(0,200),this.runPopupContentEntrancesAnimation(100,400)}runCloseAnimation=()=>{this.runExitsAnimation(0,200)};runBackgroundEntrancesAnimation(e,t){this.backgroundFadeInAnimation||(this.backgroundFadeInAnimation=new ji({targets:[this.background],delay:e,duration:t,props:{alpha:{start:0,to:.8}}})),this.backgroundFadeInAnimation.play()}runPopupContentEntrancesAnimation(e,t){this.viewAdButton.setDisabled(!0),this.viewAdButton.setAlpha(0),this.contentShowUpAnimation?.remove(),this.contentShowUpAnimation=new _s({targets:this.popupContents.getChildren(),duration:t,delay:this.scene.tweens.stagger(100,{start:e}),props:{scale:{getStart:s=>s===this.descText?s.scale:s.scale-.3,getEnd:s=>s.scale},alpha:{start:0,from:0,to:1}},onComplete:()=>{this.viewAdButton.setDisabled(!1),this.runViewAdButtonAnimation()}}),this.contentShowUpAnimation.play()}runTheGiftEntrancesAnimation(e,t){this.giftIcon.revive(),this.giftIcon.setAlpha(1),Phaser.Display.Align.In.TopRight(this.giftIcon,this.zone),this.giftEntrancesAnimation?.remove();const{x:s,y:i}=this.giftIcon,{x:o,y:r}=this.popup,n={x:s,y:i},l={x:o,y:r},c=1/this.scene.world.getPixelRatio();this.giftEntrancesAnimation=new Kr({targets:[this.giftIcon],delay:e,duration:t,curve:[[n.x,n.y],[n.x-80,n.y+80],[l.x,l.y]],props:{scale:{start:c*.5,to:c},angle:{start:20,to:0}},onCurveUpdate:d=>{const h=d.x+Phaser.Math.RND.between(-40,40),p=d.y+Phaser.Math.RND.between(-40,40);this.cometTwinkle.explode(1,h,p)},onComplete:()=>{this.scene.audio.playSound(B.GIFT_REVEAL);const d=1.5;this.starTwinkleUp.setScale(d);const{x:m,y:h,width:p,height:b}=this.giftIcon;this.starTwinkleUp.run(1,m,h,p/d,b/d),this.moveTo(this.starTwinkleUp,this.length-1),this.runTheGiftAttentionAnimation()}}),this.giftEntrancesAnimation.play()}runTheGiftAttentionAnimation(){this.giftAttentionAnimation||(this.giftAttentionAnimation=new Zt({targets:[this.giftIcon],props:{scale:"+=0.05"}})),this.hand.revive(),this.hand.playAnimation(),Phaser.Display.Align.In.Center(this.hand,this.giftIcon,20,20),this.setTheGiftClickable(!0),this.giftAttentionAnimation.play()}runShakeTheGift(){this.giftShakeAnimation||(this.giftShakeAnimation=new Wi({targets:[this.giftIcon,this.giftIconWhite],duration:22})),this.giftShakeAnimation.play()}runOpenTheGift(){if(!this.giftOpenAnimation){const e=1/this.scene.world.getPixelRatio();this.giftOpenAnimation=new Vt({targets:[this.giftIcon,this.giftIconWhite],duration:1500,props:{alpha:0,scale:e},onUpdate:()=>{this.giftIconWhite.setAlpha(1)},onComplete:()=>{this.giftShakeAnimation.stop(),this.giftIcon.kill(),this.giftIconWhite.kill(),this.sparksExplosive.explode(100,this.giftIcon.x,this.giftIcon.y,230),this.scene.audio.playSound(B.GIFT_EXPLODE),this.scene.time.delayedCall(500,this.runCloseAnimation);const[t,s]=this.getData(["itemId","rewardCount"]);O.emit(R.RECEIVE_ITEM,{itemId:t,rewardCount:s})}})}this.giftOpenAnimation.play()}runExitsAnimation(e,t){this.popupFadeOutAnimation||(this.popupFadeOutAnimation=new St({targets:this.getAll(),delay:e,duration:t,props:{alpha:{start:.8,to:0}},onComplete:()=>{this.scene.screen.close(this.name),this.descText.setText("")}})),this.popupFadeOutAnimation.play()}createHand(){this.hand=new Wr(this.scene),this.add(this.hand)}createContentsGroup(){this.popupContents=this.scene.make.group({}),this.popupContents.addMultiple([this.popup,this.closeButton,this.whiteGlow,this.itemIcon,this.quantityText,this.descText,this.viewAdBg,this.viewAdButton])}createPopup(){this.popup=this.scene.add.container(0,0),this.popup.setSize(283,345.5);const e=this.scene.make.image({key:ee.KEY,frame:ee.FRAME.POPUP});e.setWorldSize(283,345.5),this.popup.add(e),this.add(this.popup),this.createItemIcon(),this.createQuantityText(),this.createDescriptionText(),this.createViewAdsButton(),this.createCloseButton(),Phaser.Display.Align.In.Center(this.popup,this.zone,0,-50)}createItemIcon(){this.whiteGlow=this.scene.make.image({key:ee.KEY,frame:ee.FRAME.ART_WHITE_GLOW}),this.whiteGlow.setWorldSize(100,100),this.popup.add(this.whiteGlow);const e=this.scene.make.image({key:xe.KEY,frame:xe.FRAME.HINT_ITEM});e.setWorldSize(55,55),this.popup.add(e),Phaser.Display.Align.In.Center(e,this.popup,0,-75),this.whiteGlow.setPosition(e.x,e.y),this.itemIcon=e}createQuantityText(){const e=this.scene.make.bitmapText({text:"x1",font:I.YELLOW_AND_STROKE.KEY,size:this.scene.fontSize(35),origin:{x:.5,y:.5}});this.popup.add(e),Phaser.Display.Align.In.Center(e,this.popup,0,-30),this.quantityText=e}createDescriptionText(){const t=this.scene.lang.getCurrentLanguage()==="ru"?17:20,s=this.scene.make.bitmapText({text:"",origin:{x:.5,y:0},font:I.YELLOW_AND_STROKE.KEY,size:this.scene.fontSize(t)});s.setMaxWidth(200),s.setCenterAlign(),this.popup.add(s),Phaser.Display.Align.In.Center(s,this.popup,0,10),this.descText=s}createViewAdsButton(){const e=new $r(this.scene,ee.KEY,ee.FRAME.BUTTON_GREEN_ROUNDED_RECT,184,51),t=this.scene.add.image(0,0,ee.KEY,ee.FRAME.ICON_ADS);t.setWorldSize(27,29),Phaser.Display.Align.In.Center(t,e),t.setX(e.x-60),e.add(t);const s=this.scene.make.bitmapText({text:this.scene.lang.Text.get_now,origin:{x:.5,y:.5},font:I.SHADOW.KEY,size:this.scene.fontSize(22)}),i=this.scene.make.image({key:ee.KEY,frame:ee.FRAME.BUTTON_BG});i.setWorldSize(184,51),e.add(s),Phaser.Display.Align.In.Center(s,e,18,-4),Phaser.Display.Align.In.Center(e,this.popup,0,110),this.popup.add(i),this.popup.add(e),Phaser.Display.Align.In.Center(i,e,0,-1),this.viewAdButton=e,this.viewAdBg=i,e.onClick=this.handleShowRewardedVideoAd}createCloseButton(){const e=new de(this.scene,ee.KEY,ee.FRAME.BUTTON_CLOSE,38,39);Phaser.Display.Align.In.TopRight(e,this.popup,-15,-11),this.popup.add(e),e.onClick=this.handleClosePopup,this.closeButton=e}createGiftIcon(){this.giftIconWhite=this.scene.make.image({key:ee.KEY,frame:ee.FRAME.LOGO_GIFT_WHITE,visible:!1}),this.giftIconWhite.setWorldSize(150,150),this.giftIconWhite.setDepth(C.PRIORITY),this.add(this.giftIconWhite),this.giftIcon=this.scene.make.image({key:ee.KEY,frame:ee.FRAME.LOGO_GIFT,visible:!1}),this.giftIcon.setInteractive({useHandCursor:!0}),this.giftIcon.setWorldSize(150,150),this.giftIcon.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handleTheGiftClick),this.setTheGiftClickable(!1),this.add(this.giftIcon)}createEffects(){this.cometTwinkle=new zr(this.scene),this.starTwinkleUp=new jr(this.scene),this.sparksExplosive=new Vr(this.scene),this.add([this.cometTwinkle,this.starTwinkleUp,this.sparksExplosive])}runGlowSpinTween(){this.glowSpinTween?.stop(),this.whiteGlow.angle=0,this.whiteGlow.setPosition(this.itemIcon.x,this.itemIcon.y),this.glowSpinTween=this.scene.tweens.add({targets:this.whiteGlow,angle:360,duration:5e3,repeat:-1,ease:"Linear"})}runViewAdButtonAnimation(){this.viewAdButtonAnimation?.stop(),this.viewAdButtonAnimation=this.scene.add.tween({targets:[this.viewAdButton],yoyo:!0,repeat:-1,duration:600,repeatDelay:50,ease:Ms,easeParams:[0,.9],props:{scale:{from:1,to:.98}}})}}class W0 extends Pe{scene;isLandscape;constructor(e){super(e),this.scene=e,this.isLandscape=this.scene.world.isLandscape()}start(){this.isRunning()||super.start()}showPauseScreen=()=>{const{screen:e}=this.scene.game.globalScene;let t=e.get(L.PAUSE_SCREEN);t||(t=e.add(L.PAUSE_SCREEN,Np),this.isLandscape&&t.incScale(-.3)),t.once(GameCore.Screens.Events.OPEN,()=>{const{tileManager:s}=this.scene;s.hideAllTiles(),s.hideHintEffect(),this.scene.scene.pause()}),t.once(GameCore.Screens.Events.CLOSE,s=>{s.off(GameCore.Screens.Events.OPEN);const{tileManager:i}=this.scene;i.showAllTiles(),i.showHintEffect(),this.scene.scene.resume()}),e.open(L.PAUSE_SCREEN)};showRescueScreen(e,t){const{screen:s}=this.scene.game.globalScene;let i=s.get(L.RESCUE_SCREEN);i||(i=s.add(L.RESCUE_SCREEN,Bp),this.isLandscape&&(i.incScale(-.3),i.incY(10))),i.once(GameCore.Screens.Events.OPEN,()=>{const{tileManager:o}=this.scene;o.hideAllTiles(),this.scene.scene.pause()}),i.once(GameCore.Screens.Events.CLOSE,o=>{o.off(GameCore.Screens.Events.OPEN);const{tileManager:r}=this.scene;r.showAllTiles(),this.scene.scene.resume()}),s.open(L.RESCUE_SCREEN,{level:e,reason:t})}showResultScreen=(e,t)=>{const{screen:s}=this.scene.game.globalScene;let i=s.get(L.RESULT_SCREEN);i||(i=s.add(L.RESULT_SCREEN,H0),this.isLandscape&&(i.incScale(-.3),i.incY(10))),i.once(GameCore.Screens.Events.OPEN,()=>{this.scene.scene.pause()}),i.once(GameCore.Screens.Events.CLOSE,o=>{o.off(GameCore.Screens.Events.OPEN),this.scene.scene.resume()}),s.open(L.RESULT_SCREEN,{eatStars:e,level:t})};showContinueScreen=(e,t)=>{const{screen:s}=this.scene.game.globalScene;let i=s.get(L.CONTINUE_SCREEN);i||(i=s.add(L.CONTINUE_SCREEN,rp),this.isLandscape&&(i.incScale(-.3),i.incY(-20))),i.once(GameCore.Screens.Events.OPEN,()=>{const{tileManager:o}=this.scene;o.hideAllTiles(),this.scene.scene.pause()}),i.once(GameCore.Screens.Events.CLOSE,o=>{o.off(GameCore.Screens.Events.OPEN);const{tileManager:r}=this.scene;r.showAllTiles(),this.scene.scene.resume()}),s.open(L.CONTINUE_SCREEN,{level:e,reason:t})};showRewardItemScreen=(e,t)=>{const{screen:s}=this.scene.game.globalScene;let i=s.get(L.REWARD_ITEM_SCREEN);i||(i=s.add(L.REWARD_ITEM_SCREEN,K0),this.isLandscape&&i.incScale(-.3)),i.once(GameCore.Screens.Events.OPEN,()=>{this.scene.scene.pause()}),i.once(GameCore.Screens.Events.CLOSE,o=>{o.off(GameCore.Screens.Events.OPEN),this.scene.scene.resume()}),s.open(L.REWARD_ITEM_SCREEN,{itemId:e,rewardCount:t})};showDailyRewardsScreen=e=>{const{screen:t}=this.scene.game.globalScene;let s=t.get(L.DAILY_REWARDS_SCREEN);s||(s=t.add(L.DAILY_REWARDS_SCREEN,gp),this.isLandscape&&s.incScale(-.3)),s.once(GameCore.Screens.Events.OPEN,()=>{this.scene.scene.pause()}),s.once(GameCore.Screens.Events.CLOSE,i=>{i.off(GameCore.Screens.Events.OPEN),this.scene.scene.resume()}),t.open(L.DAILY_REWARDS_SCREEN,e)}}const z0=[{id:1,value:{ItemHint:3}},{id:2,value:{ItemShuffle:3}},{id:3,value:{ItemRocket:3}},{id:4,value:{ItemBombDefuse:3}},{id:5,value:{ItemShuffle:3,ItemHint:3}},{id:6,value:{ItemRocket:3,ItemBombDefuse:3}},{id:7,value:{ItemShuffle:2,ItemRocket:4,ItemHint:3}}],V0=()=>z0,{Gameplay:Dt}=GameCore.Configs;class j0 extends Fr{prevScore=0;gameplayMode;gameStatus;currentScore=0;prevTargetScore=0;isReachTargetScore=!1;levelHandler;uiManager;tileManager;modeManager;itemManager;boardManager;comboManager;effectManager;layoutManager;screenManager;tutorialManager;animationManager;levelStartAt;levelEndAt;delayTimer;isDailyRewardChecked=!1;preload(){this.events.on(Phaser.Scenes.Events.WAKE,this.run),this.events.on(Phaser.Scenes.Events.CREATE,this.run)}create=()=>{super.create(),this.levelStartAt=0,this.levelEndAt=0,this.createBackground(Be.BACKGROUND.KEY),this.createHandler(),this.createManager(),this.listenEvents(),this.addGlobalMethodsForGlance(),window.__resetData=this.resetData};addGlobalMethodsForGlance=()=>{const e=()=>{for(const t of Object.values(L)){const s=this.game.globalScene.screen.get(t);s&&s.visible&&this.game.globalScene.screen.close(t)}if(this.tutorialManager.tutGuide5){const t=this.tutorialManager.tutGuide5.popup;t&&t.visible&&t.kill()}if(this.tutorialManager.tutGuide6){const t=this.tutorialManager.tutGuide6.popup;t&&t.visible&&t.kill()}};window.pauseEvent=()=>{this.game.globalScene.screen.get(L.PAUSE_SCREEN)?.visible||this.screenManager.showPauseScreen()},window.resumeEvent=()=>{e()},window.replayGameEvent=async()=>{e(),O.emit(R.REPLAY)},window.nextLevelEvent=()=>{e(),this.finishLevel(!0)},window.gotoLevel=async t=>{t<0||(e(),this.levelHandler.setConfig(t),await this.player.setMultiCustomData({levelProgress:t}),O.emit(R.NEXT_LEVEL))},window.gotoHomeEvent=()=>{e(),this.player.updateBestScore(this.currentScore),this.analytics.levelFail(this.levelHandler.level),O.emit(R.REPLAY)},window.enableSound=t=>{this.player.setSetting("sound",t),this.player.setSetting("music",t),t?this.audio.playMusic():this.audio.pauseMusic()}};resetData=async()=>{const e=new vt({}).toObject();await FBInstant.player.setDataAsync(e),this.player.setMultiCustomData({levelProgress:1})};checkOfflineReward(){const e=this.player.getCustomData("lastTimePlayed");if(!GameCore.Utils.Valid.isNumber(e)){this.player.setCustomData("lastTimePlayed",Date.now());return}if(!ws(e)){const t=new Date,s=new Date(e),i=new Date(s.toDateString()),o=Math.abs(t.valueOf()-i.valueOf()),n=Math.floor(o/864e5)>1;this.player.setCustomData("lastTimePlayed",Date.now());let l=this.player.getCustomData("persistentLoginCount");(!GameCore.Utils.Valid.isNumber(l)||n)&&(l=0);const c=V0(),d=c[l];this.screenManager.showDailyRewardsScreen(d.value);let m=l+1;m>=c.length&&(m=0),this.player.setCustomData("persistentLoginCount",m);return}}createHandler(){this.levelHandler=new Mh(this)}initHandler(){this.levelHandler.init()}createManager(){this.layoutManager=new ip(this),this.animationManager=new Yu(this),this.tileManager=new $h(this),this.modeManager=new Ch(this),this.itemManager=new yh(this),this.boardManager=new uh(this),this.comboManager=new If(this),this.effectManager=new Af(this),this.screenManager=new W0(this),this.tutorialManager=new df(this),this.uiManager=new mf(this)}initManager(){this.uiManager.init(),this.boardManager.init(),this.tileManager.init(),this.modeManager.init(),this.itemManager.init(),this.comboManager.init(),this.screenManager.init(),this.effectManager.init(),this.tutorialManager.init(),this.animationManager.init(),this.layoutManager.init()}stopManager(){this.uiManager.stop(),this.boardManager.stop(),this.tileManager.stop(),this.modeManager.stop(),this.itemManager.stop(),this.comboManager.stop(),this.screenManager.stop(),this.effectManager.stop(),this.tutorialManager.stop(),this.animationManager.stop(),this.layoutManager.stop()}startManager(){this.boardManager.start(),this.tileManager.start(),this.modeManager.start(),this.itemManager.start(),this.comboManager.start(),this.screenManager.start(),this.effectManager.start(),this.tutorialManager.start(),this.animationManager.start(),this.uiManager.start(),this.layoutManager.start()}listenEvents(){O.on(R.REPLAY,this.replay),O.on(R.GAME_OVER_REPLAY,this.gameOverReplay),O.on(R.RESCUE,this.rescued),O.on(R.CONTINUE,this.continue),O.on(R.NEXT_LEVEL,this.handleNextLevel),O.on(R.RECEIVE_ITEM,this.handleReceiveItem),O.on(R.SHOW_RESCUE_SCREEN,this.showRescueScreen)}run=()=>{this.startGame(),this.scene.get(Z.LOAD_SCENE).lazyLoadResources()};startGame(){const{player:e}=this.game;!!e.getPlayerSetting("music")&&this.audio.setMusicVolume(1),this.levelStartAt=Date.now(),this.gameplayMode=Mf.NORMAL,this.gameStatus=le.PLAYING,this.prevScore=Dt.StartScore,this.prevTargetScore=0,this.currentScore=0,this.initHandler(),this.initManager(),this.setScore(this.prevScore);const{level:s}=this.levelHandler,{objects:i,groups:o}=this.layoutManager;o.gameUI.reviveGroup(),this.uiManager.updateLevel(s),i.starProgressBar.setProcess(0),this.analytics.levelStart(s,this.currentScore),this.tutorialManager.checkIsValidForTutorial()&&this.uiManager.showUIForGuide(),this.layoutManager.layout.alignItems(),this.audio.playSound(B.LEVEL_START),this.audio.playMusic(),this.startManager(),this.isDailyRewardChecked===!1&&(this.isDailyRewardChecked=!0,this.checkOfflineReward())}setScore(e){this.currentScore=e;const{targetScore:t}=this.levelHandler;this.isReachTargetScore=this.currentScore>=t}eatScore=e=>{if(this.gameStatus!==le.PLAYING)return;this.currentScore+=e;const{targetScore:t}=this.levelHandler,{objects:s}=this.layoutManager;s.starProgressBar.setProcess(this.currentScore/t),this.setScore(this.currentScore)};die=(e,t)=>{this.gameStatus!==le.DYING&&(this.gameStatus=le.DYING,O.emit(R.DIE),this.tileManager.isSelectable=!1,this.tileManager.removeSuggestPairHint(),this.itemManager.setIsUseableItem(!1),this.uiManager.disablePause(),this.updateNotificationData(),this.delayTimer?.remove(),this.delayTimer=this.time.addEvent({delay:Dt.DelayEndGame,callback:()=>{this.audio.pauseMusic(),this.analytics.gameLifeEnd(1,e,this.currentScore),this.showRescueScreen({level:e,reason:t})}}))};rescued=e=>{const t=this.levelHandler.level;if(this.analytics.levelRescue(t,this.currentScore),this.uiManager.enablePause(),this.gameStatus=le.PLAYING,this.audio.playSound(B.LEVEL_START),this.delayTimer?.remove(),this.delayTimer=this.time.addEvent({delay:Dt.DelayStart/2,callback:()=>{this.tileManager.isSelectable=!0,this.itemManager.setIsUseableItem(!0)}}),!GameCore.Utils.Valid.isObject(e))return;const{reason:s}=e;if(s==="timeUp"){const{objects:i}=this.layoutManager;i.playtimeClock.handleRescueTimeout()}};continue=e=>{this.rescued(e)};replay=()=>{const e=this.levelHandler.level;this.analytics.levelFail(e,this.currentScore),this.stopManager(),this.startGame()};gameOverReplay=async()=>{const e=this.levelHandler.level;this.analyticLevelFail(e),await this.handleShowInterstitialAd(),this.stopManager(),this.startGame()};updateNotificationData=()=>{const e=this.player.getBestScore(),t=this.levelHandler.level,s=this.player.getCustomData("items");let i=[];GameCore.Utils.Valid.isObject(s)&&(i=Object.keys(s).map(r=>({itemId:r,quantity:s[r]})).filter(r=>!!r.itemId)),this.notification.updateData({friendIds:this.player.getConnectedPlayerIds(10,0),gameSettings:this.player.getPlayerSettings(),gameProgress:{currentLevel:t,itemsCollected:i},gameStatistics:{highScore:e}}),this.notification.sendRequest()};analyticLevelFail(e){this.levelEndAt=Date.now(),this.analytics.levelFail(e,this.currentScore)}endGame(){this.replay()}finishLevel=(e=!1)=>{if(!e&&this.gameStatus===le.FINISHED)return;this.uiManager.disablePause();const{objects:t}=this.layoutManager;t.playtimeClock.pauseClock(),this.tileManager.removeSuggestPairHint();const{targetScore:s,level:i}=this.levelHandler,o=this.levelHandler.up();if(O.emit(R.FINISH),!o){this.die(i,"levelFail");return}this.gameStatus=le.FINISHED,t.starProgressBar.setProcess(1),this.levelEndAt=Date.now(),this.analytics.levelComplete(i,this.currentScore),this.prevTargetScore=s,this.prevScore=this.currentScore,this.setScore(this.currentScore),this.updateNotificationData(),i===1?this.handleFinishLevel(i)():this.time.delayedCall(Dt.DelayLevelUp,this.handleFinishLevel(i))};handleFinishLevel=e=>()=>{this.effectManager.playFlyingStarFromClockEffect(async()=>{if(e===1){this.handleNextLevel();return}const s=await this.handleShowInterstitialAd()?0:1e3;this.delayTimer?.remove(),this.delayTimer=this.time.addEvent({delay:s,callback:()=>{this.audio.pauseMusic();const{starProgressBar:i}=this.layoutManager.objects,{level:o}=this.levelHandler;this.comboManager.stop();const r=i.getStarAmount();this.showResultScreen(r,o-1)}})})};handleNextLevel=async()=>{this.stopManager(),this.startGame()};handleShowInterstitialAd=async()=>{const{level:e}=this.levelHandler;let t=!1;if(e>=Dt.StartAdAtLevel&&this.ads.canbeShowInterstitialAd()){const{globalScene:s,lang:i}=this.game;let o=null;try{o=this.time.delayedCall(200,()=>{this.game.globalScene.screen.open(L.NOTIFY_SCREEN,{message:i.Text.loading_ads,duration:0,loading:!0})}),this.audio.pauseAllSounds(),this.audio.pauseMusic(),this.ads.getAdStatus(GameCore.Ads.Types.INTERSTITIAL)===GameCore.Ads.Status.IDLE&&await this.ads.preloadInterstitialAdAsync(),await this.ads.showInterstitialAdAsync(),t=!0}catch(r){console.warn("Show interstitial ad error",r)}finally{this.audio.playMusic(),this.audio.resumeAllSounds(),s.screen.events.off(GameCore.Screens.Events.CLOSE),o?.remove(),this.ads.preloadInterstitialAdAsync().catch(()=>{}),s.screen.close(L.NOTIFY_SCREEN)}}return t};handleReceiveItem=e=>{const{itemId:t,rewardCount:s,updateUI:i=!0,isFree:o=!1}=e;this.itemManager.addItemAmount(t,s,i),o===!1?this.game.analytics.event(M.EARN_ITEM,{item_name:t,value:s}):this.game.analytics.event(M.GET_FREE_ITEM,{item_name:t,value:s})};showRescueScreen=e=>{const{level:t,reason:s}=e;this.time.delayedCall(0,()=>{this.screenManager.showRescueScreen(t,s)})};showResultScreen=(e,t)=>{this.screenManager.showResultScreen(e,t)};getPlayedTimeSeconds(){return Math.floor((this.levelEndAt-this.levelStartAt)/1e3)}}const Ze=j0,$0=a=>a.context,X0=a=>a.context.currentGameMode;se([$0],a=>a);const Z0=se([X0],a=>a),q0=[M.SCREEN_OPEN];class Pb extends GameCore.Analytics.BaseAnalytics{game;trackingId;currentPath="/";constructor(e,t){super("GoogleAnalytics",{...t},"#E35335");const{trackingId:s}=t;this.game=e;const{consoleLog:i}=GameCore.Configs.Analytics.GoogleAnalytics||{};this.selfLog=!!i,this.trackingId=s}processEvent(e,t,s){if(q0.indexOf(e)>=0)return;const i=this.formatEventName(e);let o=t?{...t}:{};o=s?{...o,value:s}:o,o={...o,page_path:this.currentPath,send_to:"GA"},gtag("event",i,o)}processLevelStart(e,t,s){this.processEvent(M.LEVEL_START,{level:e,score:t,level_name:s})}processLevelRescue(e,t,s){this.processEvent(M.LEVEL_RESCUE,{level:e,score:t,level_name:s})}processLevelFail(e,t,s){this.processEvent(M.LEVEL_END,{level:e,score:t,level_name:s,success:!1})}processLevelComplete(e,t,s){this.processEvent(M.LEVEL_END,{level:e,score:t,level_name:s,success:!0})}processShowInterstitialAd(e){const t=window.game.globalScene.scene.get(Z.GAME_SCENE);let s=window.game.player.getCustomData("levelProgress");GameCore.Utils.Valid.isNumber(s)||(s=1),t instanceof Ze&&t.gameStatus===le.FINISHED&&(s-=1),this.processEvent(M.AD_SHOW,{ad_type:"interstitial",screen_name:`${e}`,level:s}),this.processEvent(M.AD_IMPRESSION,{ad_format:"Interstitial"})}processShowRewardedVideoAd(e){const t=window.game.globalScene.scene.get(Z.GAME_SCENE);let s=window.game.player.getCustomData("levelProgress");GameCore.Utils.Valid.isNumber(s)||(s=1),t instanceof Ze&&t.gameStatus===le.FINISHED&&(s-=1),this.processEvent(M.AD_SHOW,{ad_type:"rewarded_video",screen_name:`${e}`,level:s}),this.processEvent(M.AD_IMPRESSION,{ad_format:"Rewarded"})}processShowAdFail(e,t){const s=window.game.globalScene.scene.get(Z.GAME_SCENE);let i=window.game.player.getCustomData("levelProgress");GameCore.Utils.Valid.isNumber(i)||(i=1),s instanceof Ze&&s.gameStatus===le.FINISHED&&(i-=1);const o=e===GameCore.Ads.Types.REWARDED?"rewarded_video":"interstitial";this.processEvent(M.AD_SHOW_FAILED,{ad_type:o,screen_name:`${t}`,level:i})}processPageView(e){const s=`/${this.getGameplayMode()}/${e}`;this.currentPath=s,gtag("event","page_view",{page_path:this.currentPath,send_to:["GA",this.trackingId]})}getGameplayMode(){const{storage:e}=this.game,t=e.getState();return Z0(t)}formatEventName(e){return e.toLowerCase().replace(/:/g,"_")}}class Q0 extends Phaser.Scene{create(){this.facebook.progressLoading.loadingProgressFbBootScene(),this.startGame()}startGame=async()=>{try{await this.auth.requestToken(),await this.storage.syncStore(),this.detectGameMode(),this.initAnalytics(),this.analytics.event(M.LOAD_START),this.scene.launch(Z.GLOBAL_SCENE),this.scene.start(Z.LOAD_SCENE),this.analytics.pageview(Z.LOAD_SCENE)}catch{}finally{this.facebook.progressLoading.finishLoadingProgressFbBootScene(),this.scene.sleep(Z.BOOT_SCENE)}};detectGameMode(){this.storage.dispatch(nm())}initAnalytics(){this.analytics.add(new qm(this.game,{}))}}const{Valid:xa}=GameCore.Utils;class J0{currencies;constructor(e){this.initDefaultValues(),xa.isObject(e)&&Object.keys(e).forEach(t=>{Object.hasOwn(e,t)&&xa.isNumber(e[t])&&(this.currencies[t]=e[t])})}initDefaultValues(){this.currencies={}}toObject(){return{...this.currencies}}}const{Object:Ve,Valid:Ge}=GameCore.Utils;class eb{currentLevel;itemsCollected;levelsCompleted;constructor(e){this.initDefaultValues(),Ge.isObject(e)&&(Ve.hasOwn(e,"currentLevel")&&Ge.isNumber(e.currentLevel)&&(this.currentLevel=e.currentLevel),Ve.hasOwn(e,"itemsCollected")&&Array.isArray(e.itemsCollected)&&(this.itemsCollected=e.itemsCollected.filter(t=>!(!Ge.isObject(t)||!Ve.hasOwn(t,"itemId")||!Ge.isString(t.itemId)||!Ve.hasOwn(t,"quantity")||!Ge.isNumber(t.quantity)))),Ve.hasOwn(e,"levelsCompleted")&&Array.isArray(e.levelsCompleted)&&(this.levelsCompleted=e.levelsCompleted.filter(t=>!(!Ge.isObject(t)||!Ve.hasOwn(t,"score")||!Ge.isNumber(t.score)||!Ve.hasOwn(t,"levelId")||!Ge.isString(t.levelId)))))}initDefaultValues(){this.currentLevel=0,this.levelsCompleted=[],this.itemsCollected=[]}toObject(){return{currentLevel:this.currentLevel,itemsCollected:this.itemsCollected,levelsCompleted:this.levelsCompleted}}}const{Object:Ts,Valid:Nt}=GameCore.Utils;class tb{highScore;timePlayed;totalGamesWon;totalGamesLose;constructor(e){this.initDefaultValues(),Nt.isObject(e)&&(Ts.hasOwn(e,"highScore")&&Nt.isNumber(e.highScore)&&(this.highScore=e.highScore),Ts.hasOwn(e,"timePlayed")&&Nt.isNumber(e.timePlayed)&&(this.timePlayed=e.timePlayed),Ts.hasOwn(e,"totalGamesWon")&&Nt.isNumber(e.totalGamesWon)&&(this.totalGamesWon=e.totalGamesWon),Ts.hasOwn(e,"totalGamesLose")&&Nt.isNumber(e.totalGamesLose)&&(this.totalGamesLose=e.totalGamesLose))}initDefaultValues(){this.highScore=0,this.timePlayed=0,this.totalGamesWon=0,this.totalGamesLose=0}toObject(){return{highScore:this.highScore,timePlayed:this.timePlayed,totalGamesWon:this.totalGamesWon,totalGamesLose:this.totalGamesLose}}}const{sound:sb,music:ib,theme:ob,vibrate:ab,language:rb}=Et,{Object:Gt,Valid:pt}=GameCore.Utils;class nb{sound;music;vibrate;theme;language;constructor(e){this.initDefaultData(),pt.isObject(e)&&(Gt.hasOwn(e,"sound")&&pt.isBoolean(e.sound)&&(this.sound=e.sound),Gt.hasOwn(e,"music")&&pt.isBoolean(e.music)&&(this.music=e.music),Gt.hasOwn(e,"vibrate")&&pt.isBoolean(e.vibrate)&&(this.vibrate=e.vibrate),Gt.hasOwn(e,"theme")&&pt.isString(e.theme)&&(this.theme=e.theme),Gt.hasOwn(e,"language")&&pt.isString(e.language)&&(this.language=e.language))}initDefaultData(){this.sound=sb,this.music=ib,this.theme=ob,this.vibrate=ab,this.language=rb}toObject(){return{sound:this.sound,music:this.music,theme:this.theme,vibrate:this.vibrate,language:this.language}}}const{settings:lb}=qa,{Object:he,Valid:Fe}=GameCore.Utils;class cb{gpId;appId;glanceId;playerId;name;photo;locale;friendIds;gameProgress;gameSettings;gameStatistics;currencyBalance;constructor(e){this.initDefaultValues(),Fe.isObject(e)&&(he.hasOwn(e,"gpId")&&Fe.isString(e.gpId)&&(this.gpId=e.gpId),he.hasOwn(e,"appId")&&Fe.isString(e.appId)&&(this.appId=e.appId),he.hasOwn(e,"glanceId")&&Fe.isString(e.glanceId)&&(this.glanceId=e.glanceId),he.hasOwn(e,"playerId")&&Fe.isString(e.playerId)&&(this.playerId=e.playerId),he.hasOwn(e,"name")&&Fe.isString(e.name)&&(this.name=e.name),he.hasOwn(e,"photo")&&Fe.isString(e.photo)&&(this.photo=e.photo),he.hasOwn(e,"locale")&&Fe.isString(e.locale)&&(this.locale=e.locale),he.hasOwn(e,"friendIds")&&Array.isArray(e.friendIds)&&(this.friendIds=e.friendIds),he.hasOwn(e,"gameProgress")&&(this.gameProgress=new eb(e.gameProgress).toObject()),he.hasOwn(e,"gameStatistics")&&(this.gameStatistics=new tb(e.gameStatistics).toObject()),he.hasOwn(e,"currencyBalance")&&(this.currencyBalance=new J0(e.currencyBalance).toObject()),he.hasOwn(e,"gameSettings")&&(this.gameSettings=new nb(e.gameSettings).toObject()))}initDefaultValues(){this.gpId="",this.appId="",this.glanceId="",this.playerId="",this.name="",this.photo="",this.locale="en_US",this.friendIds=[],this.gameProgress={currentLevel:0,itemsCollected:[],levelsCompleted:[]},this.gameSettings={...lb},this.gameStatistics={highScore:0,timePlayed:0,totalGamesWon:0,totalGamesLose:0},this.currencyBalance={}}toObject(){return{gpId:this.gpId,appId:this.appId,glanceId:this.glanceId,playerId:this.playerId,name:this.name,photo:this.photo,locale:this.locale,friendIds:this.friendIds,gameProgress:this.gameProgress,gameSettings:this.gameSettings,gameStatistics:this.gameStatistics,currencyBalance:this.currencyBalance}}}class db extends Phaser.Plugins.BasePlugin{data;endpoint;enabled;async setup(e,t){this.enabled=!0,this.endpoint=e,console.log("NotificationPlugin: configure",e,t),this.updateData(t)}updateData=async e=>{if(!this.enabled)return;const t=ce(this.data,e);this.data=new cb(t).toObject(),console.log("NotificationPlugin: updatePayload",this.data)};sendRequest=async()=>{try{if(!this.enabled)return;const{playerId:e}=this.data,t={...this.data};console.log("NotificationPlugin: sendRequest",t);const i=(await Za(`players/${e}`,t,{},this.endpoint,10))?.data||{};this.updateData(i)}catch(e){console.warn("NotificationPlugin: sendRequest",e)}}}class Ra extends GameCore.Ads.AdInstance{instance;placementId;constructor(e,t){super(e),this.instance=null,this.placementId=t}static setGame(e){self.game=e}async loadAsync(){if(console.log("loadAsync",this.type,this.status),this.status===GameCore.Ads.Status.IDLE)try{if(this.status=GameCore.Ads.Status.LOADING,this.instance=await this.createInstanceByType(this.type),this.instance===null)throw new GameCore.Ads.AdError("AD_INSTANCE_NOT_INITIATED","Ad instance didn't initiated.");await this.instance.loadAsync(),this.status=GameCore.Ads.Status.FILLED}catch(e){throw this.status=GameCore.Ads.Status.IDLE,this.instance=null,e}}async showAsync(){const e=this.getSceneName();try{if(console.log("showAsync",this.type,this.status),this.status===GameCore.Ads.Status.LOADING)throw new GameCore.Ads.AdError("AD_ARE_LOADING","Ads are loading.");if(this.status!==GameCore.Ads.Status.FILLED)throw new GameCore.Ads.AdError("AD_NOT_FILLED","Ads no fill.");if(this.status=GameCore.Ads.Status.SHOWING,this.instance===null)throw new GameCore.Ads.AdError("AD_INSTANCE_NOT_INITIATED","Ad instance didn't initiated.");this.type===GameCore.Ads.Types.REWARDED&&window.sendCustomAnalyticsEvent(M.GLANCE_REWARDED_AD,{failureCB:()=>window.handleRewardedFail(),successCB:()=>window.handleRewardedSuccess()}),await this.instance.showAsync(),this.type===GameCore.Ads.Types.INTERSTITIAL&&self.game.analytics.showInterstitialAd(e),this.type===GameCore.Ads.Types.REWARDED&&self.game.analytics.showRewardedVideoAd(e),this.status=GameCore.Ads.Status.IDLE,this.instance=null}catch(t){if(console.warn("showAsync error",t),this.status=GameCore.Ads.Status.IDLE,this.instance=null,t instanceof Object&&GameCore.Utils.Object.hasOwn(t,"code")){if(t.code==="AD_ARE_LOADING"&&this.type===GameCore.Ads.Types.REWARDED){self.game.analytics.showAdFail(this.type,e,t);return}if(t.code==="AD_NOT_FILLED"&&this.type===GameCore.Ads.Types.REWARDED){self.game.analytics.showAdFail(this.type,e,t);return}}throw self.game.analytics.showAdFail(this.type,e,t),t}}getStatus(){return this.status}async createInstanceByType(e){const{facebook:t}=self.game;switch(e){case GameCore.Ads.Types.REWARDED:return await t.getRewardedVideoAsync(this.placementId);case GameCore.Ads.Types.INTERSTITIAL:return await t.getInterstitialAdAsync(this.placementId);default:return null}}getSceneName(){try{const{globalScene:e}=self.game;return e instanceof Xi?e.getCurrentScene().scene.getSceneName():"unknown"}catch{return"unknown"}}}const{Object:Oa,Valid:Ce}=GameCore.Utils;class mb extends Phaser.Game{constructor(e){super(e)}async boot(){super.boot(),this.addExtraGameObjectMethods(),this.addExtraFBInstantFunctions(),this.addPlugins(),await this.addDevPlugins(),await this.initAdsAsync(),this.addScenes(),this.addDevScenes(),this.initWorld(),this.initStorage(),this.initLanguage(),this.initUtils(),this.initConsole(),this.initDebugger(),this.initStatistics(),this.initParticleEditor(),this.initNotificationPlugin(),this.initAdaptivePerformance(),this.initProfilerPlugin(),this.handleShowInterAdWhenStartGame(),this.addGlanceGlobalMethods()}start(){super.start()}addExtraGameObjectMethods(){const e=new Wl;e.addKillRevive(),e.addKillReviveGroup(),e.addDrawDebugBox(),e.addSetWorldSize(),e.addSetWorldSizeForContainer(),e.addGetWorldPosition(),e.addHighQuality()}addExtraFBInstantFunctions(){const e=new Hl(this.facebook);this.facebook.getLocale=e.getLocale,this.facebook.shareAsync=e.shareAsync,this.facebook.inviteAsync=e.inviteAsync,this.facebook.switchAsync=e.switchAsync,this.facebook.chooseAsync=e.chooseAsync,this.facebook.createAsync=e.createAsync,this.facebook.sendMessage=e.sendMessage,this.facebook.getContextID=e.getContextID,this.facebook.getPlayerToken=e.getPlayerToken,this.facebook.matchPlayerAsync=e.matchPlayerAsync,this.facebook.getContextPlayers=e.getContextPlayers,this.facebook.setLoadingProgress=e.setLoadingProgress,this.facebook.attemptToAddShortcut=e.attemptToAddShortcut,this.facebook.attemptToSubscribeBot=e.attemptToSubscribeBot,this.facebook.postSessionScoreAsync=e.postSessionScoreAsync,this.facebook.getRewardedVideoAsync=e.getRewardedVideoAsync,this.facebook.sendNotificationAsync=e.sendNotificationAsync,this.facebook.getInterstitialAdAsync=e.getInterstitialAdAsync,e.injectTournament(),this.facebook.progressLoading=new Kl(this)}addPlugins(){this.plugins.install("Storage",Jd,!0,"storage"),this.plugins.install("AdsManager",Vl,!0,"ads"),this.plugins.install("AuthManager",dc,!0,"auth"),this.plugins.install("AudioManager",ql,!0,"audio"),this.plugins.install("WorldManager",om,!0,"world"),this.plugins.install("PlayerManager",Xc,!0,"player"),this.plugins.install("LanguageManager",Zm,!0,"lang"),this.plugins.install("ProfileManager",id,!0,"profile"),this.plugins.install("AnalyticsManager",$l,!0,"analytics"),this.plugins.install("NotificationPlugin",db,!0,"notification"),this.plugins.install("AdaptivePerformance",bc,!0,"performance"),this.plugins.installScenePlugin("textStyler",im,"textStyler"),this.plugins.installScenePlugin("ScreenManager",nd,"screen"),this.plugins.installScenePlugin("FrameCapture",fc,"frameCapture"),window.SpinePlugin&&this.plugins.installScenePlugin("SpinePlugin",SpinePlugin,"spine"),this.storage=this.plugins.get("Storage"),this.ads=this.plugins.get("AdsManager"),this.auth=this.plugins.get("AuthManager"),this.audio=this.plugins.get("AudioManager"),this.world=this.plugins.get("WorldManager"),this.player=this.plugins.get("PlayerManager"),this.lang=this.plugins.get("LanguageManager"),this.profile=this.plugins.get("ProfileManager"),this.analytics=this.plugins.get("AnalyticsManager"),this.notification=this.plugins.get("NotificationPlugin"),this.performance=this.plugins.get("AdaptivePerformance")}async addDevPlugins(){if(!Ce.isDebugger())return;const e=(await ot(()=>import("./devtool.js").then(r=>r.i),[],import.meta.url)).default,t=(await ot(()=>import("./devtool.js").then(r=>r.a),[],import.meta.url)).default,s=(await ot(()=>import("./devtool.js").then(r=>r.b),[],import.meta.url)).default,i=(await ot(()=>import("./devtool.js").then(r=>r.c),[],import.meta.url)).default,o=(await ot(()=>import("./devtool.js").then(r=>r.d),[],import.meta.url)).default;this.plugins.install("Console",e,!0,"console"),this.plugins.install("Debugger",t,!0,"debugger"),this.plugins.install("Profiler",i,!0,"profiler"),this.plugins.install("Statistics",s,!0,"statistics"),this.plugins.install("ParticleEditor",o,!0,"particle-editor"),this.eruda=this.plugins.get("Console"),this.debugger=this.plugins.get("Debugger"),this.profiler=this.plugins.get("Profiler"),this.statistics=this.plugins.get("Statistics"),this.particleEditor=this.plugins.get("ParticleEditor")}addScenes(){this.scene.add(Z.BOOT_SCENE,Q0,!0),this.scene.add(Z.LOAD_SCENE,Qr,!1),this.scene.add(Z.GAME_SCENE,Ze,!1),this.scene.add(Z.GLOBAL_SCENE,Xi,!1)}async addDevScenes(){if(!Ce.isDebugger())return;const e=(await ot(()=>import("./devscene.js"),["./devscene.js","./engine.js"],import.meta.url)).default;this.scene.add(Z.TEST_SCENE,e,!1)}async initAdsAsync(){const{Ads:e}=GameCore.Configs;Ra.setGame(this);const t=Ra,s={...e.InterstitialAdOptions},i=window.GlanceGamingAdInterface!=null&&window.isAdSDKLoaded;s.showWhenStartGame&&(s.secondsFirstTime=0),this.ads.configure(t,{enabled:e.Enabled&&i,calculateSafeAreaBottom:e.CalculateSafeAreaBottom,enableRewardVideoResetInterstitial:e.EnableRewardVideoResetInterstitial,interstitialAdOptions:s,rewardAdOptions:e.RewardAdOptions,bannerAdOptions:e.BannerAdOptions})}initWorld(){const{Game:e}=GameCore.Configs,{AutoResize:t,PortraitRatio:s,PortraitWidth:i,PortraitHeight:o,LandscapeRatio:r,LandscapeWidth:n,LandscapeHeight:l,DisableLandscape:c,FullSizeOnLandscape:d}=e,m=t,h=c,p=d,b=s,E=i,P=o,v=r,g=n,T=l;this.world.configure({autoResize:m,portraitRatio:b,portraitWidth:E,portraitHeight:P,landscapeRatio:v,landscapeWidth:g,landscapeHeight:T,disableLandscape:h,fullSizeOnLandscape:p}),this.world.resize(e.ForcePixelRatio)}initStorage(){const e=new hm(this);this.storage.setInitiator(e)}initLanguage(){const e=this.facebook.getLocale();this.lang.configure({locale:e,upperCaseText:!1})}initUtils(){this.handlePauseAudio(),this.removeUnusedPipelines(),dm()}initConsole(){if(!Ce.isDebugger())return;const{ShowConsole:e}=GameCore.Configs.Debugger;e&&this.eruda.configure({tool:["console","info"],defaults:{theme:"Dark"}})}initDebugger(){if(!Ce.isDebugger())return;const{ShowInspector:e,ShowMonitoring:t}=GameCore.Configs.Debugger;!e&&!t||this.debugger.configure(GameCore.Configs.Debugger)}initStatistics(){if(!Ce.isDebugger())return;const{Enable:e}=GameCore.Configs.Statistics;e&&this.statistics.configure(GameCore.Configs.Statistics)}initParticleEditor(){if(!Ce.isDebugger())return;const{Enable:e}=GameCore.Configs.ParticleEditor;e&&this.particleEditor.configure(GameCore.Configs.ParticleEditor)}initProfilerPlugin(){if(!Ce.isDebugger())return;const{Enable:e}=GameCore.Configs.ProfilerPlugin;e&&this.profiler.configure()}initNotificationPlugin(){const{AppId:e}=GameCore.Configs,{Enable:t,ApiUrl:s}=GameCore.Configs.Notification;if(!t)return;let i=null;if(Oa.hasOwn(window.__glancePlayerData,"glanceId")&&Ce.isString(window.__glancePlayerData.glanceId)&&(i=window.__glancePlayerData.glanceId),!i)return;let o=null;if(Oa.hasOwn(window.__glancePlayerData,"gpID")&&Ce.isString(window.__glancePlayerData.gpID)&&(o=window.__glancePlayerData.gpID),!o)return;const r={gpId:o,appId:e,glanceId:i};this.notification.setup(s,r)}addGlanceGlobalMethods(){window.enableSound=e=>{this.player.setSetting("music",e),this.player.setSetting("sound",e),e?this.audio.playMusic():this.audio.pauseMusic()}}initAdaptivePerformance(){const{Enable:e,...t}=GameCore.Configs.Performance;if(!e)return;const s=this.world.getPixelRatio();this.performance.configure({pixelRatio:s,...t}),this.performance.active()}handlePauseAudio(){this.sound.pauseOnBlur=!1,document.addEventListener("visibilitychange",()=>{if(document.hidden){this.audio.pauseMusic(!0),this.audio.pauseAllSounds();return}this.audio.playMusic(),this.audio.resumeAllSounds()})}removeUnusedPipelines(){const e=this.renderer;if(!(e instanceof Phaser.Renderer.WebGL.WebGLRenderer))return;const{pipelines:t}=e,s=Phaser.Renderer.WebGL.Pipelines;if(!s)return;[s.ROPE_PIPELINE,s.LIGHT_PIPELINE,s.POSTFX_PIPELINE,s.POINTLIGHT_PIPELINE,s.BITMAPMASK_PIPELINE].forEach(o=>{t.get(o)?.destroy(),t.remove(o)})}async handleShowInterAdWhenStartGame(){const{InterstitialAdOptions:e}=GameCore.Configs.Ads;if(e.showWhenStartGame)try{this.audio.stopMusic(),this.audio.muteAll(),await this.ads.showInterstitialAdAsync()}catch(t){Sr(t)}finally{this.audio.unmuteAll(),this.audio.playMusic(),await this.ads.preloadInterstitialAdAsync()}}}const{ShowInspector:ub}=GameCore.Configs.Debugger,hb={parent:"app",type:Phaser.AUTO,width:0,height:0,scale:{autoRound:!0},dom:{createContainer:!1},loader:{maxParallelDownloads:6,crossOrigin:"no-cros"},audio:{},input:{gamepad:!1,keyboard:ub,touch:{capture:!0},smoothFactor:1,activePointers:1,windowEvents:!1},disableContextMenu:!0,render:{pixelArt:!1,antialias:!0,antialiasGL:!0,transparent:!0,desynchronized:!1,powerPreference:"high-performance",clearBeforeRender:!1,roundPixels:!1},plugins:{global:[]}},fb=()=>{try{const a=new mb(hb);window.game=a}catch{}},pb=()=>{const a=setInterval(()=>{if(!window.__analyticsInitiated||!window.FBInstant)return;//! temporarily fix for not use adapter
window.GameSDK=window.FBInstant,window.__fbGameReady=!1,clearInterval(a),clearInterval(window.__fbInstantLoadingTimer),GameSDK.setLoadingProgress(30),"gtag"in window&&gtag("event","app_initialize",{send_to:["GA"]}),fb()},50)};pb();export{Fr as B,C as D,w as S,ld as c,wb as g};
