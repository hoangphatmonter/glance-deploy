import"./engine.js";const yn=(a,e=1)=>Array.from({length:Math.ceil(a.length/e)},(t,s)=>a.slice(s*e,s*e+e)),En=(a,e)=>a.filter(t=>!e.includes(t)),Pn=a=>{for(let e=a.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[a[e],a[t]]=[a[t],a[e]]}},Sn=(a,e,t)=>t.indexOf(a)===e&&a!==null&&a!==void 0,kn=a=>a.filter(Sn),xn={chunk:yn,difference:En,shuffle:Pn,unique:kn};var On={isEqual:!0,isMatchingKey:!0,isPromise:!0,maxSize:!0,onCacheAdd:!0,onCacheChange:!0,onCacheHit:!0,transformKey:!0},Rn=Array.prototype.slice;function As(a){var e=a.length;return e?e===1?[a[0]]:e===2?[a[0],a[1]]:e===3?[a[0],a[1],a[2]]:Rn.call(a,0):[]}function An(a){var e={};for(var t in a)On[t]||(e[t]=a[t]);return e}function In(a){return typeof a=="function"&&a.isMemoized}function _n(a,e){return a===e||a!==a&&e!==e}function go(a,e){var t={};for(var s in a)t[s]=a[s];for(var s in e)t[s]=e[s];return t}var Mn=function(){function a(e){this.keys=[],this.values=[],this.options=e;var t=typeof e.isMatchingKey=="function";t?this.getKeyIndex=this._getKeyIndexFromMatchingKey:e.maxSize>1?this.getKeyIndex=this._getKeyIndexForMany:this.getKeyIndex=this._getKeyIndexForSingle,this.canTransformKey=typeof e.transformKey=="function",this.shouldCloneArguments=this.canTransformKey||t,this.shouldUpdateOnAdd=typeof e.onCacheAdd=="function",this.shouldUpdateOnChange=typeof e.onCacheChange=="function",this.shouldUpdateOnHit=typeof e.onCacheHit=="function"}return Object.defineProperty(a.prototype,"size",{get:function(){return this.keys.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"snapshot",{get:function(){return{keys:As(this.keys),size:this.size,values:As(this.values)}},enumerable:!1,configurable:!0}),a.prototype._getKeyIndexFromMatchingKey=function(e){var t=this.options,s=t.isMatchingKey,i=t.maxSize,o=this.keys,r=o.length;if(!r)return-1;if(s(o[0],e))return 0;if(i>1){for(var l=1;l<r;l++)if(s(o[l],e))return l}return-1},a.prototype._getKeyIndexForMany=function(e){var t=this.options.isEqual,s=this.keys,i=s.length;if(!i)return-1;if(i===1)return this._getKeyIndexForSingle(e);var o=e.length,r,l;if(o>1){for(var n=0;n<i;n++)if(r=s[n],r.length===o){for(l=0;l<o&&t(r[l],e[l]);l++);if(l===o)return n}}else for(var n=0;n<i;n++)if(r=s[n],r.length===o&&t(r[0],e[0]))return n;return-1},a.prototype._getKeyIndexForSingle=function(e){var t=this.keys;if(!t.length)return-1;var s=t[0],i=s.length;if(e.length!==i)return-1;var o=this.options.isEqual;if(i>1){for(var r=0;r<i;r++)if(!o(s[r],e[r]))return-1;return 0}return o(s[0],e[0])?0:-1},a.prototype.orderByLru=function(e,t,s){for(var i=this.keys,o=this.values,r=i.length,l=s;l--;)i[l+1]=i[l],o[l+1]=o[l];i[0]=e,o[0]=t;var n=this.options.maxSize;r===n&&s===r?(i.pop(),o.pop()):s>=n&&(i.length=o.length=n)},a.prototype.updateAsyncCache=function(e){var t=this,s=this.options,i=s.onCacheChange,o=s.onCacheHit,r=this.keys[0],l=this.values[0];this.values[0]=l.then(function(n){return t.shouldUpdateOnHit&&o(t,t.options,e),t.shouldUpdateOnChange&&i(t,t.options,e),n},function(n){var c=t.getKeyIndex(r);throw c!==-1&&(t.keys.splice(c,1),t.values.splice(c,1)),n})},a}();function as(a,e){if(e===void 0&&(e={}),In(a))return as(a.fn,go(a.options,e));if(typeof a!="function")throw new TypeError("You must pass a function to `memoize`.");var t=e.isEqual,s=t===void 0?_n:t,i=e.isMatchingKey,o=e.isPromise,r=o===void 0?!1:o,l=e.maxSize,n=l===void 0?1:l,c=e.onCacheAdd,u=e.onCacheChange,m=e.onCacheHit,d=e.transformKey,f=go({isEqual:s,isMatchingKey:i,isPromise:r,maxSize:n,onCacheAdd:c,onCacheChange:u,onCacheHit:m,transformKey:d},An(e)),h=new Mn(f),p=h.keys,v=h.values,b=h.canTransformKey,g=h.shouldCloneArguments,w=h.shouldUpdateOnAdd,E=h.shouldUpdateOnChange,y=h.shouldUpdateOnHit,S=function(){var R=g?As(arguments):arguments;b&&(R=d(R));var O=p.length?h.getKeyIndex(R):-1;if(O!==-1)y&&m(h,f,S),O&&(h.orderByLru(p[O],v[O],O),E&&u(h,f,S));else{var P=a.apply(this,arguments),x=g?R:As(arguments);h.orderByLru(x,P,p.length),r&&h.updateAsyncCache(S),w&&c(h,f,S),E&&u(h,f,S)}return v[0]};return S.cache=h,S.fn=a,S.isMemoized=!0,S.options=f,S}const Cn=as((a,e)=>{if(typeof a=="string"){const t=e[a.toLowerCase()];if(typeof t=="string")return t}return a[0]==="b"?a:"?"}),Ln=as(a=>{let e=null;const t=[],s=/:([(t|i|b)00-9?]+)/gm;for(;(e=s.exec(a))!==null;)t.push(e[1]);return t}),Dn=as(a=>{let e=null;const t=[],s=/((t|i|b)[0-9]+)/gm;for(;(e=s.exec(a))!==null;){const i=e[0];t.push(i)}return t}),Nn=(a,e)=>{const t=a,s=GameCore.Utils.Object.invert(e),i={};let o=0,r=0;return Ln(t).forEach(n=>{o=0,r++,i[r]||(i[r]={}),Dn(n).forEach(u=>{o++,i[r][o]=Cn(u,s)})}),i},Gn=as((a,e)=>{const t=e[a];return typeof t=="string"?`${t.toUpperCase()}`:"?"}),Dr=(a,e,t=!1)=>{let s="";if(!GameCore.Utils.Valid.isObject(a))return s;let i="",o=1;for(const r in a){if(!GameCore.Utils.Object.hasOwn(a,r))continue;const l=a[r];if(GameCore.Utils.Valid.isObject(l)){s+=`:${Dr(l,e,!0)}`;continue}if(!GameCore.Utils.Valid.isString(l))continue;const n=Gn(l,e);n===i?(o++,s=s.slice(0,-2)):o=1,s+=`${o}${n}`,i=n}return s=s.replace(/1([A-Z])/g,"$1"),s},Fn=a=>{try{return atob(a)}catch{return""}},Bn=a=>{try{return btoa(a)}catch{return""}},Un={decodeMap:Nn,encodeMap:Dr,hashToString:Fn,stringToHash:Bn},Hn=(a,e)=>{const t=document.createElement("style"),s=Object.keys(e).map(i=>Yn(i,e[i])).join(";");return t.innerHTML=`${a} { ${s} }`,document.head.appendChild(t),t},Yn=(a,e)=>`${GameCore.Utils.String.toKebabCase(a)}: ${e}`,Kn={dynamicCSS:Hn},Nr=a=>{try{return JSON.parse(a)}catch{return null}},Gr=a=>{try{return JSON.stringify(a,null,0)}catch{return""}},Wn=a=>Nr(Gr(a)),zn={clone:Wn,decode:Nr,encode:Gr},xi=a=>{const e=typeof a=="object"||typeof a=="function",t=Array.isArray(a);return a!==null&&e&&!t},jn=a=>a==null,Fr=a=>{if(!xi(a))return a;for(const e in a){jn(a[e])&&delete a[e];const t=a[e];xi(t)&&(a[e]=Fr(t))}return a},Fi=(a,e)=>Object.prototype.hasOwnProperty.call(a,e),Vn=a=>{const e={};return Object.keys(a).forEach(t=>{if(!Fi(a,t))return;const s=a[t];typeof s=="string"&&(e[s]=t)}),e},$n=(a,e)=>{if(!Array.isArray(a))return{};const t={};return a.forEach(s=>{if(!Fi(s,e))return;const i=s[e];typeof i=="string"&&(t[i]=s)}),t},Xn={clear:Fr,hasOwn:Fi,invert:Vn,keyBy:$n},qn=a=>a&&a[0].toUpperCase()+a.slice(1),Zn=a=>{let e=0;if(a.length==0)return e;for(let t=0;t<a.length;t++){const s=a.charCodeAt(t);e=(e<<5)-e+s,e=e&e}return e},Jn=a=>Object.keys(a).reduce((t,s)=>{const i=a[s];return i!==void 0&&t.push(`${s}=${i}`),t},[]).join("&"),Qn="0123456789ABCDEF",el=(a="0x")=>{let e=a;for(let t=0;t<6;t++)e+=Qn[Math.floor(Math.random()*16)];return e},tl=a=>{const e=a.replace(/[-_\s.]+(.)?/g,(t,s)=>s?s.toUpperCase():"");return e.substr(0,1).toUpperCase()+e.substr(1)},sl=a=>{const e=a.replace(/[-_\s.]+(.)?/g,(t,s)=>s?s.toUpperCase():"");return e.substr(0,1).toLowerCase()+e.substr(1)},il=a=>a.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase(),ol=(a,e)=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789*#%&!";let s="",i=a;e!=null&&(i-=e.length,s+=e);for(let o=0;o<i;o++){const r=Math.floor(Math.random()*t.length);s+=t.charAt(r)}return s},rl=a=>a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[Ä‘Ä]/g,t=>t==="Ä‘"?"d":"D"),al=(a,e)=>{const t=a.split(" "),i=(t.length<=1?[...t]:[t[0],t.pop()]).join(" "),o=i.lastIndexOf(" ")||0,r=o>=0?o:e;return(i.length>e?i.substring(0,r):i).substring(0,e)},nl=(a=16)=>{const e=s=>Math.floor(s).toString(a);return e(Date.now()/1e3)+" ".repeat(a).replace(/./g,()=>e(Math.random()*a))},ll={capitalize:qn,hashCode:Zn,params:Jn,toCamelCase:sl,toKebabCase:il,toUpperCamelCase:tl,randomColor:el,random:ol,removeDiacritics:rl,getShortName:al,generateObjectId:nl},cl=a=>typeof a=="boolean",Br="false";console.log("DEBUG",Br);const ul=()=>Br==="true",dl=a=>typeof a=="function",ml=a=>typeof a=="number"&&!isNaN(a),hl=a=>["string","number","symbol"].indexOf(typeof a)>-1,fl=a=>typeof a=="string",pl=(a,e,t)=>{const{timeout:s=1e3,checkInterval:i=100}=t||{};return new Promise(o=>{const r=setInterval(()=>{const l=typeof a=="function"?a():a,n=typeof e=="function"?e():e;l===n&&(clearInterval(r),o(!0))},i);s>0&&setTimeout(()=>{clearInterval(r),o(!1)},s)})},bl={isBoolean:cl,isDebugger:ul,isFunction:dl,isNumber:ml,isObject:xi,isPropertyKey:hl,isString:fl,isValueChangeAsync:pl},gl=a=>{const{scene:e,key:t,newKey:s}=a,i=e.textures.get(t).getSourceImage();if(!i)return!1;const o=Math.min(i.width,i.height);s||e.textures.removeKey(t);const r=e.textures.createCanvas(s||t,o,o),l=r.context;return l.beginPath(),l.arc(o/2,o/2,o/2,0,Math.PI*2,!1),l.clip(),r.draw((i.width-o)/2,(i.height-o)/2,i),!0},vl=a=>{const{scene:e,key:t,newKey:s,radius:i}=a;let{width:o,height:r}=a;const l=e.textures.get(t).getSourceImage();if(!l)return!1;o||(o=l.width),r||(r=l.height),s||e.textures.removeKey(t);const n=e.textures.createCanvas(s||t,o,r),c=n.context,m=Math.min(o,r)/100*i/2,d=0,f=0;return c.beginPath(),c.moveTo(d+m,f),c.lineTo(d+o-m,f),c.quadraticCurveTo(d+o,f,d+o,f+m),c.lineTo(d+o,f+r-m),c.quadraticCurveTo(d+o,f+r,d+o-m,f+r),c.lineTo(d+m,f+r),c.quadraticCurveTo(d,f+r,d,f+r-m),c.lineTo(d,f+m),c.quadraticCurveTo(d,f,d+m,f),c.closePath(),c.clip(),n.draw(0,0,l),!0},wl={drawCircle:gl,drawBorder:vl},Tl=(a,e)=>{const{fractionalDigits:t=0,startAbbreviate:s=1e3,abbreviateStep:i=3,maxLength:o=-1,removeLastZero:r=!0,suffixes:l=["","k","m","b","t","q"]}=e||{},n=o===-1?99999999:o;if(a>=s){const d=Math.floor(a/10**i),f=Math.floor((d.toString().length-1)/i)+1,p=(a/(10**i)**f).toFixed(t),v=n-l[f].length,b=p.substring(0,v);return(r?vo(b):b)+l[f]}const c=a.toFixed(t),u=n-l[0].length,m=c.substring(0,u);return r?vo(m):m+l[0]},vo=a=>{if(a.indexOf(".")<0)return a;for(let e=a.length-1;e>=0;e--){if(a[e]==".")return a.substring(0,e);if(a[e]!="0")return a.substring(0,e+1)}return a},yl=(a,e,t="0")=>{let s=a.toString();const i=s.length;for(let o=0;o<e-i;o++)s=t+s;return s},El=(a,e,t="0")=>{let s=a.toString();const i=s.length;for(let o=0;o<e-i;o++)s=s+t;return s},Pl={toAbbreviatedString:Tl,padStart:yl,padEnd:El},Sl=()=>{const a=navigator.userAgent;return/Windows|Mac OS/i.test(a)&&!/like Mac OS/.test(a)},kl=()=>{const a=navigator.userAgent;return/Android|iP[ao]d|iPhone/i.test(a)},xl=()=>FBInstant.getPlatform()==="ANDROID",Ol=()=>FBInstant.getPlatform()==="IOS",Rl=()=>FBInstant.getPlatform()==="MOBILE_WEB",Al=()=>Math.round(window.devicePixelRatio)||1,Il={isDesktop:Sl,isMobile:kl,isAndroid:xl,isIOS:Ol,isMobileWeb:Rl,pixelRatio:Al},Ur={Array:xn,Hash:Un,Html:Kn,Json:zn,Object:Xn,String:ll,Valid:bl,Image:wl,Number:Pl,Device:Il};function Hr(a){return Object.prototype.toString.call(a).slice(8,-1)}function ds(a){if(Hr(a)!=="Object")return!1;const e=Object.getPrototypeOf(a);return e.constructor===Object&&e===Object.prototype}function wo(a){return Hr(a)==="Symbol"}function To(a,e,t,s){const i={}.propertyIsEnumerable.call(s,e)?"enumerable":"nonenumerable";i==="enumerable"&&(a[e]=t),i==="nonenumerable"&&Object.defineProperty(a,e,{value:t,enumerable:!1,writable:!0,configurable:!0})}function Yr(a,e,t){if(!ds(e))return e;let s={};if(ds(a)){const l=Object.getOwnPropertyNames(a),n=Object.getOwnPropertySymbols(a);s=[...l,...n].reduce((c,u)=>{const m=a[u];return(!wo(u)&&!Object.getOwnPropertyNames(e).includes(u)||wo(u)&&!Object.getOwnPropertySymbols(e).includes(u))&&To(c,u,m,a),c},{})}const i=Object.getOwnPropertyNames(e),o=Object.getOwnPropertySymbols(e);return[...i,...o].reduce((l,n)=>{let c=e[n];const u=ds(a)?a[n]:void 0;u!==void 0&&ds(c)&&(c=Yr(u,c,t));const m=t?t(u,c,n):c;return To(l,n,m,e),l},s)}function ve(a,...e){return e.reduce((t,s)=>Yr(t,s),a)}const _l={ENV:"development",AppId:"",ApiHost:"",OtherHost:"",Notification:{Enable:!0,DisableSendNotification:!0,ApiUrl:"https://nostra-notifications.suncs.io",GameTitle:"Sun Studio",GameImage:""},PlayerDataStoreUsingApi:!1,PlayerMock:{id:"",signature:""},OpponentMock:{id:"",signature:""},MatchMockFailRate:5,Gameplay:{StartLevel:1,StartScore:0,StartCoins:0,BaseScore:10,StartAdAtLevel:1,RewardItemResultPopupRatio:.16,BombCountDownTime:9e4,StartItems:{ItemHint:2,ItemRocket:2,ItemShuffle:2,ItemBombDefuse:2},DailyRewardItems:{ItemHint:2,ItemRocket:2,ItemShuffle:2,ItemBombDefuse:2},DelayStart:500,DelayLevelUp:1500,DelayEndGame:1500,EnableVibrate:!0,Themes:["fruit","cake","bird","candy","flower","umbrella","food"]},Tutorial:{ForceUseTutorial:!1,NumberOfTutorial:{FirstMove:0,TargetScore:0,CurrentScore:0,ColorfulGem:0,ItemHammer:0,ItemShuffle:0}},PlayerDataStore:"PlayerData.PopJewels",Game:{AutoResize:!0,PortraitRatio:500/684,PortraitWidth:375,PortraitHeight:667,LandscapeRatio:760/360,LandscapeWidth:760,LandscapeHeight:360,ForcePixelRatio:0,DisableLandscape:!0,FullSizeOnLandscape:!0},Debugger:{ShowInspector:!1,ShowMonitoring:!1,ShowConsole:!1,Expanded:!0,AutoRefresh:!0,InspectorAutoUpdate:!0,Opacity:.8},Statistics:{Enable:!1,DisplayMode:0,FPS:!0,MS:!0,MB:!0,Opacity:.8,ShowFPSInGame:!0,ShowMemoryInGame:!1},ParticleEditor:{Enable:!1,Opacity:.8,Expanded:!0},ProfilerPlugin:{Enable:!1},Match:{MaxRescueCount:999999,RescueGamePopupTimeout:5,ContinueSingleMatchEnabled:!1,SingleMatchStore:"singleMatch",LocalSingleMatchDefault:{_id:"12345678890",status:"open",playerId:"",score:0,level:1,startedAt:0,updateAt:0,finishAt:0,data:{}}},DailyRewards:{MaxDays:6,MockTime:0,CheckInterrupt:!0},DailyTasks:{Duration:86400},Tournament:{UseMock:!1,ForcePlay:!1,UseLeaderboard:!1,TournamentContextIds:[]},LeadersBoard:{Name:null,UseMock:!1,Prefix:"leaderboards",LeaderboardId:"",Limit:50},LanguageSupport:{en:"en"},EnableEffectSceneTransition:!0,DefaultTheme:"default",ThemeSupport:{default:"default"},Ads:{Enabled:!0,CalculateSafeAreaBottom:!0,EnableRewardVideoResetInterstitial:!1,Mockup:{Enable:!1,ErrorRate:5,GiphyApiKey:""},InterstitialAdOptions:{pID:"",showWhenStartGame:!1,secondsFirstTime:45,secondsBetweenAds:90},RewardAdOptions:{pID:"",secondsFirstTime:0,secondsBetweenAds:0},BannerAdOptions:[{placementId:"1",bannerHeight:50,platform:"MOBILE",secondsReload:0},{placementId:"2",bannerHeight:50,platform:"DESKTOP",secondsReload:0}]},Network:{MaximumRequest:6,Timeout:15e3,Retries:3},Analytics:{GoogleAnalytics:{consoleLog:!1}},Sentry:{errorCodes:{accepted:[],ignored:["USER_INPUT","NETWORK_FAILURE"]},errorMessages:{accepted:[],ignored:["Load image failed"]}},Rollbar:{Enable:!1,UseMockup:!1,FilterError:{Codes:{accepted:[],ignored:["USER_INPUT","NETWORK_FAILURE"]},Messages:{accepted:[],ignored:["Load image failed","Request failed to be processed"]}},ListPlayerDevIds:[]},Performance:{Enable:!0,trackingSceneKeys:["GAME_SCENE"],minQuality:1.5,maxQuality:2,fpsThreshold:48,checkInterval:2e3,qualityAdjustStep:.1,autoUpgradeQuality:!0,onlyUpdateWhenSwitchScene:!1}},Ml={AppId:"377596664404993",Analytics:{GoogleAnalytics:{consoleLog:!0}},Debugger:{ShowInspector:!1,ShowMonitoring:!1,ShowConsole:!0,Expanded:!0,AutoRefresh:!0,InspectorAutoUpdate:!0,Opacity:.8},Rollbar:{Enable:!1},Gameplay:{RewardItemResultPopupRatio:1},Ads:{Enabled:!0,Mockup:{Enable:!0,GiphyApiKey:"VmjHIRsfrwCAssDS4mDo9DoImxJm1lLM"},InterstitialAdOptions:{secondsFirstTime:0,secondsBetweenAds:0}}},Cl={ENV:"development",AppId:"377596664404993",Notification:{Enable:!1},Ads:{Enabled:!0,Mockup:{Enable:!1,ErrorRate:5,GiphyApiKey:"VmjHIRsfrwCAssDS4mDo9DoImxJm1lLM"},RewardAdOptions:{pID:"123"},InterstitialAdOptions:{pID:"456"},BannerAdOptions:[{placementId:"789",bannerHeight:50,platform:"MOBILE",secondsReload:0},{placementId:"012",bannerHeight:50,platform:"DESKTOP",secondsReload:0}]},Analytics:{GoogleAnalytics:null},Statistics:{ShowFPSInGame:!0},Tournament:{UseMock:!0}},Ll={},Dl={ENV:"production",AppId:"",ApiHost:"",OtherHost:"",LeadersBoard:{Prefix:"leaderboards",LeaderboardId:""},Debugger:{ShowConsole:!1,ShowInspector:!1,ShowMonitoring:!1},Statistics:{Enable:!1,ShowFPSInGame:!1,ShowMemoryInGame:!1},Performance:{Enable:!0,trackingSceneKeys:["GAME_SCENE"],minQuality:1.5,maxQuality:2,fpsThreshold:48,checkInterval:2e3,qualityAdjustStep:.1,autoUpgradeQuality:!0,onlyUpdateWhenSwitchScene:!1}};let Ke=_l;const Nl="production";switch(Nl){case"development":Ke=ve({...Ke},Cl),Ke=ve({...Ke},Ml);break;case"production":Ke=ve({...Ke},Dl),Ke=ve({...Ke},Ll);break}const Kr=Ke,Gl=a=>e=>{try{const{game:t}=window,{module:s}=e;if(t.scene.getScenes(!0)[0].scene.key!==a)return;const r=s.default;t.scene.remove(a),t.scene.add(a,r,!0),t.scene.bringToTop(t.globalScene),console.log("%c HotScene: ","font-size:12px;background-color: #465975;color:#fff;",a)}catch{}};function Bi(a,e,t){var s,i,o;e===void 0&&(e=50),t===void 0&&(t={});var r=(s=t.isImmediate)!=null&&s,l=(i=t.callback)!=null&&i,n=t.maxWait,c=Date.now(),u=[];function m(){if(n!==void 0){var f=Date.now()-c;if(f+e>=n)return n-f}return e}var d=function(){var f=[].slice.call(arguments),h=this;return new Promise(function(p,v){var b=r&&o===void 0;if(o!==void 0&&clearTimeout(o),o=setTimeout(function(){if(o=void 0,c=Date.now(),!r){var w=a.apply(h,f);l&&l(w),u.forEach(function(E){return(0,E.resolve)(w)}),u=[]}},m()),b){var g=a.apply(h,f);return l&&l(g),p(g)}u.push({resolve:p,reject:v})})};return d.cancel=function(f){o!==void 0&&clearTimeout(o),u.forEach(function(h){return(0,h.reject)(f)}),u=[]},d}let Qt=!1;const Fl=(a,e=Qt)=>t=>{try{const{game:s}=window,{module:i}=t;let r=s.scene.getScenes(!0)[0];if(r.scene.key!==a)return;Qt=e;const l=i.default,n=`${a}-draft`;s.scene.remove(n);const c=s.scene.add(n,l);console.log("%c HotSceneObjects: ","font-size:12px;background-color: #465975;color:#fff;",a),r=s.scene.getScene(a),c.events.once(Phaser.Scenes.Events.RENDER,Bi(()=>{const u=c.children.getAll();Wr(r,u),s.scene.remove(n)}),50),s.scene.run(n),s.scene.bringToTop(r),s.scene.bringToTop(s.globalScene)}catch(s){console.warn(s)}},Wr=(a,e,t)=>{e.forEach(s=>{if(!s.name)return;let i=null;if(t?i=t.getByName(s.name):i=a.children.getByName(s.name),Qt&&console.log("%c Checking object: ","font-size:12px;background-color: #465975;color:#fff;",s.name,s.type),!i)return;if(s.type==="Container"){const n=s,c=i,u=n.getAll();if(Wr(a,u,c),!c.hotContainer)return;console.log("%c Update container: ","font-size:12px;background-color: #33A5FF;color:#fff;",c.name)}const o=Reflect.ownKeys(s),r=["_events","_sysEvents","input","localTransform","list","displayList"],l=o.filter(n=>{if(typeof n!="string"||r.indexOf(n)>=0||!i)return!1;const c=Reflect.get(s,n);if(c instanceof Function||c instanceof Phaser.Scene||c instanceof Phaser.GameObjects.Group||c instanceof Phaser.GameObjects.GameObject)return!1;const u=Reflect.get(i,n);return c===u});l.length<1||(Qt&&console.log("%c HotObject: ","font-size:12px;background-color: #2EAFB0;color:#fff;",s.name,l),l.forEach(n=>{if(!i)return;const c=Reflect.get(s,n),u=Reflect.get(i,n),m=Reflect.set(i,n,c);Qt&&console.log("%c Update property: ","font-size:12px;background-color: #B03734;color:#fff;",m,n,{oldValue:u,newValue:c})}))})},Bl={Scene:Gl,SceneObjects:Fl},Ul={Configs:Kr,Utils:Ur,LiveUpdate:Bl};window.GameCore=Ul;const Hl="production";console.warn(Hl,{Configs:Kr,isDebugger:Ur.Valid.isDebugger()});const Yl="null",Kl=Yl!=="null",Wl=()=>{const a=setInterval(()=>{window.Sentry&&(clearInterval(a),console.warn({isSentryEnabled:Kl}))},100)},Ui=(a,e)=>{window.Sentry&&window.Sentry.addBreadcrumb({category:a,message:e})},zl=a=>{window.Sentry&&window.Sentry.setUser(a)},zr=a=>{{console.error(a);return}},jl=(a,e)=>{a&&window.Sentry.withScope(t=>{t.setExtras(e),zr(a)})},pe=a=>{a&&zr(a)},Vl="modulepreload",$l=function(a,e){return new URL(a,e).href},yo={},pt=function(e,t,s){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(o=>{if(o=$l(o,s),o in yo)return;yo[o]=!0;const r=o.endsWith(".css"),l=r?'[rel="stylesheet"]':"";if(!!s)for(let u=i.length-1;u>=0;u--){const m=i[u];if(m.href===o&&(!r||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":Vl,r||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),r)return new Promise((u,m)=>{c.addEventListener("load",u),c.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())},Y={BUTTON_CLICK:"button_click",SCREEN_OPEN:"screen_open",LOAD_START:"load_start",LOAD_COMPLETE:"load_complete",APP_READY:"app_ready",TUTORIAL_BEGIN:"tutorial_begin",TUTORIAL_STEP:"tutorial_step",TUTORIAL_COMPLETE:"tutorial_complete",MATCH_START:"match_start",MATCH_RESCUE:"match_rescue",MATCH_END:"match_end",LEVEL_START:"level_start",LEVEL_RESCUE:"level_rescue",LEVEL_END:"level_end",SHARE:"share",MESSAGE:"message",INVITE:"invite",SHORTCUT_CREATE:"shortcut_create",SHORTCUT_CREATE_POPUP:"shortcut_create_popup",BOT_SUBSCRIBE:"bot_subscribe",BOT_SUBSCRIBE_POPUP:"bot_subscribe_popup",AD_SHOW:"ad_show",AD_SHOW_FAILED:"ad_show_failed",NEW_USER:"new_user",AD_IMPRESSION:"ad_impression",JOIN_GROUP:"join_group",GET_FREE_ITEM:"get_free_item",USE_ITEM:"use_item",EARN_ITEM:"earn_item",TOURNAMENT_SHARE:"tournament_share",TOURNAMENT_CREATE:"tournament_create",TOURNAMENT_POST_SCORE:"tournament_post_score",GLANCE_GAME_LOAD:"game_load",GLANCE_GAME_START:"game_start",GLANCE_GAME_REPLAY:"game_replay",GLANCE_GAME_LEVEL:"game_level",GLANCE_GAME_END:"game_end",GLANCE_GAME_LEVEL_COMPLETED:"level_completed",GLANCE_REWARDED_AD:"rewarded_ad",GLANCE_GAME_MILESTONE:"game_milestone",GLANCE_GAME_LIFE_END:"game_life_end",GLANCE_INGAME_TRANSACTIONS:"ingame_transactions"},Hi=()=>GameCore.Utils.Device.isDesktop()||GameCore.Utils.Device.pixelRatio()>1?2:1,Eo=Hi(),Ze={AVATAR_DEFAULT:{KEY:"avatar-default",FILE:"./assets/images/others/avatar-default.png",CONFIG:{}},BACKGROUND:{KEY:"background",FILE:`./assets/images/${Eo}x/bg.jpg`,FILE_LANDSCAPE:`./assets/images/${Eo}x/landscape-bg.jpg`,CONFIG:{}}};class Is{playerId;name;photo;locale;constructor(e,t,s,i){this.playerId=e,this.name=t,this.photo=s||Ze.AVATAR_DEFAULT.FILE,this.locale=i||"en_US"}toObject(){return{playerId:this.playerId,name:this.name,photo:this.photo,locale:this.locale}}}const Xl=a=>new Promise(e=>setTimeout(e,a)),Rs=a=>{const e=new Date(a),t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},{AppId:ql}=GameCore.Configs;class Zl{async createAsync(e){return await GameSDK.tournament.createAsync(e)}async shareAsync(e){await GameSDK.tournament.shareAsync(e)}async joinAsync(e){return await GameSDK.tournament.joinAsync(e)}async postScoreAsync(e){await GameSDK.tournament.postScoreAsync(e)}async getTournamentsAsync(){return await GameSDK.tournament.getTournamentsAsync()}}class Jl{facebook;isCalledSubscribeBot=!1;isCalledCreateShortcut=!1;constructor(e){this.facebook=e}async switchAsync(e){await GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0),await GameSDK.context.switchAsync(e)}async chooseAsync(){try{return await GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0),await GameSDK.context.chooseAsync({filters:["INCLUDE_EXISTING_CHALLENGES"],minSize:2,maxSize:2}),GameSDK.context.getID()}catch(e){if(e instanceof Object&&GameCore.Utils.Object.hasOwn(e,"code"))switch(e.code){case"USER_INPUT":return!1;case"SAME_CONTEXT":return GameSDK.context.getID()}return null}}async createAsync(e){try{return await GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0),await GameSDK.context.createAsync(`${e}`),GameSDK.context.getID()}catch(t){if(t instanceof Object&&GameCore.Utils.Object.hasOwn(t,"code"))switch(t.code){case"USER_INPUT":return!1;case"SAME_CONTEXT":return GameSDK.context.getID()}return null}}async getPlayerToken(){return(await GameSDK.player.getSignedPlayerInfoAsync()).getSignature()}async getContextPlayers(e){try{const t=await GameSDK.context.getPlayersAsync(),s=[];return t.forEach(i=>{const o=i.getID();if(o===e)return;const r=i.getName();if(!r)return;const l=i.getPhoto();s.push(new Is(o,r,l).toObject())}),GameCore.Utils.Array.unique(s)}catch(t){return console.warn("getPlayersAsync",{error:t}),[]}}async shareAsync(e){await GameSDK.shareAsync(e)}async sendMessage(e){}async inviteAsync(e){}async postSessionScoreAsync(e){await GameSDK.postSessionScoreAsync(e)}async getRewardedVideoAsync(e){return await GameSDK.getRewardedVideoAsync(e)}async getInterstitialAdAsync(e){return await GameSDK.getInterstitialAdAsync(e)}getContextID(){return GameSDK.context.getID()}async attemptToAddShortcut(){if(this.isCalledCreateShortcut)return!1;try{if(GameSDK.getPlatform()==="ANDROID")return!1;const s=(await GameSDK.player.getDataAsync(["lastCallCreateShortcut"])||{}).lastCallCreateShortcut;if(s&&Rs(+s))return!1;const i=Date.now();if(GameSDK.player.setDataAsync({lastCallCreateShortcut:i}),!GameSDK.getSupportedAPIs().includes("canCreateShortcutAsync"))return!1;if(await GameSDK.canCreateShortcutAsync()){const{SHORTCUT_CREATE:l,SHORTCUT_CREATE_POPUP:n}=Y,c=Date.now();this.isCalledCreateShortcut=!0,window.game.analytics.event(n);try{return await GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0),await GameSDK.createShortcutAsync(),FBInstant.player.setDataAsync({lastCallCreateShortcut:c}),window.game.analytics.event(l,{success:!0}),!0}catch{return FBInstant.player.setDataAsync({lastCallCreateShortcut:c}),window.game.analytics.event(l,{success:!1}),!1}}return!1}catch{return!1}}async attemptToSubscribeBot(){if(this.isCalledSubscribeBot)return!1;try{const t=(await FBInstant.player.getDataAsync(["lastCallSubscribeBot"])||{}).lastCallSubscribeBot||0;if(t&&Rs(+t)||!FBInstant.getSupportedAPIs().includes("player.canSubscribeBotAsync"))return!1;if(await GameSDK.player.canSubscribeBotAsync()){const r=(await GameSDK.player.getDataAsync(["lastCallSubscribeBot"])||{}).lastCallSubscribeBot;if(r&&Rs(+r))return!1;const l=Date.now();this.isCalledSubscribeBot=!0;try{return await GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0),await GameSDK.player.subscribeBotAsync(),FBInstant.player.setDataAsync({lastCallSubscribeBot:l}),!0}catch{return FBInstant.player.setDataAsync({lastCallSubscribeBot:l}),!1}}return!1}catch{return!1}}async matchPlayerAsync(e,t,s){try{return!GameSDK.getSupportedAPIs().includes("checkCanPlayerMatchAsync")||!await GameSDK.checkCanPlayerMatchAsync()?!1:(await GameSDK.matchPlayerAsync(e,t,s),!0)}catch{return!1}}setLoadingProgress(e){GameSDK.setLoadingProgress(e)}getLocale(){return GameSDK.getLocale()||"en"}async injectTournament(){this.facebook.tournament=new Zl,this.facebook.getTournamentAsync=this.getTournamentAsync,this.facebook.requestTournamentAsync=this.requestTournamentAsync}async getTournamentAsync(){return await GameSDK.getTournamentAsync()}requestTournamentAsync=async e=>{try{await this.facebook.getTournamentAsync(),await this.facebook.tournament.shareAsync({score:e})}catch{const s=GameSDK.player.getName();await this.facebook.tournament.createAsync({initialScore:e,config:{tournamentTitle:`${s}'s Tournament`}})}};async sendNotificationAsync(e){try{const{href:t,ref:s,message:i,delayTime:o}=e;await GameSDK.graphApi.requestAsync("/me/notifications","POST",{ref:s,href:t||`https://fb.gg/play/${ql}`,template:i,scheduleInterval:o})}catch(t){console.warn("ðŸ¤– ? sendNotificationAsync",t)}}}let Po=0,Re=0;class Ql{game;progressFbTimeEvent;constructor(e){this.game=e}loadingProgressFbBootScene(){let i=100;Re=30;const o=()=>{if(i<=0){clearTimeout(this.progressFbTimeEvent);return}this.progressFbTimeEvent=setTimeout(()=>{this.game.facebook.setLoadingProgress(Math.round(Re)),Re+=30/i,i--,o()},50)};o()}finishLoadingProgressFbBootScene(){clearTimeout(this.progressFbTimeEvent)}loadingProgressFbLoadScene(){(!Re||Re<30)&&(Re=60),Po=Re;const t=()=>{this.progressFbTimeEvent=setTimeout(()=>{this.game.facebook.setLoadingProgress(Math.round(Re)),Re+=.1,t()},50)};t()}onProgress(e){const t=100-Re,s=Math.round(e*t+Re);s>Po&&clearTimeout(this.progressFbTimeEvent),this.game.facebook.setLoadingProgress(s)}}class ec{addKillRevive(){[Phaser.GameObjects.Container,Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Graphics,Phaser.GameObjects.Text,Phaser.GameObjects.BitmapText,Phaser.GameObjects.Particles.ParticleEmitter,Phaser.GameObjects.Particles.ParticleEmitterManager].forEach(e=>{e.prototype.kill=this.kill,e.prototype.revive=this.revive})}addKillReviveGroup(){Phaser.GameObjects.Group.prototype.killGroup=this.killGroup,Phaser.GameObjects.Group.prototype.reviveGroup=this.reviveGroup}addSetWorldSize(){[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite].forEach(e=>{e.prototype.setWorldSize=this.setWorldSize})}addSetWorldSizeForContainer(){[Phaser.GameObjects.Container].forEach(e=>{e.prototype.setWorldSize=this.setWorldSizeForContainer})}addGetWorldPosition(){[Phaser.GameObjects.Container,Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Graphics,Phaser.GameObjects.Text,Phaser.GameObjects.BitmapText].forEach(e=>{e.prototype.getWorldPosition=this.getWorldPosition})}addDrawDebugBox(){[Phaser.GameObjects.Container,Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Graphics,Phaser.GameObjects.Text,Phaser.GameObjects.BitmapText,Phaser.GameObjects.Zone].forEach(e=>{e.prototype.drawDebugBox=this.drawDebugBox})}addHighQuality(){[Phaser.GameObjects.Text].forEach(e=>{e.prototype.setHighQuality=this.setHighQuality})}kill(){this.setActive(!1),this.setVisible(!1)}revive(){this.setActive(!0),this.setVisible(!0)}killGroup(){this.getChildren().forEach(e=>{e.setActive(!1),e.setVisible(!1)})}reviveGroup(){this.getChildren().forEach(e=>{e.setActive(!0),e.setVisible(!0)})}setWorldSize(e,t){this.setSize(e,t),this.setDisplaySize(e,t)}setWorldSizeForContainer(e,t,s=2){this.setSize(e*s,t*s),this.setDisplaySize(e,t)}getWorldPosition(){const e=this.getWorldTransformMatrix(),{translateX:t,translateY:s}=e.decomposeMatrix();return{x:t,y:s}}drawDebugBox(e,t){const{x:s,y:i,width:o,height:r,depth:l,originX:n,originY:c}=this,u=this.scene.add.rectangle(s,i,o,r,e,t);u.setName("Debug Box"),u.setDepth(l);const{isNumber:m}=GameCore.Utils.Valid;return m(n)&&m(c)&&u.setOrigin(n,c),u}setHighQuality(){return this.renderer instanceof Phaser.Renderer.WebGL.WebGLRenderer?this.setResolution(this.scene.game.world.getZoomRatio()*2):this}}const Oi={LOADED:"loaded",DISPLAYED:"displayed"};var jr=(a=>(a.IDLE="idle",a.LOADING="loading",a.FILLED="filled",a.SHOWING="showing",a))(jr||{});const Vr=jr;var $r=(a=>(a.REWARDED="rewarded",a.INTERSTITIAL="interstitial",a))($r||{});const Ie=$r;class rt extends Error{code;constructor(e,t){super(t),this.code=e,this.message=t}}class tc{type;status;constructor(e){this.type=e,this.status=Vr.IDLE}}GameCore.Ads={Types:Ie,Status:Vr,Events:Oi,AdError:rt,AdInstance:tc};class sc extends Phaser.Plugins.BasePlugin{events;enabled;config;lastInterAdShownTime;lastRewardAdShownTime;interstitial;rewardedVideo;safeAreaBottom;showingBannerAd;reloadBannerAdIntervals;bannerAdConfig;isHaveBannerAdOptions;init(){this.events=new Phaser.Events.EventEmitter,this.safeAreaBottom=0,this.lastInterAdShownTime=0,this.lastRewardAdShownTime=0,this.showingBannerAd={},this.reloadBannerAdIntervals={},this.isHaveBannerAdOptions=!0}calculateSafeAreaBottom(){try{if(!this.config.calculateSafeAreaBottom)return;this.safeAreaBottom=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sab")),isNaN(this.safeAreaBottom)&&(this.safeAreaBottom=0)}catch{this.safeAreaBottom=0}}configure(e,t){this.enabled=t.enabled,this.config=t;const{bannerAdOptions:s}=this.config;s.length===0&&(this.isHaveBannerAdOptions=!1),this.setAdInstance(e),this.calculateSafeAreaBottom()}setAdInstance(e){const{rewardAdOptions:t,interstitialAdOptions:s}=this.config;this.interstitial=new e(Ie.INTERSTITIAL,t.pID),this.rewardedVideo=new e(Ie.REWARDED,s.pID)}async preloadInterstitialAdAsync(){console.log("preloading Interstitial"),await this.preloadAdAsync(Ie.INTERSTITIAL)}async showInterstitialAdAsync(){if(!this.canbeShowInterstitialAd())throw new rt("INTERSTITIAL_AD_CAN_NOT_SHOW","Can't show interstitial ad");await this.showAdAsync(Ie.INTERSTITIAL)}async preloadRewardedVideoAsync(){console.log("preloading RewardedVideo"),await this.preloadAdAsync(Ie.REWARDED)}async showRewardedVideoAsync(){if(!this.canbeShowRewardAd())throw new rt("REWARDED_VIDEO_CAN_NOT_SHOW","Can't show rewarded video");await this.showAdAsync(Ie.REWARDED),this.lastRewardAdShownTime=window.performance.now()/1e3}getRemainingRewardTime(){const e=window.performance.now()/1e3,{secondsBetweenAds:t}=this.config.rewardAdOptions,s=e-this.lastRewardAdShownTime;return s<t?t-s:0}async preloadAdAsync(e){if(!this.enabled)throw new rt("ADS_NOT_ENABLED","Ads is't enabled");const t=this.getAdInstanceByType(e);if(t===null)throw new rt("AD_INSTANCE_NOT_INITIALLED","The instance ads not yet initiated");await t.loadAsync(),this.events.emit(Oi.LOADED,e)}async showAdAsync(e){if(!this.enabled)throw new rt("ADS_NOT_ENABLED","Ads is't enabled");const t=this.getAdInstanceByType(e);if(t===null)throw new rt("AD_INSTANCE_NOT_INITIALLED","The instance ads not yet initiated");if(e===Ie.INTERSTITIAL&&(this.lastInterAdShownTime=window.performance.now()/1e3),e===Ie.REWARDED){this.lastRewardAdShownTime=window.performance.now()/1e3;const{enableRewardVideoResetInterstitial:s}=this.config;s&&(this.lastInterAdShownTime=this.lastRewardAdShownTime)}await t.showAsync(),this.events.emit(Oi.DISPLAYED,e)}getAdStatus(e){const t=this.getAdInstanceByType(e);return t?t.getStatus():null}getAdInstanceByType(e){switch(e){case Ie.INTERSTITIAL:return this.interstitial;case Ie.REWARDED:return this.rewardedVideo;default:return null}}canbeShowInterstitialAd(){return this.canbeShowInterstitialAdByTime()}canbeShowInterstitialAdByTime(){const e=window.performance.now()/1e3,{secondsFirstTime:t,secondsBetweenAds:s}=this.config.interstitialAdOptions,i=Math.floor(e-this.lastInterAdShownTime);return this.lastInterAdShownTime>0?i>=s:i>=t}canbeShowRewardAd(){const e=window.performance.now()/1e3,{secondsFirstTime:t,secondsBetweenAds:s}=this.config.rewardAdOptions,i=Math.floor(e-this.lastRewardAdShownTime);return this.lastRewardAdShownTime>0?i>=s:i>=t}canShowBannerAd(){if(!this.isHaveBannerAdOptions)return!1;const{bannerAdOptions:e}=this.config,t=GameCore.Utils.Device.isDesktop();for(let s=0;s<e.length;s++){const i=e[s],o=i.platform;if(o=="ALL"||o=="DESKTOP"&&t||o=="MOBILE"&&!t)return this.bannerAdConfig=i,!0}return!1}async showBannerAdAsync(){if(!this.enabled||!this.canShowBannerAd())return;this.reloadBannerAdIntervals=this.reloadBannerAdIntervals||{};const{placementId:e,secondsReload:t}=this.bannerAdConfig;if(!(!e||e=="")){if(t>0){if(this.reloadBannerAdIntervals[e])return;this.loadBannerAdAsync(e),this.reloadBannerAdIntervals[e]=setInterval(()=>{this.loadBannerAdAsync(e)},t*1e3);return}this.loadBannerAdAsync(e)}}async loadBannerAdAsync(e){if(this.enabled)try{if(!this.enabled)return;await GameSDK.loadBannerAdAsync(e),this.showingBannerAd[e]=!0}catch(t){console.log(t)}}async hideBannerAdAsync(){if(this.enabled&&this.isHaveBannerAdOptions)try{if(!this.enabled)return;const{bannerAdOptions:e}=this.config;e.forEach(t=>{const{placementId:s}=t,i=this.reloadBannerAdIntervals[s];i&&(clearInterval(i),this.reloadBannerAdIntervals[s]=null),this.showingBannerAd[s]=!1}),await GameSDK.hideBannerAdAsync()}catch(e){console.log(e)}}getBannerHeight(){if(!this.enabled||!this.canShowBannerAd())return 0;const{bannerHeight:e=0}=this.bannerAdConfig||{},t=e+this.safeAreaBottom;if(this.game.world){const s=this.game.world,i=s.getPixelRatio(),o=s.getZoomRatio(),r=s.getScreenHeight()*.01;return this.game.world.getPhysicPixels(t+r,i/o)}return t}}class ic{name;color;selfLog;options;constructor(e,t,s){this.name=e,this.color=s||"#FFF",this.options=t,this.selfLog=!0,console.info(`%c${this.name}: init`,`color: ${this.color}`,this.options)}event(e,t,s){this.processEvent(e,t,s),this.selfLog&&console.info(`%c${this.name}: event`,`color: ${this.color}`,{name:e,value:s,payload:t})}pageview(e){const t=this.getPageByKey(e);this.processPageView(t),this.selfLog&&console.info(`%c${this.name}: pageview`,`color: ${this.color}`,{page:t})}levelStart(e,t,s){this.processLevelStart(e,t,s),this.selfLog&&console.info(`%c${this.name}: level start`,`color: ${this.color}`,{level:e,score:t,levelName:s})}levelFail(e,t,s){this.processLevelFail(e,t,s),this.selfLog&&console.info(`%c${this.name}: level fail`,`color: ${this.color}`,{level:e,score:t,levelName:s})}levelRescue(e,t,s){this.processLevelRescue(e,t,s),this.selfLog&&console.info(`%c${this.name}: level rescue`,`color: ${this.color}`,{level:e,score:t,levelName:s})}levelComplete(e,t,s){this.processLevelComplete(e,t,s),this.selfLog&&console.info(`%c${this.name}: level complete`,`color: ${this.color}`,{level:e,score:t,levelName:s})}showInterstitialAd(e){this.processShowInterstitialAd(e),this.selfLog&&console.info(`%c${this.name}: show interstitial ad`,`color: ${this.color}`,{placement:e})}showRewardedVideoAd(e){this.processShowRewardedVideoAd(e),this.selfLog&&console.info(`%c${this.name}: show rewarded video ad`,`color: ${this.color}`,{placement:e})}receiveReward(e){this.processReceiveReward(e),this.selfLog&&console.info(`%c${this.name}: receive reward`,`color: ${this.color}`,{placement:e})}showAdFail(e,t,s){this.processShowAdFail(e,t,s),this.selfLog&&console.info(`%c${this.name}: show ad fail`,`color: ${this.color}`,{type:e,placement:t,reason:s})}gameMilestone(e,t,s,i){this.processGameMilestone(e,t,s,i),this.selfLog&&console.info(`%c${this.name}: game milestone`,`color: ${this.color}`,{type:e,meta:t,level:s,score:i})}gameLifeEnd(e,t,s){this.processGameLifeEnd(e,t,s),this.selfLog&&console.info(`%c${this.name}: game life end`,`color: ${this.color}`,{remainingLife:e,level:t,score:s})}gameIngameTransactions(e,t,s,i){this.gameIngameTransactions(e,t,s,i),this.selfLog&&console.info(`%c${this.name}: ingame transaction`,`color: ${this.color}`,{transactionType:e,meta:t,level:s,score:i})}getPageByKey(e){let t=e.replace(/_/g,"-");return t=t.toLowerCase(),t}processLevelStart(e,t,s){}processLevelFail(e,t,s){}processLevelRescue(e,t,s){}processLevelComplete(e,t,s){}processShowInterstitialAd(e){}processShowRewardedVideoAd(e){}processReceiveReward(e){}processShowAdFail(e,t,s){}processGameMilestone(e,t={},s=0,i=0){}processGameLifeEnd(e,t=0,s=0){}processIngameTransactions(e,t={},s=0,i=0){}}GameCore.Analytics={BaseAnalytics:ic};class oc extends Phaser.Plugins.BasePlugin{analytics;init(){this.analytics=[]}add(e){this.analytics.push(e)}pageview=e=>{this.isActive()&&this.analytics.forEach(t=>{t.pageview(e)})};event(e,t,s){this.isActive()&&this.analytics.forEach(i=>{i.event(e,t,s)})}levelStart(e,t,s){this.isActive()&&this.analytics.forEach(i=>{i.levelStart(e,t,s)})}levelRescue(e,t,s){this.isActive()&&this.analytics.forEach(i=>{i.levelRescue(e,t,s)})}levelFail(e,t,s){this.isActive()&&this.analytics.forEach(i=>{i.levelFail(e,t,s)})}levelComplete(e,t,s){this.isActive()&&this.analytics.forEach(i=>{i.levelComplete(e,t,s)})}showInterstitialAd(e){this.isActive()&&this.analytics.forEach(t=>{t.showInterstitialAd(e)})}showRewardedVideoAd(e){this.isActive()&&this.analytics.forEach(t=>{t.showRewardedVideoAd(e)})}receiveReward(e){this.isActive()&&this.analytics.forEach(t=>{t.receiveReward(e)})}showAdFail(e,t,s){this.isActive()&&this.analytics.forEach(i=>{i.showAdFail(e,t,s)})}gameMilestone(e,t,s,i){this.isActive()&&this.analytics.forEach(o=>{o.gameMilestone(e,t,s,i)})}gameLifeEnd(e,t,s){this.isActive()&&this.analytics.forEach(i=>{i.gameLifeEnd(e,t,s)})}gameIngameTransactions(e,t,s,i){this.isActive()&&this.analytics.forEach(o=>{o.gameIngameTransactions(e,t,s,i)})}isActive(){return this.analytics.length>=1}}const Je={BACKGROUND:{KEY:"background",FILE:"./assets/music/bg_music.ogg"},NEW_EFFECTS:{bomb_explode_1:"./assets/sounds/bomb_explode_1.ogg",ticking_bomb_before_explode:"./assets/sounds/ticking_bomb_before_explode.ogg",bomb_defuse:"./assets/sounds/bomb_defuse.ogg",close_popup_click:"./assets/sounds/close_popup_click.ogg",use_item_click:"./assets/sounds/use_item_click.ogg",shuffle_item:"./assets/sounds/shuffle_item.ogg",hint_item:"./assets/sounds/hint_item.ogg",clicks:"./assets/sounds/clicks.ogg",combo_1:"./assets/sounds/combo_1.ogg",combo_2:"./assets/sounds/combo_2.ogg",combo_3:"./assets/sounds/combo_3.ogg",combo_4:"./assets/sounds/combo_4.ogg",combo_5:"./assets/sounds/combo_5.ogg",invalid_match:"./assets/sounds/invalid_match.ogg",level_start:"./assets/sounds/level_start.ogg",level_complete:"./assets/sounds/level_complete.ogg",level_fail:"./assets/sounds/level_fail.ogg",rescue_timer:"./assets/sounds/rescue_timer.ogg",extra_tile_spawn:"./assets/sounds/extra_tile_spawn.ogg",tile_select:"./assets/sounds/tile_select.ogg",rocket_fly:"./assets/sounds/rocket_fly.ogg",collect_stars:"./assets/sounds/collect_stars.ogg",three_stars:"./assets/sounds/three_stars.ogg",progress_star:"./assets/sounds/progress_star.ogg",gift_charge:"./assets/sounds/gift_charge.ogg",gift_explode:"./assets/sounds/gift_explode.ogg",gift_reveal:"./assets/sounds/gift_reveal.ogg",daily_reward:"./assets/sounds/daily_reward.ogg"}},{NEW_EFFECTS:So}=Je;class rc{game;audios;volume;constructor(e){this.game=e,this.audios=new Map}play(e,t){const s={volume:this.volume,...t||{}};s.volume!==this.volume&&(s.volume*=this.volume);let i=this.audios.get(e);if(!i&&this.game.cache.audio.exists(e)){const o=this.game.sound.add(e);this.audios.set(e,o),i=o}if(i){i.play(void 0,s);return}So[e]&&(this.game.globalScene.load.audio(e,So[e]),this.game.globalScene.load.on(`${Phaser.Loader.Events.FILE_KEY_COMPLETE}audio-${e}`,()=>{const o=this.game.sound.add(e);this.audios.set(e,o),o.play(void 0,s)}),this.game.globalScene.load.start())}pauseAll(){this.audios.forEach(e=>{e.pause()})}resumeAll(){this.audios.forEach(e=>{e.resume()})}pause(e){const t=this.audios.get(e);t&&t.pause()}stop(e){const t=this.audios.get(e);t&&t.stop()}setVolume(e){this.volume=e}isMusicEnabled=()=>{const{player:e}=this.game;return!!e.getPlayerSetting("music")};isSoundEnabled=()=>{const{player:e}=this.game;return!!e.getPlayerSetting("sound")}}class ac{name;game;isSprite;audio;markers;volume;volumePerMs;targetVolume;constructor(e,t,s){this.name=t,this.game=e,this.markers={},this.isSprite=s,this.volume=0,this.isSprite||(this.audio=this.game.sound.add(this.name))}resumeForMusic(){return!this.audio||!this.audio.isPlaying?!1:(this.setVolume(1,200),!0)}play(e,t){const s={volume:this.volume,...t||{}};if(s.volume!==this.volume&&(s.volume*=this.volume),!this.isSprite){if(this.audio?.seek>0){this.audio.resume();return}this.audio?.play(e,s);return}this.createMaker(e),this.markers[e]?.play(e,s)}pause(e){if(!this.isSprite){this.audio?.pause();return}this.markers[e]?.pause()}stop(e){if(!this.isSprite){this.audio?.stop();return}this.markers[e]?.stop()}setVolume(e,t){if(t===0||e===this.volume){this.game.globalScene.events.off(Phaser.Scenes.Events.UPDATE,this.handleIncreaseVolume),this.volume=e,this.audio?.setVolume(e);return}this.volumePerMs=(e-this.volume)/t,this.targetVolume=e,this.game.globalScene.events.off(Phaser.Scenes.Events.UPDATE,this.handleIncreaseVolume),this.game.globalScene.events.on(Phaser.Scenes.Events.UPDATE,this.handleIncreaseVolume)}handleIncreaseVolume=(e,t)=>{this.volume+=this.volumePerMs*t,this.audio?.setVolume(this.volume),Math.abs(this.volume)<=.25?this.audio?.setMute(!0):this.audio?.setMute(!1),(this.volumePerMs>=0&&this.volume>=this.targetVolume||this.volumePerMs<=0&&this.volume<=this.targetVolume)&&(this.volume=this.targetVolume,this.game.globalScene.events.off(Phaser.Scenes.Events.UPDATE,this.handleIncreaseVolume))};isMusicEnabled=()=>{const{player:e}=this.game;return!!e.getPlayerSetting("music")};isSoundEnabled=()=>{const{player:e}=this.game;return!!e.getPlayerSetting("sound")};createMaker(e){if(!this.markers[e])try{this.markers[e]=this.game.sound.addAudioSprite(this.name)}catch(t){console.warn("createMaker",t)}}}const{NEW_EFFECTS:N0}=Je;class nc extends Phaser.Plugins.BasePlugin{soundManager;musicManager;isMuteAll;initMusic=e=>{this.musicManager=new ac(this.game,e,!1),this.setMusicVolume(this.isMuteAll?0:1)};initSound=()=>{this.soundManager=new rc(this.game),this.setSoundVolume(this.isMuteAll?0:1)};playSound(e,t){try{if(!this.soundManager||this.isMuteAll||!this.soundManager.isSoundEnabled())return;this.soundManager.play(e,t)}catch{}}stopSound(e){try{this.soundManager.stop(e)}catch{}}playMusic(e={}){try{if(!this.musicManager||this.isMuteAll||!this.musicManager.isMusicEnabled())return;this.musicManager.play("",{loop:!0,...e}),this.musicManager.setVolume(.5,500)}catch{}}pauseMusic(e=!1){try{if(!this.musicManager)return;if(e){this.musicManager.pause("");return}this.musicManager.setVolume(0,500)}catch{}}stopMusic(){try{if(!this.musicManager)return;this.musicManager.stop("")}catch{}}pauseAllSounds(){try{if(!this.soundManager)return;this.soundManager.pauseAll()}catch{}}resumeAllSounds(){try{if(!this.soundManager)return;this.soundManager.resumeAll()}catch{}}setSoundVolume(e){try{if(!this.soundManager)return;this.soundManager.setVolume(e)}catch(t){console.warn("setSoundVolume",t)}}setMusicVolume(e,t=0){try{if(!this.musicManager)return;this.musicManager.setVolume(e,t)}catch(s){console.warn("setMusicVolume",s)}}muteAll(){this.isMuteAll=!0,this.setMusicVolume(0),this.setSoundVolume(0),this.game.globalScene.sound.mute=!0}unmuteAll(e=1){this.isMuteAll=!1,this.setMusicVolume(e),this.setSoundVolume(e),this.game.globalScene.sound.mute=!1}}const Xr="AUTH_TOKEN_REQUEST",qr="AUTH_TOKEN_RECEIVED";class lc extends Error{payload;constructor(e,t){super(e),this.name="RequestTokenFail",this.message=e||"Request token fail",this.payload=t||{}}}var _s="NOT_FOUND";function cc(a){var e;return{get:function(s){return e&&a(e.key,s)?e.value:_s},put:function(s,i){e={key:s,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function uc(a,e){var t=[];function s(l){var n=t.findIndex(function(u){return e(l,u.key)});if(n>-1){var c=t[n];return n>0&&(t.splice(n,1),t.unshift(c)),c.value}return _s}function i(l,n){s(l)===_s&&(t.unshift({key:l,value:n}),t.length>a&&t.pop())}function o(){return t}function r(){t=[]}return{get:s,put:i,getEntries:o,clear:r}}var dc=function(e,t){return e===t};function mc(a){return function(t,s){if(t===null||s===null||t.length!==s.length)return!1;for(var i=t.length,o=0;o<i;o++)if(!a(t[o],s[o]))return!1;return!0}}function hc(a,e){var t=typeof e=="object"?e:{equalityCheck:e},s=t.equalityCheck,i=s===void 0?dc:s,o=t.maxSize,r=o===void 0?1:o,l=t.resultEqualityCheck,n=mc(i),c=r===1?cc(n):uc(r,n);function u(){var m=c.get(arguments);if(m===_s){if(m=a.apply(null,arguments),l){var d=c.getEntries(),f=d.find(function(h){return l(h.value,m)});f&&(m=f.value)}c.put(arguments,m)}return m}return u.clearCache=function(){return c.clear()},u}function fc(a){var e=Array.isArray(a[0])?a[0]:a;if(!e.every(function(s){return typeof s=="function"})){var t=e.map(function(s){return typeof s=="function"?"function "+(s.name||"unnamed")+"()":typeof s}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return e}function pc(a){for(var e=arguments.length,t=new Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];var i=function(){for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];var c=0,u,m={memoizeOptions:void 0},d=l.pop();if(typeof d=="object"&&(m=d,d=l.pop()),typeof d!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof d+"]");var f=m,h=f.memoizeOptions,p=h===void 0?t:h,v=Array.isArray(p)?p:[p],b=fc(l),g=a.apply(void 0,[function(){return c++,d.apply(null,arguments)}].concat(v)),w=a(function(){for(var y=[],S=b.length,R=0;R<S;R++)y.push(b[R].apply(null,arguments));return u=g.apply(null,y),u});return Object.assign(w,{resultFunc:d,memoizedResultFunc:g,dependencies:b,lastResult:function(){return u},recomputations:function(){return c},resetRecomputations:function(){return c=0}}),w};return i}var de=pc(hc);const Yi="auth",bc=a=>a[Yi].token,gc=a=>a[Yi].isRequesting,Zr=de([bc],a=>a),vc=de([gc],a=>a),wc=()=>async(a,e)=>{try{const{facebook:t}=window.game,s=e(),i=Zr(s);if(vc(s)||i!=="")return;a({type:Xr,payload:{}});const r=await t.getPlayerToken();a(ko(r))}catch(t){if(t instanceof Object&&GameCore.Utils.Object.hasOwn(t,"code")&&t.code==="PENDING_REQUEST")return;if(a(ko("")),t instanceof Object&&GameCore.Utils.Object.hasOwn(t,"message")&&typeof t.message=="string"){pe(new Error(t.message));return}pe(new lc)}},ko=a=>({type:qr,payload:{token:a}});class Tc extends Phaser.Plugins.BasePlugin{get state(){return this.game.storage.getState()}async requestToken(){const{storage:e}=this.game;await e.dispatch(wc())}getToken(){return Zr(this.state)}}const yc='nunito,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif',Ec=(a,e)=>({string:"+",style:"font-size: 1px; padding: "+Math.floor(e/2)+"px "+Math.floor(a/2)+"px;"}),Pc=(a,e=1)=>{const t=new Image;t.onload=function(){const s=Ec(this.width*e,this.height*e);console.info(`%c ${s.string}`,`${s.style} background: transparent url(${a}) no-repeat center center; background-size: ${this.width*e}px ${this.height*e}px;`)},t.src=a};class Sc extends Phaser.Plugins.ScenePlugin{width;height;renderOptions;canvas;preload(e){const t=Object.keys(e);t.length<1||(t.forEach(s=>{this.scene.load.image(s,e[s])}),this.scene.load.start())}async capture(e){const{width:t,height:s,renderOptions:i}=e;return this.width=t,this.height=s,this.renderOptions=i,this.createCanvas(),await this.loadImages(),this.drawObjects(),this.snapshotFrame()}createCanvas(){this.canvas||(this.canvas=this.game.textures.createCanvas("FrameCaptureCanvas")),this.canvas.clear(),this.canvas.setSize(this.width,this.height)}loadImages(){return new Promise((e,t)=>{for(const s in this.renderOptions){const{name:i,image:o}=this.renderOptions[s];!o||this.scene.textures.get(i).key===i||this.scene.load.image(i,o)}this.scene.load.on(Phaser.Loader.Events.COMPLETE,e),this.scene.load.on(Phaser.Loader.Events.FILE_LOAD_ERROR,()=>{const s=new Error("Load image failed");t(s)}),this.scene.load.start()})}drawObjects(){for(const e in this.renderOptions){const t=this.renderOptions[e];switch(t.type){case"text":this.drawText(t);break;case"image":this.drawImage(t);break}}}drawText(e){const{context:t}=this.canvas,{x:s,y:i,font:o,text:r,fillStyle:l,lineWidth:n,textAlign:c}=e;t.font=`${o} ${yc}`,t.fillStyle=l||"#ffffff",n&&(t.lineWidth=n),c&&(t.textAlign=c),t.fillText(r,s,i)}drawImage(e){const{context:t}=this.canvas,{x:s,y:i,name:o,frame:r,width:l,height:n,fallbackWithImage:c}=e;let u=this.scene.textures.get(o),m=u.getSourceImage(r);u.key==="__MISSING"&&c&&(u=this.scene.textures.get(c),m=u.getSourceImage()),t.drawImage(m,s,i,l,n)}snapshotFrame(){const e=this.canvas.getCanvas().toDataURL("image/jpeg",.85);return GameCore.Utils.Valid.isDebugger()&&Pc(e),e}}class kc extends Phaser.Events.EventEmitter{game;options;performance;isRunning=!1;checkTimer;fpsHistory;constructor(e,t,s){super(),this.game=e,this.options=s,this.performance=t}start=()=>{if(this.isRunning)return;this.isRunning=!0;const{checkInterval:e}=this.options;this.checkTimer=e,this.fpsHistory=[],this.game.events.on(Phaser.Core.Events.POST_STEP,this.onPostStep)};stop=()=>{if(!this.isRunning)return;this.isRunning=!1,this.game.events.off(Phaser.Core.Events.POST_STEP,this.onPostStep);const{onlyUpdateWhenSwitchScene:e}=this.options;e&&this.checkFps()};onPostStep=(e,t)=>{if(this.checkTimer-=t,this.checkTimer>0)return;const{checkInterval:s,onlyUpdateWhenSwitchScene:i}=this.options;this.checkTimer+=s,this.fpsHistory.push(this.game.loop.actualFps),i===!1&&this.fpsHistory.length>=5&&this.checkFps()};checkFps(){if(this.fpsHistory.length===0)return;const{autoUpgradeQuality:e}=this.options;let t=!1;this.isLowFps()?t=this.performance.downgradeGraphicsQuality():e&&this.isHighFps()&&(t=this.performance.upgradeGraphicsQuality()),t&&(this.fpsHistory=[])}getFpsMedian(){return Phaser.Math.Median(this.fpsHistory)}isLowFps(){return this.getFpsMedian()<this.options.fpsThreshold}isHighFps(){return this.getFpsMedian()>this.options.fpsThreshold*1.2}}class xc extends Phaser.Plugins.BasePlugin{fpsTracker;pixelRatio;minQuality;maxQuality;qualityAdjustStep;trackingSceneKeys=[];configure(e){const{pixelRatio:t,minQuality:s,maxQuality:i,qualityAdjustStep:o,trackingSceneKeys:r,...l}=e;this.pixelRatio=t,this.minQuality=s,this.maxQuality=i,this.qualityAdjustStep=o,this.trackingSceneKeys=r,this.fpsTracker=new kc(this.game,this,l)}active(){this.game.events.on(Phaser.Scenes.Events.WAKE,this.trackingScene),this.game.events.on(Phaser.Scenes.Events.START,this.trackingScene)}trackingScene=e=>{if(!this.trackingSceneKeys.includes(e))return;const t=this.game.scene.getScene(e);t.events.once(Phaser.Scenes.Events.UPDATE,this.fpsTracker.start),t.events.once(Phaser.Scenes.Events.SLEEP,this.fpsTracker.stop)};downgradeGraphicsQuality(){const e=this.pixelRatio;if(e<=this.minQuality)return!1;const t=+(e-this.qualityAdjustStep).toFixed(2);return t<this.minQuality?!1:(this.pixelRatio=t,this.game.world.resize(this.pixelRatio),console.warn(`ðŸ’« Graphics quality was downgraded! (${e} -> ${t})`),!0)}upgradeGraphicsQuality(){const e=this.pixelRatio;if(e>=this.maxQuality)return!1;const t=+(e+this.qualityAdjustStep).toFixed(2);return t>this.maxQuality?!1:(this.pixelRatio=t,this.game.world.resize(this.pixelRatio),console.warn(`ðŸš€ Graphics quality was upgraded! (${e} -> ${t})`),!0)}}const{DefaultTheme:Oc}=GameCore.Configs,_t={sound:!0,music:!0,vibrate:!0,language:"en",theme:Oc},{StartCoins:Rc,StartLevel:Ac,StartItems:Ic}=GameCore.Configs.Gameplay,{Valid:le,Object:ae}=GameCore.Utils;class Mt{score;settings;gameData;userGuideDisplays;constructor(e){this.setupDefaultData(),this.updateScore(e),this.updateSettings(e),this.updateGameData(e),this.updateUserGuideDisplays(e)}setupDefaultData(){this.score=0,this.settings={..._t},this.gameData={coins:Rc,items:{...Ic},levelProgress:Ac,lastTimePlayed:Date.now(),persistentLoginCount:0},this.userGuideDisplays=0}updateScore(e){const{score:t}=e;le.isNumber(t)!==!1&&(this.score=t)}updateSettings(e){const{settings:t}=e;le.isObject(t)!==!1&&(ae.hasOwn(t,"sound")&&le.isBoolean(t.sound)&&(this.settings.sound=t.sound),ae.hasOwn(t,"music")&&le.isBoolean(t.music)&&(this.settings.music=t.music),ae.hasOwn(t,"vibrate")&&le.isBoolean(t.vibrate)&&(this.settings.vibrate=t.vibrate))}updateGameData(e){const{gameData:t}=e;if(le.isObject(t)!==!1){if(ae.hasOwn(t,"coins")&&le.isNumber(t.coins)&&(this.gameData.coins=t.coins),ae.hasOwn(t,"levelProgress")&&le.isNumber(t.levelProgress)&&(this.gameData.levelProgress=t.levelProgress),ae.hasOwn(t,"items")&&le.isObject(t.items)){const s=t.items;ae.hasOwn(s,"ItemHint")&&(this.gameData.items.ItemHint=s.ItemHint),ae.hasOwn(s,"ItemRocket")&&(this.gameData.items.ItemRocket=s.ItemRocket),ae.hasOwn(s,"ItemShuffle")&&(this.gameData.items.ItemShuffle=s.ItemShuffle),ae.hasOwn(s,"ItemBombDefuse")&&(this.gameData.items.ItemBombDefuse=s.ItemBombDefuse)}ae.hasOwn(t,"lastTimePlayed")&&le.isNumber(t.lastTimePlayed)&&(this.gameData.lastTimePlayed=t.lastTimePlayed),ae.hasOwn(t,"persistentLoginCount")&&le.isNumber(t.persistentLoginCount)&&(this.gameData.persistentLoginCount=t.persistentLoginCount)}}updateGameDataItems(e){ae.hasOwn(e,"ItemHint")&&(this.gameData.items.ItemHint=e.ItemHint),ae.hasOwn(e,"ItemRocket")&&(this.gameData.items.ItemRocket=e.ItemRocket),ae.hasOwn(e,"ItemShuffle")&&(this.gameData.items.ItemShuffle=e.ItemShuffle),ae.hasOwn(e,"ItemBombDefuse")&&(this.gameData.items.ItemBombDefuse=e.ItemBombDefuse)}updateUserGuideDisplays(e){const{userGuideDisplays:t}=e;le.isNumber(t)!==!1&&(this.userGuideDisplays=t)}toObject(){return{score:this.score,settings:this.settings,gameData:this.gameData,userGuideDisplays:this.userGuideDisplays}}convertToPlayerData(){const{coins:e,items:t,levelProgress:s,lastTimePlayed:i,persistentLoginCount:o}=this.gameData;return{score:this.score,settings:this.settings,customFields:{coins:e,items:{...t},levelProgress:s,lastTimePlayed:i,persistentLoginCount:o},userGuideDisplays:this.userGuideDisplays}}convertToFacebookData(e){const{score:t,settings:s,customFields:i,userGuideDisplays:o}=e,{coins:r,items:l,levelProgress:n,lastTimePlayed:c,persistentLoginCount:u}=i||{};if(this.score=t,this.settings=s,this.userGuideDisplays=o,le.isNumber(r)&&(this.gameData.coins=r),le.isObject(l)){const{ItemBombDefuse:m,ItemHint:d,ItemRocket:f,ItemShuffle:h}=l;ae.hasOwn(l,"ItemHint")&&(this.gameData.items.ItemHint=d),ae.hasOwn(l,"ItemRocket")&&(this.gameData.items.ItemRocket=f),ae.hasOwn(l,"ItemShuffle")&&(this.gameData.items.ItemShuffle=h),ae.hasOwn(l,"ItemBombDefuse")&&(this.gameData.items.ItemBombDefuse=m)}return le.isNumber(n)&&(this.gameData.levelProgress=n),le.isNumber(c)&&(this.gameData.lastTimePlayed=c),le.isNumber(u)&&(this.gameData.persistentLoginCount=u),this.toObject()}}const _c=a=>{try{const e=localStorage.getItem(a);return e===null?null:GameCore.Utils.Json.decode(e)}catch{return null}},Jr=(a,e)=>{try{const t=_c(a);let s={};GameCore.Utils.Valid.isObject(t)&&(s=t);const i=GameCore.Utils.Json.clone(e);if(!GameCore.Utils.Valid.isObject(i))return!1;const o=GameCore.Utils.Object.clear(i),r=ve(s,o),l=GameCore.Utils.Json.encode(r);return localStorage.setItem(a,l),!0}catch{return!1}};class Qr extends Error{constructor(e,t){super(e,t),this.name="BadRequest",this.message=e||"This request is bad",this.payload=t}}class Ri extends Error{constructor(e,t){super(e,t),this.name="RequestTimeout",this.message=e||"This request is timeout",this.payload=t}}const{AppId:Mc,Network:Ki}=GameCore.Configs,Cc=a=>{if(!a.ok)throw new Qr(null,{response:a})},ea=()=>{const a=window.game.auth.getToken();return{token:a,timeout:Ki.Timeout,headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}}},ta=(a,e,t,s)=>async()=>{try{const i=`${a}/apps/${Mc}/${e}`,o=new AbortController;t.signal=o.signal;const r=setTimeout(()=>{o.abort()},t.timeout);GameCore.Utils.Valid.isObject(s)&&(t.body=JSON.stringify(s));const l=await fetch(i,t);return clearTimeout(r),Cc(l),await l.json()||{}}catch(i){if(i instanceof Qr)return null;throw i instanceof Object&&GameCore.Utils.Object.hasOwn(i,"name")&&i.name==="AbortError"?new Ri(null):i}},Wi=async(a,e)=>{try{return a()}catch(t){if(t instanceof Ri&&e>0)try{return await Xl(600),await Wi(a,e-1)}catch{return{}}return t instanceof Ri?{}:(console.warn(t),{})}},sa=async(a,e={},t,s=Ki.Retries)=>{if(!t)return{};try{const i={...ea(),...e,method:"GET"},o=ta(t,a,i);return await Wi(o,s)}catch(i){return console.warn(i),{}}},ia=async(a,e,t={},s,i=Ki.Retries)=>{if(!s)return{};try{const o={...ea(),...t,method:"POST"},r=ta(s,a,o,e);return await Wi(r,i)}catch(o){return console.warn(o),{}}},{StartCoins:Lc}=GameCore.Configs.Gameplay,oa={score:0,settings:{..._t},userGuideDisplays:0,customFields:{coins:Lc,items:{},levelProgress:1,lastTimePlayed:Date.now()}},{ApiHost:ra,PlayerDataStoreUsingApi:aa}=GameCore.Configs,zi=async a=>aa?Dc(a):Nc(a),Dc=async a=>{const e=GameCore.Utils.String.params(a);return(await sa(`players?${e}`,{},ra))?.data||[]},Nc=async a=>{await GameSDK.player.setDataAsync(a);const e=Object.keys(oa).concat(Object.keys(a)),t=e.filter((o,r)=>e.indexOf(o)===r),s=await GameSDK.player.getDataAsync(t),i=await GameSDK.player.getStatsAsync();return{...s,...i}},Gc=async a=>aa?Fc(a):Bc(),Fc=async a=>(await ia(`players/${a}/user-guide-displays/inc`,{},{},ra))?.data||{},Bc=async()=>await GameSDK.player.incrementStatsAsync({userGuideDisplays:1}),na="PLAYER_RECEIVED",la="PLAYER_DATA_UPDATE",ca="PLAYER_SCORE_UPDATE",ua="PLAYER_PROFILE_UPDATE",da="PLAYER_SETTING_UPDATE",ma="PLAYER_CONNECTED_PLAYERS_UPDATE";class ha extends Error{payload;constructor(e,t){super(e),this.name="PlayerDataNameNotSupport",this.message=e||"The name of player data is not supported",this.payload=t||{}}}const Fs="player",Uc=a=>a[Fs],Hc=a=>a[Fs].data,Yc=a=>a[Fs].connectedPlayers,Kc=(a,e)=>e.limit,Wc=(a,e)=>e.offset,Bs=de([Uc],a=>a),zc=de([Bs],a=>a.playerId),jc=de([Bs],a=>a.ASID),mt=de([Hc],a=>a);de([mt],a=>a.settings);const fa=de([Yc],a=>a),Vc=de([fa,Kc,Wc],(a,e,t)=>typeof e!="number"?[]:typeof t!="number"?[]:Object.keys(a).slice(t,e+t)||[]),$c=de([mt],a=>a.score),Xc=de([mt],a=>a.customFields),{AppId:qc,Tutorial:Zc,PlayerDataStore:pa}=GameCore.Configs,Jc=(a,e)=>t=>{const{playerId:s,name:i,photo:o,locale:r}=a;t({type:na,payload:{playerId:s,name:i,photo:o,locale:r,data:e||{}}})},Qc=()=>async a=>{try{const{facebook:e}=window.game,t=await new Promise((o,r)=>{e.once("players",l=>{o(l)}),e.once("playersfail",()=>r([])),e.getPlayers()}),s=o=>!!o,i=t.map(o=>{const r=o.getID(),l=o.getName(),n=o.getPhoto();return!r||!l||!n?null:new Is(r,l,n).toObject()}).filter(s);if(i.length<1)return;a(ba(i))}catch(e){pe(e)}},ba=a=>({type:ma,payload:{connectedPlayers:a}}),eu=(a,e)=>(t,s)=>{try{t({type:da,payload:{name:a,value:e}});const i=s(),o=mt(i),r=new Mt({}).convertToFacebookData(o);FBInstant.player.setDataAsync(r)}catch(i){pe(i)}},tu=()=>async(a,e)=>{try{const t=e(),s=Bs(t),{playerId:i,name:o,photo:r,locale:l}=s,n=await FBInstant.player.getASIDAsync(),c={appId:qc,playerId:i,name:o,photo:r,locale:l,ASID:n};zi(c),a({type:ua,payload:{profile:c}})}catch(t){pe(t)}},su=(a,e)=>async(t,s)=>{try{const i={customFields:{[a]:e}};await t(ji(i));const o=s(),r=mt(o),l=new Mt({}).convertToFacebookData(r);FBInstant.player.setDataAsync(l)}catch(i){if(i instanceof ha)return;pe(i)}},iu=a=>async(e,t)=>{try{console.info("ðŸš€ > setMultiCustomData",a),await e(ji({customFields:a}));const i=t(),o=mt(i),r={...o};zi(r);const l=new Mt({}).convertToFacebookData(o);FBInstant.player.setDataAsync(l)}catch(s){if(console.log("ðŸ¤– ? error",s),s instanceof ha)return;pe(s)}},ji=a=>e=>{try{e({type:la,payload:{data:a}}),Jr(pa,a)}catch(t){pe(t)}},ou=()=>async(a,e)=>{try{if(Zc.ForceUseTutorial)return;const{facebook:t}=window.game;a(ji({userGuideDisplays:1}));const s=e(),i=zc(s);await Gc(i),t.data.set("userGuideDisplays",1)}catch(t){pe(t)}},xo=a=>async(e,t)=>{try{await e({type:ca,payload:{score:a}}),zi({score:a});const s=t(),o={...mt(s)};Jr(pa,o)}catch(s){pe(s)}};class ru extends Phaser.Plugins.BasePlugin{get state(){return this.game.storage.getState()}async incUserGuideDisplays(){const{storage:e}=this.game;await e.dispatch(ou())}receiveData(e,t){const{storage:s}=this.game;s.dispatch(Jc(e,t))}async updateData(){const{storage:e}=this.game;await e.dispatch(tu())}async updateBestScore(e){const t=this.getBestScore();if(e<=t)return;const{storage:s}=this.game;await s.dispatch(xo(e))}async setScore(e){const{storage:t}=this.game;await t.dispatch(xo(e))}async setSetting(e,t){const{storage:s}=this.game;await s.dispatch(eu(e,t))}async setCustomData(e,t){const{storage:s}=this.game;await s.dispatch(su(e,t))}async setMultiCustomData(e){const{storage:t}=this.game;await t.dispatch(iu(e))}async requestConnectedPlayers(){const{storage:e}=this.game;await e.dispatch(Qc())}async updateConnectedPlayers(e){const{storage:t}=this.game;await t.dispatch(ba(e))}getPlayer(){return Bs(this.state)}getPlayerId(){return this.getPlayer().playerId}getPlayerASID(){return jc(this.state)}getPlayerData(){return this.getPlayer().data}getPlayerSetting(e){const t=this.getPlayerSettings();return typeof e!="string"?null:GameCore.Utils.Object.hasOwn(t,e)?t[e]:GameCore.Utils.Object.hasOwn(_t,e)?_t[e]:null}getPlayerSettings(){return this.getPlayerData().settings}getPlayerIsNew(){return this.getPlayer().isUserNew}getCoins(){const e=this.getCustomData("coin");return GameCore.Utils.Valid.isNumber(e)?e:0}getBestScore(){return $c(this.state)}getCustomData(e){const t=Xc(this.state);return!GameCore.Utils.Valid.isObject(t)||!GameCore.Utils.Object.hasOwn(t,e)?null:t[e]}getConnectedPlayers(){return fa(this.state)}getConnectedPlayerIds(e,t){return Vc(this.state,{limit:e,offset:t})}}const{ApiHost:au}=GameCore.Configs,nu=async a=>{const e=GameCore.Utils.String.params(a);return(await sa(`players?${e}`,{},au))?.data||[]},ga="PROFILES_DATA_UPDATE",Vi="profile",lu=a=>a[Vi].data,cu=a=>a[Vi].profileIds,uu=de([lu],a=>a),du=de([cu],a=>a),mu=a=>async(e,t)=>{try{const s=t(),i=du(s),o=GameCore.Utils.Array.difference(a,i);if(o.length<1)return;const r=await nu({playerIds:o});e({type:ga,payload:{data:r}})}catch(s){pe(s)}};class hu extends Phaser.Plugins.BasePlugin{get state(){return this.game.storage.getState()}async requestProfiles(e){const{storage:t}=this.game;await t.dispatch(mu(e))}getProfiles(){return uu(this.state)}}var va=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fu(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ai={},pu={get exports(){return Ai},set exports(a){Ai=a}};(function(a,e){(function(t,s){a.exports=s()})(va,function(){return function(t){var s={};function i(o){if(s[o])return s[o].exports;var r=s[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=s,i.d=function(o,r,l){i.o(o,r)||Object.defineProperty(o,r,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,r){if(1&r&&(o=i(o)),8&r||4&r&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&r&&typeof o!="string")for(var n in o)i.d(l,n,function(c){return o[c]}.bind(null,n));return l},i.n=function(o){var r=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(r,"a",r),r},i.o=function(o,r){return Object.prototype.hasOwnProperty.call(o,r)},i.p="",i(i.s=6)}([function(t,s,i){var o=i(12),r={};function l(y,S){return S===n(y)}function n(y){var S=typeof y;return S!=="object"?S:y?y instanceof Error?"error":{}.toString.call(y).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}function c(y){return l(y,"function")}function u(y){var S=Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),R=RegExp("^"+S+"$");return m(y)&&R.test(y)}function m(y){var S=typeof y;return y!=null&&(S=="object"||S=="function")}function d(){var y=E();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(S){var R=(y+16*Math.random())%16|0;return y=Math.floor(y/16),(S==="x"?R:7&R|8).toString(16)})}var f={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function h(y,S){var R,O;try{R=r.stringify(y)}catch(P){if(S&&c(S))try{R=S(y)}catch(x){O=x}else O=P}return{error:O,value:R}}function p(y,S){return function(R,O){try{S(R,O)}catch(P){y.error(P)}}}function v(y){return function S(R,O){var P,x,M,C={};try{for(x in R)(P=R[x])&&(l(P,"object")||l(P,"array"))?O.includes(P)?C[x]="Removed circular reference: "+n(P):((M=O.slice()).push(P),C[x]=S(P,M)):C[x]=P}catch(N){C="Failed cloning custom data: "+N.message}return C}(y,[y])}var b=["log","network","dom","navigation","error","manual"],g=["critical","error","warning","info","debug"];function w(y,S){for(var R=0;R<y.length;++R)if(y[R]===S)return!0;return!1}function E(){return Date.now?+Date.now():+new Date}t.exports={addParamsAndAccessTokenToPath:function(y,S,R){(R=R||{}).access_token=y;var O,P=[];for(O in R)Object.prototype.hasOwnProperty.call(R,O)&&P.push([O,R[O]].join("="));var x="?"+P.sort().join("&");(S=S||{}).path=S.path||"";var M,C=S.path.indexOf("?"),N=S.path.indexOf("#");C!==-1&&(N===-1||N>C)?(M=S.path,S.path=M.substring(0,C)+x+"&"+M.substring(C+1)):N!==-1?(M=S.path,S.path=M.substring(0,N)+x+M.substring(N)):S.path=S.path+x},createItem:function(y,S,R,O,P){for(var x,M,C,N,U,H,q=[],te=[],me=0,Q=y.length;me<Q;++me){var ze=n(H=y[me]);switch(te.push(ze),ze){case"undefined":break;case"string":x?q.push(H):x=H;break;case"function":N=p(S,H);break;case"date":q.push(H);break;case"error":case"domexception":case"exception":M?q.push(H):M=H;break;case"object":case"array":if(H instanceof Error||typeof DOMException<"u"&&H instanceof DOMException){M?q.push(H):M=H;break}if(O&&ze==="object"&&!U){for(var ye=0,Nt=O.length;ye<Nt;++ye)if(H[O[ye]]!==void 0){U=H;break}if(U)break}C?q.push(H):C=H;break;default:if(H instanceof Error||typeof DOMException<"u"&&H instanceof DOMException){M?q.push(H):M=H;break}q.push(H)}}C&&(C=v(C)),q.length>0&&(C||(C=v({})),C.extraArgs=v(q));var Fe={message:x,err:M,custom:C,timestamp:E(),callback:N,notifier:R,diagnostic:{},uuid:d()};return function(Gt,xe){xe&&xe.level!==void 0&&(Gt.level=xe.level,delete xe.level),xe&&xe.skipFrames!==void 0&&(Gt.skipFrames=xe.skipFrames,delete xe.skipFrames)}(Fe,C),O&&U&&(Fe.request=U),P&&(Fe.lambdaContext=P),Fe._originalArgs=y,Fe.diagnostic.original_arg_types=te,Fe},addErrorContext:function(y,S){var R=y.data.custom||{},O=!1;try{for(var P=0;P<S.length;++P)S[P].hasOwnProperty("rollbarContext")&&(R=o(R,v(S[P].rollbarContext)),O=!0);O&&(y.data.custom=R)}catch(x){y.diagnostic.error_context="Failed: "+x.message}},createTelemetryEvent:function(y){for(var S,R,O,P,x=0,M=y.length;x<M;++x)switch(n(P=y[x])){case"string":!S&&w(b,P)?S=P:!O&&w(g,P)&&(O=P);break;case"object":R=P}return{type:S||"manual",metadata:R||{},level:O}},filterIp:function(y,S){if(y&&y.user_ip&&S!==!0){var R=y.user_ip;if(S)try{var O;if(R.indexOf(".")!==-1)(O=R.split(".")).pop(),O.push("0"),R=O.join(".");else if(R.indexOf(":")!==-1){if((O=R.split(":")).length>2){var P=O.slice(0,3),x=P[2].indexOf("/");x!==-1&&(P[2]=P[2].substring(0,x)),R=P.concat("0000:0000:0000:0000:0000").join(":")}}else R=null}catch{R=null}else R=null;y.user_ip=R}},formatArgsAsString:function(y){var S,R,O,P=[];for(S=0,R=y.length;S<R;++S){switch(n(O=y[S])){case"object":(O=(O=h(O)).error||O.value).length>500&&(O=O.substr(0,497)+"...");break;case"null":O="null";break;case"undefined":O="undefined";break;case"symbol":O=O.toString()}P.push(O)}return P.join(" ")},formatUrl:function(y,S){if(!(S=S||y.protocol)&&y.port&&(y.port===80?S="http:":y.port===443&&(S="https:")),S=S||"https:",!y.hostname)return null;var R=S+"//"+y.hostname;return y.port&&(R=R+":"+y.port),y.path&&(R+=y.path),R},get:function(y,S){if(y){var R=S.split("."),O=y;try{for(var P=0,x=R.length;P<x;++P)O=O[R[P]]}catch{O=void 0}return O}},handleOptions:function(y,S,R,O){var P=o(y,S,R);return P=function(x,M){return x.hostWhiteList&&!x.hostSafeList&&(x.hostSafeList=x.hostWhiteList,x.hostWhiteList=void 0,M&&M.log("hostWhiteList is deprecated. Use hostSafeList.")),x.hostBlackList&&!x.hostBlockList&&(x.hostBlockList=x.hostBlackList,x.hostBlackList=void 0,M&&M.log("hostBlackList is deprecated. Use hostBlockList.")),x}(P,O),!S||S.overwriteScrubFields||S.scrubFields&&(P.scrubFields=(y.scrubFields||[]).concat(S.scrubFields)),P},isError:function(y){return l(y,"error")||l(y,"exception")},isFiniteNumber:function(y){return Number.isFinite(y)},isFunction:c,isIterable:function(y){var S=n(y);return S==="object"||S==="array"},isNativeFunction:u,isObject:m,isString:function(y){return typeof y=="string"||y instanceof String},isType:l,isPromise:function(y){return m(y)&&l(y.then,"function")},jsonParse:function(y){var S,R;try{S=r.parse(y)}catch(O){R=O}return{error:R,value:S}},LEVELS:{debug:0,info:1,warning:2,error:3,critical:4},makeUnhandledStackInfo:function(y,S,R,O,P,x,M,C){var N={url:S||"",line:R,column:O};N.func=C.guessFunctionName(N.url,N.line),N.context=C.gatherContext(N.url,N.line);var U=typeof document<"u"&&document&&document.location&&document.location.href,H=typeof window<"u"&&window&&window.navigator&&window.navigator.userAgent;return{mode:x,message:P?String(P):y||M,url:U,stack:[N],useragent:H}},merge:o,now:E,redact:function(){return"********"},RollbarJSON:r,sanitizeUrl:function(y){var S=function(R){if(l(R,"string")){for(var O=f,P=O.parser[O.strictMode?"strict":"loose"].exec(R),x={},M=0,C=O.key.length;M<C;++M)x[O.key[M]]=P[M]||"";return x[O.q.name]={},x[O.key[12]].replace(O.q.parser,function(N,U,H){U&&(x[O.q.name][U]=H)}),x}}(y);return S?(S.anchor===""&&(S.source=S.source.replace("#","")),y=S.source.replace("?"+S.query,"")):"(unknown)"},set:function(y,S,R){if(y){var O=S.split("."),P=O.length;if(!(P<1))if(P!==1)try{for(var x=y[O[0]]||{},M=x,C=1;C<P-1;++C)x[O[C]]=x[O[C]]||{},x=x[O[C]];x[O[P-1]]=R,y[O[0]]=M}catch{return}else y[O[0]]=R}},setupJSON:function(y){c(r.stringify)&&c(r.parse)||(l(JSON,"undefined")||(y?(u(JSON.stringify)&&(r.stringify=JSON.stringify),u(JSON.parse)&&(r.parse=JSON.parse)):(c(JSON.stringify)&&(r.stringify=JSON.stringify),c(JSON.parse)&&(r.parse=JSON.parse))),c(r.stringify)&&c(r.parse)||y&&y(r))},stringify:h,maxByteSize:function(y){for(var S=0,R=y.length,O=0;O<R;O++){var P=y.charCodeAt(O);P<128?S+=1:P<2048?S+=2:P<65536&&(S+=3)}return S},typeName:n,uuid4:d}},function(t,s,i){i(17);var o=i(18),r=i(0);t.exports={error:function(){var l=Array.prototype.slice.call(arguments,0);l.unshift("Rollbar:"),o.ieVersion()<=8?console.error(r.formatArgsAsString(l)):console.error.apply(console,l)},info:function(){var l=Array.prototype.slice.call(arguments,0);l.unshift("Rollbar:"),o.ieVersion()<=8?console.info(r.formatArgsAsString(l)):console.info.apply(console,l)},log:function(){var l=Array.prototype.slice.call(arguments,0);l.unshift("Rollbar:"),o.ieVersion()<=8?console.log(r.formatArgsAsString(l)):console.log.apply(console,l)}}},function(t,s,i){t.exports={parse:function(o){var r,l,n={protocol:null,auth:null,host:null,path:null,hash:null,href:o,hostname:null,port:null,pathname:null,search:null,query:null};if((r=o.indexOf("//"))!==-1?(n.protocol=o.substring(0,r),l=r+2):l=0,(r=o.indexOf("@",l))!==-1&&(n.auth=o.substring(l,r),l=r+1),(r=o.indexOf("/",l))===-1){if((r=o.indexOf("?",l))===-1)return(r=o.indexOf("#",l))===-1?n.host=o.substring(l):(n.host=o.substring(l,r),n.hash=o.substring(r)),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),n;n.host=o.substring(l,r),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),l=r}else n.host=o.substring(l,r),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),l=r;if((r=o.indexOf("#",l))===-1?n.path=o.substring(l):(n.path=o.substring(l,r),n.hash=o.substring(r)),n.path){var c=n.path.split("?");n.pathname=c[0],n.query=c[1],n.search=n.query?"?"+n.query:null}return n}}},function(t,s,i){var o=i(24),r=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");function l(){return null}function n(m){var d={};return d._stackFrame=m,d.url=m.fileName,d.line=m.lineNumber,d.func=m.functionName,d.column=m.columnNumber,d.args=m.args,d.context=null,d}function c(m,d){return{stack:function(){var f=[];d=d||0;try{f=o.parse(m)}catch{f=[]}for(var h=[],p=d;p<f.length;p++)h.push(new n(f[p]));return h}(),message:m.message,name:u(m),rawStack:m.stack,rawException:m}}function u(m){var d=m.name&&m.name.length&&m.name,f=m.constructor.name&&m.constructor.name.length&&m.constructor.name;return d&&f?d==="Error"?f:d:d||f}t.exports={guessFunctionName:function(){return"?"},guessErrorClass:function(m){if(!m||!m.match)return["Unknown error. There was no error message to display.",""];var d=m.match(r),f="(unknown)";return d&&(f=d[d.length-1],m=(m=m.replace((d[d.length-2]||"")+f+":","")).replace(/(^[\s]+|[\s]+$)/g,"")),[f,m]},gatherContext:l,parse:function(m,d){var f=m;if(f.nested||f.cause){for(var h=[];f;)h.push(new c(f,d)),f=f.nested||f.cause,d=0;return h[0].traceChain=h,h[0]}return new c(f,d)},Stack:c,Frame:n}},function(t,s,i){var o=i(0),r=i(5);function l(n,c){var u=c.split("."),m=u.length-1;try{for(var d=0;d<=m;++d)d<m?n=n[u[d]]:n[u[d]]=o.redact()}catch{}}t.exports=function(n,c,u){if(c=c||[],u)for(var m=0;m<u.length;++m)l(n,u[m]);var d=function(p){for(var v,b=[],g=0;g<p.length;++g)v="^\\[?(%5[bB])?"+p[g]+"\\[?(%5[bB])?\\]?(%5[dD])?$",b.push(new RegExp(v,"i"));return b}(c),f=function(p){for(var v,b=[],g=0;g<p.length;++g)v="\\[?(%5[bB])?"+p[g]+"\\[?(%5[bB])?\\]?(%5[dD])?",b.push(new RegExp("("+v+"=)([^&\\n]+)","igm"));return b}(c);function h(p,v){return v+o.redact()}return r(n,function p(v,b,g){var w=function(E,y){var S;for(S=0;S<d.length;++S)if(d[S].test(E)){y=o.redact();break}return y}(v,b);return w===b?o.isType(b,"object")||o.isType(b,"array")?r(b,p,g):function(E){var y;if(o.isType(E,"string"))for(y=0;y<f.length;++y)E=E.replace(f[y],h);return E}(w):w})}},function(t,s,i){var o=i(0);t.exports=function(r,l,n){var c,u,m,d,f=o.isType(r,"object"),h=o.isType(r,"array"),p=[];if(n=n||{obj:[],mapped:[]},f){if(d=n.obj.indexOf(r),f&&d!==-1)return n.mapped[d]||n.obj[d];n.obj.push(r),d=n.obj.length-1}if(f)for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&p.push(c);else if(h)for(m=0;m<r.length;++m)p.push(m);var v=f?{}:[],b=!0;for(m=0;m<p.length;++m)u=r[c=p[m]],v[c]=l(c,u,n),b=b&&v[c]===r[c];return f&&!b&&(n.mapped[d]=v),b?r:v}},function(t,s,i){t.exports=i(7)},function(t,s,i){var o=i(8),r=typeof window<"u"&&window._rollbarConfig,l=r&&r.globalAlias||"Rollbar",n=typeof window<"u"&&window[l]&&typeof window[l].shimId=="function"&&window[l].shimId()!==void 0;if(typeof window>"u"||window._rollbarStartTime||(window._rollbarStartTime=new Date().getTime()),!n&&r){var c=new o(r);window[l]=c}else typeof window<"u"?(window.rollbar=o,window._rollbarDidLoad=!0):typeof self<"u"&&(self.rollbar=o,self._rollbarDidLoad=!0);t.exports=o},function(t,s,i){var o=i(9),r=i(31),l=i(32),n=i(35),c=i(37),u=i(4),m=i(38);o.setComponents({telemeter:r,instrumenter:l,polyfillJSON:n,wrapGlobals:c,scrub:u,truncation:m}),t.exports=o},function(t,s,i){var o=i(10),r=i(0),l=i(15),n=i(1),c=i(19),u=i(20),m=i(2),d=i(23),f=i(26),h=i(27),p=i(28),v=i(3);function b(P,x){this.options=r.handleOptions(O,P,null,n),this.options._configuredOptions=P;var M=this.components.telemeter,C=this.components.instrumenter,N=this.components.polyfillJSON;this.wrapGlobals=this.components.wrapGlobals,this.scrub=this.components.scrub;var U=this.components.truncation,H=new u(U),q=new l(this.options,H,m,U);M&&(this.telemeter=new M(this.options)),this.client=x||new o(this.options,q,n,this.telemeter,"browser");var te=y(),me=typeof document<"u"&&document;this.isChrome=te.chrome&&te.chrome.runtime,this.anonymousErrorsPending=0,function(Q,ze,ye){Q.addTransform(d.handleDomException).addTransform(d.handleItemWithError).addTransform(d.ensureItemHasSomethingToSay).addTransform(d.addBaseInfo).addTransform(d.addRequestInfo(ye)).addTransform(d.addClientInfo(ye)).addTransform(d.addPluginInfo(ye)).addTransform(d.addBody).addTransform(f.addMessageWithError).addTransform(f.addTelemetryData).addTransform(f.addConfigToPayload).addTransform(d.addScrubber(ze.scrub)).addTransform(f.addPayloadOptions).addTransform(f.userTransform(n)).addTransform(f.addConfiguredOptions).addTransform(f.addDiagnosticKeys).addTransform(f.itemToPayload)}(this.client.notifier,this,te),this.client.queue.addPredicate(p.checkLevel).addPredicate(h.checkIgnore).addPredicate(p.userCheckIgnore(n)).addPredicate(p.urlIsNotBlockListed(n)).addPredicate(p.urlIsSafeListed(n)).addPredicate(p.messageIsIgnored(n)),this.setupUnhandledCapture(),C&&(this.instrumenter=new C(this.options,this.client.telemeter,this,te,me),this.instrumenter.instrument()),r.setupJSON(N)}var g=null;function w(P){var x="Rollbar is not initialized";n.error(x),P&&P(new Error(x))}function E(P){for(var x=0,M=P.length;x<M;++x)if(r.isFunction(P[x]))return P[x]}function y(){return typeof window<"u"&&window||typeof self<"u"&&self}b.init=function(P,x){return g?g.global(P).configure(P):g=new b(P,x)},b.prototype.components={},b.setComponents=function(P){b.prototype.components=P},b.prototype.global=function(P){return this.client.global(P),this},b.global=function(P){if(g)return g.global(P);w()},b.prototype.configure=function(P,x){var M=this.options,C={};return x&&(C={payload:x}),this.options=r.handleOptions(M,P,C,n),this.options._configuredOptions=r.handleOptions(M._configuredOptions,P,C),this.client.configure(this.options,x),this.instrumenter&&this.instrumenter.configure(this.options),this.setupUnhandledCapture(),this},b.configure=function(P,x){if(g)return g.configure(P,x);w()},b.prototype.lastError=function(){return this.client.lastError},b.lastError=function(){if(g)return g.lastError();w()},b.prototype.log=function(){var P=this._createItem(arguments),x=P.uuid;return this.client.log(P),{uuid:x}},b.log=function(){if(g)return g.log.apply(g,arguments);var P=E(arguments);w(P)},b.prototype.debug=function(){var P=this._createItem(arguments),x=P.uuid;return this.client.debug(P),{uuid:x}},b.debug=function(){if(g)return g.debug.apply(g,arguments);var P=E(arguments);w(P)},b.prototype.info=function(){var P=this._createItem(arguments),x=P.uuid;return this.client.info(P),{uuid:x}},b.info=function(){if(g)return g.info.apply(g,arguments);var P=E(arguments);w(P)},b.prototype.warn=function(){var P=this._createItem(arguments),x=P.uuid;return this.client.warn(P),{uuid:x}},b.warn=function(){if(g)return g.warn.apply(g,arguments);var P=E(arguments);w(P)},b.prototype.warning=function(){var P=this._createItem(arguments),x=P.uuid;return this.client.warning(P),{uuid:x}},b.warning=function(){if(g)return g.warning.apply(g,arguments);var P=E(arguments);w(P)},b.prototype.error=function(){var P=this._createItem(arguments),x=P.uuid;return this.client.error(P),{uuid:x}},b.error=function(){if(g)return g.error.apply(g,arguments);var P=E(arguments);w(P)},b.prototype.critical=function(){var P=this._createItem(arguments),x=P.uuid;return this.client.critical(P),{uuid:x}},b.critical=function(){if(g)return g.critical.apply(g,arguments);var P=E(arguments);w(P)},b.prototype.buildJsonPayload=function(P){return this.client.buildJsonPayload(P)},b.buildJsonPayload=function(){if(g)return g.buildJsonPayload.apply(g,arguments);w()},b.prototype.sendJsonPayload=function(P){return this.client.sendJsonPayload(P)},b.sendJsonPayload=function(){if(g)return g.sendJsonPayload.apply(g,arguments);w()},b.prototype.setupUnhandledCapture=function(){var P=y();this.unhandledExceptionsInitialized||(this.options.captureUncaught||this.options.handleUncaughtExceptions)&&(c.captureUncaughtExceptions(P,this),this.wrapGlobals&&this.options.wrapGlobalEventHandlers&&this.wrapGlobals(P,this),this.unhandledExceptionsInitialized=!0),this.unhandledRejectionsInitialized||(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections)&&(c.captureUnhandledRejections(P,this),this.unhandledRejectionsInitialized=!0)},b.prototype.handleUncaughtException=function(P,x,M,C,N,U){if(this.options.captureUncaught||this.options.handleUncaughtExceptions){if(this.options.inspectAnonymousErrors&&this.isChrome&&N===null&&x==="")return"anonymous";var H,q=r.makeUnhandledStackInfo(P,x,M,C,N,"onerror","uncaught exception",v);r.isError(N)?(H=this._createItem([P,N,U]))._unhandledStackInfo=q:r.isError(x)?(H=this._createItem([P,x,U]))._unhandledStackInfo=q:(H=this._createItem([P,U])).stackInfo=q,H.level=this.options.uncaughtErrorLevel,H._isUncaught=!0,this.client.log(H)}},b.prototype.handleAnonymousErrors=function(){if(this.options.inspectAnonymousErrors&&this.isChrome){var P=this;try{Error.prepareStackTrace=function(x,M){if(P.options.inspectAnonymousErrors&&P.anonymousErrorsPending){if(P.anonymousErrorsPending-=1,!x)return;x._isAnonymous=!0,P.handleUncaughtException(x.message,null,null,null,x)}return x.stack}}catch(x){this.options.inspectAnonymousErrors=!1,this.error("anonymous error handler failed",x)}}},b.prototype.handleUnhandledRejection=function(P,x){if(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections){var M="unhandled rejection was null or undefined!";if(P)if(P.message)M=P.message;else{var C=r.stringify(P);C.value&&(M=C.value)}var N,U=P&&P._rollbarContext||x&&x._rollbarContext;r.isError(P)?N=this._createItem([M,P,U]):(N=this._createItem([M,P,U])).stackInfo=r.makeUnhandledStackInfo(M,"",0,0,null,"unhandledrejection","",v),N.level=this.options.uncaughtErrorLevel,N._isUncaught=!0,N._originalArgs=N._originalArgs||[],N._originalArgs.push(x),this.client.log(N)}},b.prototype.wrap=function(P,x,M){try{var C;if(C=r.isFunction(x)?x:function(){return x||{}},!r.isFunction(P)||P._isWrap)return P;if(!P._rollbar_wrapped&&(P._rollbar_wrapped=function(){M&&r.isFunction(M)&&M.apply(this,arguments);try{return P.apply(this,arguments)}catch(H){var U=H;throw U&&window._rollbarWrappedError!==U&&(r.isType(U,"string")&&(U=new String(U)),U._rollbarContext=C()||{},U._rollbarContext._wrappedSource=P.toString(),window._rollbarWrappedError=U),U}},P._rollbar_wrapped._isWrap=!0,P.hasOwnProperty))for(var N in P)P.hasOwnProperty(N)&&N!=="_rollbar_wrapped"&&(P._rollbar_wrapped[N]=P[N]);return P._rollbar_wrapped}catch{return P}},b.wrap=function(P,x){if(g)return g.wrap(P,x);w()},b.prototype.captureEvent=function(){var P=r.createTelemetryEvent(arguments);return this.client.captureEvent(P.type,P.metadata,P.level)},b.captureEvent=function(){if(g)return g.captureEvent.apply(g,arguments);w()},b.prototype.captureDomContentLoaded=function(P,x){return x||(x=new Date),this.client.captureDomContentLoaded(x)},b.prototype.captureLoad=function(P,x){return x||(x=new Date),this.client.captureLoad(x)},b.prototype.loadFull=function(){n.info("Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.")},b.prototype._createItem=function(P){return r.createItem(P,n,this)};var S=i(29),R=i(30),O={version:S.version,scrubFields:R.scrubFields,logLevel:S.logLevel,reportLevel:S.reportLevel,uncaughtErrorLevel:S.uncaughtErrorLevel,endpoint:S.endpoint,verbose:!1,enabled:!0,transmit:!0,sendConfig:!1,includeItemsInTelemetry:!0,captureIp:!0,inspectAnonymousErrors:!0,ignoreDuplicateErrors:!0,wrapGlobalEventHandlers:!1};t.exports=b},function(t,s,i){var o=i(11),r=i(13),l=i(14),n=i(0);function c(d,f,h,p,v){this.options=n.merge(d),this.logger=h,c.rateLimiter.configureGlobal(this.options),c.rateLimiter.setPlatformOptions(v,this.options),this.api=f,this.queue=new r(c.rateLimiter,f,h,this.options);var b=this.options.tracer||null;m(b)?(this.tracer=b,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier=new l(this.queue,this.options),this.telemeter=p,u(d),this.lastError=null,this.lastErrorHash="none"}function u(d){d.stackTraceLimit&&(Error.stackTraceLimit=d.stackTraceLimit)}function m(d){if(!d||!d.scope||typeof d.scope!="function")return!1;var f=d.scope();return!(!f||!f.active||typeof f.active!="function")}c.rateLimiter=new o({maxItems:0,itemsPerMinute:60}),c.prototype.global=function(d){return c.rateLimiter.configureGlobal(d),this},c.prototype.configure=function(d,f){var h=this.options,p={};f&&(p={payload:f}),this.options=n.merge(h,d,p);var v=this.options.tracer||null;return m(v)?(this.tracer=v,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier&&this.notifier.configure(this.options),this.telemeter&&this.telemeter.configure(this.options),u(d),this.global(this.options),m(d.tracer)&&(this.tracer=d.tracer),this},c.prototype.log=function(d){var f=this._defaultLogLevel();return this._log(f,d)},c.prototype.debug=function(d){this._log("debug",d)},c.prototype.info=function(d){this._log("info",d)},c.prototype.warn=function(d){this._log("warning",d)},c.prototype.warning=function(d){this._log("warning",d)},c.prototype.error=function(d){this._log("error",d)},c.prototype.critical=function(d){this._log("critical",d)},c.prototype.wait=function(d){this.queue.wait(d)},c.prototype.captureEvent=function(d,f,h){return this.telemeter&&this.telemeter.captureEvent(d,f,h)},c.prototype.captureDomContentLoaded=function(d){return this.telemeter&&this.telemeter.captureDomContentLoaded(d)},c.prototype.captureLoad=function(d){return this.telemeter&&this.telemeter.captureLoad(d)},c.prototype.buildJsonPayload=function(d){return this.api.buildJsonPayload(d)},c.prototype.sendJsonPayload=function(d){this.api.postJsonPayload(d)},c.prototype._log=function(d,f){var h;if(f.callback&&(h=f.callback,delete f.callback),this.options.ignoreDuplicateErrors&&this._sameAsLastError(f)){if(h){var p=new Error("ignored identical item");p.item=f,h(p)}}else try{this._addTracingInfo(f),f.level=f.level||d,this.telemeter&&this.telemeter._captureRollbarItem(f),f.telemetryEvents=this.telemeter&&this.telemeter.copyEvents()||[],this.notifier.log(f,h)}catch(v){h&&h(v),this.logger.error(v)}},c.prototype._defaultLogLevel=function(){return this.options.logLevel||"debug"},c.prototype._sameAsLastError=function(d){if(!d._isUncaught)return!1;var f=function(h){var p=h.message||"",v=(h.err||{}).stack||String(h.err);return p+"::"+v}(d);return this.lastErrorHash===f||(this.lastError=d.err,this.lastErrorHash=f,!1)},c.prototype._addTracingInfo=function(d){if(this.tracer){var f=this.tracer.scope().active();if(function(v){if(!v||!v.context||typeof v.context!="function")return!1;var b=v.context();return!(!b||!b.toSpanId||!b.toTraceId||typeof b.toSpanId!="function"||typeof b.toTraceId!="function")}(f)){f.setTag("rollbar.error_uuid",d.uuid),f.setTag("rollbar.has_error",!0),f.setTag("error",!0),f.setTag("rollbar.item_url","https://rollbar.com/item/uuid/?uuid="+d.uuid),f.setTag("rollbar.occurrence_url","https://rollbar.com/occurrence/uuid/?uuid="+d.uuid);var h=f.context().toSpanId(),p=f.context().toTraceId();d.custom?(d.custom.opentracing_span_id=h,d.custom.opentracing_trace_id=p):d.custom={opentracing_span_id:h,opentracing_trace_id:p}}}},t.exports=c},function(t,s,i){var o=i(0);function r(c){this.startTime=o.now(),this.counter=0,this.perMinCounter=0,this.platform=null,this.platformOptions={},this.configureGlobal(c)}function l(c,u,m){return!c.ignoreRateLimit&&u>=1&&m>u}function n(c,u,m,d,f,h,p){var v=null;return m&&(m=new Error(m)),m||d||(v=function(b,g,w,E,y){var S,R=g.environment||g.payload&&g.payload.environment;S=y?"item per minute limit reached, ignoring errors until timeout":"maxItems has been hit, ignoring errors until reset.";var O={body:{message:{body:S,extra:{maxItems:w,itemsPerMinute:E}}},language:"javascript",environment:R,notifier:{version:g.notifier&&g.notifier.version||g.version}};return b==="browser"?(O.platform="browser",O.framework="browser-js",O.notifier.name="rollbar-browser-js"):b==="server"?(O.framework=g.framework||"node-js",O.notifier.name=g.notifier.name):b==="react-native"&&(O.framework=g.framework||"react-native",O.notifier.name=g.notifier.name),O}(c,u,f,h,p)),{error:m,shouldSend:d,payload:v}}r.globalSettings={startTime:o.now(),maxItems:void 0,itemsPerMinute:void 0},r.prototype.configureGlobal=function(c){c.startTime!==void 0&&(r.globalSettings.startTime=c.startTime),c.maxItems!==void 0&&(r.globalSettings.maxItems=c.maxItems),c.itemsPerMinute!==void 0&&(r.globalSettings.itemsPerMinute=c.itemsPerMinute)},r.prototype.shouldSend=function(c,u){var m=(u=u||o.now())-this.startTime;(m<0||m>=6e4)&&(this.startTime=u,this.perMinCounter=0);var d=r.globalSettings.maxItems,f=r.globalSettings.itemsPerMinute;if(l(c,d,this.counter))return n(this.platform,this.platformOptions,d+" max items reached",!1);if(l(c,f,this.perMinCounter))return n(this.platform,this.platformOptions,f+" items per minute reached",!1);this.counter++,this.perMinCounter++;var h=!l(c,d,this.counter),p=h;return h=h&&!l(c,f,this.perMinCounter),n(this.platform,this.platformOptions,null,h,d,f,p)},r.prototype.setPlatformOptions=function(c,u){this.platform=c,this.platformOptions=u},t.exports=r},function(t,s,i){var o=Object.prototype.hasOwnProperty,r=Object.prototype.toString,l=function(n){if(!n||r.call(n)!=="[object Object]")return!1;var c,u=o.call(n,"constructor"),m=n.constructor&&n.constructor.prototype&&o.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!u&&!m)return!1;for(c in n);return c===void 0||o.call(n,c)};t.exports=function n(){var c,u,m,d,f,h={},p=null,v=arguments.length;for(c=0;c<v;c++)if((p=arguments[c])!=null)for(f in p)u=h[f],h!==(m=p[f])&&(m&&l(m)?(d=u&&l(u)?u:{},h[f]=n(d,m)):m!==void 0&&(h[f]=m));return h}},function(t,s,i){var o=i(0);function r(n,c,u,m){this.rateLimiter=n,this.api=c,this.logger=u,this.options=m,this.predicates=[],this.pendingItems=[],this.pendingRequests=[],this.retryQueue=[],this.retryHandle=null,this.waitCallback=null,this.waitIntervalID=null}r.prototype.configure=function(n){this.api&&this.api.configure(n);var c=this.options;return this.options=o.merge(c,n),this},r.prototype.addPredicate=function(n){return o.isFunction(n)&&this.predicates.push(n),this},r.prototype.addPendingItem=function(n){this.pendingItems.push(n)},r.prototype.removePendingItem=function(n){var c=this.pendingItems.indexOf(n);c!==-1&&this.pendingItems.splice(c,1)},r.prototype.addItem=function(n,c,u,m){c&&o.isFunction(c)||(c=function(){});var d=this._applyPredicates(n);if(d.stop)return this.removePendingItem(m),void c(d.err);if(this._maybeLog(n,u),this.removePendingItem(m),this.options.transmit){this.pendingRequests.push(n);try{this._makeApiRequest(n,function(f,h){this._dequeuePendingRequest(n),c(f,h)}.bind(this))}catch(f){this._dequeuePendingRequest(n),c(f)}}else c(new Error("Transmit disabled"))},r.prototype.wait=function(n){o.isFunction(n)&&(this.waitCallback=n,this._maybeCallWait()||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitIntervalID=setInterval(function(){this._maybeCallWait()}.bind(this),500)))},r.prototype._applyPredicates=function(n){for(var c=null,u=0,m=this.predicates.length;u<m;u++)if(!(c=this.predicates[u](n,this.options))||c.err!==void 0)return{stop:!0,err:c.err};return{stop:!1,err:null}},r.prototype._makeApiRequest=function(n,c){var u=this.rateLimiter.shouldSend(n);u.shouldSend?this.api.postItem(n,function(m,d){m?this._maybeRetry(m,n,c):c(m,d)}.bind(this)):u.error?c(u.error):this.api.postItem(u.payload,c)};var l=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN"];r.prototype._maybeRetry=function(n,c,u){var m=!1;if(this.options.retryInterval){for(var d=0,f=l.length;d<f;d++)if(n.code===l[d]){m=!0;break}m&&o.isFiniteNumber(this.options.maxRetries)&&(c.retries=c.retries?c.retries+1:1,c.retries>this.options.maxRetries&&(m=!1))}m?this._retryApiRequest(c,u):u(n)},r.prototype._retryApiRequest=function(n,c){this.retryQueue.push({item:n,callback:c}),this.retryHandle||(this.retryHandle=setInterval(function(){for(;this.retryQueue.length;){var u=this.retryQueue.shift();this._makeApiRequest(u.item,u.callback)}}.bind(this),this.options.retryInterval))},r.prototype._dequeuePendingRequest=function(n){var c=this.pendingRequests.indexOf(n);c!==-1&&(this.pendingRequests.splice(c,1),this._maybeCallWait())},r.prototype._maybeLog=function(n,c){if(this.logger&&this.options.verbose){var u=c;if(u=(u=u||o.get(n,"body.trace.exception.message"))||o.get(n,"body.trace_chain.0.exception.message"))return void this.logger.error(u);(u=o.get(n,"body.message.body"))&&this.logger.log(u)}},r.prototype._maybeCallWait=function(){return!(!o.isFunction(this.waitCallback)||this.pendingItems.length!==0||this.pendingRequests.length!==0)&&(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitCallback(),!0)},t.exports=r},function(t,s,i){var o=i(0);function r(l,n){this.queue=l,this.options=n,this.transforms=[],this.diagnostic={}}r.prototype.configure=function(l){this.queue&&this.queue.configure(l);var n=this.options;return this.options=o.merge(n,l),this},r.prototype.addTransform=function(l){return o.isFunction(l)&&this.transforms.push(l),this},r.prototype.log=function(l,n){if(n&&o.isFunction(n)||(n=function(){}),!this.options.enabled)return n(new Error("Rollbar is not enabled"));this.queue.addPendingItem(l);var c=l.err;this._applyTransforms(l,function(u,m){if(u)return this.queue.removePendingItem(l),n(u,null);this.queue.addItem(m,n,c,l)}.bind(this))},r.prototype._applyTransforms=function(l,n){var c=-1,u=this.transforms.length,m=this.transforms,d=this.options,f=function(h,p){h?n(h,null):++c!==u?m[c](p,d,f):n(null,p)};f(null,l)},t.exports=r},function(t,s,i){var o=i(0),r=i(16),l={hostname:"api.rollbar.com",path:"/api/1/item/",search:null,version:"1",protocol:"https:",port:443};function n(u,m,d,f,h){this.options=u,this.transport=m,this.url=d,this.truncation=f,this.jsonBackup=h,this.accessToken=u.accessToken,this.transportOptions=c(u,d)}function c(u,m){return r.getTransportFromOptions(u,l,m)}n.prototype.postItem=function(u,m){var d=r.transportOptions(this.transportOptions,"POST"),f=r.buildPayload(this.accessToken,u,this.jsonBackup),h=this;setTimeout(function(){h.transport.post(h.accessToken,d,f,m)},0)},n.prototype.buildJsonPayload=function(u,m){var d,f=r.buildPayload(this.accessToken,u,this.jsonBackup);return(d=this.truncation?this.truncation.truncate(f):o.stringify(f)).error?(m&&m(d.error),null):d.value},n.prototype.postJsonPayload=function(u,m){var d=r.transportOptions(this.transportOptions,"POST");this.transport.postJsonPayload(this.accessToken,d,u,m)},n.prototype.configure=function(u){var m=this.oldOptions;return this.options=o.merge(m,u),this.transportOptions=c(this.options,this.url),this.options.accessToken!==void 0&&(this.accessToken=this.options.accessToken),this},t.exports=n},function(t,s,i){var o=i(0);t.exports={buildPayload:function(r,l,n){if(!o.isType(l.context,"string")){var c=o.stringify(l.context,n);c.error?l.context="Error: could not serialize 'context'":l.context=c.value||"",l.context.length>255&&(l.context=l.context.substr(0,255))}return{access_token:r,data:l}},getTransportFromOptions:function(r,l,n){var c=l.hostname,u=l.protocol,m=l.port,d=l.path,f=l.search,h=r.timeout,p=function(g){var w=typeof window<"u"&&window||typeof self<"u"&&self,E=g.defaultTransport||"xhr";return w.fetch===void 0&&(E="xhr"),w.XMLHttpRequest===void 0&&(E="fetch"),E}(r),v=r.proxy;if(r.endpoint){var b=n.parse(r.endpoint);c=b.hostname,u=b.protocol,m=b.port,d=b.pathname,f=b.search}return{timeout:h,hostname:c,protocol:u,port:m,path:d,search:f,proxy:v,transport:p}},transportOptions:function(r,l){var n=r.protocol||"https:",c=r.port||(n==="http:"?80:n==="https:"?443:void 0),u=r.hostname,m=r.path,d=r.timeout,f=r.transport;return r.search&&(m+=r.search),r.proxy&&(m=n+"//"+u+m,u=r.proxy.host||r.proxy.hostname,c=r.proxy.port,n=r.proxy.protocol||n),{timeout:d,protocol:n,hostname:u,path:m,port:c,method:l,transport:f}},appendPathToPath:function(r,l){var n=/\/$/.test(r),c=/^\//.test(l);return n&&c?l=l.substring(1):n||c||(l="/"+l),r+l}}},function(t,s){(function(i){i.console||(i.console={});for(var o,r,l=i.console,n=function(){},c=["memory"],u="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");o=c.pop();)l[o]||(l[o]={});for(;r=u.pop();)l[r]||(l[r]=n)})(typeof window>"u"?this:window)},function(t,s,i){var o={ieVersion:function(){if(typeof document<"u"){for(var r=3,l=document.createElement("div"),n=l.getElementsByTagName("i");l.innerHTML="<!--[if gt IE "+ ++r+"]><i></i><![endif]-->",n[0];);return r>4?r:void 0}}};t.exports=o},function(t,s,i){function o(r,l,n,c){r._rollbarWrappedError&&(c[4]||(c[4]=r._rollbarWrappedError),c[5]||(c[5]=r._rollbarWrappedError._rollbarContext),r._rollbarWrappedError=null);var u=l.handleUncaughtException.apply(l,c);n&&n.apply(r,c),u==="anonymous"&&(l.anonymousErrorsPending+=1)}t.exports={captureUncaughtExceptions:function(r,l,n){if(r){var c;if(typeof l._rollbarOldOnError=="function")c=l._rollbarOldOnError;else if(r.onerror){for(c=r.onerror;c._rollbarOldOnError;)c=c._rollbarOldOnError;l._rollbarOldOnError=c}l.handleAnonymousErrors();var u=function(){var m=Array.prototype.slice.call(arguments,0);o(r,l,c,m)};n&&(u._rollbarOldOnError=c),r.onerror=u}},captureUnhandledRejections:function(r,l,n){if(r){typeof r._rollbarURH=="function"&&r._rollbarURH.belongsToShim&&r.removeEventListener("unhandledrejection",r._rollbarURH);var c=function(u){var m,d,f;try{m=u.reason}catch{m=void 0}try{d=u.promise}catch{d="[unhandledrejection] error getting `promise` from event"}try{f=u.detail,!m&&f&&(m=f.reason,d=f.promise)}catch{}m||(m="[unhandledrejection] error getting `reason` from event"),l&&l.handleUnhandledRejection&&l.handleUnhandledRejection(m,d)};c.belongsToShim=n,r._rollbarURH=c,r.addEventListener("unhandledrejection",c)}}}},function(t,s,i){var o=i(0),r=i(21),l=i(22);function n(c){this.truncation=c}n.prototype.get=function(c,u,m,d,f){d&&o.isFunction(d)||(d=function(){}),o.addParamsAndAccessTokenToPath(c,u,m);var h=o.formatUrl(u);this._makeZoneRequest(c,h,"GET",null,d,f,u.timeout,u.transport)},n.prototype.post=function(c,u,m,d,f){if(d&&o.isFunction(d)||(d=function(){}),!m)return d(new Error("Cannot send empty request"));var h;if((h=this.truncation?this.truncation.truncate(m):o.stringify(m)).error)return d(h.error);var p=h.value,v=o.formatUrl(u);this._makeZoneRequest(c,v,"POST",p,d,f,u.timeout,u.transport)},n.prototype.postJsonPayload=function(c,u,m,d,f){d&&o.isFunction(d)||(d=function(){});var h=o.formatUrl(u);this._makeZoneRequest(c,h,"POST",m,d,f,u.timeout,u.transport)},n.prototype._makeZoneRequest=function(){var c=typeof window<"u"&&window||f!==void 0&&f,u=c&&c.Zone&&c.Zone.current,m=Array.prototype.slice.call(arguments);if(u&&u._name==="angular"){var d=u._parent,f=this;d.run(function(){f._makeRequest.apply(void 0,m)})}else this._makeRequest.apply(void 0,m)},n.prototype._makeRequest=function(c,u,m,d,f,h,p,v){if(typeof RollbarProxy<"u")return function(b,g){new RollbarProxy().sendJsonPayload(b,function(w){},function(w){g(new Error(w))})}(d,f);v==="fetch"?r(c,u,m,d,f,p):l(c,u,m,d,f,h,p)},t.exports=n},function(t,s,i){var o=i(1),r=i(0);t.exports=function(l,n,c,u,m,d){var f,h;r.isFiniteNumber(d)&&(f=new AbortController,h=setTimeout(function(){f.abort()},d)),fetch(n,{method:c,headers:{"Content-Type":"application/json","X-Rollbar-Access-Token":l,signal:f&&f.signal},body:u}).then(function(p){return h&&clearTimeout(h),p.json()}).then(function(p){m(null,p)}).catch(function(p){o.error(p.message),m(p)})}},function(t,s,i){var o=i(0),r=i(1);function l(n,c){var u=new Error(n);return u.code=c||"ENOTFOUND",u}t.exports=function(n,c,u,m,d,f,h){var p;if(!(p=f?f():function(){var g,w,E=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],y=E.length;for(w=0;w<y;w++)try{g=E[w]();break}catch{}return g}()))return d(new Error("No way to send a request"));try{try{var v=function(){try{if(v&&p.readyState===4){v=void 0;var g=o.jsonParse(p.responseText);if((y=p)&&y.status&&y.status===200)return void d(g.error,g.value);if(function(S){return S&&o.isType(S.status,"number")&&S.status>=400&&S.status<600}(p)){if(p.status===403){var w=g.value&&g.value.message;r.error(w)}d(new Error(String(p.status)))}else d(l("XHR response had no status code (likely connection failure)"))}}catch(S){var E;E=S&&S.stack?S:new Error(S),d(E)}var y};p.open(u,c,!0),p.setRequestHeader&&(p.setRequestHeader("Content-Type","application/json"),p.setRequestHeader("X-Rollbar-Access-Token",n)),o.isFiniteNumber(h)&&(p.timeout=h),p.onreadystatechange=v,p.send(m)}catch{if(typeof XDomainRequest<"u"){if(!window||!window.location)return d(new Error("No window available during request, unknown environment"));window.location.href.substring(0,5)==="http:"&&c.substring(0,5)==="https"&&(c="http"+c.substring(5));var b=new XDomainRequest;b.onprogress=function(){},b.ontimeout=function(){d(l("Request timed out","ETIMEDOUT"))},b.onerror=function(){d(new Error("Error during request"))},b.onload=function(){var w=o.jsonParse(b.responseText);d(w.error,w.value)},b.open(u,c,!0),b.send(m)}else d(new Error("Cannot find a method to transport a request"))}}catch(g){d(g)}}},function(t,s,i){var o=i(0),r=i(3),l=i(1);function n(d,f,h){var p=d.message,v=d.custom;p||(p="Item sent with null or missing arguments.");var b={body:p};v&&(b.extra=o.merge(v)),o.set(d,"data.body",{message:b}),h(null,d)}function c(d){var f=d.stackInfo.stack;return f&&f.length===0&&d._unhandledStackInfo&&d._unhandledStackInfo.stack&&(f=d._unhandledStackInfo.stack),f}function u(d,f,h){var p=d&&d.data.description,v=d&&d.custom,b=c(d),g=r.guessErrorClass(f.message),w={exception:{class:m(f,g[0],h),message:g[1]}};if(p&&(w.exception.description=p),b){var E,y,S,R,O,P,x,M;for(b.length===0&&(w.exception.stack=f.rawStack,w.exception.raw=String(f.rawException)),w.frames=[],x=0;x<b.length;++x)y={filename:(E=b[x]).url?o.sanitizeUrl(E.url):"(unknown)",lineno:E.line||null,method:E.func&&E.func!=="?"?E.func:"[anonymous]",colno:E.column},h.sendFrameUrl&&(y.url=E.url),y.method&&y.method.endsWith&&y.method.endsWith("_rollbar_wrapped")||(S=R=O=null,(P=E.context?E.context.length:0)&&(M=Math.floor(P/2),R=E.context.slice(0,M),S=E.context[M],O=E.context.slice(M)),S&&(y.code=S),(R||O)&&(y.context={},R&&R.length&&(y.context.pre=R),O&&O.length&&(y.context.post=O)),E.args&&(y.args=E.args),w.frames.push(y));w.frames.reverse(),v&&(w.extra=o.merge(v))}return w}function m(d,f,h){return d.name?d.name:h.guessErrorClass?f:"(unknown)"}t.exports={handleDomException:function(d,f,h){if(d.err&&r.Stack(d.err).name==="DOMException"){var p=new Error;p.name=d.err.name,p.message=d.err.message,p.stack=d.err.stack,p.nested=d.err,d.err=p}h(null,d)},handleItemWithError:function(d,f,h){if(d.data=d.data||{},d.err)try{d.stackInfo=d.err._savedStackTrace||r.parse(d.err,d.skipFrames),f.addErrorContext&&function(p){var v=[],b=p.err;for(v.push(b);b.nested||b.cause;)b=b.nested||b.cause,v.push(b);o.addErrorContext(p,v)}(d)}catch(p){l.error("Error while parsing the error object.",p);try{d.message=d.err.message||d.err.description||d.message||String(d.err)}catch(v){d.message=String(d.err)||String(v)}delete d.err}h(null,d)},ensureItemHasSomethingToSay:function(d,f,h){d.message||d.stackInfo||d.custom||h(new Error("No message, stack info, or custom data"),null),h(null,d)},addBaseInfo:function(d,f,h){var p=f.payload&&f.payload.environment||f.environment;d.data=o.merge(d.data,{environment:p,level:d.level,endpoint:f.endpoint,platform:"browser",framework:"browser-js",language:"javascript",server:{},uuid:d.uuid,notifier:{name:"rollbar-browser-js",version:f.version},custom:d.custom}),h(null,d)},addRequestInfo:function(d){return function(f,h,p){var v={};d&&d.location&&(v.url=d.location.href,v.query_string=d.location.search);var b="$remote_ip";h.captureIp?h.captureIp!==!0&&(b+="_anonymize"):b=null,b&&(v.user_ip=b),Object.keys(v).length>0&&o.set(f,"data.request",v),p(null,f)}},addClientInfo:function(d){return function(f,h,p){if(!d)return p(null,f);var v=d.navigator||{},b=d.screen||{};o.set(f,"data.client",{runtime_ms:f.timestamp-d._rollbarStartTime,timestamp:Math.round(f.timestamp/1e3),javascript:{browser:v.userAgent,language:v.language,cookie_enabled:v.cookieEnabled,screen:{width:b.width,height:b.height}}}),p(null,f)}},addPluginInfo:function(d){return function(f,h,p){if(!d||!d.navigator)return p(null,f);for(var v,b=[],g=d.navigator.plugins||[],w=0,E=g.length;w<E;++w)v=g[w],b.push({name:v.name,description:v.description});o.set(f,"data.client.javascript.plugins",b),p(null,f)}},addBody:function(d,f,h){d.stackInfo?d.stackInfo.traceChain?function(p,v,b){for(var g=p.stackInfo.traceChain,w=[],E=g.length,y=0;y<E;y++){var S=u(p,g[y],v);w.push(S)}o.set(p,"data.body",{trace_chain:w}),b(null,p)}(d,f,h):function(p,v,b){if(c(p)){var g=u(p,p.stackInfo,v);o.set(p,"data.body",{trace:g}),b(null,p)}else{var w=p.stackInfo,E=r.guessErrorClass(w.message),y=m(w,E[0],v),S=E[1];p.message=y+": "+S,n(p,v,b)}}(d,f,h):n(d,f,h)},addScrubber:function(d){return function(f,h,p){if(d){var v=h.scrubFields||[],b=h.scrubPaths||[];f.data=d(f.data,v,b)}p(null,f)}}}},function(t,s,i){var o,r,l;(function(n,c){r=[i(25)],(l=typeof(o=function(u){var m=/(^|@)\S+:\d+/,d=/^\s*at .*(\S+:\d+|\(native\))/m,f=/^(eval@)?(\[native code])?$/;return{parse:function(h){if(h.stacktrace!==void 0||h["opera#sourceloc"]!==void 0)return this.parseOpera(h);if(h.stack&&h.stack.match(d))return this.parseV8OrIE(h);if(h.stack)return this.parseFFOrSafari(h);throw new Error("Cannot parse given Error object")},extractLocation:function(h){if(h.indexOf(":")===-1)return[h];var p=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(h.replace(/[()]/g,""));return[p[1],p[2]||void 0,p[3]||void 0]},parseV8OrIE:function(h){return h.stack.split(`
`).filter(function(p){return!!p.match(d)},this).map(function(p){p.indexOf("(eval ")>-1&&(p=p.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var v=p.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),b=v.match(/ (\(.+\)$)/);v=b?v.replace(b[0],""):v;var g=this.extractLocation(b?b[1]:v),w=b&&v||void 0,E=["eval","<anonymous>"].indexOf(g[0])>-1?void 0:g[0];return new u({functionName:w,fileName:E,lineNumber:g[1],columnNumber:g[2],source:p})},this)},parseFFOrSafari:function(h){return h.stack.split(`
`).filter(function(p){return!p.match(f)},this).map(function(p){if(p.indexOf(" > eval")>-1&&(p=p.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),p.indexOf("@")===-1&&p.indexOf(":")===-1)return new u({functionName:p});var v=/((.*".+"[^@]*)?[^@]*)(?:@)/,b=p.match(v),g=b&&b[1]?b[1]:void 0,w=this.extractLocation(p.replace(v,""));return new u({functionName:g,fileName:w[0],lineNumber:w[1],columnNumber:w[2],source:p})},this)},parseOpera:function(h){return!h.stacktrace||h.message.indexOf(`
`)>-1&&h.message.split(`
`).length>h.stacktrace.split(`
`).length?this.parseOpera9(h):h.stack?this.parseOpera11(h):this.parseOpera10(h)},parseOpera9:function(h){for(var p=/Line (\d+).*script (?:in )?(\S+)/i,v=h.message.split(`
`),b=[],g=2,w=v.length;g<w;g+=2){var E=p.exec(v[g]);E&&b.push(new u({fileName:E[2],lineNumber:E[1],source:v[g]}))}return b},parseOpera10:function(h){for(var p=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,v=h.stacktrace.split(`
`),b=[],g=0,w=v.length;g<w;g+=2){var E=p.exec(v[g]);E&&b.push(new u({functionName:E[3]||void 0,fileName:E[2],lineNumber:E[1],source:v[g]}))}return b},parseOpera11:function(h){return h.stack.split(`
`).filter(function(p){return!!p.match(m)&&!p.match(/^Error created at/)},this).map(function(p){var v,b=p.split("@"),g=this.extractLocation(b.pop()),w=b.shift()||"",E=w.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;w.match(/\(([^)]*)\)/)&&(v=w.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var y=v===void 0||v==="[arguments not available]"?void 0:v.split(",");return new u({functionName:E,args:y,fileName:g[0],lineNumber:g[1],columnNumber:g[2],source:p})},this)}}})=="function"?o.apply(s,r):o)===void 0||(t.exports=l)})()},function(t,s,i){var o,r,l;(function(n,c){r=[],(l=typeof(o=function(){function u(E){return E.charAt(0).toUpperCase()+E.substring(1)}function m(E){return function(){return this[E]}}var d=["isConstructor","isEval","isNative","isToplevel"],f=["columnNumber","lineNumber"],h=["fileName","functionName","source"],p=d.concat(f,h,["args"],["evalOrigin"]);function v(E){if(E)for(var y=0;y<p.length;y++)E[p[y]]!==void 0&&this["set"+u(p[y])](E[p[y]])}v.prototype={getArgs:function(){return this.args},setArgs:function(E){if(Object.prototype.toString.call(E)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=E},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(E){if(E instanceof v)this.evalOrigin=E;else{if(!(E instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new v(E)}},toString:function(){var E=this.getFileName()||"",y=this.getLineNumber()||"",S=this.getColumnNumber()||"",R=this.getFunctionName()||"";return this.getIsEval()?E?"[eval] ("+E+":"+y+":"+S+")":"[eval]:"+y+":"+S:R?R+" ("+E+":"+y+":"+S+")":E+":"+y+":"+S}},v.fromString=function(E){var y=E.indexOf("("),S=E.lastIndexOf(")"),R=E.substring(0,y),O=E.substring(y+1,S).split(","),P=E.substring(S+1);if(P.indexOf("@")===0)var x=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(P,""),M=x[1],C=x[2],N=x[3];return new v({functionName:R,args:O||void 0,fileName:M,lineNumber:C||void 0,columnNumber:N||void 0})};for(var b=0;b<d.length;b++)v.prototype["get"+u(d[b])]=m(d[b]),v.prototype["set"+u(d[b])]=function(E){return function(y){this[E]=Boolean(y)}}(d[b]);for(var g=0;g<f.length;g++)v.prototype["get"+u(f[g])]=m(f[g]),v.prototype["set"+u(f[g])]=function(E){return function(y){if(S=y,isNaN(parseFloat(S))||!isFinite(S))throw new TypeError(E+" must be a Number");var S;this[E]=Number(y)}}(f[g]);for(var w=0;w<h.length;w++)v.prototype["get"+u(h[w])]=m(h[w]),v.prototype["set"+u(h[w])]=function(E){return function(y){this[E]=String(y)}}(h[w]);return v})=="function"?o.apply(s,r):o)===void 0||(t.exports=l)})()},function(t,s,i){var o=i(0);function r(l,n){o.isFunction(l[n])&&(l[n]=l[n].toString())}t.exports={itemToPayload:function(l,n,c){var u=l.data;l._isUncaught&&(u._isUncaught=!0),l._originalArgs&&(u._originalArgs=l._originalArgs),c(null,u)},addPayloadOptions:function(l,n,c){var u=n.payload||{};u.body&&delete u.body,l.data=o.merge(l.data,u),c(null,l)},addTelemetryData:function(l,n,c){l.telemetryEvents&&o.set(l,"data.body.telemetry",l.telemetryEvents),c(null,l)},addMessageWithError:function(l,n,c){if(l.message){var u="data.body.trace_chain.0",m=o.get(l,u);if(m||(u="data.body.trace",m=o.get(l,u)),m){if(!m.exception||!m.exception.description)return o.set(l,u+".exception.description",l.message),void c(null,l);var d=o.get(l,u+".extra")||{},f=o.merge(d,{message:l.message});o.set(l,u+".extra",f)}c(null,l)}else c(null,l)},userTransform:function(l){return function(n,c,u){var m=o.merge(n),d=null;try{o.isFunction(c.transform)&&(d=c.transform(m.data,n))}catch(f){return c.transform=null,l.error("Error while calling custom transform() function. Removing custom transform().",f),void u(null,n)}o.isPromise(d)?d.then(function(f){f&&(m.data=f),u(null,m)},function(f){u(f,n)}):u(null,m)}},addConfigToPayload:function(l,n,c){if(!n.sendConfig)return c(null,l);var u=o.get(l,"data.custom")||{};u._rollbarConfig=n,l.data.custom=u,c(null,l)},addConfiguredOptions:function(l,n,c){var u=n._configuredOptions;r(u,"transform"),r(u,"checkIgnore"),r(u,"onSendCallback"),delete u.accessToken,l.data.notifier.configured_options=u,c(null,l)},addDiagnosticKeys:function(l,n,c){var u=o.merge(l.notifier.client.notifier.diagnostic,l.diagnostic);if(o.get(l,"err._isAnonymous")&&(u.is_anonymous=!0),l._isUncaught&&(u.is_uncaught=l._isUncaught),l.err)try{u.raw_error={message:l.err.message,name:l.err.name,constructor_name:l.err.constructor&&l.err.constructor.name,filename:l.err.fileName,line:l.err.lineNumber,column:l.err.columnNumber,stack:l.err.stack}}catch(m){u.raw_error={failed:String(m)}}l.data.notifier.diagnostic=o.merge(l.data.notifier.diagnostic,u),c(null,l)}}},function(t,s,i){var o=i(0);t.exports={checkIgnore:function(r,l){return!o.get(l,"plugins.jquery.ignoreAjaxErrors")||!o.get(r,"body.message.extra.isAjax")}}},function(t,s,i){var o=i(0);function r(n,c,u){if(!n)return!u;var m,d,f=n.frames;if(!f||f.length===0)return!u;for(var h=c.length,p=f.length,v=0;v<p;v++){if(m=f[v].filename,!o.isType(m,"string"))return!u;for(var b=0;b<h;b++)if(d=c[b],new RegExp(d).test(m))return!0}return!1}function l(n,c,u,m){var d,f,h=!1;u==="blocklist"&&(h=!0);try{if(d=h?c.hostBlockList:c.hostSafeList,f=o.get(n,"body.trace_chain")||[o.get(n,"body.trace")],!d||d.length===0||f.length===0||!f[0])return!h;for(var p=f.length,v=0;v<p;v++)if(r(f[v],d,h))return!0}catch(g){h?c.hostBlockList=null:c.hostSafeList=null;var b=h?"hostBlockList":"hostSafeList";return m.error("Error while reading your configuration's "+b+" option. Removing custom "+b+".",g),!h}return!1}t.exports={checkLevel:function(n,c){var u=n.level,m=o.LEVELS[u]||0,d=c.reportLevel;return!(m<(o.LEVELS[d]||0))},userCheckIgnore:function(n){return function(c,u){var m=!!c._isUncaught;delete c._isUncaught;var d=c._originalArgs;delete c._originalArgs;try{o.isFunction(u.onSendCallback)&&u.onSendCallback(m,d,c)}catch(f){u.onSendCallback=null,n.error("Error while calling onSendCallback, removing",f)}try{if(o.isFunction(u.checkIgnore)&&u.checkIgnore(m,d,c))return!1}catch(f){u.checkIgnore=null,n.error("Error while calling custom checkIgnore(), removing",f)}return!0}},urlIsNotBlockListed:function(n){return function(c,u){return!l(c,u,"blocklist",n)}},urlIsSafeListed:function(n){return function(c,u){return l(c,u,"safelist",n)}},messageIsIgnored:function(n){return function(c,u){var m,d,f,h,p,v;try{if(!(f=u.ignoredMessages)||f.length===0||(v=function(b){var g=b.body,w=[];if(g.trace_chain)for(var E=g.trace_chain,y=0;y<E.length;y++){var S=E[y];w.push(o.get(S,"exception.message"))}return g.trace&&w.push(o.get(g,"trace.exception.message")),g.message&&w.push(o.get(g,"message.body")),w}(c)).length===0)return!0;for(h=f.length,m=0;m<h;m++)for(p=new RegExp(f[m],"gi"),d=0;d<v.length;d++)if(p.test(v[d]))return!1}catch{u.ignoredMessages=null,n.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return!0}}}},function(t,s,i){t.exports={version:"2.26.1",endpoint:"api.rollbar.com/api/1/item/",logLevel:"debug",reportLevel:"debug",uncaughtErrorLevel:"error",maxItems:0,itemsPerMin:60}},function(t,s,i){t.exports={scrubFields:["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","X-Rollbar-Access-Token","secret_key","secretKey","secretToken","cc-number","card number","cardnumber","cardnum","ccnum","ccnumber","cc num","creditcardnumber","credit card number","newcreditcardnumber","new credit card","creditcardno","credit card no","card#","card #","cc-csc","cvc","cvc2","cvv2","ccv2","security code","card verification","name on credit card","name on card","nameoncard","cardholder","card holder","name des karteninhabers","ccname","card type","cardtype","cc type","cctype","payment type","expiration date","expirationdate","expdate","cc-exp","ccmonth","ccyear"]}},function(t,s,i){var o=i(0);function r(n){this.queue=[],this.options=o.merge(n);var c=this.options.maxTelemetryEvents||100;this.maxQueueSize=Math.max(0,Math.min(c,100))}function l(n,c){return c||{error:"error",manual:"info"}[n]||"info"}r.prototype.configure=function(n){var c=this.options;this.options=o.merge(c,n);var u=this.options.maxTelemetryEvents||100,m=Math.max(0,Math.min(u,100)),d=0;this.maxQueueSize>m&&(d=this.maxQueueSize-m),this.maxQueueSize=m,this.queue.splice(0,d)},r.prototype.copyEvents=function(){var n=Array.prototype.slice.call(this.queue,0);if(o.isFunction(this.options.filterTelemetry))try{for(var c=n.length;c--;)this.options.filterTelemetry(n[c])&&n.splice(c,1)}catch{this.options.filterTelemetry=null}return n},r.prototype.capture=function(n,c,u,m,d){var f={level:l(n,u),type:n,timestamp_ms:d||o.now(),body:c,source:"client"};m&&(f.uuid=m);try{if(o.isFunction(this.options.filterTelemetry)&&this.options.filterTelemetry(f))return!1}catch{this.options.filterTelemetry=null}return this.push(f),f},r.prototype.captureEvent=function(n,c,u,m){return this.capture(n,c,u,m)},r.prototype.captureError=function(n,c,u,m){var d={message:n.message||String(n)};return n.stack&&(d.stack=n.stack),this.capture("error",d,c,u,m)},r.prototype.captureLog=function(n,c,u,m){return this.capture("log",{message:n},c,u,m)},r.prototype.captureNetwork=function(n,c,u,m){c=c||"xhr",n.subtype=n.subtype||c,m&&(n.request=m);var d=this.levelFromStatus(n.status_code);return this.capture("network",n,d,u)},r.prototype.levelFromStatus=function(n){return n>=200&&n<400?"info":n===0||n>=400?"error":"info"},r.prototype.captureDom=function(n,c,u,m,d){var f={subtype:n,element:c};return u!==void 0&&(f.value=u),m!==void 0&&(f.checked=m),this.capture("dom",f,"info",d)},r.prototype.captureNavigation=function(n,c,u){return this.capture("navigation",{from:n,to:c},"info",u)},r.prototype.captureDomContentLoaded=function(n){return this.capture("navigation",{subtype:"DOMContentLoaded"},"info",void 0,n&&n.getTime())},r.prototype.captureLoad=function(n){return this.capture("navigation",{subtype:"load"},"info",void 0,n&&n.getTime())},r.prototype.captureConnectivityChange=function(n,c){return this.captureNetwork({change:n},"connectivity",c)},r.prototype._captureRollbarItem=function(n){if(this.options.includeItemsInTelemetry)return n.err?this.captureError(n.err,n.level,n.uuid,n.timestamp):n.message?this.captureLog(n.message,n.level,n.uuid,n.timestamp):n.custom?this.capture("log",n.custom,n.level,n.uuid,n.timestamp):void 0},r.prototype.push=function(n){this.queue.push(n),this.queue.length>this.maxQueueSize&&this.queue.shift()},t.exports=r},function(t,s,i){var o=i(0),r=i(33),l=i(4),n=i(2),c=i(34),u={network:!0,networkResponseHeaders:!1,networkResponseBody:!1,networkRequestHeaders:!1,networkRequestBody:!1,networkErrorOnHttp5xx:!1,networkErrorOnHttp4xx:!1,networkErrorOnHttp0:!1,log:!0,dom:!0,navigation:!0,connectivity:!0,contentSecurityPolicy:!0,errorOnContentSecurityPolicy:!1};function m(h,p,v,b,g){var w=h[p];h[p]=v(w),b&&b[g].push([h,p,w])}function d(h,p){for(var v;h[p].length;)(v=h[p].shift())[0][v[1]]=v[2]}function f(h,p,v,b,g){this.options=h;var w=h.autoInstrument;h.enabled===!1||w===!1?this.autoInstrument={}:(o.isType(w,"object")||(w=u),this.autoInstrument=o.merge(u,w)),this.scrubTelemetryInputs=!!h.scrubTelemetryInputs,this.telemetryScrubber=h.telemetryScrubber,this.defaultValueScrubber=function(E){for(var y=[],S=0;S<E.length;++S)y.push(new RegExp(E[S],"i"));return function(R){var O=function(x){if(!x||!x.attributes)return null;for(var M=x.attributes,C=0;C<M.length;++C)if(M[C].key==="name")return M[C].value;return null}(R);if(!O)return!1;for(var P=0;P<y.length;++P)if(y[P].test(O))return!0;return!1}}(h.scrubFields),this.telemeter=p,this.rollbar=v,this.diagnostic=v.client.notifier.diagnostic,this._window=b||{},this._document=g||{},this.replacements={network:[],log:[],navigation:[],connectivity:[]},this.eventRemovers={dom:[],connectivity:[],contentsecuritypolicy:[]},this._location=this._window.location,this._lastHref=this._location&&this._location.href}f.prototype.configure=function(h){this.options=o.merge(this.options,h);var p=h.autoInstrument,v=o.merge(this.autoInstrument);h.enabled===!1||p===!1?this.autoInstrument={}:(o.isType(p,"object")||(p=u),this.autoInstrument=o.merge(u,p)),this.instrument(v),h.scrubTelemetryInputs!==void 0&&(this.scrubTelemetryInputs=!!h.scrubTelemetryInputs),h.telemetryScrubber!==void 0&&(this.telemetryScrubber=h.telemetryScrubber)},f.prototype.instrument=function(h){!this.autoInstrument.network||h&&h.network?!this.autoInstrument.network&&h&&h.network&&this.deinstrumentNetwork():this.instrumentNetwork(),!this.autoInstrument.log||h&&h.log?!this.autoInstrument.log&&h&&h.log&&this.deinstrumentConsole():this.instrumentConsole(),!this.autoInstrument.dom||h&&h.dom?!this.autoInstrument.dom&&h&&h.dom&&this.deinstrumentDom():this.instrumentDom(),!this.autoInstrument.navigation||h&&h.navigation?!this.autoInstrument.navigation&&h&&h.navigation&&this.deinstrumentNavigation():this.instrumentNavigation(),!this.autoInstrument.connectivity||h&&h.connectivity?!this.autoInstrument.connectivity&&h&&h.connectivity&&this.deinstrumentConnectivity():this.instrumentConnectivity(),!this.autoInstrument.contentSecurityPolicy||h&&h.contentSecurityPolicy?!this.autoInstrument.contentSecurityPolicy&&h&&h.contentSecurityPolicy&&this.deinstrumentContentSecurityPolicy():this.instrumentContentSecurityPolicy()},f.prototype.deinstrumentNetwork=function(){d(this.replacements,"network")},f.prototype.instrumentNetwork=function(){var h=this;function p(b,g){b in g&&o.isFunction(g[b])&&m(g,b,function(w){return h.rollbar.wrap(w)})}if("XMLHttpRequest"in this._window){var v=this._window.XMLHttpRequest.prototype;m(v,"open",function(b){return function(g,w){return o.isType(w,"string")&&(this.__rollbar_xhr?(this.__rollbar_xhr.method=g,this.__rollbar_xhr.url=w,this.__rollbar_xhr.status_code=null,this.__rollbar_xhr.start_time_ms=o.now(),this.__rollbar_xhr.end_time_ms=null):this.__rollbar_xhr={method:g,url:w,status_code:null,start_time_ms:o.now(),end_time_ms:null}),b.apply(this,arguments)}},this.replacements,"network"),m(v,"setRequestHeader",function(b){return function(g,w){return this.__rollbar_xhr||(this.__rollbar_xhr={}),o.isType(g,"string")&&o.isType(w,"string")&&(h.autoInstrument.networkRequestHeaders&&(this.__rollbar_xhr.request_headers||(this.__rollbar_xhr.request_headers={}),this.__rollbar_xhr.request_headers[g]=w),g.toLowerCase()==="content-type"&&(this.__rollbar_xhr.request_content_type=w)),b.apply(this,arguments)}},this.replacements,"network"),m(v,"send",function(b){return function(g){var w=this;function E(){if(w.__rollbar_xhr&&(w.__rollbar_xhr.status_code===null&&(w.__rollbar_xhr.status_code=0,h.autoInstrument.networkRequestBody&&(w.__rollbar_xhr.request=g),w.__rollbar_event=h.captureNetwork(w.__rollbar_xhr,"xhr",void 0)),w.readyState<2&&(w.__rollbar_xhr.start_time_ms=o.now()),w.readyState>3)){w.__rollbar_xhr.end_time_ms=o.now();var y=null;if(w.__rollbar_xhr.response_content_type=w.getResponseHeader("Content-Type"),h.autoInstrument.networkResponseHeaders){var S=h.autoInstrument.networkResponseHeaders;y={};try{var R,O;if(S===!0){var P=w.getAllResponseHeaders();if(P){var x,M,C=P.trim().split(/[\r\n]+/);for(O=0;O<C.length;O++)R=(x=C[O].split(": ")).shift(),M=x.join(": "),y[R]=M}}else for(O=0;O<S.length;O++)y[R=S[O]]=w.getResponseHeader(R)}catch{}}var N=null;if(h.autoInstrument.networkResponseBody)try{N=w.responseText}catch{}var U=null;(N||y)&&(U={},N&&(h.isJsonContentType(w.__rollbar_xhr.response_content_type)?U.body=h.scrubJson(N):U.body=N),y&&(U.headers=y)),U&&(w.__rollbar_xhr.response=U);try{var H=w.status;H=H===1223?204:H,w.__rollbar_xhr.status_code=H,w.__rollbar_event.level=h.telemeter.levelFromStatus(H),h.errorOnHttpStatus(w.__rollbar_xhr)}catch{}}}return p("onload",w),p("onerror",w),p("onprogress",w),"onreadystatechange"in w&&o.isFunction(w.onreadystatechange)?m(w,"onreadystatechange",function(y){return h.rollbar.wrap(y,void 0,E)}):w.onreadystatechange=E,w.__rollbar_xhr&&h.trackHttpErrors()&&(w.__rollbar_xhr.stack=new Error().stack),b.apply(this,arguments)}},this.replacements,"network")}"fetch"in this._window&&m(this._window,"fetch",function(b){return function(g,w){for(var E=new Array(arguments.length),y=0,S=E.length;y<S;y++)E[y]=arguments[y];var R,O=E[0],P="GET";o.isType(O,"string")?R=O:O&&(R=O.url,O.method&&(P=O.method)),E[1]&&E[1].method&&(P=E[1].method);var x={method:P,url:R,status_code:null,start_time_ms:o.now(),end_time_ms:null};if(E[1]&&E[1].headers){var M=r(E[1].headers);x.request_content_type=M.get("Content-Type"),h.autoInstrument.networkRequestHeaders&&(x.request_headers=h.fetchHeaders(M,h.autoInstrument.networkRequestHeaders))}return h.autoInstrument.networkRequestBody&&(E[1]&&E[1].body?x.request=E[1].body:E[0]&&!o.isType(E[0],"string")&&E[0].body&&(x.request=E[0].body)),h.captureNetwork(x,"fetch",void 0),h.trackHttpErrors()&&(x.stack=new Error().stack),b.apply(this,E).then(function(C){x.end_time_ms=o.now(),x.status_code=C.status,x.response_content_type=C.headers.get("Content-Type");var N=null;h.autoInstrument.networkResponseHeaders&&(N=h.fetchHeaders(C.headers,h.autoInstrument.networkResponseHeaders));var U=null;return h.autoInstrument.networkResponseBody&&typeof C.text=="function"&&(U=C.clone().text()),(N||U)&&(x.response={},U&&(typeof U.then=="function"?U.then(function(H){H&&h.isJsonContentType(x.response_content_type)?x.response.body=h.scrubJson(H):x.response.body=H}):x.response.body=U),N&&(x.response.headers=N)),h.errorOnHttpStatus(x),C})}},this.replacements,"network")},f.prototype.captureNetwork=function(h,p,v){return h.request&&this.isJsonContentType(h.request_content_type)&&(h.request=this.scrubJson(h.request)),this.telemeter.captureNetwork(h,p,v)},f.prototype.isJsonContentType=function(h){return!!(h&&o.isType(h,"string")&&h.toLowerCase().includes("json"))},f.prototype.scrubJson=function(h){return JSON.stringify(l(JSON.parse(h),this.options.scrubFields))},f.prototype.fetchHeaders=function(h,p){var v={};try{var b;if(p===!0){if(typeof h.entries=="function")for(var g=h.entries(),w=g.next();!w.done;)v[w.value[0]]=w.value[1],w=g.next()}else for(b=0;b<p.length;b++){var E=p[b];v[E]=h.get(E)}}catch{}return v},f.prototype.trackHttpErrors=function(){return this.autoInstrument.networkErrorOnHttp5xx||this.autoInstrument.networkErrorOnHttp4xx||this.autoInstrument.networkErrorOnHttp0},f.prototype.errorOnHttpStatus=function(h){var p=h.status_code;if(p>=500&&this.autoInstrument.networkErrorOnHttp5xx||p>=400&&this.autoInstrument.networkErrorOnHttp4xx||p===0&&this.autoInstrument.networkErrorOnHttp0){var v=new Error("HTTP request failed with Status "+p);v.stack=h.stack,this.rollbar.error(v,{skipFrames:1})}},f.prototype.deinstrumentConsole=function(){if("console"in this._window&&this._window.console.log)for(var h;this.replacements.log.length;)h=this.replacements.log.shift(),this._window.console[h[0]]=h[1]},f.prototype.instrumentConsole=function(){if("console"in this._window&&this._window.console.log){var h=this,p=this._window.console,v=["debug","info","warn","error","log"];try{for(var b=0,g=v.length;b<g;b++)w(v[b])}catch(E){this.diagnostic.instrumentConsole={error:E.message}}}function w(E){var y=p[E],S=p,R=E==="warn"?"warning":E;p[E]=function(){var O=Array.prototype.slice.call(arguments),P=o.formatArgsAsString(O);h.telemeter.captureLog(P,R),y&&Function.prototype.apply.call(y,S,O)},h.replacements.log.push([E,y])}},f.prototype.deinstrumentDom=function(){("addEventListener"in this._window||"attachEvent"in this._window)&&this.removeListeners("dom")},f.prototype.instrumentDom=function(){if("addEventListener"in this._window||"attachEvent"in this._window){var h=this.handleClick.bind(this),p=this.handleBlur.bind(this);this.addListener("dom",this._window,"click","onclick",h,!0),this.addListener("dom",this._window,"blur","onfocusout",p,!0)}},f.prototype.handleClick=function(h){try{var p=c.getElementFromEvent(h,this._document),v=p&&p.tagName,b=c.isDescribedElement(p,"a")||c.isDescribedElement(p,"button");v&&(b||c.isDescribedElement(p,"input",["button","submit"]))?this.captureDomEvent("click",p):c.isDescribedElement(p,"input",["checkbox","radio"])&&this.captureDomEvent("input",p,p.value,p.checked)}catch{}},f.prototype.handleBlur=function(h){try{var p=c.getElementFromEvent(h,this._document);p&&p.tagName&&(c.isDescribedElement(p,"textarea")?this.captureDomEvent("input",p,p.value):c.isDescribedElement(p,"select")&&p.options&&p.options.length?this.handleSelectInputChanged(p):c.isDescribedElement(p,"input")&&!c.isDescribedElement(p,"input",["button","submit","hidden","checkbox","radio"])&&this.captureDomEvent("input",p,p.value))}catch{}},f.prototype.handleSelectInputChanged=function(h){if(h.multiple)for(var p=0;p<h.options.length;p++)h.options[p].selected&&this.captureDomEvent("input",h,h.options[p].value);else h.selectedIndex>=0&&h.options[h.selectedIndex]&&this.captureDomEvent("input",h,h.options[h.selectedIndex].value)},f.prototype.captureDomEvent=function(h,p,v,b){if(v!==void 0)if(this.scrubTelemetryInputs||c.getElementType(p)==="password")v="[scrubbed]";else{var g=c.describeElement(p);this.telemetryScrubber?this.telemetryScrubber(g)&&(v="[scrubbed]"):this.defaultValueScrubber(g)&&(v="[scrubbed]")}var w=c.elementArrayToString(c.treeToArray(p));this.telemeter.captureDom(h,w,v,b)},f.prototype.deinstrumentNavigation=function(){var h=this._window.chrome;!(h&&h.app&&h.app.runtime)&&this._window.history&&this._window.history.pushState&&d(this.replacements,"navigation")},f.prototype.instrumentNavigation=function(){var h=this._window.chrome;if(!(h&&h.app&&h.app.runtime)&&this._window.history&&this._window.history.pushState){var p=this;m(this._window,"onpopstate",function(v){return function(){var b=p._location.href;p.handleUrlChange(p._lastHref,b),v&&v.apply(this,arguments)}},this.replacements,"navigation"),m(this._window.history,"pushState",function(v){return function(){var b=arguments.length>2?arguments[2]:void 0;return b&&p.handleUrlChange(p._lastHref,b+""),v.apply(this,arguments)}},this.replacements,"navigation")}},f.prototype.handleUrlChange=function(h,p){var v=n.parse(this._location.href),b=n.parse(p),g=n.parse(h);this._lastHref=p,v.protocol===b.protocol&&v.host===b.host&&(p=b.path+(b.hash||"")),v.protocol===g.protocol&&v.host===g.host&&(h=g.path+(g.hash||"")),this.telemeter.captureNavigation(h,p)},f.prototype.deinstrumentConnectivity=function(){("addEventListener"in this._window||"body"in this._document)&&(this._window.addEventListener?this.removeListeners("connectivity"):d(this.replacements,"connectivity"))},f.prototype.instrumentConnectivity=function(){if("addEventListener"in this._window||"body"in this._document)if(this._window.addEventListener)this.addListener("connectivity",this._window,"online",void 0,function(){this.telemeter.captureConnectivityChange("online")}.bind(this),!0),this.addListener("connectivity",this._window,"offline",void 0,function(){this.telemeter.captureConnectivityChange("offline")}.bind(this),!0);else{var h=this;m(this._document.body,"ononline",function(p){return function(){h.telemeter.captureConnectivityChange("online"),p&&p.apply(this,arguments)}},this.replacements,"connectivity"),m(this._document.body,"onoffline",function(p){return function(){h.telemeter.captureConnectivityChange("offline"),p&&p.apply(this,arguments)}},this.replacements,"connectivity")}},f.prototype.handleCspEvent=function(h){var p="Security Policy Violation: blockedURI: "+h.blockedURI+", violatedDirective: "+h.violatedDirective+", effectiveDirective: "+h.effectiveDirective+", ";h.sourceFile&&(p+="location: "+h.sourceFile+", line: "+h.lineNumber+", col: "+h.columnNumber+", "),p+="originalPolicy: "+h.originalPolicy,this.telemeter.captureLog(p,"error"),this.handleCspError(p)},f.prototype.handleCspError=function(h){this.autoInstrument.errorOnContentSecurityPolicy&&this.rollbar.error(h)},f.prototype.deinstrumentContentSecurityPolicy=function(){"addEventListener"in this._document&&this.removeListeners("contentsecuritypolicy")},f.prototype.instrumentContentSecurityPolicy=function(){if("addEventListener"in this._document){var h=this.handleCspEvent.bind(this);this.addListener("contentsecuritypolicy",this._document,"securitypolicyviolation",null,h,!1)}},f.prototype.addListener=function(h,p,v,b,g,w){p.addEventListener?(p.addEventListener(v,g,w),this.eventRemovers[h].push(function(){p.removeEventListener(v,g,w)})):b&&(p.attachEvent(b,g),this.eventRemovers[h].push(function(){p.detachEvent(b,g)}))},f.prototype.removeListeners=function(h){for(;this.eventRemovers[h].length;)this.eventRemovers[h].shift()()},t.exports=f},function(t,s,i){function o(l){return typeof l!="string"&&(l=String(l)),l.toLowerCase()}function r(l){this.map={},l instanceof r?l.forEach(function(n,c){this.append(c,n)},this):Array.isArray(l)?l.forEach(function(n){this.append(n[0],n[1])},this):l&&Object.getOwnPropertyNames(l).forEach(function(n){this.append(n,l[n])},this)}r.prototype.append=function(l,n){l=o(l),n=function(u){return typeof u!="string"&&(u=String(u)),u}(n);var c=this.map[l];this.map[l]=c?c+", "+n:n},r.prototype.get=function(l){return l=o(l),this.has(l)?this.map[l]:null},r.prototype.has=function(l){return this.map.hasOwnProperty(o(l))},r.prototype.forEach=function(l,n){for(var c in this.map)this.map.hasOwnProperty(c)&&l.call(n,this.map[c],c,this)},r.prototype.entries=function(){var l=[];return this.forEach(function(n,c){l.push([c,n])}),function(n){return{next:function(){var c=n.shift();return{done:c===void 0,value:c}}}}(l)},t.exports=function(l){return typeof Headers>"u"?new r(l):new Headers(l)}},function(t,s,i){function o(n){return(n.getAttribute("type")||"").toLowerCase()}function r(n){if(!n||!n.tagName)return"";var c=[n.tagName];n.id&&c.push("#"+n.id),n.classes&&c.push("."+n.classes.join("."));for(var u=0;u<n.attributes.length;u++)c.push("["+n.attributes[u].key+'="'+n.attributes[u].value+'"]');return c.join("")}function l(n){if(!n||!n.tagName)return null;var c,u,m,d,f={};f.tagName=n.tagName.toLowerCase(),n.id&&(f.id=n.id),(c=n.className)&&typeof c=="string"&&(f.classes=c.split(/\s+/));var h=["type","name","title","alt"];for(f.attributes=[],d=0;d<h.length;d++)u=h[d],(m=n.getAttribute(u))&&f.attributes.push({key:u,value:m});return f}t.exports={describeElement:l,descriptionToString:r,elementArrayToString:function(n){for(var c,u,m=3,d=[],f=0,h=n.length-1;h>=0;h--){if(c=r(n[h]),u=f+d.length*m+c.length,h<n.length-1&&u>=83){d.unshift("...");break}d.unshift(c),f+=c.length}return d.join(" > ")},treeToArray:function(n){for(var c,u=[],m=0;n&&m<5&&(c=l(n)).tagName!=="html";m++)u.unshift(c),n=n.parentNode;return u},getElementFromEvent:function(n,c){return n.target?n.target:c&&c.elementFromPoint?c.elementFromPoint(n.clientX,n.clientY):void 0},isDescribedElement:function(n,c,u){if(n.tagName.toLowerCase()!==c.toLowerCase())return!1;if(!u)return!0;n=o(n);for(var m=0;m<u.length;m++)if(u[m]===n)return!0;return!1},getElementType:o}},function(t,s,i){var o=i(36);t.exports=o},function(t,s){t.exports=function(i){var o,r,l,n,c,u,m,d,f,h,p,v,b,g=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function w(S){return S<10?"0"+S:S}function E(){return this.valueOf()}function y(S){return g.lastIndex=0,g.test(S)?'"'+S.replace(g,function(R){var O=l[R];return typeof O=="string"?O:"\\u"+("0000"+R.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+S+'"'}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+w(this.getUTCMonth()+1)+"-"+w(this.getUTCDate())+"T"+w(this.getUTCHours())+":"+w(this.getUTCMinutes())+":"+w(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=E,Number.prototype.toJSON=E,String.prototype.toJSON=E),typeof i.stringify!="function"&&(l={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i.stringify=function(S,R,O){var P;if(o="",r="",typeof O=="number")for(P=0;P<O;P+=1)r+=" ";else typeof O=="string"&&(r=O);if(n=R,R&&typeof R!="function"&&(typeof R!="object"||typeof R.length!="number"))throw new Error("JSON.stringify");return function x(M,C){var N,U,H,q,te,me=o,Q=C[M];switch(Q&&typeof Q=="object"&&typeof Q.toJSON=="function"&&(Q=Q.toJSON(M)),typeof n=="function"&&(Q=n.call(C,M,Q)),typeof Q){case"string":return y(Q);case"number":return isFinite(Q)?String(Q):"null";case"boolean":case"null":return String(Q);case"object":if(!Q)return"null";if(o+=r,te=[],Object.prototype.toString.apply(Q)==="[object Array]"){for(q=Q.length,N=0;N<q;N+=1)te[N]=x(N,Q)||"null";return H=te.length===0?"[]":o?`[
`+o+te.join(`,
`+o)+`
`+me+"]":"["+te.join(",")+"]",o=me,H}if(n&&typeof n=="object")for(q=n.length,N=0;N<q;N+=1)typeof n[N]=="string"&&(H=x(U=n[N],Q))&&te.push(y(U)+(o?": ":":")+H);else for(U in Q)Object.prototype.hasOwnProperty.call(Q,U)&&(H=x(U,Q))&&te.push(y(U)+(o?": ":":")+H);return H=te.length===0?"{}":o?`{
`+o+te.join(`,
`+o)+`
`+me+"}":"{"+te.join(",")+"}",o=me,H}}("",{"":S})}),typeof i.parse!="function"&&(i.parse=(h={"\\":"\\",'"':'"',"/":"/",t:"	",n:`
`,r:"\r",f:"\f",b:"\b"},p={go:function(){c="ok"},firstokey:function(){d=f,c="colon"},okey:function(){d=f,c="colon"},ovalue:function(){c="ocomma"},firstavalue:function(){c="acomma"},avalue:function(){c="acomma"}},v={go:function(){c="ok"},ovalue:function(){c="ocomma"},firstavalue:function(){c="acomma"},avalue:function(){c="acomma"}},b={"{":{go:function(){u.push({state:"ok"}),m={},c="firstokey"},ovalue:function(){u.push({container:m,state:"ocomma",key:d}),m={},c="firstokey"},firstavalue:function(){u.push({container:m,state:"acomma"}),m={},c="firstokey"},avalue:function(){u.push({container:m,state:"acomma"}),m={},c="firstokey"}},"}":{firstokey:function(){var S=u.pop();f=m,m=S.container,d=S.key,c=S.state},ocomma:function(){var S=u.pop();m[d]=f,f=m,m=S.container,d=S.key,c=S.state}},"[":{go:function(){u.push({state:"ok"}),m=[],c="firstavalue"},ovalue:function(){u.push({container:m,state:"ocomma",key:d}),m=[],c="firstavalue"},firstavalue:function(){u.push({container:m,state:"acomma"}),m=[],c="firstavalue"},avalue:function(){u.push({container:m,state:"acomma"}),m=[],c="firstavalue"}},"]":{firstavalue:function(){var S=u.pop();f=m,m=S.container,d=S.key,c=S.state},acomma:function(){var S=u.pop();m.push(f),f=m,m=S.container,d=S.key,c=S.state}},":":{colon:function(){if(Object.hasOwnProperty.call(m,d))throw new SyntaxError("Duplicate key '"+d+'"');c="ovalue"}},",":{ocomma:function(){m[d]=f,c="okey"},acomma:function(){m.push(f),c="avalue"}},true:{go:function(){f=!0,c="ok"},ovalue:function(){f=!0,c="ocomma"},firstavalue:function(){f=!0,c="acomma"},avalue:function(){f=!0,c="acomma"}},false:{go:function(){f=!1,c="ok"},ovalue:function(){f=!1,c="ocomma"},firstavalue:function(){f=!1,c="acomma"},avalue:function(){f=!1,c="acomma"}},null:{go:function(){f=null,c="ok"},ovalue:function(){f=null,c="ocomma"},firstavalue:function(){f=null,c="acomma"},avalue:function(){f=null,c="acomma"}}},function(S,R){var O,P,x=/^[\u0020\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;c="go",u=[];try{for(;O=x.exec(S);)O[1]?b[O[1]][c]():O[2]?(f=+O[2],v[c]()):(P=O[3],f=P.replace(/\\(?:u(.{4})|([^u]))/g,function(M,C,N){return C?String.fromCharCode(parseInt(C,16)):h[N]}),p[c]()),S=S.slice(O[0].length)}catch(M){c=M}if(c!=="ok"||/[^\u0020\t\n\r]/.test(S))throw c instanceof SyntaxError?c:new SyntaxError("JSON");return typeof R=="function"?function M(C,N){var U,H,q=C[N];if(q&&typeof q=="object")for(U in f)Object.prototype.hasOwnProperty.call(q,U)&&((H=M(q,U))!==void 0?q[U]=H:delete q[U]);return R.call(C,N,q)}({"":f},""):f}))}},function(t,s,i){function o(r,l,n){if(l.hasOwnProperty&&l.hasOwnProperty("addEventListener")){for(var c=l.addEventListener;c._rollbarOldAdd&&c.belongsToShim;)c=c._rollbarOldAdd;var u=function(f,h,p){c.call(this,f,r.wrap(h),p)};u._rollbarOldAdd=c,u.belongsToShim=n,l.addEventListener=u;for(var m=l.removeEventListener;m._rollbarOldRemove&&m.belongsToShim;)m=m._rollbarOldRemove;var d=function(f,h,p){m.call(this,f,h&&h._rollbar_wrapped||h,p)};d._rollbarOldRemove=m,d.belongsToShim=n,l.removeEventListener=d}}t.exports=function(r,l,n){if(r){var c,u,m="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(c=0;c<m.length;++c)r[u=m[c]]&&r[u].prototype&&o(l,r[u].prototype,n)}}},function(t,s,i){var o=i(0),r=i(5);function l(p,v){return[p,o.stringify(p,v)]}function n(p,v){var b=p.length;return b>2*v?p.slice(0,v).concat(p.slice(b-v)):p}function c(p,v,b){b=b===void 0?30:b;var g,w=p.data.body;if(w.trace_chain)for(var E=w.trace_chain,y=0;y<E.length;y++)g=n(g=E[y].frames,b),E[y].frames=g;else w.trace&&(g=n(g=w.trace.frames,b),w.trace.frames=g);return[p,o.stringify(p,v)]}function u(p,v){return v&&v.length>p?v.slice(0,p-3).concat("..."):v}function m(p,v,b){return[v=r(v,function g(w,E,y){switch(o.typeName(E)){case"string":return u(p,E);case"object":case"array":return r(E,g,y);default:return E}}),o.stringify(v,b)]}function d(p){return p.exception&&(delete p.exception.description,p.exception.message=u(255,p.exception.message)),p.frames=n(p.frames,1),p}function f(p,v){var b=p.data.body;if(b.trace_chain)for(var g=b.trace_chain,w=0;w<g.length;w++)g[w]=d(g[w]);else b.trace&&(b.trace=d(b.trace));return[p,o.stringify(p,v)]}function h(p,v){return o.maxByteSize(p)>v}t.exports={truncate:function(p,v,b){b=b===void 0?524288:b;for(var g,w,E,y=[l,c,m.bind(null,1024),m.bind(null,512),m.bind(null,256),f];g=y.shift();)if(p=(w=g(p,v))[0],(E=w[1]).error||!h(E.value,b))return E;return E},raw:l,truncateFrames:c,truncateStrings:m,maybeTruncateValue:u}}])})})(pu);const bu=fu(Ai),gu="production",vu="null",wu="0",Tu="webpack:///./",yu="master",{UseMockup:Eu,FilterError:zs}=GameCore.Configs.Rollbar;class Pu extends Phaser.Plugins.BasePlugin{enable;rollbar;events=[];setup(){this.rollbar=new bu({accessToken:vu,checkIgnore:this.checkIgnore,onSendCallback:this.beforeSend,captureUncaught:!0,scrubTelemetryInputs:!0,captureUnhandledRejections:!0,autoInstrument:{dom:!1,navigation:!1},payload:{environment:gu,client:{javascript:{code_version:wu}},server:{root:Tu,branch:yu}}}),this.enable=!0}configure(e){this.rollbar&&this.rollbar.configure(e)}beforeSend=(e,t,s)=>{Eu&&this.showPopupError(s)};checkIgnore=(e,t,s)=>{try{return this.isErrorIgnore(t)?(console.warn(t),!0):!1}catch{return!1}};showPopupError=e=>{const t=e?.body?.trace?.exception;t&&this.events.push(t);const s=e?.body?.trace?.frames||[];this.events.push(...s);let i=document.getElementById("popup-error");i||(i=document.createElement("div"),i.id="popup-error",document.body.appendChild(i)),i.innerHTML=`<div style="color: #fff; display: flex; flex-flow: column; align-items: center; ">
      <pre id="json" style="overflow: auto; background-color: rgb(195 112 97 / 80%); padding: 10px; max-height: 80vh; max-width: 90vw; border: 5px solid #545454;">${JSON.stringify(this.events,null,2)}</pre>
      <button id="close" style="cursor: pointer; padding: 10px 20px; border-radius: 100px;">Close</button>
      </div>`,i.style="top: 0px; z-index: 10000; width: 100vw; max-height: 100vh; position: absolute; display: flex; align-items: center; justify-content: center;";const o=document.getElementById("close");o&&(o.onclick=this.closePopup)};closePopup=()=>{this.events=[{}],document.getElementById("popup-error")?.remove()};isErrorIgnore=e=>{if(!e||e.length===0)return!1;let t=!1;const s=e[0];return s instanceof Object&&(t=this.isIgnoreByCode(s)||this.isIgnoreByMessage(s)),t};isIgnoreByCode=e=>{if(GameCore.Utils.Object.hasOwn(e,"code")){const{code:t}=e,{accepted:s,ignored:i}=zs.Codes;if(typeof t=="string"){if(s.indexOf(t)>=0)return!1;if(i.indexOf(t)>=0)return!0}}else if(GameCore.Utils.Object.hasOwn(e,"name")){const{name:t}=e,{accepted:s,ignored:i}=zs.Codes;if(typeof t=="string"){if(s.indexOf(t)>=0)return!1;if(i.indexOf(t)>=0)return!0}}return!1};isIgnoreByMessage=e=>{if(GameCore.Utils.Object.hasOwn(e,"message")){const{message:t}=e,{accepted:s,ignored:i}=zs.Messages;if(typeof t=="string"){if(s.indexOf(t)>=0)return!1;if(i.indexOf(t)>=0)return!0}}return!1};addExtraState=()=>{try{if(!GameCore.Utils.Object.hasOwn(window,"game")||!GameCore.Utils.Object.hasOwn(window.game,"storage")||!GameCore.Utils.Object.hasOwn(window.game.storage,"getState"))return;const{getState:e}=window.game.storage,t=e(),{player:s,match:i,...o}=t||{};this.rollbar.configure({payload:{player:s,match:i,other:o}})}catch(e){console.warn("%c addExtraState: ","font-size:12px;background-color: #42b983;color:#fff;",e)}};sendException(e,t){if(e){if(!this.enable){console.error(e);return}this.rollbar&&(this.addExtraState(),this.rollbar.error(e,t))}}}class Su extends Phaser.Events.EventEmitter{emit(e,t){return super.emit(e,t)}}class ku extends Phaser.GameObjects.Container{zone;background;constructor(e,t,s,i){super(e),this.setName(t),this.setVisible(!1);const{width:o,height:r}=this.scene.world.getWorldSize();this.setSize(s||o,i||r),this.addZone(),this.addBackground()}open(e){GameCore.Utils.Valid.isObject(e)&&(this.setDataEnabled(),this.setData(e)),this.setBlockInputOutsideEnabled(!0),this.scene.screen.bringToTop(this.name),!this.visible&&(this.setVisible(!0),this.logPageviewOnOpen(),this.logEventOpen())}close(){this.setBlockInputOutsideEnabled(!1),this.visible&&(this.setVisible(!1),this.logPageviewOnClose())}incY(e){this.y+=e,this.background.y-=e}incX(e){this.x+=e,this.background.x-=e}incScale(e){this.scale+=e,this.background.scale-=e^e*(100/e)}setBlockInputOutsideEnabled(e){this.scene.input.setTopOnly(e)}addZone(){this.zone=this.scene.add.zone(0,0,this.width,this.height),this.zone.setInteractive({}),this.add(this.zone)}addBackground(){const e="screen-background";if(!this.scene.textures.exists(e)){const t=this.width+2,s=this.height+2,i=this.scene.add.graphics();i.fillStyle(0,1),i.fillRect(0,0,t,s),i.generateTexture(e,t,s),i.destroy()}this.background=this.scene.add.image(0,0,e),this.add(this.background)}logPageviewOnOpen(){this.scene.analytics.pageview(this.name)}logPageviewOnClose(){this.scene.analytics.pageview(this.scene.scene.key)}logEventOpen(){this.scene.analytics.event(Y.SCREEN_OPEN,{screen_name:this.getScreenName()})}getScreenName(){return GameCore.Utils.String.toUpperCamelCase(this.name.toLowerCase())}}const xu={OPEN:"open",CLOSE:"close",CREATED:"created"};GameCore.Screen=ku;GameCore.Screens={Events:xu};let Ou=class extends Phaser.Plugins.ScenePlugin{events;boot(){this.events=new Su,this.registryScreenFactory()}get(e){const t=this.scene.children.getByName(e);return t===null?null:t}add(e,t,s,i){let o=this.get(e);return o||(o=this.scene.add.screen(e,t,s,i),this.events.emit(GameCore.Screens.Events.CREATED,o),o)}open(e,t){const s=this.get(e);return s?(s.open(t),s.emit(GameCore.Screens.Events.OPEN,s),this.events.emit(GameCore.Screens.Events.OPEN,s),console.log("Screen open",e,t),!0):!1}close(e){const t=this.get(e);return t?(t.close(),t.emit(GameCore.Screens.Events.CLOSE,t),this.events.emit(GameCore.Screens.Events.CLOSE,t),console.log("Screen close",e),!0):!1}bringToTop(e){const t=this.scene.children.getByName(e);t&&this.scene.children.bringToTop(t)}registryScreenFactory(){Phaser.GameObjects.GameObjectFactory.register("screen",this.createScreen)}createScreen(e,t,s,i){const o=new t(this.scene,e,s,i);return Phaser.Display.Align.In.Center(o,this.scene.gameZone),this.existing(o),o}};var Ii={},Ru={get exports(){return Ii},set exports(a){Ii=a}};(function(a){(function(e,t){a.exports=t()})(va,function(){var e=Object.prototype.toString;function t(m,d){return m==null?!1:Object.prototype.hasOwnProperty.call(m,d)}function s(m){if(!m||r(m)&&m.length===0)return!0;if(typeof m!="string"){for(var d in m)if(t(m,d))return!1;return!0}return!1}function i(m){return e.call(m)}function o(m){return typeof m=="object"&&i(m)==="[object Object]"}var r=Array.isArray||function(m){return e.call(m)==="[object Array]"};function l(m){return typeof m=="boolean"||i(m)==="[object Boolean]"}function n(m){var d=parseInt(m);return d.toString()===m?d:m}function c(m){m=m||{};var d=function(b){return Object.keys(d).reduce(function(g,w){return w==="create"||typeof d[w]=="function"&&(g[w]=d[w].bind(d,b)),g},{})},f;m.includeInheritedProps?f=function(){return!0}:f=function(b,g){return typeof g=="number"&&Array.isArray(b)||t(b,g)};function h(b,g){if(f(b,g))return b[g]}var p;m.includeInheritedProps?p=function(b,g){typeof g!="string"&&typeof g!="number"&&(g=String(g));var w=h(b,g);if(g==="__proto__"||g==="prototype"||g==="constructor"&&typeof w=="function")throw new Error("For security reasons, object's magic properties cannot be set");return w}:p=function(b,g){return h(b,g)};function v(b,g,w,E){if(typeof g=="number"&&(g=[g]),!g||g.length===0)return b;if(typeof g=="string")return v(b,g.split(".").map(n),w,E);var y=g[0],S=p(b,y);return g.length===1?((S===void 0||!E)&&(b[y]=w),S):(S===void 0&&(typeof g[1]=="number"?b[y]=[]:b[y]={}),v(b[y],g.slice(1),w,E))}return d.has=function(b,g){if(typeof g=="number"?g=[g]:typeof g=="string"&&(g=g.split(".")),!g||g.length===0)return!!b;for(var w=0;w<g.length;w++){var E=n(g[w]);if(typeof E=="number"&&r(b)&&E<b.length||(m.includeInheritedProps?E in Object(b):t(b,E)))b=b[E];else return!1}return!0},d.ensureExists=function(b,g,w){return v(b,g,w,!0)},d.set=function(b,g,w,E){return v(b,g,w,E)},d.insert=function(b,g,w,E){var y=d.get(b,g);E=~~E,r(y)||(y=[],d.set(b,g,y)),y.splice(E,0,w)},d.empty=function(b,g){if(!s(g)&&b!=null){var w,E;if(w=d.get(b,g)){if(typeof w=="string")return d.set(b,g,"");if(l(w))return d.set(b,g,!1);if(typeof w=="number")return d.set(b,g,0);if(r(w))w.length=0;else if(o(w))for(E in w)f(w,E)&&delete w[E];else return d.set(b,g,null)}}},d.push=function(b,g){var w=d.get(b,g);r(w)||(w=[],d.set(b,g,w)),w.push.apply(w,Array.prototype.slice.call(arguments,2))},d.coalesce=function(b,g,w){for(var E,y=0,S=g.length;y<S;y++)if((E=d.get(b,g[y]))!==void 0)return E;return w},d.get=function(b,g,w){if(typeof g=="number"&&(g=[g]),!g||g.length===0)return b;if(b==null)return w;if(typeof g=="string")return d.get(b,g.split("."),w);var E=n(g[0]),y=p(b,E);return y===void 0?w:g.length===1?y:d.get(b[E],g.slice(1),w)},d.del=function(g,w){if(typeof w=="number"&&(w=[w]),g==null||s(w))return g;if(typeof w=="string")return d.del(g,w.split("."));var E=n(w[0]);if(p(g,E),!f(g,E))return g;if(w.length===1)r(g)?g.splice(E,1):delete g[E];else return d.del(g[E],w.slice(1));return g},d}var u=c();return u.create=c,u.withInheritedProps=c({includeInheritedProps:!0}),u})})(Ru);var Oo=Ii.get;function Au(a,e){return a===e}function Iu(a,e,t){t=t||Au;var s=Oo(a(),e);return function(o){return function(){var r=Oo(a(),e);if(!t(s,r)){var l=s;s=r,o(r,l,e)}}}}var _u=Iu;const Mu=_u;function ts(a){return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(a)}function Cu(a,e){if(ts(a)!=="object"||a===null)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var s=t.call(a,e||"default");if(ts(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function Lu(a){var e=Cu(a,"string");return ts(e)==="symbol"?e:String(e)}function Du(a,e,t){return e=Lu(e),e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function Ro(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable})),t.push.apply(t,s)}return t}function Ao(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ro(Object(t),!0).forEach(function(s){Du(a,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):Ro(Object(t)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(t,s))})}return a}function ue(a){return"Minified Redux error #"+a+"; visit https://redux.js.org/Errors?code="+a+" for the full message or use the non-minified dev environment for full errors. "}var Io=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),js=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ms={INIT:"@@redux/INIT"+js(),REPLACE:"@@redux/REPLACE"+js(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+js()}};function Nu(a){if(typeof a!="object"||a===null)return!1;for(var e=a;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(a)===e}function wa(a,e,t){var s;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(ue(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(ue(1));return t(wa)(a,e)}if(typeof a!="function")throw new Error(ue(2));var i=a,o=e,r=[],l=r,n=!1;function c(){l===r&&(l=r.slice())}function u(){if(n)throw new Error(ue(3));return o}function m(p){if(typeof p!="function")throw new Error(ue(4));if(n)throw new Error(ue(5));var v=!0;return c(),l.push(p),function(){if(v){if(n)throw new Error(ue(6));v=!1,c();var g=l.indexOf(p);l.splice(g,1),r=null}}}function d(p){if(!Nu(p))throw new Error(ue(7));if(typeof p.type>"u")throw new Error(ue(8));if(n)throw new Error(ue(9));try{n=!0,o=i(o,p)}finally{n=!1}for(var v=r=l,b=0;b<v.length;b++){var g=v[b];g()}return p}function f(p){if(typeof p!="function")throw new Error(ue(10));i=p,d({type:Ms.REPLACE})}function h(){var p,v=m;return p={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(ue(11));function w(){g.next&&g.next(u())}w();var E=v(w);return{unsubscribe:E}}},p[Io]=function(){return this},p}return d({type:Ms.INIT}),s={dispatch:d,subscribe:m,getState:u,replaceReducer:f},s[Io]=h,s}function Gu(a){Object.keys(a).forEach(function(e){var t=a[e],s=t(void 0,{type:Ms.INIT});if(typeof s>"u")throw new Error(ue(12));if(typeof t(void 0,{type:Ms.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ue(13))})}function Fu(a){for(var e=Object.keys(a),t={},s=0;s<e.length;s++){var i=e[s];typeof a[i]=="function"&&(t[i]=a[i])}var o=Object.keys(t),r;try{Gu(t)}catch(l){r=l}return function(n,c){if(n===void 0&&(n={}),r)throw r;for(var u=!1,m={},d=0;d<o.length;d++){var f=o[d],h=t[f],p=n[f],v=h(p,c);if(typeof v>"u")throw c&&c.type,new Error(ue(14));m[f]=v,u=u||v!==p}return u=u||o.length!==Object.keys(n).length,u?m:n}}function Ta(){for(var a=arguments.length,e=new Array(a),t=0;t<a;t++)e[t]=arguments[t];return e.length===0?function(s){return s}:e.length===1?e[0]:e.reduce(function(s,i){return function(){return s(i.apply(void 0,arguments))}})}function Bu(){for(var a=arguments.length,e=new Array(a),t=0;t<a;t++)e[t]=arguments[t];return function(s){return function(){var i=s.apply(void 0,arguments),o=function(){throw new Error(ue(15))},r={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},l=e.map(function(n){return n(r)});return o=Ta.apply(void 0,l)(i.dispatch),Ao(Ao({},i),{},{dispatch:o})}}}function ya(a){var e=function(s){var i=s.dispatch,o=s.getState;return function(r){return function(l){return typeof l=="function"?l(i,o,a):r(l)}}};return e}var Ea=ya();Ea.withExtraArgument=ya;const Uu=Ea,Pa="CONTEXT_RECEIVED",Hu="CONTEXT_PROCESSED",Sa="CONTEXT_GAME_MODE_DETECTED",Yu="MESSAGES_SENT_UPDATE",Ku="MESSAGES_SENT_REMOVE",ka="SCENE_KEY_UPDATE";function Me(a){for(var e=arguments.length,t=Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];throw Error("[Immer] minified error nr: "+a+(t.length?" "+t.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ct(a){return!!a&&!!a[ee]}function ut(a){var e;return!!a&&(function(t){if(!t||typeof t!="object")return!1;var s=Object.getPrototypeOf(t);if(s===null)return!0;var i=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Ju}(a)||Array.isArray(a)||!!a[Go]||!!(!((e=a.constructor)===null||e===void 0)&&e[Go])||$i(a)||Xi(a))}function dt(a,e,t){t===void 0&&(t=!1),Ct(a)===0?(t?Object.keys:It)(a).forEach(function(s){t&&typeof s=="symbol"||e(s,a[s],a)}):a.forEach(function(s,i){return e(i,s,a)})}function Ct(a){var e=a[ee];return e?e.i>3?e.i-4:e.i:Array.isArray(a)?1:$i(a)?2:Xi(a)?3:0}function At(a,e){return Ct(a)===2?a.has(e):Object.prototype.hasOwnProperty.call(a,e)}function Wu(a,e){return Ct(a)===2?a.get(e):a[e]}function xa(a,e,t){var s=Ct(a);s===2?a.set(e,t):s===3?a.add(t):a[e]=t}function Oa(a,e){return a===e?a!==0||1/a==1/e:a!=a&&e!=e}function $i(a){return qu&&a instanceof Map}function Xi(a){return Zu&&a instanceof Set}function at(a){return a.o||a.t}function qi(a){if(Array.isArray(a))return Array.prototype.slice.call(a);var e=Aa(a);delete e[ee];for(var t=It(e),s=0;s<t.length;s++){var i=t[s],o=e[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:a[i]})}return Object.create(Object.getPrototypeOf(a),e)}function Zi(a,e){return e===void 0&&(e=!1),Ji(a)||ct(a)||!ut(a)||(Ct(a)>1&&(a.set=a.add=a.clear=a.delete=zu),Object.freeze(a),e&&dt(a,function(t,s){return Zi(s,!0)},!0)),a}function zu(){Me(2)}function Ji(a){return a==null||typeof a!="object"||Object.isFrozen(a)}function Ge(a){var e=Li[a];return e||Me(18,a),e}function ju(a,e){Li[a]||(Li[a]=e)}function _i(){return ss}function Vs(a,e){e&&(Ge("Patches"),a.u=[],a.s=[],a.v=e)}function Cs(a){Mi(a),a.p.forEach(Vu),a.p=null}function Mi(a){a===ss&&(ss=a.l)}function _o(a){return ss={p:[],l:ss,h:a,m:!0,_:0}}function Vu(a){var e=a[ee];e.i===0||e.i===1?e.j():e.O=!0}function $s(a,e){e._=e.p.length;var t=e.p[0],s=a!==void 0&&a!==t;return e.h.g||Ge("ES5").S(e,a,s),s?(t[ee].P&&(Cs(e),Me(4)),ut(a)&&(a=Ls(e,a),e.l||Ds(e,a)),e.u&&Ge("Patches").M(t[ee].t,a,e.u,e.s)):a=Ls(e,t,[]),Cs(e),e.u&&e.v(e.u,e.s),a!==Ra?a:void 0}function Ls(a,e,t){if(Ji(e))return e;var s=e[ee];if(!s)return dt(e,function(l,n){return Mo(a,s,e,l,n,t)},!0),e;if(s.A!==a)return e;if(!s.P)return Ds(a,s.t,!0),s.t;if(!s.I){s.I=!0,s.A._--;var i=s.i===4||s.i===5?s.o=qi(s.k):s.o,o=i,r=!1;s.i===3&&(o=new Set(i),i.clear(),r=!0),dt(o,function(l,n){return Mo(a,s,i,l,n,t,r)}),Ds(a,i,!1),t&&a.u&&Ge("Patches").N(s,t,a.u,a.s)}return s.o}function Mo(a,e,t,s,i,o,r){if(ct(i)){var l=Ls(a,i,o&&e&&e.i!==3&&!At(e.R,s)?o.concat(s):void 0);if(xa(t,s,l),!ct(l))return;a.m=!1}else r&&t.add(i);if(ut(i)&&!Ji(i)){if(!a.h.D&&a._<1)return;Ls(a,i),e&&e.A.l||Ds(a,i)}}function Ds(a,e,t){t===void 0&&(t=!1),!a.l&&a.h.D&&a.m&&Zi(e,t)}function Xs(a,e){var t=a[ee];return(t?at(t):a)[e]}function Co(a,e){if(e in a)for(var t=Object.getPrototypeOf(a);t;){var s=Object.getOwnPropertyDescriptor(t,e);if(s)return s;t=Object.getPrototypeOf(t)}}function Qe(a){a.P||(a.P=!0,a.l&&Qe(a.l))}function qs(a){a.o||(a.o=qi(a.t))}function Ci(a,e,t){var s=$i(e)?Ge("MapSet").F(e,t):Xi(e)?Ge("MapSet").T(e,t):a.g?function(i,o){var r=Array.isArray(i),l={i:r?1:0,A:o?o.A:_i(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},n=l,c=is;r&&(n=[l],c=Zt);var u=Proxy.revocable(n,c),m=u.revoke,d=u.proxy;return l.k=d,l.j=m,d}(e,t):Ge("ES5").J(e,t);return(t?t.A:_i()).p.push(s),s}function $u(a){return ct(a)||Me(22,a),function e(t){if(!ut(t))return t;var s,i=t[ee],o=Ct(t);if(i){if(!i.P&&(i.i<4||!Ge("ES5").K(i)))return i.t;i.I=!0,s=Lo(t,o),i.I=!1}else s=Lo(t,o);return dt(s,function(r,l){i&&Wu(i.t,r)===l||xa(s,r,e(l))}),o===3?new Set(s):s}(a)}function Lo(a,e){switch(e){case 2:return new Map(a);case 3:return Array.from(a)}return qi(a)}function Xu(){function a(o,r){var l=i[o];return l?l.enumerable=r:i[o]=l={configurable:!0,enumerable:r,get:function(){var n=this[ee];return is.get(n,o)},set:function(n){var c=this[ee];is.set(c,o,n)}},l}function e(o){for(var r=o.length-1;r>=0;r--){var l=o[r][ee];if(!l.P)switch(l.i){case 5:s(l)&&Qe(l);break;case 4:t(l)&&Qe(l)}}}function t(o){for(var r=o.t,l=o.k,n=It(l),c=n.length-1;c>=0;c--){var u=n[c];if(u!==ee){var m=r[u];if(m===void 0&&!At(r,u))return!0;var d=l[u],f=d&&d[ee];if(f?f.t!==m:!Oa(d,m))return!0}}var h=!!r[ee];return n.length!==It(r).length+(h?0:1)}function s(o){var r=o.k;if(r.length!==o.t.length)return!0;var l=Object.getOwnPropertyDescriptor(r,r.length-1);if(l&&!l.get)return!0;for(var n=0;n<r.length;n++)if(!r.hasOwnProperty(n))return!0;return!1}var i={};ju("ES5",{J:function(o,r){var l=Array.isArray(o),n=function(u,m){if(u){for(var d=Array(m.length),f=0;f<m.length;f++)Object.defineProperty(d,""+f,a(f,!0));return d}var h=Aa(m);delete h[ee];for(var p=It(h),v=0;v<p.length;v++){var b=p[v];h[b]=a(b,u||!!h[b].enumerable)}return Object.create(Object.getPrototypeOf(m),h)}(l,o),c={i:l?5:4,A:r?r.A:_i(),P:!1,I:!1,R:{},l:r,t:o,k:n,o:null,O:!1,C:!1};return Object.defineProperty(n,ee,{value:c,writable:!0}),n},S:function(o,r,l){l?ct(r)&&r[ee].A===o&&e(o.p):(o.u&&function n(c){if(c&&typeof c=="object"){var u=c[ee];if(u){var m=u.t,d=u.k,f=u.R,h=u.i;if(h===4)dt(d,function(w){w!==ee&&(m[w]!==void 0||At(m,w)?f[w]||n(d[w]):(f[w]=!0,Qe(u)))}),dt(m,function(w){d[w]!==void 0||At(d,w)||(f[w]=!1,Qe(u))});else if(h===5){if(s(u)&&(Qe(u),f.length=!0),d.length<m.length)for(var p=d.length;p<m.length;p++)f[p]=!1;else for(var v=m.length;v<d.length;v++)f[v]=!0;for(var b=Math.min(d.length,m.length),g=0;g<b;g++)d.hasOwnProperty(g)||(f[g]=!0),f[g]===void 0&&n(d[g])}}}}(o.p[0]),e(o.p))},K:function(o){return o.i===4?t(o):s(o)}})}var Do,ss,Qi=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",qu=typeof Map<"u",Zu=typeof Set<"u",No=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Ra=Qi?Symbol.for("immer-nothing"):((Do={})["immer-nothing"]=!0,Do),Go=Qi?Symbol.for("immer-draftable"):"__$immer_draftable",ee=Qi?Symbol.for("immer-state"):"__$immer_state";var Ju=""+Object.prototype.constructor,It=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:Object.getOwnPropertyNames,Aa=Object.getOwnPropertyDescriptors||function(a){var e={};return It(a).forEach(function(t){e[t]=Object.getOwnPropertyDescriptor(a,t)}),e},Li={},is={get:function(a,e){if(e===ee)return a;var t=at(a);if(!At(t,e))return function(i,o,r){var l,n=Co(o,r);return n?"value"in n?n.value:(l=n.get)===null||l===void 0?void 0:l.call(i.k):void 0}(a,t,e);var s=t[e];return a.I||!ut(s)?s:s===Xs(a.t,e)?(qs(a),a.o[e]=Ci(a.A.h,s,a)):s},has:function(a,e){return e in at(a)},ownKeys:function(a){return Reflect.ownKeys(at(a))},set:function(a,e,t){var s=Co(at(a),e);if(s?.set)return s.set.call(a.k,t),!0;if(!a.P){var i=Xs(at(a),e),o=i?.[ee];if(o&&o.t===t)return a.o[e]=t,a.R[e]=!1,!0;if(Oa(t,i)&&(t!==void 0||At(a.t,e)))return!0;qs(a),Qe(a)}return a.o[e]===t&&(t!==void 0||e in a.o)||Number.isNaN(t)&&Number.isNaN(a.o[e])||(a.o[e]=t,a.R[e]=!0),!0},deleteProperty:function(a,e){return Xs(a.t,e)!==void 0||e in a.t?(a.R[e]=!1,qs(a),Qe(a)):delete a.R[e],a.o&&delete a.o[e],!0},getOwnPropertyDescriptor:function(a,e){var t=at(a),s=Reflect.getOwnPropertyDescriptor(t,e);return s&&{writable:!0,configurable:a.i!==1||e!=="length",enumerable:s.enumerable,value:t[e]}},defineProperty:function(){Me(11)},getPrototypeOf:function(a){return Object.getPrototypeOf(a.t)},setPrototypeOf:function(){Me(12)}},Zt={};dt(is,function(a,e){Zt[a]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Zt.deleteProperty=function(a,e){return Zt.set.call(this,a,e,void 0)},Zt.set=function(a,e,t){return is.set.call(this,a[0],e,t,a[0])};var Qu=function(){function a(t){var s=this;this.g=No,this.D=!0,this.produce=function(i,o,r){if(typeof i=="function"&&typeof o!="function"){var l=o;o=i;var n=s;return function(p){var v=this;p===void 0&&(p=l);for(var b=arguments.length,g=Array(b>1?b-1:0),w=1;w<b;w++)g[w-1]=arguments[w];return n.produce(p,function(E){var y;return(y=o).call.apply(y,[v,E].concat(g))})}}var c;if(typeof o!="function"&&Me(6),r!==void 0&&typeof r!="function"&&Me(7),ut(i)){var u=_o(s),m=Ci(s,i,void 0),d=!0;try{c=o(m),d=!1}finally{d?Cs(u):Mi(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(p){return Vs(u,r),$s(p,u)},function(p){throw Cs(u),p}):(Vs(u,r),$s(c,u))}if(!i||typeof i!="object"){if((c=o(i))===void 0&&(c=i),c===Ra&&(c=void 0),s.D&&Zi(c,!0),r){var f=[],h=[];Ge("Patches").M(i,c,f,h),r(f,h)}return c}Me(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(c){for(var u=arguments.length,m=Array(u>1?u-1:0),d=1;d<u;d++)m[d-1]=arguments[d];return s.produceWithPatches(c,function(f){return i.apply(void 0,[f].concat(m))})};var r,l,n=s.produce(i,o,function(c,u){r=c,l=u});return typeof Promise<"u"&&n instanceof Promise?n.then(function(c){return[c,r,l]}):[n,r,l]},typeof t?.useProxies=="boolean"&&this.setUseProxies(t.useProxies),typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=a.prototype;return e.createDraft=function(t){ut(t)||Me(8),ct(t)&&(t=$u(t));var s=_o(this),i=Ci(this,t,void 0);return i[ee].C=!0,Mi(s),i},e.finishDraft=function(t,s){var i=t&&t[ee],o=i.A;return Vs(o,s),$s(void 0,o)},e.setAutoFreeze=function(t){this.D=t},e.setUseProxies=function(t){t&&!No&&Me(20),this.g=t},e.applyPatches=function(t,s){var i;for(i=s.length-1;i>=0;i--){var o=s[i];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}i>-1&&(s=s.slice(i+1));var r=Ge("Patches").$;return ct(t)?r(t,s):this.produce(t,function(l){return r(l,s)})},a}(),Te=new Qu,ed=Te.produce;Te.produceWithPatches.bind(Te);Te.setAutoFreeze.bind(Te);Te.setUseProxies.bind(Te);Te.applyPatches.bind(Te);Te.createDraft.bind(Te);Te.finishDraft.bind(Te);const Lt=ed,td={currentSceneKey:"",prevSceneKey:""},sd=(a=td,e)=>Lt(a,t=>{const{payload:s}=e;if(!s)return;const{sceneKey:i}=s;switch(e.type){case ka:t.currentSceneKey=i,t.prevSceneKey=a.currentSceneKey;break}});Xu();const Ia={processed:!1,contextId:"",contextType:"SOLO",entryPointData:{},currentGameMode:""},Zs=Ia,id=(a=Ia,e)=>Lt(a,t=>{const{payload:s}=e;if(!s)return;const{gameMode:i,contextId:o,contextType:r,entryPointData:l}=s;switch(e.type){case Pa:t.contextId=o,t.contextType=r,t.entryPointData=l;break;case Hu:t.contextId=o,t.contextType=r,t.processed=!0;break;case Sa:t.currentGameMode=i;break}}),od={data:{}},rd=(a=od,e)=>Lt(a,t=>{const{payload:s}=e;if(!s)return;const{opponentId:i}=s;if(typeof i=="string")switch(e.type){case Yu:a.data[i]?t.data[i].sent=!0:t.data[i]={sent:!0};break;case Ku:a.data[i]?t.data[i].sent=!1:t.data[i]={sent:!1};break}}),ad={token:"",isRequesting:!1},nd=(a=ad,e)=>Lt(a,t=>{const{payload:s}=e;if(!s)return;const{token:i}=s;switch(e.type){case Xr:t.isRequesting=!0;break;case qr:t.token=i,t.isRequesting=!1;break}}),ld={[Yi]:nd},cd={ASID:"",playerId:"",name:"",photo:"",locale:"",connectedPlayers:{},data:{score:0,settings:_t,userGuideDisplays:0,customFields:{}},isUserNew:!0},ud=(a=cd,e)=>Lt(a,t=>{const{payload:s}=e;if(!s)return;const{name:i,value:o,data:r={},score:l,connectedPlayers:n=[],profile:c}=s;switch(e.type){case na:{const{playerId:u,name:m,photo:d,locale:f,data:h}=s;if(t.playerId=u,t.name=m,t.photo=d,t.locale=f,GameCore.Utils.Valid.isObject(h)){const p=h;t.data=ve(a.data,p)}h.userGuideDisplays>0&&(t.isUserNew=!1)}break;case ua:{const{playerId:u,name:m,photo:d,locale:f,ASID:h}=c;t.ASID=h,t.playerId=u,t.name=m,t.photo=d,t.locale=f}break;case ca:t.data.score=l;break;case da:if(!GameCore.Utils.Object.hasOwn(t.data.settings,i))break;t.data.settings[i]=o;break;case la:t.data=ve(a.data,r),r.userGuideDisplays>0&&(t.isUserNew=!1);break;case ma:{if(n.length<=0)break;const u=GameCore.Utils.Object.keyBy(n,"playerId");t.connectedPlayers=ve(a.connectedPlayers,u)}break}}),dd={[Fs]:ud},md={data:{},profileIds:[]},hd=(a=md,e)=>Lt(a,t=>{const{payload:s}=e;if(!s)return;const{data:i=[]}=s;switch(e.type){case ga:{const o=GameCore.Utils.Object.keyBy(i,"playerId"),r=Object.keys(o);t.data=ve({...a.data},o),t.profileIds=[...new Set([...a.profileIds,...r])]}break}}),fd={[Vi]:hd},pd=Fu({scene:sd,context:id,messages:rd,...ld,...dd,...fd}),{__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:F0}=window;let bd=Ta;const gd=a=>{const e=bd(Bu(Uu));return wa(pd,a,e)};class vd extends Phaser.Plugins.BasePlugin{store;initiator;init(){this.store=gd({})}setInitiator(e){this.initiator=e}async syncStore(){this.initiator.initContext(),await this.initiator.initPlayer()}dispatch=e=>this.store.dispatch(e);getState=()=>this.store.getState();subscribe=e=>this.store.subscribe(e);watch=(e,t)=>{const s=Mu(()=>{const i=this.getState();return e(i)});return this.subscribe(s(i=>{t(i)}))}}var Di={},wd={get exports(){return Di},set exports(a){Di=a}};(function(a){(function(){function e(T,k,_){return T.call.apply(T.bind,arguments)}function t(T,k,_){if(!T)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,I),T.apply(k,D)}}return function(){return T.apply(k,arguments)}}function s(T,k,_){return s=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?e:t,s.apply(null,arguments)}var i=Date.now||function(){return+new Date};function o(T,k){this.a=T,this.o=k||T,this.c=this.o.document}var r=!!window.FontFace;function l(T,k,_,I){if(k=T.c.createElement(k),_)for(var D in _)_.hasOwnProperty(D)&&(D=="style"?k.style.cssText=_[D]:k.setAttribute(D,_[D]));return I&&k.appendChild(T.c.createTextNode(I)),k}function n(T,k,_){T=T.c.getElementsByTagName(k)[0],T||(T=document.documentElement),T.insertBefore(_,T.lastChild)}function c(T){T.parentNode&&T.parentNode.removeChild(T)}function u(T,k,_){k=k||[],_=_||[];for(var I=T.className.split(/\s+/),D=0;D<k.length;D+=1){for(var W=!1,j=0;j<I.length;j+=1)if(k[D]===I[j]){W=!0;break}W||I.push(k[D])}for(k=[],D=0;D<I.length;D+=1){for(W=!1,j=0;j<_.length;j+=1)if(I[D]===_[j]){W=!0;break}W||k.push(I[D])}T.className=k.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function m(T,k){for(var _=T.className.split(/\s+/),I=0,D=_.length;I<D;I++)if(_[I]==k)return!0;return!1}function d(T){return T.o.location.hostname||T.a.location.hostname}function f(T,k,_){function I(){Z&&D&&W&&(Z(j),Z=null)}k=l(T,"link",{rel:"stylesheet",href:k,media:"all"});var D=!1,W=!0,j=null,Z=_||null;r?(k.onload=function(){D=!0,I()},k.onerror=function(){D=!0,j=Error("Stylesheet failed to load"),I()}):setTimeout(function(){D=!0,I()},0),n(T,"head",k)}function h(T,k,_,I){var D=T.c.getElementsByTagName("head")[0];if(D){var W=l(T,"script",{src:k}),j=!1;return W.onload=W.onreadystatechange=function(){j||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(j=!0,_&&_(null),W.onload=W.onreadystatechange=null,W.parentNode.tagName=="HEAD"&&D.removeChild(W))},D.appendChild(W),setTimeout(function(){j||(j=!0,_&&_(Error("Script load timeout")))},I||5e3),W}return null}function p(){this.a=0,this.c=null}function v(T){return T.a++,function(){T.a--,g(T)}}function b(T,k){T.c=k,g(T)}function g(T){T.a==0&&T.c&&(T.c(),T.c=null)}function w(T){this.a=T||"-"}w.prototype.c=function(T){for(var k=[],_=0;_<arguments.length;_++)k.push(arguments[_].replace(/[\W_]+/g,"").toLowerCase());return k.join(this.a)};function E(T,k){this.c=T,this.f=4,this.a="n";var _=(k||"n4").match(/^([nio])([1-9])$/i);_&&(this.a=_[1],this.f=parseInt(_[2],10))}function y(T){return O(T)+" "+(T.f+"00")+" 300px "+S(T.c)}function S(T){var k=[];T=T.split(/,\s*/);for(var _=0;_<T.length;_++){var I=T[_].replace(/['"]/g,"");I.indexOf(" ")!=-1||/^\d/.test(I)?k.push("'"+I+"'"):k.push(I)}return k.join(",")}function R(T){return T.a+T.f}function O(T){var k="normal";return T.a==="o"?k="oblique":T.a==="i"&&(k="italic"),k}function P(T){var k=4,_="n",I=null;return T&&((I=T.match(/(normal|oblique|italic)/i))&&I[1]&&(_=I[1].substr(0,1).toLowerCase()),(I=T.match(/([1-9]00|normal|bold)/i))&&I[1]&&(/bold/i.test(I[1])?k=7:/[1-9]00/.test(I[1])&&(k=parseInt(I[1].substr(0,1),10)))),_+k}function x(T,k){this.c=T,this.f=T.o.document.documentElement,this.h=k,this.a=new w("-"),this.j=k.events!==!1,this.g=k.classes!==!1}function M(T){T.g&&u(T.f,[T.a.c("wf","loading")]),N(T,"loading")}function C(T){if(T.g){var k=m(T.f,T.a.c("wf","active")),_=[],I=[T.a.c("wf","loading")];k||_.push(T.a.c("wf","inactive")),u(T.f,_,I)}N(T,"inactive")}function N(T,k,_){T.j&&T.h[k]&&(_?T.h[k](_.c,R(_)):T.h[k]())}function U(){this.c={}}function H(T,k,_){var I=[],D;for(D in k)if(k.hasOwnProperty(D)){var W=T.c[D];W&&I.push(W(k[D],_))}return I}function q(T,k){this.c=T,this.f=k,this.a=l(this.c,"span",{"aria-hidden":"true"},this.f)}function te(T){n(T.c,"body",T.a)}function me(T){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+S(T.c)+";"+("font-style:"+O(T)+";font-weight:"+(T.f+"00")+";")}function Q(T,k,_,I,D,W){this.g=T,this.j=k,this.a=I,this.c=_,this.f=D||3e3,this.h=W||void 0}Q.prototype.start=function(){var T=this.c.o.document,k=this,_=i(),I=new Promise(function(j,Z){function J(){i()-_>=k.f?Z():T.fonts.load(y(k.a),k.h).then(function(se){1<=se.length?j():setTimeout(J,25)},function(){Z()})}J()}),D=null,W=new Promise(function(j,Z){D=setTimeout(Z,k.f)});Promise.race([W,I]).then(function(){D&&(clearTimeout(D),D=null),k.g(k.a)},function(){k.j(k.a)})};function ze(T,k,_,I,D,W,j){this.v=T,this.B=k,this.c=_,this.a=I,this.s=j||"BESbswy",this.f={},this.w=D||3e3,this.u=W||null,this.m=this.j=this.h=this.g=null,this.g=new q(this.c,this.s),this.h=new q(this.c,this.s),this.j=new q(this.c,this.s),this.m=new q(this.c,this.s),T=new E(this.a.c+",serif",R(this.a)),T=me(T),this.g.a.style.cssText=T,T=new E(this.a.c+",sans-serif",R(this.a)),T=me(T),this.h.a.style.cssText=T,T=new E("serif",R(this.a)),T=me(T),this.j.a.style.cssText=T,T=new E("sans-serif",R(this.a)),T=me(T),this.m.a.style.cssText=T,te(this.g),te(this.h),te(this.j),te(this.m)}var ye={D:"serif",C:"sans-serif"},Nt=null;function Fe(){if(Nt===null){var T=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);Nt=!!T&&(536>parseInt(T[1],10)||parseInt(T[1],10)===536&&11>=parseInt(T[2],10))}return Nt}ze.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=i(),xe(this)};function Gt(T,k,_){for(var I in ye)if(ye.hasOwnProperty(I)&&k===T.f[ye[I]]&&_===T.f[ye[I]])return!0;return!1}function xe(T){var k=T.g.a.offsetWidth,_=T.h.a.offsetWidth,I;(I=k===T.f.serif&&_===T.f["sans-serif"])||(I=Fe()&&Gt(T,k,_)),I?i()-T.A>=T.w?Fe()&&Gt(T,k,_)&&(T.u===null||T.u.hasOwnProperty(T.a.c))?Ks(T,T.v):Ks(T,T.B):nn(T):Ks(T,T.v)}function nn(T){setTimeout(s(function(){xe(this)},T),50)}function Ks(T,k){setTimeout(s(function(){c(this.g.a),c(this.h.a),c(this.j.a),c(this.m.a),k(this.a)},T),0)}function Ws(T,k,_){this.c=T,this.a=k,this.f=0,this.m=this.j=!1,this.s=_}var us=null;Ws.prototype.g=function(T){var k=this.a;k.g&&u(k.f,[k.a.c("wf",T.c,R(T).toString(),"active")],[k.a.c("wf",T.c,R(T).toString(),"loading"),k.a.c("wf",T.c,R(T).toString(),"inactive")]),N(k,"fontactive",T),this.m=!0,no(this)},Ws.prototype.h=function(T){var k=this.a;if(k.g){var _=m(k.f,k.a.c("wf",T.c,R(T).toString(),"active")),I=[],D=[k.a.c("wf",T.c,R(T).toString(),"loading")];_||I.push(k.a.c("wf",T.c,R(T).toString(),"inactive")),u(k.f,I,D)}N(k,"fontinactive",T),no(this)};function no(T){--T.f==0&&T.j&&(T.m?(T=T.a,T.g&&u(T.f,[T.a.c("wf","active")],[T.a.c("wf","loading"),T.a.c("wf","inactive")]),N(T,"active")):C(T.a))}function lo(T){this.j=T,this.a=new U,this.h=0,this.f=this.g=!0}lo.prototype.load=function(T){this.c=new o(this.j,T.context||this.j),this.g=T.events!==!1,this.f=T.classes!==!1,cn(this,new x(this.c,T),T)};function ln(T,k,_,I,D){var W=--T.h==0;(T.f||T.g)&&setTimeout(function(){var j=D||null,Z=I||null||{};if(_.length===0&&W)C(k.a);else{k.f+=_.length,W&&(k.j=W);var J,se=[];for(J=0;J<_.length;J++){var ie=_[J],he=Z[ie.c],Oe=k.a,ft=ie;if(Oe.g&&u(Oe.f,[Oe.a.c("wf",ft.c,R(ft).toString(),"loading")]),N(Oe,"fontloading",ft),Oe=null,us===null)if(window.FontFace){var ft=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),Tn=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);us=ft?42<parseInt(ft[1],10):!Tn}else us=!1;us?Oe=new Q(s(k.g,k),s(k.h,k),k.c,ie,k.s,he):Oe=new ze(s(k.g,k),s(k.h,k),k.c,ie,k.s,j,he),se.push(Oe)}for(J=0;J<se.length;J++)se[J].start()}},0)}function cn(T,k,_){var D=[],I=_.timeout;M(k);var D=H(T.a,_,T.c),W=new Ws(T.c,k,I);for(T.h=D.length,k=0,_=D.length;k<_;k++)D[k].load(function(j,Z,J){ln(T,W,j,Z,J)})}function co(T,k){this.c=T,this.a=k}co.prototype.load=function(T){function k(){if(W["__mti_fntLst"+I]){var j=W["__mti_fntLst"+I](),Z=[],J;if(j)for(var se=0;se<j.length;se++){var ie=j[se].fontfamily;j[se].fontStyle!=null&&j[se].fontWeight!=null?(J=j[se].fontStyle+j[se].fontWeight,Z.push(new E(ie,J))):Z.push(new E(ie))}T(Z)}else setTimeout(function(){k()},50)}var _=this,I=_.a.projectId,D=_.a.version;if(I){var W=_.c.o;h(this.c,(_.a.api||"https://fast.fonts.net/jsapi")+"/"+I+".js"+(D?"?v="+D:""),function(j){j?T([]):(W["__MonotypeConfiguration__"+I]=function(){return _.a},k())}).id="__MonotypeAPIScript__"+I}else T([])};function uo(T,k){this.c=T,this.a=k}uo.prototype.load=function(T){var k,_,I=this.a.urls||[],D=this.a.families||[],W=this.a.testStrings||{},j=new p;for(k=0,_=I.length;k<_;k++)f(this.c,I[k],v(j));var Z=[];for(k=0,_=D.length;k<_;k++)if(I=D[k].split(":"),I[1])for(var J=I[1].split(","),se=0;se<J.length;se+=1)Z.push(new E(I[0],J[se]));else Z.push(new E(I[0]));b(j,function(){T(Z,W)})};function un(T,k){T?this.c=T:this.c=dn,this.a=[],this.f=[],this.g=k||""}var dn="https://fonts.googleapis.com/css";function mn(T,k){for(var _=k.length,I=0;I<_;I++){var D=k[I].split(":");D.length==3&&T.f.push(D.pop());var W="";D.length==2&&D[1]!=""&&(W=":"),T.a.push(D.join(W))}}function hn(T){if(T.a.length==0)throw Error("No fonts to load!");if(T.c.indexOf("kit=")!=-1)return T.c;for(var k=T.a.length,_=[],I=0;I<k;I++)_.push(T.a[I].replace(/ /g,"+"));return k=T.c+"?family="+_.join("%7C"),0<T.f.length&&(k+="&subset="+T.f.join(",")),0<T.g.length&&(k+="&text="+encodeURIComponent(T.g)),k}function fn(T){this.f=T,this.a=[],this.c={}}var mo={latin:"BESbswy","latin-ext":"Ã§Ã¶Ã¼ÄŸÅŸ",cyrillic:"Ð¹ÑÐ–",greek:"Î±Î²Î£",khmer:"áž€ážáž‚",Hanuman:"áž€ážáž‚"},pn={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},bn={i:"i",italic:"i",n:"n",normal:"n"},gn=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function vn(T){for(var k=T.f.length,_=0;_<k;_++){var I=T.f[_].split(":"),D=I[0].replace(/\+/g," "),W=["n4"];if(2<=I.length){var j,Z=I[1];if(j=[],Z)for(var Z=Z.split(","),J=Z.length,se=0;se<J;se++){var ie;if(ie=Z[se],ie.match(/^[\w-]+$/)){var he=gn.exec(ie.toLowerCase());if(he==null)ie="";else{if(ie=he[2],ie=ie==null||ie==""?"n":bn[ie],he=he[1],he==null||he=="")he="4";else var Oe=pn[he],he=Oe||(isNaN(he)?"4":he.substr(0,1));ie=[ie,he].join("")}}else ie="";ie&&j.push(ie)}0<j.length&&(W=j),I.length==3&&(I=I[2],j=[],I=I?I.split(","):j,0<I.length&&(I=mo[I[0]])&&(T.c[D]=I))}for(T.c[D]||(I=mo[D])&&(T.c[D]=I),I=0;I<W.length;I+=1)T.a.push(new E(D,W[I]))}}function ho(T,k){this.c=T,this.a=k}var wn={Arimo:!0,Cousine:!0,Tinos:!0};ho.prototype.load=function(T){var k=new p,_=this.c,I=new un(this.a.api,this.a.text),D=this.a.families;mn(I,D);var W=new fn(D);vn(W),f(_,hn(I),v(k)),b(k,function(){T(W.a,W.c,wn)})};function fo(T,k){this.c=T,this.a=k}fo.prototype.load=function(T){var k=this.a.id,_=this.c.o;k?h(this.c,(this.a.api||"https://use.typekit.net")+"/"+k+".js",function(I){if(I)T([]);else if(_.Typekit&&_.Typekit.config&&_.Typekit.config.fn){I=_.Typekit.config.fn;for(var D=[],W=0;W<I.length;W+=2)for(var j=I[W],Z=I[W+1],J=0;J<Z.length;J++)D.push(new E(j,Z[J]));try{_.Typekit.load({events:!1,classes:!1,async:!0})}catch{}T(D)}},2e3):T([])};function po(T,k){this.c=T,this.f=k,this.a=[]}po.prototype.load=function(T){var k=this.f.id,_=this.c.o,I=this;k?(_.__webfontfontdeckmodule__||(_.__webfontfontdeckmodule__={}),_.__webfontfontdeckmodule__[k]=function(D,W){for(var j=0,Z=W.fonts.length;j<Z;++j){var J=W.fonts[j];I.a.push(new E(J.name,P("font-weight:"+J.weight+";font-style:"+J.style)))}T(I.a)},h(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+d(this.c)+"/"+k+".js",function(D){D&&T([])})):T([])};var je=new lo(window);je.a.c.custom=function(T,k){return new uo(k,T)},je.a.c.fontdeck=function(T,k){return new po(k,T)},je.a.c.monotype=function(T,k){return new co(k,T)},je.a.c.typekit=function(T,k){return new fo(k,T)},je.a.c.google=function(T,k){return new ho(k,T)};var bo={load:s(je.load,je)};a.exports?a.exports=bo:(window.WebFont=bo,window.WebFontConfig&&je.load(window.WebFontConfig))})()})(wd);const Td=Di;class yd extends Phaser.Loader.File{payload;constructor(e,t){super(e,{type:"webfont",key:t.type}),this.payload=t}load(){const{type:e}=this.payload;let t;switch(e){case"google":t=this.getGoogleFontConfig(this.payload);break;case"local":t=this.getLocalFontConfig(this.payload);break}Td.load(t)}getGoogleFontConfig(e){const{character:t,fontName:s,fontWeight:i=400}=e;return{google:{families:[`${s}:${i}`],text:t},active:()=>{this.loader.nextFile(this,!0)},timeout:15e3}}getLocalFontConfig(e){const{fontName:t,fontType:s}=e,i=document.createElement("style");document.head.appendChild(i);const o=i.sheet;if(o){const l=`@font-face { font-family: "${t}"; src: url("assets/fonts/${t}${s==="opentype"?".otf":".ttf"}") format("${s}"); }`;o.insertRule(l,0)}return{custom:{families:[t]},active:()=>{this.loader.nextFile(this,!0)},timeout:15e3}}}class Ed extends Phaser.Plugins.ScenePlugin{addFont(e){const t=new yd(this.scene.load,e);this.scene.load.addFile(t)}}class Pd extends Phaser.Plugins.BasePlugin{portraitRatio;portraitWidth;portraitHeight;landscapeRatio;landscapeWidth;landscapeHeight;worldWidth;worldHeight;worldRatio;autoResize;disableLandscape;fullSizeOnLandscape;forcePixelRatio;configure(e){const{autoResize:t,portraitRatio:s,portraitWidth:i,portraitHeight:o,landscapeWidth:r,landscapeHeight:l,landscapeRatio:n,disableLandscape:c,fullSizeOnLandscape:u}=e;this.autoResize=t,this.disableLandscape=c,this.fullSizeOnLandscape=u,this.portraitRatio=s,this.portraitWidth=i,this.portraitHeight=o,this.landscapeRatio=n,this.landscapeWidth=r,this.landscapeHeight=l,this.initWorldSize(),this.addEventResize()}resize(e){e&&e>0&&(this.forcePixelRatio=e);const{width:t,height:s}=this.getCanvasSizeFixedRatio(this.worldRatio);this.resizeCanvas(t,s),this.game.scene.scenes.forEach(i=>{const o=i.cameras.main;if(!o)return;const r=this.getZoomRatio(),{width:l,height:n}=this.getWorldSize();o.setZoom(r),o.centerOn(l/2,n/2)})}resizeCanvas(e,t){this.game.canvas.width=e,this.game.canvas.height=t,this.game.scale.resize(e,t)}getWorldSize(){return{width:this.worldWidth,height:this.worldHeight}}initWorldSize(){this.worldWidth=this.portraitWidth,this.worldHeight=this.portraitHeight;const e=this.getScreenRatio();if(this.isScreenSmallerOrEqualRatio(this.portraitRatio))this.worldHeight=this.worldWidth/e;else if(!this.disableLandscape&&(this.worldWidth=this.landscapeWidth,this.worldHeight=this.landscapeHeight,this.landscapeRatio>e&&(this.worldHeight=this.worldWidth/e),this.fullSizeOnLandscape)){this.worldRatio=this.worldWidth/this.worldHeight;const{width:t,height:s}=this.getCanvasSizeFixedRatio(e),i=this.getZoomRatio();this.worldWidth=t/i,this.worldHeight=s/i}this.worldRatio=this.worldWidth/this.worldHeight,console.info("ðŸš€ > this.worldRatio",this.worldRatio)}getZoomRatio(){const{width:e}=this.getWorldSize(),{width:t}=this.getCanvasSizeFixedRatio(this.worldRatio);return t/e}getPixelRatio(){if(this.forcePixelRatio>0)return this.forcePixelRatio;if(GameCore.Utils.Device.isDesktop())return 2;let e=GameCore.Utils.Device.pixelRatio();return e>2&&(e=2),e}getPhysicPixels(e,t){return e*t}getCanvasSizeFixedRatio(e){const t=this.getPixelRatio();let s=this.getScreenWidth()*t,i=this.getScreenHeight()*t;return this.isScreenEqualRatioWithError(e)?{width:s,height:i}:(this.isScreenSmallerOrEqualRatio(e)?i=s/e:s=i*e,{width:s,height:i})}getScreenRatio(){return this.getScreenWidth()/this.getScreenHeight()}getScreenHeight(){const{body:e,documentElement:t}=document,{clientHeight:s}=e,{clientHeight:i}=t;return Math.max(i,s)||0}getScreenWidth(){const{body:e,documentElement:t}=document,{clientWidth:s}=e,{clientWidth:i}=t;return Math.max(i,s)||0}isScreenEqualRatioWithError(e){const s=this.getScreenRatio();return e<s+1e-5&&e>s-1e-5}isScreenSmallerOrEqualRatio(e){return this.getScreenRatio()<=e}addEventResize(){this.autoResize&&window.addEventListener("resize",this.handleResize)}handleResize=Bi(()=>{this.resize()},300);isLandscape(){return this.worldRatio>this.portraitRatio}}class Sd{contextId;contextType;entryPointData;constructor(e,t,s){this.contextId=e||Zs.contextId,this.contextType=t||Zs.contextType,this.entryPointData=s||Zs.entryPointData}toObject(){return{contextId:this.contextId,contextType:this.contextType,entryPointData:this.entryPointData}}}const kd=(a,e,t)=>({type:Pa,payload:{contextId:a,contextType:e,entryPointData:t}}),xd=()=>a=>{a(Od("normal"))},Od=a=>e=>{e({type:Sa,payload:{gameMode:a}}),Ui("game-mode",a)},Rd={SCORE:"score",SETTINGS:"settings",GAME_DATA:"gameData",USER_GUIDE_DISPLAYS:"userGuideDisplays"};let es=!1,os=!1;const _a=a=>{es=a},Ad=()=>{os=Id()},Id=()=>{if(GameCore.Utils.Device.isDesktop())return!1;const e=es;return es=!0,os=!0,Ot(0),es=e,os},Ot=a=>{try{if(!es||!os)return!1;const e=GameCore.Utils.Device;return(e.isAndroid()||e.isMobileWeb())&&_d(a),!0}catch{return os=!1,!1}},_d=a=>{window.navigator.vibrate(0),window.navigator.vibrate(a)};class Md{game;constructor(e){this.game=e}initContext=()=>{const e=window.GameSDK.context.getID(),t=window.GameSDK.context.getType(),s=window.GameSDK.getEntryPointData(),i=new Sd(e,t,s),{contextId:o,contextType:r,entryPointData:l}=i.toObject();this.game.storage.dispatch(kd(o,r,l))};initPlayer=async()=>{const{player:e}=this.game,t=this.getPlayerInfo(),s=Object.values(Rd),i=await FBInstant.player.getDataAsync(s);console.info("ðŸš€ > rawData",i);const o=new Mt(i);console.info("ðŸš€ > playerData",o);const r=o.toObject();r.settings.music===!0&&window.game.audio.playMusic(),r.settings.vibrate===!0&&_a(!0),e.receiveData(t,o.convertToPlayerData())};getPlayerInfo=()=>{try{const e=window.GameSDK.player.getID();let t=window.GameSDK.player.getName();const s=window.GameSDK.player.getPhoto(),i=window.GameSDK.getLocale();if(!GameCore.Utils.Valid.isString(e))throw new Error("Player ID is not valid");return GameCore.Utils.Valid.isString(t)||(t="You"),new Is(e,t,s,i).toObject()}catch{return new Is("123","You").toObject()}}}const re={BOOT_SCENE:"BOOT_SCENE",LOAD_SCENE:"LOAD_SCENE",GAME_SCENE:"GAME_SCENE",GLOBAL_SCENE:"GLOBAL_SCENE",TEST_SCENE:"TEST_SCENE",ANIMATIONS_SCENE:"ANIMATIONS_SCENE"},Ni={SWITCH:Symbol("SWITCH")};class Cd extends Phaser.Plugins.BasePlugin{Text;Texture;currentLocale;supportedLanguages;data;configure(e){this.applyOptions(e)}getCurrentLanguage(){return this.currentLocale}switchLanguage(e="en"){const t=this.getCorrectLocale(e);this.currentLocale=t,this.Text=this.data[t].Text,this.Texture=this.data[t].Texture}getText(e){if(typeof e=="object"){const{key:t,variables:s=[],locale:i=this.currentLocale}=e,o=this.getCorrectLocale(i),r=this.data[o].Text[t];return this.replaceVariables(r,s)}return this.Text[e]}getTexture(e){if(typeof e=="object"){const{key:t,variables:s=[],locale:i=this.currentLocale}=e,o=this.getCorrectLocale(i),r=this.data[o].Texture[t];return this.replaceVariables(r,s)}return this.Texture[e]}isSupportLanguage(e){return this.supportedLanguages.indexOf(e)>=0}applyOptions(e){const{data:t,locale:s="en",upperCaseText:i=!1}=e;this.data=t,this.supportedLanguages=Object.keys(t);const o=this.getCorrectLocale(s);if(this.currentLocale=o,this.Text=t[o].Text,this.Texture=t[o].Texture,i)for(const r in this.Text)this.Text[r]=this.Text[r].toUpperCase()}replaceVariables(e,t){const s=t.length;if(s==0)return e;let i=0;return e.replace(/{.*}/,function(){return String(t[Math.min(i++,s-1)])})}getCorrectLocale(e){let t=e.split("_")[0];return this.isSupportLanguage(t)||(t="en"),t}}const Ld={title:"Tile Connect",lv:"Lv",level:"Level",invite:"Invite",pause:"Pause",continue:"Continue",restart:"Restart",invite_friends:"Invite Friends",failed:"Failed",reason_time_out:"Time is up!",resurrection:"Resurrection",replay:"Replay",victory:"Victory",get:"Get",get_continue:"Get, and Continue",hint_description:"Show one matchable pair on the board",rocket_description:"Destroy two pairs on the board",shuffle_description:"Shuffle all tiles on the board",defuse_description:"Remove a bomb tile on the board",get_now:"Get now",free:"Free",reason_bomb:"The bomb exploded!",continue_question:"Continue?",skip:"Skip",tutorial_level_3:"Remove all icon tiles before the end of time",tutorial_hint:`Tap to reveal
a connectable pair`,rocket:"Rocket",tutorial_rocket_tile:"After the rocket is eliminated, two more will be eliminated",ok:"OK",boom:"Boom",tutorial_bomb_tile:"Remove this icon tile before the bomb exploded",tutorial_level_7:"Tap to clear a pair of bomb tiles",tutorial_level_8:"Tap to rearrange the tiles",tutorial_level_11:"Tap to eliminate 2 pairs",combo:"Combo",good:"Good",excellent:"Excellent",great:"Great",unbelievable:"Unbelievable",loading:"Loading",no_rewards_1:"Sorry, No Rewards!",no_rewards_2:"You have cancelled the ad!",no_ads:"No ads to display!",loading_ads:"Loading ads..."},Dd={boom:"texts/boom",get_continue:"texts/get-and-continue",rocket:"texts/rocket",victory:"texts/victory",text_failed:"texts/text-failed",text_continue:"texts/text-continue",text_replay:"texts/text-replay",text_pause:"texts/text-pause",tutorial_text_failed:"text-failed",tutorial_text_good:"text-good",effect_good:"texts/good",effect_excellent:"texts/excellent",effect_great:"texts/great",effect_unbelievable:"texts/unbelievable",text_daily_rewards:"texts/text-daily-rewards"},Nd={Text:Ld,Texture:Dd},Gd={title:"Hubung Ubin",lv:"Lv",level:"Level",invite:"Undang",pause:"Jeda",continue:"Lanjut",restart:"Mulai Ulang",invite_friends:"Undang Teman",failed:"Gagal",reason_time_out:"Waktu selesai!",resurrection:"Kebangkitan",replay:"Ulangi Permainan",victory:"KEMENANGAN",get:"Ambil",get_continue:"Dapatkan dan Lanjutkan",hint_description:"Tampilkan satu pasang yang dapat dicocokkan di papan",rocket_description:"Hancurkan dua pasang di papan",shuffle_description:"Acak semua ubin di papan",defuse_description:"Hilangkan ubin bom di papan",get_now:"Ambil",free:"Gratis",reason_bomb:"Bom meledak!",continue_question:"LANJUT?",skip:"Lewati",tutorial_level_3:"Hilangkan semua ubin ikon sebelum waktu berakhir",tutorial_hint:`Ketuk untuk
 mengungkap satu pasang
 yang dapat dihubungkan`,rocket:"Roket",tutorial_rocket_tile:"Setelah roket ini dihilangkan, dua lainnya akan dihilangkan",ok:"Oke",boom:"Duar",tutorial_bomb_tile:"Hilangkan ubin ikon ini sebelum bom meledak",tutorial_level_7:"Ketuk untuk membersihkan sepasang ubin bom",tutorial_level_8:"Ketuk untuk menyusun ulang ubin",tutorial_level_11:"Ketuk untuk menghilangkan 2 pasang",combo:"Kombo",good:"Bagus",excellent:"Luar Biasa",great:"Hebat",unbelievable:"Dahsyat",loading:"Memuat...",no_rewards_1:"Maaf, Tak Ada Hadiah!",no_rewards_2:"Kamu membatalkan iklan!",no_ads:"TIidak Ada Iklan Untuk Ditonton",loading_ads:"Memuat Iklan..."},Fd={boom:"texts/indonesian/boom",get_continue:"texts/indonesian/get-and-continue",rocket:"texts/indonesian/rocket",victory:"texts/indonesian/victory",text_failed:"texts/indonesian/text-failed",text_continue:"texts/indonesian/text-continue",text_replay:"texts/indonesian/text-replay",text_pause:"texts/indonesian/text-pause",tutorial_text_failed:"text-failed-id",tutorial_text_good:"text-good-id",effect_good:"texts/indonesian/good-id",effect_excellent:"texts/indonesian/excellent-id",effect_great:"texts/indonesian/great-id",effect_unbelievable:"texts/indonesian/unbelievable-id",text_daily_rewards:"texts/indonesian/text-daily-rewards"},Bd={Text:Gd,Texture:Fd},Ud={title:"Ð¡Ð¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ Ð¿Ð»Ð¸Ñ‚Ð¾Ðº",lv:"Ð£Ñ€.",level:"Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ",invite:"Ð—Ð²Ð°Ñ‚ÑŒ",pause:"ÐŸÑ€Ð¸Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð°",continue:"ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ",restart:"ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð°",invite_friends:"ÐŸÑ€Ð¸Ð³Ð»Ð°ÑÐ¸Ñ‚ÑŒ Ð”Ñ€ÑƒÐ·ÐµÐ¹",failed:"ÐŸÑ€Ð¾Ð²Ð°Ð»ÐµÐ½",reason_time_out:"Ð’Ñ€ÐµÐ¼Ñ Ð²Ñ‹ÑˆÐ»Ð¾!",resurrection:"Ð’Ð¾ÑÐºÑ€ÐµÑˆÐµÐ½Ð¸Ðµ",replay:"ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€",victory:"ÐŸÐ¾Ð±ÐµÐ´Ð°",get:"ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ",get_continue:"ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¸ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ",hint_description:"ÐŸÐ¾ÐºÐ°Ð¶Ð¸Ñ‚Ðµ Ð½Ð° Ð´Ð¾ÑÐºÐµ Ð¾Ð´Ð½Ñƒ Ð¿Ð°Ñ€Ñƒ, ÐºÐ¾Ñ‚Ð¾Ñ€ÑƒÑŽ Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾Ð¿Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ",rocket_description:"Ð£Ð½Ð¸Ñ‡Ñ‚Ð¾Ð¶ÑŒÑ‚Ðµ Ð´Ð²Ðµ Ð¿Ð°Ñ€Ñ‹ Ð½Ð° Ð´Ð¾ÑÐºÐµ",shuffle_description:"ÐŸÐµÑ€ÐµÑ‚Ð°ÑÑƒÐ¹Ñ‚Ðµ Ð²ÑÐµ Ð¿Ð»Ð¸Ñ‚ÐºÐ¸ Ð½Ð° Ð´Ð¾ÑÐºÐµ",defuse_description:"Ð£Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ Ð´Ð¾ÑÐºÐ¸ Ð¿Ð»Ð¸Ñ‚ÐºÑƒ Ñ Ð±Ð¾Ð¼Ð±Ð¾Ð¹",get_now:"ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ",free:"Ð´Ð°Ñ€",reason_bomb:"Ð‘Ð¾Ð¼Ð±Ð° Ð²Ð·Ð¾Ñ€Ð²Ð°Ð»Ð°ÑÑŒ!",continue_question:"ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ?",skip:"ÐŸÑ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ",tutorial_level_3:"Ð£Ð´Ð°Ð»Ð¸Ñ‚Ðµ Ð²ÑÐµ Ð¿Ð»Ð¸Ñ‚ÐºÐ¸ ÑÐ¾ Ð·Ð½Ð°Ñ‡ÐºÐ°Ð¼ Ð´Ð¾ Ð¸ÑÑ‚ÐµÑ‡ÐµÐ½Ð¸Ñ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸",tutorial_hint:`ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ,
Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð·Ð¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ñƒ,
ÐºÐ¾Ñ‚Ð¾Ñ€ÑƒÑŽ Ð¼Ð¾Ð¶Ð½Ð¾
ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸Ñ‚ÑŒ`,rocket:"Ð Ð°ÐºÐµÑ‚Ð°",tutorial_rocket_tile:"ÐšÐ¾Ð³Ð´Ð° Ñ€Ð°ÐºÐµÑ‚Ð° Ð±ÑƒÐ´ÐµÑ‚ ÑƒÐ½Ð¸Ñ‡Ñ‚Ð¾Ð¶ÐµÐ½Ð°, Ð±ÑƒÐ´ÑƒÑ‚ ÑƒÐ½Ð¸Ñ‡Ñ‚Ð¾Ð¶ÐµÐ½Ñ‹ ÐµÑ‰Ðµ Ð´Ð²Ðµ",ok:"Ð”Ð°",boom:"Ð‘ÑƒÐ¼",tutorial_bomb_tile:"Ð£Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑÑ‚Ñƒ Ð¿Ð»Ð¸Ñ‚ÐºÑƒ ÑÐ¾ Ð·Ð½Ð°Ñ‡ÐºÐ¾Ð¼ Ð´Ð¾ Ñ‚Ð¾Ð³Ð¾, ÐºÐ°Ðº Ð±Ð¾Ð¼Ð±Ð° Ð²Ð·Ð¾Ñ€Ð²ÐµÑ‚ÑÑ",tutorial_level_7:"ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ñƒ Ð¿Ð»Ð¸Ñ‚Ð¾Ðº Ñ Ð±Ð¾Ð¼Ð±Ð°Ð¼Ð¸",tutorial_level_8:"ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿ÐµÑ€ÐµÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ð»Ð¸Ñ‚ÐºÐ¸",tutorial_level_11:"ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ 2 Ð¿Ð°Ñ€Ñ‹",combo:"ÐšÐ¾Ð¼Ð±Ð¾",good:"Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾",excellent:"ÐŸÑ€ÐµÐ²Ð¾ÑÑ…Ð¾Ð´Ð½Ð¾",great:"ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾",unbelievable:"ÐÐµÐ²ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾",loading:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°",no_rewards_1:"Ð˜Ð·Ð²Ð¸Ð½Ð¸Ñ‚Ðµ, Ð½Ð°Ð³Ñ€Ð°Ð´ Ð½ÐµÑ‚!",no_rewards_2:"Ð’Ñ‹ Ð½Ðµ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ»Ð¸ Ñ€ÐµÐºÐ»Ð°Ð¼Ñƒ Ð´Ð¾ ÐºÐ¾Ð½Ñ†Ð°!",no_ads:"ÐÐµÑ‚ ÐžÐ±ÑŠÑÐ²Ð»ÐµÐ½Ð¸Ð¹ Ð”Ð»Ñ ÐžÑ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ!",loading_ads:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° ÐžÐ±ÑŠÑÐ²Ð»ÐµÐ½Ð¸Ð¹..."},Hd={boom:"texts/russian/boom",get_continue:"texts/russian/get-and-continue",rocket:"texts/russian/rocket",victory:"texts/russian/victory",text_failed:"texts/russian/text-failed",text_continue:"texts/russian/text-continue",text_replay:"texts/russian/text-replay",text_pause:"texts/russian/text-pause",tutorial_text_failed:"text-failed-ru",tutorial_text_good:"text-good-ru",effect_good:"texts/russian/good-ru",effect_excellent:"texts/russian/excellent-ru",effect_great:"texts/russian/great-ru",effect_unbelievable:"texts/russian/unbelievable-ru",text_daily_rewards:"texts/text-daily-rewards"},Yd={Text:Ud,Texture:Hd},Kd={title:"ã€Œã‚¿ã‚¤ãƒ«ã‚³ãƒã‚¯ãƒˆã€",lv:"Lv",level:"ãƒ¬ãƒ™ãƒ«",invite:"æ‹›å¾…",pause:"ä¸€æ™‚åœæ­¢",continue:"ç¶šã‘ã‚‹",restart:"ã‚„ã‚ŠãªãŠã™",invite_friends:"ãƒ•ãƒ¬ãƒ³ãƒ‰ã‚’æ‹›å¾…",failed:"å¤±æ•—",reason_time_out:"æ™‚é–“åˆ‡ã‚Œã§ã™ï¼",resurrection:"å¾©æ´»",replay:"ãƒªãƒ—ãƒ¬ã‚¤",victory:"å‹åˆ©",get:"å…¥æ‰‹",get_continue:"å…¥æ‰‹ã—ã¦ç¶šã‘ã‚‹",hint_description:`ãƒœãƒ¼ãƒ‰ä¸Šã®ãƒžãƒƒãƒãƒ³ã‚°
å¯èƒ½ãªãƒšã‚¢ã‚’1ã¤è¡¨ç¤º`,rocket_description:`ãƒœãƒ¼ãƒ‰ä¸Šã®2ã¤
ã®ãƒšã‚¢ã‚’ç ´å£Š`,shuffle_description:`ãƒœãƒ¼ãƒ‰ä¸Šã®ã™ã¹ã¦ã®
ã‚¿ã‚¤ãƒ«ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«`,defuse_description:`ãƒœãƒ¼ãƒ‰ä¸Šã®çˆ†å¼¾
ã‚¿ã‚¤ãƒ«ã‚’æ¶ˆã™`,get_now:"ä»Šã™ãå…¥æ‰‹",free:"ç„¡æ–™",reason_bomb:"çˆ†å¼¾ãŒçˆ†ç™ºã—ã¾ã—ãŸï¼",continue_question:"ç¶šã‘ã¾ã™ã‹ï¼Ÿ",skip:"ã‚¹ã‚­ãƒƒãƒ—",tutorial_level_3:`çµ‚äº†æ™‚é–“ã¾ã§ã«
ã‚¢ã‚¤ã‚³ãƒ³ã‚¿ã‚¤ãƒ«
ã‚’ã™ã¹ã¦å‰Šé™¤`,tutorial_hint:`ã‚¿ãƒƒãƒ—ã—ã¦æŽ¥ç¶š
å¯èƒ½ãªãƒšã‚¢ã‚’è¡¨ç¤º`,rocket:"ãƒ­ã‚±ãƒƒãƒˆ",tutorial_rocket_tile:`ãƒ­ã‚±ãƒƒãƒˆã‚’æ¶ˆã—ãŸå¾Œ
ã•ã‚‰ã«2ã¤ãŒæ¶ˆãˆã¾ã™`,ok:"OK",boom:"ãƒ–ãƒ¼ãƒ ",tutorial_bomb_tile:`çˆ†å¼¾ãŒçˆ†ç™ºã™ã‚‹å‰ã«ã€
ã“ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚¿ã‚¤ãƒ«
ã‚’æ¶ˆã—ã¾ã™`,tutorial_level_7:`ã‚¿ãƒƒãƒ—ã—ã¦çˆ†å¼¾ã‚¿ã‚¤ãƒ«
ã®ãƒšã‚¢ã‚’1ã¤æ¶ˆã™`,tutorial_level_8:`ã‚¿ãƒƒãƒ—ã—ã¦ã‚¿ã‚¤ãƒ«
ã‚’ä¸¦ã¹æ›¿ãˆã‚‹`,tutorial_level_11:"ã‚¿ãƒƒãƒ—ã—ã¦2ã¤ã®ãƒšã‚¢ã‚’æ¶ˆã™",combo:"ã‚³ãƒ³ãƒœ",good:"ã‚°ãƒƒãƒ‰",excellent:"ç´ æ™´ã‚‰ã—ã„",great:"æœ€é«˜",unbelievable:"ä¿¡ã˜ã‚‰ã‚Œãªã„",loading:"èª­ã¿è¾¼ã¿ä¸­",no_rewards_1:`ç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“ã€
å ±é…¬ã¯ã‚ã‚Šã¾ã›ã‚“!`,no_rewards_2:`åºƒå‘Šã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«
ã—ã¾ã—ãŸï¼`,no_ads:`è¡¨ç¤ºã§ãã‚‹åºƒå‘Š
ã¯ã‚ã‚Šã¾ã›ã‚“`,loading_ads:`åºƒå‘Šã‚’èª­ã¿è¾¼ã‚“ã§
ã„ã¾ã™...`},Wd={boom:"texts/japanese/boom",get_continue:"texts/japanese/get-and-continue",rocket:"texts/japanese/rocket",victory:"texts/japanese/victory",text_failed:"texts/japanese/text-failed",text_continue:"texts/japanese/text-continue",text_replay:"texts/japanese/text-replay",text_pause:"texts/japanese/text-pause",tutorial_text_failed:"text-failed-ja",tutorial_text_good:"text-good-ja",effect_good:"texts/japanese/good-ja",effect_excellent:"texts/japanese/excellent-ja",effect_great:"texts/japanese/great-ja",effect_unbelievable:"texts/japanese/unbelievable-ja",text_daily_rewards:"texts/japanese/text-daily-rewards"},zd={Text:Kd,Texture:Wd},jd={title:"Tile Connect",lv:"Lv",level:"NÃ­vel",invite:"Convidar",pause:"Pausar",continue:"Continuar",restart:"Reiniciar",invite_friends:"Convidar amigos",failed:"Falhou",reason_time_out:"Acabou o tempo!",resurrection:"RessurreiÃ§Ã£o",replay:"RepetiÃ§Ã£o",victory:"VitÃ³ria",get:"Consegue",get_continue:"Apanha e continua",hint_description:"Mostra um par compatÃ­vel no tabuleiro",rocket_description:"DestrÃ³i dois pares no tabuleiro",shuffle_description:"Baralha todas as peÃ§as do tabuleiro",defuse_description:"Retira uma peÃ§a bomba no tabuleiro",get_now:"Consegue",free:"GrÃ¡tis",reason_bomb:"A bomba explodiu!",continue_question:"Continuar?",skip:"Pular",tutorial_level_3:"Remove todas as peÃ§as antes do tempo acabar",tutorial_hint:"Toca para revelares um par conectÃ¡vel",rocket:"Foguete",tutorial_rocket_tile:"ApÃ³s o foguete explodir, serÃ£o eliminadas mais duas",ok:"OK",boom:"Pumba",tutorial_bomb_tile:"Remove esta peÃ§a antes da bomba explodir",tutorial_level_7:"Toca para eliminares um par de peÃ§as bomba",tutorial_level_8:"Toca para reorganizares as peÃ§as",tutorial_level_11:"Toca para eliminares 2 pares",combo:"Combo",good:"Boa",excellent:"Excelente",great:"Ã“ptimo",unbelievable:"InacreditÃ¡vel",loading:"A carregar",no_rewards_1:"Desculpa, nÃ£o hÃ¡ recompensas!",no_rewards_2:"Cancelaste o anÃºncio!",no_ads:"NÃ£o hÃ¡ anÃºncios para mostrar!",loading_ads:"A carregar anÃºncios..."},Vd={boom:"texts/portuguese/boom",get_continue:"texts/portuguese/get-and-continue",rocket:"texts/portuguese/rocket",victory:"texts/portuguese/victory",text_failed:"texts/portuguese/text-failed",text_continue:"texts/portuguese/text-continue",text_replay:"texts/portuguese/text-replay",text_pause:"texts/portuguese/text-pause",tutorial_text_failed:"text-failed-pt",tutorial_text_good:"text-good-pt",effect_good:"texts/portuguese/good-pt",effect_excellent:"texts/portuguese/excellent-pt",effect_great:"texts/portuguese/great-pt",effect_unbelievable:"texts/portuguese/unbelievable-pt",text_daily_rewards:"texts/text-daily-rewards"},$d={Text:jd,Texture:Vd},Xd={title:"Tile Connect",lv:"Lv",level:"Nivel",invite:"Invitar",pause:"Pausar",continue:"Continuar",restart:"Reiniciar",invite_friends:"Invitar amigos",failed:"Fracaso",reason_time_out:"Â¡Se acabÃ³ el tiempo!",resurrection:"Resurreccion",replay:"RepeticiÃ³n",victory:"Victoria",get:"Consigue",get_continue:"Coge y continua",hint_description:"Muestra un par emparejable en el tablero",rocket_description:"Destruye dos pares en el tablero",shuffle_description:"Baraja todas las fichas del tablero",defuse_description:"Quitar una ficha de bomba en el tablero",get_now:"Consigue",free:"Gratis",reason_bomb:"Â¡La bomba explotÃ³!",continue_question:"Â¿Continuar?",skip:"Saltar",tutorial_level_3:"Elimina todos las fichas antes de que acabe el tiempo",tutorial_hint:`Toca para mostrar
 un par conectable`,rocket:"Cohete",tutorial_rocket_tile:"DespuÃ©s de explotar el cohete, se eliminarÃ¡n dos mÃ¡s",ok:"OK",boom:"Pum",tutorial_bomb_tile:"Retira esta ficha antes de que explote la bomba",tutorial_level_7:"Toca para eliminar un par de fichas bomba",tutorial_level_8:"Toca para reorganizar las fichas",tutorial_level_11:"Toca para eliminar 2 pares",combo:"Combo",good:"Bien",excellent:"Â¡Excelente!",great:"Genial",unbelievable:"IncreÃ­ble",loading:"Cargando",no_rewards_1:`Lo sentimos, no hay
 recompensas.`,no_rewards_2:"Â¡Has cancelado el anuncio!",no_ads:"Sin anuncios que mostrar",loading_ads:"Cargando anuncios..."},qd={boom:"texts/spanish/boom",get_continue:"texts/spanish/get-and-continue",rocket:"texts/spanish/rocket",victory:"texts/spanish/victory",text_failed:"texts/spanish/text-failed",text_continue:"texts/spanish/text-continue",text_replay:"texts/spanish/text-replay",text_pause:"texts/spanish/text-pause",tutorial_text_failed:"text-failed-es",tutorial_text_good:"text-good-es",effect_good:"texts/spanish/good-es",effect_excellent:"texts/spanish/excellent-es",effect_great:"texts/spanish/great-es",effect_unbelievable:"texts/spanish/unbelievable-es",text_daily_rewards:"texts/text-daily-rewards"},Zd={Text:Xd,Texture:qd},Jd={title:"Tile Connect",lv:"Lv",level:"Seviye",invite:"Davet et",pause:"Duraklat",continue:"Devam",restart:"Yeniden baÅŸla",invite_friends:"ArkadaÅŸlarÄ±nÄ± Davet Et",failed:"BaÅŸarÄ±sÄ±z",reason_time_out:"SÃ¼re doldu!",resurrection:"Yeni can",replay:"Yeniden oynat",victory:"Zafer",get:"Al",get_continue:"Al ve Devam Et",hint_description:"Tahtada eÅŸleÅŸebilir bir Ã§ift gÃ¶ster",rocket_description:"Tahtadaki iki Ã§ifti yok et",shuffle_description:"Tahtadaki tÃ¼m karolarÄ± karÄ±ÅŸtÄ±r",defuse_description:"Tahtadaki bomba karosunu kaldÄ±r",get_now:"Åžimdi al",free:"Ãœcretsiz",reason_bomb:"Bomba patladÄ±!",continue_question:"Devam mÄ±?",skip:"Atla",tutorial_level_3:"SÃ¼re dolmadan Ã¶nce tÃ¼m simge karolarÄ±nÄ± kaldÄ±r",tutorial_hint:"EÅŸleÅŸtirilebilir bir karo Ã§iftini gÃ¶rmek iÃ§in dokun",rocket:"Roket",tutorial_rocket_tile:"Roketten sonra iki tane daha silinir",ok:"TAMAM",boom:"Bomba",tutorial_bomb_tile:"Bomba patlamadan Ã¶nce bu simge karosunu kaldÄ±r",tutorial_level_7:"Bir Ã§ift bomba karosunu silmek iÃ§in dokun",tutorial_level_8:"KarolarÄ± yeniden dÃ¼zenlemek iÃ§in dokun",tutorial_level_11:"2 Ã§ifti elemek iÃ§in dokun",combo:"Kombo",good:"Ä°yi",excellent:"MÃ¼kemmel",great:"Harika",unbelievable:"Ä°nanÄ±lmaz",loading:"YÃ¼kleniyor",no_rewards_1:"ÃœzgÃ¼nÃ¼m, Ã–dÃ¼l Yok!",no_rewards_2:"ReklamÄ± iptal ettin!",no_ads:"GÃ¶sterilecek reklam yok!",loading_ads:"Reklam yÃ¼kleniyor..."},Qd={boom:"texts/turkish/boom",get_continue:"texts/turkish/get-and-continue",rocket:"texts/turkish/rocket",victory:"texts/turkish/victory",text_failed:"texts/turkish/text-failed",text_continue:"texts/turkish/text-continue",text_replay:"texts/turkish/text-replay",text_pause:"texts/turkish/text-pause",tutorial_text_failed:"text-failed-tr",tutorial_text_good:"text-good-tr",effect_good:"texts/turkish/good-tr",effect_excellent:"texts/turkish/excellent-tr",effect_great:"texts/turkish/great-tr",effect_unbelievable:"texts/turkish/unbelievable-tr",text_daily_rewards:"texts/text-daily-rewards"},em={Text:Jd,Texture:Qd},tm={title:"Connexion de tuiles",lv:"Lv",level:"Niveau",invite:"Inviter",pause:"Pause",continue:"Continuer",restart:"RedÃ©marrer",invite_friends:"Inviter des amis",failed:"Ã‰chec",reason_time_out:"Le temps est Ã©coulÃ© !",resurrection:"RÃ©surrection",replay:"Rejouer",victory:"Victoire",get:"Obtenir",get_continue:"Obtenir, puis Continuer",hint_description:"Afficher une paire compatible sur le plateau",rocket_description:"DÃ©truire deux paires sur le plateau",shuffle_description:"MÃ©langer toutes les tuiles du plateau",defuse_description:"Retirer une tuile bombe du plateau",get_now:"Obtenir",free:"Gratuit",reason_bomb:"La bombe a explosÃ© !",continue_question:"Continuer ?",skip:"Passer",tutorial_level_3:"Retirez toutes les tuiles dâ€™icÃ´nes avant la fin du temps imparti",tutorial_hint:"Appuyez pour rÃ©vÃ©ler une paire connectable",rocket:"FusÃ©e",tutorial_rocket_tile:"AprÃ¨s lâ€™Ã©limination de la fusÃ©e, deux autres seront Ã©liminÃ©es",ok:"OK",boom:"Boum",tutorial_bomb_tile:"Retirez cette tuile dâ€™icÃ´ne avant que la bombe nâ€™explose",tutorial_level_7:"Appuyez sur pour Ã©liminer une paire de tuiles bombe",tutorial_level_8:"Appuyez pour rÃ©organiser les tuiles",tutorial_level_11:"Appuyez pour Ã©liminer 2 paires",combo:"Combo",good:"Bien",excellent:"Excellent",great:"Super",unbelievable:"Incroyable",loading:"Chargement",no_rewards_1:"DÃ©solÃ©, aucune rÃ©compense !",no_rewards_2:`Vous avez annulÃ© la
 publicitÃ© !`,no_ads:"Aucune publicitÃ© Ã  afficher !",loading_ads:"Chargement des publicitÃ©s..."},sm={boom:"texts/french/boom",get_continue:"texts/french/get-and-continue",rocket:"texts/french/rocket",victory:"texts/french/victory",text_failed:"texts/french/text-failed",text_continue:"texts/french/text-continue",text_replay:"texts/french/text-replay",text_pause:"texts/french/text-pause",tutorial_text_failed:"text-failed-fr",tutorial_text_good:"text-good-fr",effect_good:"texts/french/good-fr",effect_excellent:"texts/french/excellent-fr",effect_great:"texts/french/great-fr",effect_unbelievable:"texts/french/unbelievable-fr",text_daily_rewards:"texts/text-daily-rewards"},im={Text:tm,Texture:sm},om={title:"Tile Connect",lv:"Lv",level:"Level",invite:"Einladen",pause:"Pause",continue:"Fortsetzen",restart:"Neu starten",invite_friends:"Freunde einladen",failed:"Gescheitert",reason_time_out:"Die Zeit ist um!",resurrection:"Wiederbelebung",replay:"Wiederholung",victory:"Sieg",get:"Holen",get_continue:"Holen und Fortsetzen",hint_description:"Ein passendes Paar auf dem Brett zeigen",rocket_description:"Zwei Paare auf dem Brett zerstÃ¶ren",shuffle_description:"Alle Kacheln auf dem Brett neu verteilen",defuse_description:"Eine Bombenkachel auf dem Spielbrett entfernen",get_now:"Jetzt holen",free:"Kostenlos",reason_bomb:"Die Bombe ist explodiert!",continue_question:"Fortsetzen?",skip:"Ãœberspringen",tutorial_level_3:"Entferne alle Symbolkacheln, bevor die Zeit ablÃ¤uft",tutorial_hint:"Tippe fÃ¼r ein kombinierbares Paar",rocket:"Rakete",tutorial_rocket_tile:"Nach der Rakete werden zwei weitere eliminiert",ok:"OK",boom:"Boom",tutorial_bomb_tile:"Entferne diese Symbolkachel, bevor die Bombe explodiert",tutorial_level_7:"Tippen, um ein Bombenpaar zu entfernen",tutorial_level_8:"Tippen, um die Felder neu anzuordnen",tutorial_level_11:"Tippen, um 2 Paare zu eliminieren",combo:"Kombo",good:"Gut",excellent:"Hervorragend",great:"GroÃŸartig",unbelievable:"Unglaublich",loading:"LÃ¤dt",no_rewards_1:`Tut uns leid, keine
 Belohnungen!`,no_rewards_2:`Du hast die Werbung
 abgebrochen!`,no_ads:"Keine Werbung verfÃ¼gbar!",loading_ads:"Lade Werbung ..."},rm={boom:"texts/german/boom",get_continue:"texts/german/get-and-continue",rocket:"texts/german/rocket",victory:"texts/german/victory",text_failed:"texts/german/text-failed",text_continue:"texts/german/text-continue",text_replay:"texts/german/text-replay",text_pause:"texts/german/text-pause",tutorial_text_failed:"text-failed-de",tutorial_text_good:"text-good-de",effect_good:"texts/german/good-de",effect_excellent:"texts/german/excellent-de",effect_great:"texts/german/great-de",effect_unbelievable:"texts/german/unbelievable-de",text_daily_rewards:"texts/text-daily-rewards"},am={Text:om,Texture:rm},nm={title:"Tile Connect",lv:"Lv",level:"Livello",invite:"Invita",pause:"Pausa",continue:"Continua",restart:"Riavvia",invite_friends:"Invita gli amici",failed:"Non riuscito",reason_time_out:"Il tempo Ã¨ scaduto!",resurrection:"Risurrezione",replay:"Gioca ancora",victory:"Vittoria",get:"Ottieni",get_continue:"Ottieni e continua",hint_description:"Mostra una coppia abbinabile sul tabellone",rocket_description:"Distruggi due coppie sul tabellone",shuffle_description:"Mescola tutte le tessere sul tabellone",defuse_description:"Rimuovi una tessera bomba sul tabellone",get_now:"Ottieni ora",free:"Gratuito",reason_bomb:"La bomba Ã¨ esplosa!",continue_question:"Continuare?",skip:"Salta",tutorial_level_3:"Rimuovi tutte le tessere icona prima della fine del tempo",tutorial_hint:"Tocca per rivelare una coppia collegabile",rocket:"Razzo",tutorial_rocket_tile:"Dopo che il razzo Ã¨ stato eliminato, altri due saranno eliminati",ok:"OK",boom:"Boom",tutorial_bomb_tile:"Rimuovi questa tessera icona prima che la bomba esploda",tutorial_level_7:"Tocca per cancellare una coppia di tessere bomba",tutorial_level_8:"Tocca per riorganizzare le tessere",tutorial_level_11:"Tocca per eliminare 2 coppie",combo:"Combo",good:"Bene",excellent:"Eccellente",great:"Grande",unbelievable:"Incredibile",loading:"Caricamento",no_rewards_1:`Spiacente, nessuna
 ricompensa!`,no_rewards_2:"Hai cancellato l'annuncio!",no_ads:`Nessun annuncio da
 visualizzare!`,loading_ads:"Caricamento annunci..."},lm={boom:"texts/italian/boom",get_continue:"texts/italian/get-and-continue",rocket:"texts/italian/rocket",victory:"texts/italian/victory",text_failed:"texts/italian/text-failed",text_continue:"texts/italian/text-continue",text_replay:"texts/italian/text-replay",text_pause:"texts/italian/text-pause",tutorial_text_failed:"text-failed-it",tutorial_text_good:"text-good-it",effect_good:"texts/italian/good-it",effect_excellent:"texts/italian/excellent-it",effect_great:"texts/italian/great-it",effect_unbelievable:"texts/italian/unbelievable-it",text_daily_rewards:"texts/text-daily-rewards"},cm={Text:nm,Texture:lm},um={title:"æ–¹å—é…å¯¹",lv:"Lv",level:"å…³å¡",invite:"é‚€è¯·",pause:"æš‚åœ",continue:"ç»§ç»­",restart:"é‡æ–°å¼€å§‹",invite_friends:"é‚€è¯·å¥½å‹",failed:"å¤±è´¥",reason_time_out:"æ—¶é—´åˆ°ï¼",resurrection:"å¤æ´»",replay:"é‡æ–°å¼€å§‹",victory:"èƒœåˆ©",get:"èŽ·å¾—",get_continue:"èŽ·å¾—å¹¶ç»§ç»­",hint_description:"æ˜¾ç¤ºä¸€å¯¹å¯é…å¯¹æ–¹å—",rocket_description:"æ¶ˆç­ä¸¤å¯¹æ–¹å—",shuffle_description:"æ‰“ä¹±æ‰€æœ‰æ–¹å—çš„é¡ºåº",defuse_description:"æ¶ˆé™¤ä¸€å—ç‚¸å¼¹æ–¹å—",get_now:"ç«‹å³èŽ·å¾—",free:"å…è´¹å…è´¹",reason_bomb:"ç‚¸å¼¹çˆ†ç‚¸äº†ï¼",continue_question:"ç»§ç»­ï¼Ÿ",skip:"è·³è¿‡",tutorial_level_3:`åœ¨æ—¶é—´ç»“æŸå‰
æ¶ˆé™¤æ‰€æœ‰å›¾æ ‡æ–¹å—`,tutorial_hint:"ç‚¹å‡»æ¥æ˜¾ç¤ºä¸€å¯¹å¯é…å¯¹æ–¹å—",rocket:"ç«ç®­",tutorial_rocket_tile:`ç«ç®­æ¶ˆé™¤åŽï¼Œ
è¿˜å°†æ¶ˆé™¤å¦å¤–ä¸¤å—æ–¹å—`,ok:"ç¡®å®š",boom:"ç °",tutorial_bomb_tile:"åœ¨ç‚¸å¼¹çˆ†ç‚¸å‰æ¶ˆé™¤æ‰€æœ‰å›¾æ ‡æ–¹å—",tutorial_level_7:"ç‚¹å‡»æ¥æ¶ˆé™¤ä¸€å¯¹ç‚¸å¼¹æ–¹å—",tutorial_level_8:"ç‚¹å‡»æ¥é‡æ–°å¸ƒå±€æ–¹å—",tutorial_level_11:"ç‚¹å‡»æ¥æ¶ˆé™¤ä¸¤å¯¹æ–¹å—",combo:"è¿žå‡»",good:"çœŸæ£’",excellent:"å¤ªæ£’äº†",great:"åŽ‰å®³",unbelievable:"ä¸å¯æ€è®®",loading:"åŠ è½½ä¸­",no_rewards_1:"æŠ±æ­‰ï¼Œæ²¡æœ‰å¥–åŠ±ï¼",no_rewards_2:"ä½ å–æ¶ˆäº†å¹¿å‘Šï¼",no_ads:"æ²¡æœ‰å¯ä»¥æ’­æ”¾çš„å¹¿å‘Šï¼",loading_ads:"åŠ è½½å¹¿å‘Šä¸­â€¦â€¦"},dm={boom:"texts/chinese/boom",get_continue:"texts/chinese/get-and-continue",rocket:"texts/chinese/rocket",victory:"texts/chinese/victory",text_failed:"texts/chinese/text-failed",text_continue:"texts/chinese/text-continue",text_replay:"texts/chinese/text-replay",text_pause:"texts/chinese/text-pause",tutorial_text_failed:"text-failed-zh",tutorial_text_good:"text-good-zh",effect_good:"texts/chinese/good-zh",effect_excellent:"texts/chinese/excellent-zh",effect_great:"texts/chinese/great-zh",effect_unbelievable:"texts/chinese/unbelievable-zh",text_daily_rewards:"texts/text-daily-rewards"},mm={Text:um,Texture:dm},hm={en:Nd,id:Bd,ru:Yd,ja:zd,pt:$d,es:Zd,tr:em,fr:im,de:am,it:cm,zh:mm};class fm extends Cd{configure(e){super.configure({data:hm,locale:"en",upperCaseText:!1,...e})}}class pm extends GameCore.Analytics.BaseAnalytics{isGamePlaying=!1;isGameStartLog=!1;constructor(e,t){super("GLanceAnalytics",{...t},"#E35360"),this.selfLog=!1}processEvent(e,t,s){if(e==Y.LOAD_COMPLETE){window.sendCustomAnalyticsEvent(Y.GLANCE_GAME_LOAD,{});return}}processGameEnd(e,t,s=-1e5){let i;const o={score:e,highScore:t};s!==-1e5?i={...o,level:s}:i=o,window.sendCustomAnalyticsEvent(Y.GLANCE_GAME_END,i)}processGameStart(e,t=-1e5){if(!this.isGameStartLog){this.isGameStartLog=!0,window.sendCustomAnalyticsEvent(Y.GLANCE_GAME_START,{});return}let s;const i={score:0,highScore:e};t!==-1e5?s={...i,level:t}:s=i,window.sendCustomAnalyticsEvent(Y.GLANCE_GAME_REPLAY,s)}processGameLevel(e){window.sendCustomAnalyticsEvent(Y.GLANCE_GAME_LEVEL,{level:e})}processPageView(e){}processLevelStart(e){if(!this.isGamePlaying){const t=window.game.player.getBestScore();this.processGameStart(t,e),this.isGamePlaying=!0}this.isGamePlaying&&this.processGameLevel(e)}processLevelFail(e,t){if(!this.isGamePlaying)return;const s=t||0,i=window.game.player.getBestScore(),o=Math.max(i,s);this.processGameEnd(s,o,e),this.isGamePlaying=!1}processLevelComplete(e,t){const s=t||0;window.sendCustomAnalyticsEvent(Y.GLANCE_GAME_LEVEL_COMPLETED,{level:e,score:s})}processGameMilestone(e,t={},s=0,i=0){const o=window.game.player.getBestScore();sendCustomAnalyticsEvent(Y.GLANCE_GAME_MILESTONE,{type:e,meta:t,level:s,score:i,highScore:Math.max(o,i)})}processGameLifeEnd(e,t=0,s=0){const i=window.game.player.getBestScore();sendCustomAnalyticsEvent(Y.GLANCE_GAME_LIFE_END,{remainingLife:e,level:t,score:s,highScore:Math.max(i,s)})}processIngameTransactions(e,t={},s=0,i=0){const o=window.game.player.getBestScore();sendCustomAnalyticsEvent(Y.GLANCE_INGAME_TRANSACTIONS,{transactionType:e,meta:t,level:s,score:i,highScore:Math.max(o,i)})}}const ge={PLAYING:"playing",DYING:"dying",FINISHED:"finished"},X={TILE_SELECT:"tile_select",COMBO_1:"combo_1",COLLECT_STARS:"collect_stars",INVALID_MATCH:"invalid_match",COMBO_2:"combo_2",COMBO_3:"combo_3",COMBO_4:"combo_4",COMBO_5:"combo_5",SHUFFLE_ITEM:"shuffle_item",HINT_ITEM:"hint_item",THREE_STARS:"three_stars",PROGRESS_STAR:"progress_star",BOMB_DEFUSE:"bomb_defuse",ROCKET_FLY:"rocket_fly",BOMB_EXPLODE_1:"bomb_explode_1",TICKING_BOMB_BEFORE_EXPLODE:"ticking_bomb_before_explode",EXTRA_TILE_SPAWN:"extra_tile_spawn",CLOSE_POPUP_CLICK:"close_popup_click",GENERAL_BUTTON_CLICK:"use_item_click",CLICKS:"clicks",GIFT_CHARGE:"gift_charge",GIFT_EXPLODE:"gift_explode",GIFT_REVEAL:"gift_reveal",DAILY_REWARD:"daily_reward",LEVEL_START:"level_start",LEVEL_COMPLETE:"level_complete",LEVEL_FAIL:"level_fail",RESCUE_TIMER:"rescue_timer"},oe=Hi(),A={TUTORIAL:{KEY:"tutorial-resources",TEXTURE:`./assets/textures/${oe}x/tutorial-resources.png`,JSON:`./assets/textures/${oe}x/tutorial-resources.json`,FRAME:{HAND:"hand",BLANK:"blank",BOMB:"bomb",GUIDE_TILE1:"guide-tile1",GUIDE_TILE2:"guide-tile2",GUIDE_TILE3:"guide-tile3",GUIDE_TILE4:"guide-tile4",GUIDE_TILE5:"guide-tile5",LEAF_LEFT:"leaf-left",LEAF_RIGHT:"leaf-right",ROCKET:"rocket",TEXT_FAILED:"text-failed",TEXT_FAILED_RU:"text-failed-ru",TEXT_FAILED_JA:"text-failed-ja",TEXT_FAILED_ID:"text-failed-id",TEXT_GOOD:"text-good",TEXT_GOOD_RU:"text-good-ru",TEXT_GOOD_JA:"text-good-ja",TEXT_GOOD_ID:"text-good-id",TILE_BG:"tile-bg",CROSS_WRONG:"cross-wrong",DOT_WRONG:"dot-wrong",LINE_WRONG:"line-wrong"}},DEFAULT:{KEY:"default-resources",TEXTURE:`./assets/textures/${oe}x/default-resources.png`,JSON:`./assets/textures/${oe}x/default-resources.json`,FRAME:{BLANK:"blank",PRELOADER:"preloader/loading",LOGO_GIFT:"logo/gift",LOGO_GIFT_ADS:"logo/gift-ad",LOGO_GIFT_WHITE:"logo/gift_white",POPUP:"popup/popup",PROGRESS_CIRCLE_BG:"progress/circle-background",PROGRESS_CIRCLE:"progress/progress-circle",ICON_ADS:"icons/ads",ICON_LOSE:"icons/lose",ICON_BOMB:"icons/bomb",ICON_TIMEOUT_CLOCK:"icons/timeout-clock",ICON_CLOCK:"icons/clock",ICON_MUSIC_ON:"icons/music-on",ICON_MUSIC_OFF:"icons/music-off",ICON_SOUND_ON:"icons/sound-on",ICON_SOUND_OFF:"icons/sound-off",ICON_VIBRATE_ON:"icons/vibrate-on",ICON_VIBRATE_OFF:"icons/vibrate-off",ICON_CONTINUE:"icons/continue",ICON_RESTART:"icons/restart",ICON_INVITE:"icons/invite",ICON_X:"icons/x",BUTTON_CLOSE:"buttons/close",BUTTON_GREEN:"buttons/green",BUTTON_GREEN_SMALL:"buttons/green-small",BUTTON_GREEN_SMALL_BG:"buttons/green-small-bg",BUTTON_ORANGE:"buttons/orange",BUTTON_GREEN_ROUNDED_RECT:"buttons/green-rounded-rect",BUTTON_YELLOW_ROUNDED_RECT:"buttons/yellow-rounded-rect",BUTTON_BLUE_ROUNDED_RECT:"buttons/blue-rounded-rect",BUTTON_RED_CIRCLE:"buttons/red-circle",BUTTON_BG:"buttons/button-bg",BOOM:"texts/boom",GET_AND_CONTINUE:"texts/get-and-continue",ROCKET:"texts/rocket",VICTORY:"texts/victory",X2:"texts/x2",FAILED_TEXT:"texts/text-failed",NO_THANK_TEXT:"texts/no-thank",CONTINUE_TEXT:"texts/text-continue",REPLAY_TEXT:"texts/text-replay",PAUSE_TEXT:"texts/text-pause",BOOM_RU:"texts/russian/boom",GET_AND_CONTINUE_RU:"texts/russian/get-and-continue",ROCKET_RU:"texts/russian/rocket",VICTORY_RU:"texts/russian/victory",FAILED_TEXT_RU:"texts/russian/text-failed",CONTINUE_RU:"texts/russian/text-continue",REPLAY_RU:"texts/russian/text-replay",PAUSE_TEXT_RU:"texts/russian/text-pause",BOOM_JA:"texts/japanese/boom",GET_AND_CONTINUE_JA:"texts/japanese/get-and-continue",ROCKET_JA:"texts/japanese/rocket",VICTORY_JA:"texts/japanese/victory",FAILED_TEXT_JA:"texts/japanese/text-failed",CONTINUE_JA:"texts/japanese/text-continue",REPLAY_JA:"texts/japanese/text-replay",PAUSE_TEXT_JA:"texts/japanese/text-pause",BOOM_ID:"texts/indonesian/boom",GET_AND_CONTINUE_ID:"texts/indonesian/get-and-continue",ROCKET_ID:"texts/indonesian/rocket",VICTORY_ID:"texts/indonesian/victory",FAILED_TEXT_ID:"texts/indonesian/text-failed",CONTINUE_ID:"texts/indonesian/text-continue",REPLAY_ID:"texts/indonesian/text-replay",PAUSE_TEXT_ID:"texts/indonesian/text-pause",BOOM_PT:"texts/portuguese/boom",GET_AND_CONTINUE_PT:"texts/portuguese/get-and-continue",ROCKET_PT:"texts/portuguese/rocket",VICTORY_PT:"texts/portuguese/victory",FAILED_TEXT_PT:"texts/portuguese/text-failed",CONTINUE_PT:"texts/portuguese/text-continue",REPLAY_PT:"texts/portuguese/text-replay",PAUSE_TEXT_PT:"texts/portuguese/text-pause",BOOM_ES:"texts/spanish/boom",GET_AND_CONTINUE_ES:"texts/spanish/get-and-continue",ROCKET_ES:"texts/spanish/rocket",VICTORY_ES:"texts/spanish/victory",FAILED_TEXT_ES:"texts/spanish/text-failed",CONTINUE_ES:"texts/spanish/text-continue",REPLAY_ES:"texts/spanish/text-replay",PAUSE_TEXT_ES:"texts/spanish/text-pause",BOOM_IT:"texts/italian/boom",GET_AND_CONTINUE_IT:"texts/italian/get-and-continue",ROCKET_IT:"texts/italian/rocket",VICTORY_IT:"texts/italian/victory",FAILED_TEXT_IT:"texts/italian/text-failed",CONTINUE_IT:"texts/italian/text-continue",REPLAY_IT:"texts/italian/text-replay",PAUSE_TEXT_IT:"texts/italian/text-pause",BOOM_DE:"texts/german/boom",GET_AND_CONTINUE_DE:"texts/german/get-and-continue",ROCKET_DE:"texts/german/rocket",VICTORY_DE:"texts/german/victory",FAILED_TEXT_DE:"texts/german/text-failed",CONTINUE_DE:"texts/german/text-continue",REPLAY_DE:"texts/german/text-replay",PAUSE_TEXT_DE:"texts/german/text-pause",BOOM_FR:"texts/french/boom",GET_AND_CONTINUE_FR:"texts/french/get-and-continue",ROCKET_FR:"texts/french/rocket",VICTORY_FR:"texts/french/victory",FAILED_TEXT_FR:"texts/french/text-failed",CONTINUE_FR:"texts/french/text-continue",REPLAY_FR:"texts/french/text-replay",PAUSE_TEXT_FR:"texts/french/text-pause",BOOM_TR:"texts/turkish/boom",GET_AND_CONTINUE_TR:"texts/turkish/get-and-continue",ROCKET_TR:"texts/turkish/rocket",VICTORY_TR:"texts/turkish/victory",FAILED_TEXT_TR:"texts/turkish/text-failed",CONTINUE_TR:"texts/turkish/text-continue",REPLAY_TR:"texts/turkish/text-replay",PAUSE_TEXT_TR:"texts/turkish/text-pause",BOOM_ZH:"texts/chinese/boom",GET_AND_CONTINUE_ZH:"texts/chinese/get-and-continue",ROCKET_ZH:"texts/chinese/rocket",VICTORY_ZH:"texts/chinese/victory",FAILED_TEXT_ZH:"texts/chinese/text-failed",CONTINUE_ZH:"texts/chinese/text-continue",REPLAY_ZH:"texts/chinese/text-replay",PAUSE_TEXT_ZH:"texts/chinese/text-pause",DAILY_REWARDS_TITLE:"texts/text-daily-rewards",ART_BG_LIGHT:"art/bg-light",ART_WHITE_GLOW:"art/white-glow",RESULT_RIBBON:"result-screen/ribbon",RESULT_STAR:"result-screen/star",RESULT_VICTORY_TEXT:"result-screen/victory-text"}},EFFECTS:{KEY:"effects-resources",PATH:`./assets/textures/${oe}x/`,JSON:`./assets/textures/${oe}x/effects-resources.json`,FRAME:{BLANK:"blank",CAPTURE_PATH_START:"capture-path/capture-path-start",CAPTURE_PATH_MIDDLE:"capture-path/capture-path-middle",CAPTURE_PATH_END:"capture-path/capture-path-end",POLISH_EFFECT:"polish-effect/polish-effect-",ROCKET_TAIL:"rocket-tail-effect/fire-explosive-",COMBO_EFFECT_PARTICLE:"combo-effect/combo-particle",WHITE_SMOKE:"big-rocket-tail-effect/white-smoke",YELLOW_SMOKE:"big-rocket-tail-effect/yellow-smoke",FX_COMET:"comet",FX_COMET_DARK:"comet-dark",FX_SPARK:"spark",FX_CIRCLE:"circle",FX_HINT_GLOW:"hint-glow",FX_STAR_WHITE:"star-white",FX_STAR_YELLOW:"star-yellow",FX_STAR_YELLOW_DARK:"star-yellow-dark",TEXT_GOOD:"texts/good",TEXT_GOOD_LIGHT:"texts/good-light",TEXT_GREAT:"texts/great",TEXT_GREAT_LIGHT:"texts/great-light",TEXT_EXCELLENT:"texts/excellent",TEXT_EXCELLENT_LIGHT:"texts/excellent-light",TEXT_UNBELIEVABLE:"texts/unbelievable",TEXT_UNBELIEVABLE_LIGHT:"texts/unbelievable-light",TEXT_GOOD_RU:"texts/russian/good-ru",TEXT_GREAT_RU:"texts/russian/great-ru",TEXT_EXCELLENT_RU:"texts/russian/excellent-ru",TEXT_UNBELIEVABLE_RU:"texts/russian/unbelievable-ru",TEXT_GOOD_JA:"texts/japanese/good-ja",TEXT_GREAT_JA:"texts/japanese/great-ja",TEXT_EXCELLENT_JA:"texts/japanese/excellent-ja",TEXT_UNBELIEVABLE_JA:"texts/japanese/unbelievable-ja",TEXT_GOOD_PT:"texts/portuguese/good-pt",TEXT_GREAT_PT:"texts/portuguese/great-pt",TEXT_EXCELLENT_PT:"texts/portuguese/excellent-pt",TEXT_UNBELIEVABLE_PT:"texts/portuguese/unbelievable-pt",TEXT_GOOD_ID:"texts/indonesian/good-id",TEXT_GREAT_ID:"texts/indonesian/great-id",TEXT_EXCELLENT_ID:"texts/indonesian/excellent-id",TEXT_UNBELIEVABLE_ID:"texts/indonesian/unbelievable-id",TEXT_GOOD_ES:"texts/spanish/good-es",TEXT_GREAT_ES:"texts/spanish/great-es",TEXT_EXCELLENT_ES:"texts/spanish/excellent-es",TEXT_UNBELIEVABLE_ES:"texts/spanish/unbelievable-es",TEXT_GOOD_FR:"texts/french/good-fr",TEXT_GREAT_FR:"texts/french/great-fr",TEXT_EXCELLENT_FR:"texts/french/excellent-fr",TEXT_UNBELIEVABLE_FR:"texts/french/unbelievable-fr",TEXT_GOOD_DE:"texts/german/good-de",TEXT_GREAT_DE:"texts/german/great-de",TEXT_EXCELLENT_DE:"texts/german/excellent-de",TEXT_UNBELIEVABLE_DE:"texts/german/unbelievable-de",TEXT_GOOD_IT:"texts/italian/good-it",TEXT_GREAT_IT:"texts/italian/great-it",TEXT_EXCELLENT_IT:"texts/italian/excellent-it",TEXT_UNBELIEVABLE_IT:"texts/italian/unbelievable-it",TEXT_GOOD_TR:"texts/turkish/good-tr",TEXT_GREAT_TR:"texts/turkish/great-tr",TEXT_EXCELLENT_TR:"texts/turkish/excellent-tr",TEXT_UNBELIEVABLE_TR:"texts/turkish/unbelievable-tr",TEXT_GOOD_ZH:"texts/chinese/good-zh",TEXT_GREAT_ZH:"texts/chinese/great-zh",TEXT_EXCELLENT_ZH:"texts/chinese/excellent-zh",TEXT_UNBELIEVABLE_ZH:"texts/chinese/unbelievable-zh",FX_CONFETTI_SMALL_1:"confetti/small-1",FX_CONFETTI_SMALL_2:"confetti/small-2",FX_CONFETTI_SMALL_3:"confetti/small-3",FX_CONFETTI_SMALL_4:"confetti/small-4",FX_CONFETTI_HEXAGON:"confetti/hexagon-",EFFECT_BOMB_DEFUSE:"bomb-defuse/bomb-defuse-",EFFECT_BOMB_EXPLOSION:"bomb-explosion/bomb-explosion-",EFFECT_ROCKET_EXPLOSION:"rocket-explosion/rocket-explosion-",FX_HIGHLIGHT:"fx-items/highlight",ANIMATION_STAR_X:"star-x/star-",ANIMATION_STAR_Y:"star-y/star-",PREFIX_ANIMATION_RIBBON_CONFETTI_A:"ribbon/falling-confetti/confetti-a/confetti-a-",PREFIX_ANIMATION_RIBBON_CONFETTI_B:"ribbon/falling-confetti/confetti-b/confetti-b-",PREFIX_ANIMATION_RIBBON_CONFETTI_C:"ribbon/falling-confetti/confetti-c/confetti-c-",PREFIX_ANIMATION_RIBBON_CONFETTI_D:"ribbon/falling-confetti/confetti-d/confetti-d-"}},GAMEPLAY:{KEY:"gameplay-resources",PATH:`./assets/textures/${oe}x/`,JSON:`./assets/textures/${oe}x/gameplay-resources.json`,FRAME:{BLANK:"blank",LAYOUT_HEADER:"layout/header",LAYOUT_FOOTER:"layout/footer",LAYOUT_HEADER_LEFT:"layout/landscape-header-left",LAYOUT_HEADER_RIGHT:"layout/landscape-header-right",LAYOUT_HEADER_MIDDLE:"layout/landscape-header-middle",BUTTON_WOOD_SMALL:"buttons/wood-small",BUTTON_YELLOW_CIRCLE:"buttons/yellow-circle",TIMER_BG:"timer/bg",DEV_TOOL_ARROW:"dev-tool/arrow",DEV_TOOL_RESET:"dev-tool/reset",DEV_TOOL_BOMB:"dev-tool/bomb",DEV_TOOL_CLOCK:"dev-tool/clock",DEV_TOOL_HAND:"dev-tool/hand",DEV_TOOL_NEW_GAME:"dev-tool/new-game",PROGRESS_BAR_LEFT:"progress/bar-left",PROGRESS_BAR_MID:"progress/bar-mid",PROGRESS_BAR_RIGHT:"progress/bar-right",PROGRESS_STAR:"progress/bar-star",PROGRESS_BG_COMBO:"progress/bg-combo",PROGRESS_BAR_COMBO:"progress/bar-combo",ITEM_SHUFFLE:"items/shuffle",HINT_ITEM:"items/hint",ROCKET_ITEM:"items/rocket",DEFUSE_ITEM:"items/defuse",ITEM_SHARE:"items/share",ITEM_BG_ITEM:"items/bg-item",ITEM_BG_AMOUNT:"items/bg-amount",ITEM_SHUFFLE_LOCK:"items/shuffle-lock",ITEM_HINT_LOCK:"items/hint-lock",ITEM_ROCKET_LOCK:"items/rocket-lock",ITEM_DEFUSE_LOCK:"items/defuse-lock",ITEM_BG_LOCK:"items/bg-item-lock",NOTE_LOCK:"items/note-lock",NOTE_INVITE:"items/note-invite",NOTE_FREE:"items/note-free",NOTE_FREE_LONG:"items/note-free-long",BOTTOM_TILE_FRAGMENT:"effect/bottom-tile-fragment",LEF_TILE_FRAGMENT:"effect/left-tile-fragment",RIGHT_TILE_FRAGMENT:"effect/right-tile-fragment",TOP_TILE_FRAGMENT:"effect/top-tile-fragment",EFFECT_SPARK:"effect/spark",EFFECT_LONG_ROCKET:"effect/long-rocket",EFFECT_SHORT_ROCKET:"effect/short-rocket",EFFECT_CIRCLE:"effect/circle",EFFECT_TRAIL_STAR:"effect/trail-star",EFFECT_TILE_ROCKET:"effect/tile-rocket",EFFECT_TILE_HIGHLIGHT:"effect/tile-highlight/highlight-",EFFECT_TILE_OUTLINE:"effect/tile-select-bg",HINT_LINE_DOT:"effect/hint-line-dot",ICON_CLOCK:"icons/clock",ICON_BOMB:"icons/bomb",ICON_STAR_BIG:"icons/star-big",ICON_PAUSE:"icons/pause",TILE_BOMB:"blank",TILE_ROCKET:"tiles/rocket",TILE_BG:"tiles/tile-bg"}},TILES:{BIRD:{KEY:"bird-resources",TEXTURE:`./assets/textures/${oe}x/bird-resources.png`,JSON:`./assets/textures/${oe}x/bird-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:28}},CAKE:{KEY:"cake-resources",TEXTURE:`./assets/textures/${oe}x/cake-resources.png`,JSON:`./assets/textures/${oe}x/cake-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:28}},FRUIT:{KEY:"fruit-resources",TEXTURE:`./assets/textures/${oe}x/fruit-resources.png`,JSON:`./assets/textures/${oe}x/fruit-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:28}},CANDY:{KEY:"candy-resources",TEXTURE:`./assets/textures/${oe}x/candy-resources.png`,JSON:`./assets/textures/${oe}x/candy-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:28}},FLOWER:{KEY:"flower-resources",TEXTURE:`./assets/textures/${oe}x/flower-resources.png`,JSON:`./assets/textures/${oe}x/flower-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:44}},UMBRELLA:{KEY:"umbrella-resources",TEXTURE:`./assets/textures/${oe}x/umbrella-resources.png`,JSON:`./assets/textures/${oe}x/umbrella-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:30}},FOOD:{KEY:"food-resources",TEXTURE:`./assets/textures/${oe}x/food-resources.png`,JSON:`./assets/textures/${oe}x/food-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:30}}}},{EFFECTS:_e,GAMEPLAY:Fo}=A,{KEY:bt,FRAME:gt}=_e,$={CONFETTI_STAR_X:{KEY:"confetti-star-x",TEXTURE:bt,PREFIX:gt.ANIMATION_STAR_X,FRAME_RATE:4,END:4,ZERO_PAD:0},CONFETTI_STAR_Y:{KEY:"confetti-star-y",TEXTURE:bt,PREFIX:gt.ANIMATION_STAR_Y,FRAME_RATE:4,END:4,ZERO_PAD:0},RIBBON_A:{KEY:"animation-ribbon-a",TEXTURE:bt,PREFIX:gt.PREFIX_ANIMATION_RIBBON_CONFETTI_A,FRAME_RATE:16,END:3,ZERO_PAD:0},RIBBON_B:{KEY:"animation-ribbon-b",TEXTURE:bt,PREFIX:gt.PREFIX_ANIMATION_RIBBON_CONFETTI_B,FRAME_RATE:16,END:4,ZERO_PAD:0},RIBBON_C:{KEY:"animation-ribbon-c",TEXTURE:bt,PREFIX:gt.PREFIX_ANIMATION_RIBBON_CONFETTI_C,FRAME_RATE:16,END:4,ZERO_PAD:0},RIBBON_D:{KEY:"animation-ribbon-d",TEXTURE:bt,PREFIX:gt.PREFIX_ANIMATION_RIBBON_CONFETTI_D,FRAME_RATE:16,END:4,ZERO_PAD:0},POLISH_EFFECT:{KEY:"polish-effect-animation",TEXTURE:_e.KEY,PREFIX:_e.FRAME.POLISH_EFFECT,FRAME_RATE:30,END:5,ZERO_PAD:1},BOMB_EXPLOSION:{KEY:"bomb-explosion-animation",TEXTURE:_e.KEY,PREFIX:_e.FRAME.EFFECT_BOMB_EXPLOSION,FRAME_RATE:16,END:8,ZERO_PAD:1},BOMB_DEFUSE:{KEY:"bomb-defuse-animation",TEXTURE:_e.KEY,PREFIX:_e.FRAME.EFFECT_BOMB_DEFUSE,FRAME_RATE:16,END:8,ZERO_PAD:1},ROCKET_EXPLOSION:{KEY:"rocket-explosion-animation",TEXTURE:_e.KEY,PREFIX:_e.FRAME.EFFECT_ROCKET_EXPLOSION,FRAME_RATE:16,END:8,ZERO_PAD:1},ROCKET_TAIL:{KEY:"rocket-tail-animation",TEXTURE:_e.KEY,PREFIX:_e.FRAME.ROCKET_TAIL,FRAME_RATE:60,END:70,ZERO_PAD:1},TILE_HIGHLIGHT:{KEY:"tile-highlight-animation",TEXTURE:Fo.KEY,PREFIX:Fo.FRAME.EFFECT_TILE_HIGHLIGHT,FRAME_RATE:31,END:31,ZERO_PAD:1}},bm={STATUS:{READY:"ready",RUNNING:"running",STOPPED:"stopped"}},{STATUS:vt}=bm;class Ce{state;scene;constructor(e){this.scene=e}init(){this.setState(vt.READY)}start(){this.isRunning()||this.setState(vt.RUNNING)}stop(){this.isRunning()&&this.setState(vt.STOPPED)}setState(e){this.state=e}isReady(){return this.state===vt.READY}isRunning(){return this.state===vt.RUNNING}isStopped(){return this.state===vt.STOPPED}}const{KEY:gm,TEXTURE:vm,FRAME_RATE:wm,END:Tm,PREFIX:ym,ZERO_PAD:Em}=$.BOMB_DEFUSE;class Pm extends Phaser.Animations.Animation{constructor(e){const t={repeat:0,frameRate:wm,frames:e.generateFrameNames(vm,{prefix:ym,end:Tm,zeroPad:Em}),showOnStart:!0,hideOnComplete:!0,skipMissedFrames:!0};super(e,gm,t)}}const{KEY:Sm,TEXTURE:km,FRAME_RATE:xm,END:Om,PREFIX:Rm,ZERO_PAD:Am}=$.BOMB_EXPLOSION;class Im extends Phaser.Animations.Animation{constructor(e){const t={repeat:0,frameRate:xm,frames:e.generateFrameNames(km,{prefix:Rm,end:Om,zeroPad:Am}),showOnStart:!0,hideOnComplete:!0,skipMissedFrames:!0};super(e,Sm,t)}}const{KEY:_m,TEXTURE:Mm,FRAME_RATE:Cm,END:Lm,PREFIX:Dm,ZERO_PAD:Nm}=$.POLISH_EFFECT;class Gm extends Phaser.Animations.Animation{constructor(e){const t={repeat:0,frameRate:Cm,frames:e.generateFrameNames(Mm,{prefix:Dm,end:Lm,zeroPad:Nm}),showOnStart:!0,hideOnComplete:!0,skipMissedFrames:!0};super(e,_m,t)}}const{KEY:Fm,TEXTURE:Bm,FRAME_RATE:Um,END:Hm,PREFIX:Ym,ZERO_PAD:Km}=$.ROCKET_EXPLOSION;class Wm extends Phaser.Animations.Animation{constructor(e){const t={repeat:0,frameRate:Um,frames:e.generateFrameNames(Bm,{prefix:Ym,end:Hm,zeroPad:Km}),showOnStart:!0,hideOnComplete:!0,skipMissedFrames:!0};super(e,Fm,t)}}const{KEY:zm,TEXTURE:jm,FRAME_RATE:Vm,END:$m,PREFIX:Xm,ZERO_PAD:qm}=$.ROCKET_TAIL;class Zm extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:Vm,frames:e.generateFrameNames(jm,{prefix:Xm,end:$m,zeroPad:qm}),showOnStart:!0,hideOnComplete:!0,skipMissedFrames:!0};super(e,zm,t)}}const{KEY:Jm,TEXTURE:Qm,FRAME_RATE:eh,END:th,PREFIX:sh,ZERO_PAD:ih}=$.TILE_HIGHLIGHT;class oh extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:eh,frames:e.generateFrameNames(Qm,{prefix:sh,end:th,zeroPad:ih}),showOnStart:!0,hideOnComplete:!0,skipMissedFrames:!0};super(e,Jm,t)}}class rh extends Ce{scene;moveDuration=500;isMoveTilesCompleted;pairWrongTween;constructor(e){super(e),this.scene=e,this.isMoveTilesCompleted=!0,this.createAnimations()}createAnimations(){const{POLISH_EFFECT:e,BOMB_EXPLOSION:t,BOMB_DEFUSE:s,ROCKET_EXPLOSION:i,ROCKET_TAIL:o,TILE_HIGHLIGHT:r}=$,l=new Zm(this.scene.anims),n=new Pm(this.scene.anims),c=new Gm(this.scene.anims),u=new Im(this.scene.anims),m=new Wm(this.scene.anims),d=new oh(this.scene.anims);this.scene.anims.add(s.KEY,n),this.scene.anims.add(o.KEY,l),this.scene.anims.add(e.KEY,c),this.scene.anims.add(t.KEY,u),this.scene.anims.add(i.KEY,m),this.scene.anims.add(r.KEY,d)}startBoard(e){const{boardManager:t,levelHandler:s}=this.scene,{rows:i,columns:o}=s.getConfigs(),r=t.getTileSize()+1,l=t.boardMap[1][1],n=l.x+r*(o-1)/2,c=l.y+r*(i-1)/2,u=n,m=c,d=[],f=600,h=f/e.length;return e.forEach(v=>{const{x:b,y:g,scale:w}=v;d.push({x:b,y:g,scale:w}),v.setX(u),v.setY(m),v.setAlpha(0),v.setScale(0)}),this.scene.tweens.add({targets:e,duration:f,props:{y:{value:{getEnd:(v,b,g,w)=>d[w].y},duration:f-f/12},x:{value:{getEnd:(v,b,g,w)=>d[w].x},duration:f-f/5},scale:{value:{getEnd:(v,b,g,w)=>d[w].scale},delay:0},alpha:{value:1,duration:f-100}},delay:(v,b,g,w)=>{const E=Phaser.Math.RND.between(0,h*w/2);return h*w-E}})}pairWrong(e,t=2){if(this.pairWrongTween?.remove(),t<1)return;const s=Math.random()*3-3,i={x:`+=${s}`,y:`-=${s}`},o={targets:e,duration:30,yoyo:!0,props:i,ease:Phaser.Math.Easing.Expo.Out};this.pairWrongTween=this.scene.add.tween({...o,onComplete:()=>{i.x=`-=${s}`,i.y=`+=${s}`,this.pairWrongTween=this.scene.add.tween({...o,onComplete:()=>{this.pairWrong(e,t-1)}})}})}capturing(e){e.forEach((t,s)=>{t.explosive(s)})}moveRows(e,t=0,s){const{tile:i,fromRow:o,toRow:r}=e;if(!o||!r)return;this.isMoveTilesCompleted=!1,this.updateNextState(i);const l=this.scene.boardManager.getTileSize()+1,n=r*l-o*l,u=i.y+n;i.nextY=u,this.scene.tweens.add({targets:[i],delay:t,duration:s||this.moveDuration,completeDelay:300,ease:Phaser.Math.Easing.Quartic.InOut,props:{y:u},onUpdate:()=>{this.isMoveTilesCompleted=!1},onStop:()=>{i.setY(u),i.nextY=null},onComplete:()=>{i.nextY=null,this.isMoveTilesCompleted=!0}})}moveColumns(e,t=0,s){const{tile:i,fromColumn:o,toColumn:r}=e;if(!o||!r)return;this.isMoveTilesCompleted=!1,this.updateNextState(i);const l=this.scene.boardManager.getTileSize()+1,n=r*l-o*l,u=i.x+n;i.nextX=u,this.scene.tweens.add({targets:[i],delay:t,duration:s||this.moveDuration,completeDelay:300,ease:Phaser.Math.Easing.Quartic.InOut,props:{x:u},onUpdate:()=>{this.isMoveTilesCompleted=!1},onStop:()=>{i.setX(u),i.nextX=null},onComplete:()=>{i.nextX=null,this.isMoveTilesCompleted=!0}})}updateNextState(e){this.scene.tweens.getTweensOf(e).forEach(t=>{t.stop(1),e.nextX&&e.setX(e.nextX),e.nextY&&e.setX(e.nextY),e.nextX=null,e.nextY=null}),this.scene.tweens.killTweensOf(e)}}const ah={BOMB:"bomb",ROCKET:"rocket",EMPTY:"empty"},V={SIZE:37,STATUS:{READY:"ready",MOVING:"moving",CAPTURING:"capturing",CAPTURED:"captured"},EVENTS:{NEXT_TURN:"next-turn",CAPTURING:"capturing",INTERACTION:"interaction",NO_PATH_FOUND:"no-path-found",ROCKET_EXPLODE:"rocket-explode",FIRST_INTERACTION:"first-interaction"},SPECIALS:ah,HASH:{1:"t01",2:"t02",3:"t03",4:"t04",5:"t05",6:"t06",7:"t07",8:"t08",9:"t09",10:"t10",11:"t11",12:"t12",13:"t13",14:"t14",15:"t15",16:"t16",17:"t17",empty:"i01",rocket:"i02"}};class nh{scene;tileSize;constructor(e){this.scene=e,this.tileSize=0}getTileSize(){return this.tileSize===0?V.SIZE:this.tileSize}calculateTileSize(){this.tileSize=0;const{rows:e,columns:t}=this.scene.levelHandler.getConfigs(),{width:s,height:i}=this.scene.gameZone,{height:o}=this.scene.layoutManager.objects.footerBG,{height:r}=this.scene.layoutManager.objects.headerBG,l=.5+e+.5,n=.5+t+.5,c=s,u=i-o-r,m=Math.floor(c/n),d=Math.floor(u/l);this.tileSize=Math.min(m,d,65)}}const K={BACKGROUND:1,FIREWORKS:5,ITEM:10,LOGO:15,BUTTON:20,TILE:25,TEXT:30,EFFECT:32,BOMB:34,ROCKET:35,ENCOURAGING:38,MESSAGE:40,POPUP:45,PRIORITY:80,DEBUG:90,ON_TOP:1e4},ns={STATUS:{READY:"ready",RUNNING:"running",STOPPED:"stopped"}},lh=35,ch=3;class Ma extends Phaser.GameObjects.Graphics{tileSize;rectRadius;topLeftCurve;topRightCurve;bottomRightCurve;bottomLeftCurve;constructor(e,t,s){super(e),this.tileSize=t||lh,this.rectRadius=s||ch,this.setDepth(K.TILE+1),this.createCurves(),this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.update),this.scene.add.existing(this)}createCurves(){const e=this.rectRadius,t=this.tileSize,s=t-2*e;this.topRightCurve=new Phaser.Curves.QuadraticBezier(new Phaser.Math.Vector2(s/2,-t/2),new Phaser.Math.Vector2(t/2,-t/2),new Phaser.Math.Vector2(t/2,-s/2)),this.topLeftCurve=new Phaser.Curves.QuadraticBezier(new Phaser.Math.Vector2(-t/2,-s/2),new Phaser.Math.Vector2(-t/2,-t/2),new Phaser.Math.Vector2(-s/2,-t/2)),this.bottomLeftCurve=new Phaser.Curves.QuadraticBezier(new Phaser.Math.Vector2(-s/2,t/2),new Phaser.Math.Vector2(-t/2,t/2),new Phaser.Math.Vector2(-t/2,s/2)),this.bottomRightCurve=new Phaser.Curves.QuadraticBezier(new Phaser.Math.Vector2(t/2,s/2),new Phaser.Math.Vector2(t/2,t/2),new Phaser.Math.Vector2(s/2,t/2))}stop(){this.clear(),this.scene.events.off(Phaser.Scenes.Events.UPDATE,this.update)}drawCountdown(e,t){const s=this.tileSize,i=this.rectRadius,o=s-2*i,r=Math.atan(o/s),l=Math.PI/2-2*r;let c=e/t*2*Math.PI;if(this.clear(),this.lineStyle(0,0,1),this.fillStyle(0,.25),c!==0){if(c===Math.PI*2){this.fillRoundedRect(-s/2,-s/2,s,s,i);return}if(this.beginPath(),this.moveTo(0,0),this.lineTo(0,-s/2),c>r)this.lineTo(o/2,-s/2),c-=r;else{this.lineTo(Math.tan(c)*s/2,-s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),c>l)this.slice(o/2,-o/2,i,-Math.PI/2,0,!1),c-=l,this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(o/2,-s/2),this.lineTo(o/2,-o/2),this.lineTo(s/2,-o/2),this.lineTo(0,0),this.closePath(),this.fillPath();else{const u=c/l;this.beginPath(),this.arc(o/2,-o/2,i,-Math.PI/2,-Math.PI/2+u*Math.PI/2,!1),this.fillPath();const m=this.topRightCurve.getPoint(u);this.beginPath(),this.moveTo(0,0),this.lineTo(o/2,-s/2),this.lineTo(m.x,m.y),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.beginPath(),this.moveTo(0,0),this.lineTo(s/2,-o/2),c>r)this.lineTo(s/2,0),c-=r;else{this.lineTo(s/2,-o/2- -Math.tan(c)*s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(s/2,0),c>r)this.lineTo(s/2,o/2),c-=r;else{this.lineTo(s/2,Math.tan(c)*s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),c>l)this.slice(o/2,o/2,i,0,Math.PI/2,!1),c-=l,this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(s/2,o/2),this.lineTo(o/2,o/2),this.lineTo(o/2,s/2),this.lineTo(0,0),this.closePath(),this.fillPath();else{const u=c/l;this.beginPath(),this.arc(o/2,o/2,i,0,u*Math.PI/2,!1),this.fillPath();const m=this.bottomRightCurve.getPoint(u);this.beginPath(),this.moveTo(0,0),this.lineTo(s/2,o/2),this.lineTo(m.x,m.y),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.beginPath(),this.moveTo(0,0),this.lineTo(o/2,s/2),c>r)this.lineTo(0,s/2),c-=r;else{this.lineTo(o/2-Math.tan(c)*s/2,s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(0,s/2),c>r)this.lineTo(-o/2,s/2),c-=r;else{this.lineTo(-Math.tan(c)*s/2,s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),c>l)this.slice(-o/2,o/2,i,Math.PI/2,Math.PI,!1),c-=l,this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(-o/2,s/2),this.lineTo(-o/2,o/2),this.lineTo(-s/2,o/2),this.lineTo(0,0),this.closePath(),this.fillPath();else{const u=c/l;this.beginPath(),this.arc(-o/2,o/2,i,Math.PI/2,Math.PI/2+u*Math.PI/2,!1),this.fillPath();const m=this.bottomLeftCurve.getPoint(u);this.beginPath(),this.moveTo(0,0),this.lineTo(-o/2,s/2),this.lineTo(m.x,m.y),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.beginPath(),this.moveTo(0,0),this.lineTo(-s/2,o/2),c>r)this.lineTo(-s/2,0),c-=r;else{this.lineTo(-s/2,o/2-Math.tan(c)*s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(-s/2,0),c>r)this.lineTo(-s/2,-o/2),c-=r;else{this.lineTo(-s/2,-Math.tan(c)*s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),c>l)this.slice(-o/2,-o/2,i,Math.PI,3*Math.PI/2,!1),c-=l,this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(-s/2,-o/2),this.lineTo(-o/2,-o/2),this.lineTo(-o/2,-s/2),this.lineTo(0,0),this.closePath(),this.fillPath();else{const u=c/l;this.beginPath(),this.arc(-o/2,-o/2,i,Math.PI,Math.PI+u*Math.PI/2,!1),this.fillPath();const m=this.topLeftCurve.getPoint(u);this.beginPath(),this.moveTo(0,0),this.lineTo(-s/2,-o/2),this.lineTo(m.x,m.y),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.beginPath(),this.moveTo(0,0),this.lineTo(-o/2,-s/2),c>r)this.lineTo(0,-s/2),c-=r;else{this.lineTo(-o/2- -Math.tan(c)*s/2,-s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}this.lineTo(0,0),this.closePath(),this.fillPath()}}}class Se{scene;config;isStarted;tween;constructor(e,t){if(t.targets.length<1)return;this.buildConfig(e,t);const{scene:s}=this.config.targets[0];s&&(this.scene=s,this.isStarted=!1,this.tween=s.tweens.create(this.config))}buildConfig(e,t){this.config=ve(e,t)}play(){if(this.tween){if(this.isStarted&&this.tween.hasStarted){this.restart();return}this.tween.play(),this.isStarted=!0}}restart(){this.tween?.restart()}stop(){this.tween?.stop()}remove(){this.tween?.remove()}next(e){return this.tween?(this.tween.off(Phaser.Tweens.Events.TWEEN_COMPLETE,e),this.tween.once(Phaser.Tweens.Events.TWEEN_COMPLETE,e),this.tween):null}}var uh=4,dh=.001,mh=1e-7,hh=10,Jt=11,ms=1/(Jt-1),fh=typeof Float32Array=="function";function Ca(a,e){return 1-3*e+3*a}function La(a,e){return 3*e-6*a}function Da(a){return 3*a}function Ns(a,e,t){return((Ca(e,t)*a+La(e,t))*a+Da(e))*a}function Na(a,e,t){return 3*Ca(e,t)*a*a+2*La(e,t)*a+Da(e)}function ph(a,e,t,s,i){var o,r,l=0;do r=e+(t-e)/2,o=Ns(r,s,i)-a,o>0?t=r:e=r;while(Math.abs(o)>mh&&++l<hh);return r}function bh(a,e,t,s){for(var i=0;i<uh;++i){var o=Na(e,t,s);if(o===0)return e;var r=Ns(e,t,s)-a;e-=r/o}return e}function gh(a){return a}var vh=function(e,t,s,i){if(!(0<=e&&e<=1&&0<=s&&s<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&s===i)return gh;for(var o=fh?new Float32Array(Jt):new Array(Jt),r=0;r<Jt;++r)o[r]=Ns(r*ms,e,s);function l(n){for(var c=0,u=1,m=Jt-1;u!==m&&o[u]<=n;++u)c+=ms;--u;var d=(n-o[u])/(o[u+1]-o[u]),f=c+d*ms,h=Na(f,e,s);return h>=dh?bh(n,f,e,s):h===0?f:ph(n,c,c+ms,e,s)}return function(c){return c===0?0:c===1?1:Ns(l(c),t,i)}};const Ga=vh,eo=Ga(.48,1.57,.6,.83),wh={targets:[],duration:400,ease:eo,props:{scale:"-=0.1"}};class rs extends Se{constructor(e){super(wh,e)}}const Th={targets:[],duration:400,ease:eo,props:{scale:"+=0.1"}};class yh extends Se{constructor(e){super(Th,e)}}const{KEY:Eh,FRAME:Bo}=A.GAMEPLAY;class Fa extends Phaser.GameObjects.Particles.ParticleEmitterManager{deathZone;emitter;constructor(e){super(e,Eh,Bo.EFFECT_SPARK),this.createDeathZone(),this.createEmitters(),this.kill(),this.scene.add.existing(this)}createDeathZone(){this.deathZone=new Phaser.Geom.Circle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:Bo.EFFECT_SPARK,speed:{min:100,max:180},scale:{min:e*.5,max:e*.8},alpha:{min:.8,max:1},deathZone:{source:this.deathZone,type:"onLeave"}})}explode(e,t,s,i){this.revive(),this.deathZone.radius=i,this.deathZone.setPosition(t,s),this.emitter.explode(e,t,s)}}class Ph extends Fa{explode(e,t,s,i){super.explode(e,t,s,i),this.runParticleTween()}runParticleTween(){let e=0;this.emitter.forEachAlive(t=>{this.scene.tweens.killTweensOf(t),this.scene.tweens.add({targets:[t],duration:400,delay:5*e,ease:Phaser.Math.Easing.Circular.Out,props:{velocityX:t.velocityX/50,velocityY:t.velocityY/50},onComplete:()=>{e++,this.scene.add.tween({targets:[t],duration:800,delay:10*e,ease:Phaser.Math.Easing.Circular.Out,props:{alpha:0,scaleX:0,scaleY:0},onComplete:()=>{t.lifeCurrent=0},onStop:()=>{t.lifeCurrent=0}})}})},this)}}const{GAMEPLAY:Uo,EFFECTS:Ho,TILES:Yo}=A,{STATUS:wt}=V;class ls extends Phaser.GameObjects.Container{scene;nextX;nextY;scaleUp=1;scaleDown=1;row;column;color;frame;isBreakWhenExplosive;block;icon;polishEffect;explodeParticle;unselectAnimation;selectAnimation;extraSpawnEffect;constructor(e,t,s){super(e,0,0),this.scene=e,s&&(this.color=s),this.nextX=null,this.nextY=null,this.scaleUp=this.scale,this.scaleDown=this.scale*.8,this.isBreakWhenExplosive=!1,this.setDepth(K.TILE),t&&(this.frame=t,this.drawBlock(t)),this.createExplodeParticle(),this.scene.add.existing(this),this.setState(wt.READY)}show(){this.setVisible(!0),this.block.setVisible(!0)}setRow(e){this.row=e}setColumn(e){this.column=e}setIsBreakWhenExplosive(e){this.isBreakWhenExplosive=e}removeEvents(){this.block.off(Phaser.Input.Events.GAMEOBJECT_POINTER_UP,this.handleOnUnselect),this.block.off(Phaser.Input.Events.GAMEOBJECT_POINTER_OUT,this.handleOnUnselect)}createInput(){this.block.off(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handleOnSelect),this.block.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handleOnSelect)}showHighlight(){this.scene.effectManager.playTileHighlightEffect(this),this.scene.boardManager.boardContainer.bringToTop(this)}hideHighlight=()=>{const{effectManager:e}=this.scene;e.getCurrentlyHighlightedTile()===this&&e.stopTileHighlightEffect()};explosive(e){this.scene&&(this.nextX&&this.setX(this.nextX),this.nextY&&this.setY(this.nextY),this.explosiveAnimation())}handleOnSelect=()=>{this.removeEvents(),this.runSelectAnimation()};handleOnUnselect=()=>{this.runUnselectAnimation()};getExplosiveAnimationKey=()=>null;explosiveAnimation(){if(!this.icon||!this.icon.anims)return;if(this.isBreakWhenExplosive){const{effectManager:t}=this.scene;t.playTileBreakEffect(this),this.scene.audio.playSound(X.BOMB_EXPLODE_1),this.onExplosive();return}const e=this.getExplosiveAnimationKey();if(!e){const{x:t,y:s}=this.getWorldPosition();this.explodeParticle.explode(20,t,s,20),this.onExplosive();return}this.icon.once(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{this.onExplosive()}),this.icon.anims.play(e,!0)}onExplosive(){this.hideHighlight(),this.hidePolishEffect(),this.scene.boardManager.boardContainer.bringToTop(this),this.scene.tweens.killTweensOf(this),this.setScale(this.scaleUp),this.scene.tweens.add({targets:[this],duration:200,ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:0},onComplete:()=>{this.removeTile()}})}enableTile(){const e=this.scene.boardManager.getTileSize();this.block.setDisplaySize(e,e),this.icon.setScale(this.block.scale/2),this.revive(),this.setState(wt.READY)}changeDeck(e){const t=e.toUpperCase(),s=Yo[t].KEY,i=`tile-${this.color}`,o=this.scene.boardManager.getTileSize();this.icon.setTexture(s),this.icon.setFrame(i);const r=this.icon.displayWidth/this.icon.scaleX,l=this.icon.displayHeight/this.icon.scaleY,n=o/r*.85,c=o/l*.85;this.icon.setScale(Math.min(n,c))}removeTile(){if(!this.scene)return;const{tileManager:e}=this.scene;e.removeTile(this)}drawBlock(e){const t=this.scene.boardManager.getTileSize();this.block=this.scene.add.image(0,0,Uo.KEY,Uo.FRAME.TILE_BG),this.block.setDisplaySize(t,t),this.add(this.block);const{currentDeckPrefix:s}=this.scene.tileManager,i=Yo[s.toUpperCase()].KEY;this.icon=this.scene.make.sprite({key:i,frame:e});const o=this.icon.displayWidth/this.icon.scaleX,r=this.icon.displayHeight/this.icon.scaleY,l=t/o*.85,n=t/r*.85;this.icon.setScale(Math.min(l,n)),this.add(this.icon)}createExplodeParticle(){this.explodeParticle=new Ph(this.scene)}drawPolishEffect(){this.polishEffect=this.scene.add.sprite(0,0,Ho.KEY,Ho.FRAME.POLISH_EFFECT+"0"),this.polishEffect.setDisplaySize(40,40),this.polishEffect.setAlpha(.8),this.polishEffect.setVisible(!1),this.add(this.polishEffect)}runSelectAnimation(){this.scene&&(this.selectAnimation||(this.selectAnimation=new rs({targets:[this],duration:166,yoyo:!0,ease:Phaser.Math.Easing.Cubic.InOut,props:{scale:{start:this.scaleUp,from:this.scaleUp,to:this.scaleDown}},onStop:()=>{this.setScale(this.scaleUp)}})),this.selectAnimation.play())}runUnselectAnimation=()=>{this.scene&&(this.unselectAnimation||(this.unselectAnimation=new yh({targets:[this],duration:100,props:{scale:this.scaleUp}})),this.unselectAnimation.play())};runExtraSpawnEffect(){this.extraSpawnEffect?.stop();const e=this.scaleX,t=this.scaleY;this.setScale(e*.3,t*.3),this.extraSpawnEffect=this.scene.tweens.add({targets:this,duration:200,props:{scaleX:{from:e*.3,to:e},scaleY:{from:t*.3,to:t}},onComplete:()=>{this.playPolishEffect()},onStop:()=>{this.playPolishEffect(),this.setScale(e,t)}})}playPolishEffect(){this.polishEffect||this.drawPolishEffect();const e=this.scene.boardManager.getTileSize();this.polishEffect.setVisible(!0),this.polishEffect.setWorldSize(e,e),this.polishEffect.play($.POLISH_EFFECT.KEY,!0)}hidePolishEffect(){this.polishEffect?.setVisible(!1)}isReady(){return this.state===wt.READY}isMoving(){return this.state===wt.MOVING}isCapturing(){return this.state===wt.CAPTURING}isCaptured(){return this.state===wt.CAPTURED}}const{KEY:Sh,FRAME:Ko}=A.GAMEPLAY,{SPECIALS:kh}=V,{BOMB_EXPLOSION:xh,BOMB_DEFUSE:Oh}=$,{BombCountDownTime:Rh,DelayEndGame:Ah}=GameCore.Configs.Gameplay;class We extends ls{bombCountdown;bombTimer;remainingTime;bombIcon;bombIconTween;reason="pair";isTickingSoundPlaying;tickingSoundEvent;constructor(e,t,s){super(e,Ko.TILE_BOMB,kh.BOMB),this.setName("BombTile"),this.isTickingSoundPlaying=!1,this.setRow(t),this.setColumn(s),this.createIconBomb(),this.createBombCountdownEffect(),this.runBombIconTween(),this.scene.events.on(V.EVENTS.FIRST_INTERACTION,this.startCountdown)}createIconBomb(){this.bombIcon=this.scene.add.image(0,0,Sh,Ko.ICON_BOMB);const t=this.scene.boardManager.getTileSize()/35;this.bombIcon.setWorldSize(16*t,17*t),this.bombIcon.setPosition(10*t,5*t),this.add(this.bombIcon)}createBombCountdownEffect(){this.bombCountdown=new Ma(this.scene),this.bombCountdown.setPosition(0,0),this.add(this.bombCountdown)}enableTile(){super.enableTile();const t=this.scene.boardManager.getTileSize()/35;this.bombIcon.setWorldSize(16*t,17*t),this.bombIcon.setPosition(10*t,5*t),this.reason="pair",this.bombIcon.revive(),this.isTickingSoundPlaying=!1}getExplosiveAnimationKey=()=>this.reason==="defuse"?Oh.KEY:this.reason==="exploded"?xh.KEY:null;setColor(e,t){this.isCaptured()||(this.color=e,this.changeDeck(t))}startCountdown=()=>{if(this.active&&this.reason!=="defuse"){if(this.remainingTime=Rh,this.isTickingSoundPlaying=!1,this.remainingTime==0){this.bombExplodeGrant();return}this.setUpCountdownEffect(),this.startTimer()}};setUpCountdownEffect(){const{boardContainer:e}=this.scene.boardManager;e.bringToTop(this)}setBombEffectWhenGameStarts(){const{boardContainer:e}=this.scene.boardManager;e.bringToTop(this);const t=this.scene.boardManager.getTileSize();this.bombCountdown.setScale(t*.95/35),this.bombCountdown.drawCountdown(1,1)}updateBombCountdownEffect(){this.bombCountdown.drawCountdown(this.remainingTime,GameCore.Configs.Gameplay.BombCountDownTime)}runBombIconTween(){this.bringToTop(this.bombIcon),this.bombIconTween?.stop();const{scaleX:e,scaleY:t}=this.bombIcon;this.bombIconTween=this.scene.tweens.add({targets:this.bombIcon,scaleX:e*1.2,scaleY:t*1.2,ease:"Sine.easeInOut",duration:500,yoyo:!0,repeat:-1,onStop:()=>{this.bombIcon.setScale(e,t)}})}stopTimer(){this.bombTimer?.remove(),this.tickingSoundEvent?.remove(),this.bombCountdown.stop(),this.bombIcon.kill(),this.bombIconTween?.stop(),this.isTickingSoundPlaying=!1}isDefuse(){return this.reason==="defuse"}startTimer(){this.bombTimer=this.scene.time.addEvent({delay:500,callback:()=>{if(this.scene.gameStatus!==ge.DYING){if(this.remainingTime-=500,this.remainingTime<500){this.bombExplodeGrant();return}this.updateBombCountdownEffect(),this.remainingTime<=4500&&!this.isTickingSoundPlaying&&(this.scene.audio.playSound(X.TICKING_BOMB_BEFORE_EXPLODE),this.isTickingSoundPlaying=!0,this.fireTickingSound())}},loop:!0})}fireTickingSound(){this.tickingSoundEvent?.remove(),this.tickingSoundEvent=this.scene.time.addEvent({delay:1500,callback:()=>{this.scene.audio.playSound(X.TICKING_BOMB_BEFORE_EXPLODE)},repeat:1})}bombExplodeGrant=()=>{this.stopTimer(),this.reason="exploded",this.explosive(0);const{boardContainer:e}=this.scene.boardManager;e.bringToTop(this),this.block.kill(),this.icon.scale*=5,this.scene.audio.playSound(X.BOMB_EXPLODE_1)};handleBombDefuse(){this.stopTimer(),this.reason="defuse",this.explosive(0);const{boardContainer:e}=this.scene.boardManager;e.bringToTop(this),this.icon.scale*=2.4,this.scene.audio.playSound(X.BOMB_DEFUSE)}onExplosive(){super.onExplosive();const{tileManager:e,levelHandler:t}=this.scene;this.reason==="exploded"&&(this.scene.time.delayedCall(Ah,()=>{e.tilesChangeColor(this.color,[this])}),this.scene.die(t.level,"bombExplosive")),this.reason==="defuse"&&e.tilesChangeColor(this.color,[this])}removeTile(){if(super.removeTile(),!this.scene)return;this.stopTimer(),this.bombCountdown.clear();const{itemManager:e}=this.scene;e.updateBombDefuseItemState()}shortenRemainingTime(){this.remainingTime=2e3}}class Ba{priorityQueue=[];grid=[[0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,1,0,0,1,0],[0,2,1,0,1,0,0,0,0,3],[0,0,0,0,0,0,1,0,0,0],[1,0,1,0,0,0,0,0,0,0],[0,0,0,1,0,1,1,1,0,0],[0,0,0,1,0,1,0,1,0,0],[0,1,0,0,0,0,1,1,0,0],[0,0,0,0,0,0,0,0,1,0],[0,0,0,0,1,0,0,0,0,0]];width=10;height=10;path=null;constructor(){return this}findPath(e,t,s){return this.grid=s,this.height=s.length,this.width=s[0].length,this.priorityQueue=[],this.path=null,this.traverse(e,t),this.sharpenPath(),this.path}findWrongPath(e,t,s){return this.grid=s,this.height=s.length,this.width=s[0].length,this.priorityQueue=[],this.path=null,this.traverseFull(e,t),this.path?(this.sharpenPath(),this.path):[]}traverse(e,t){const{x:s=0,y:i=0}=e,{x:o=0,y:r=0}=t;if(this.isAllPathBlocked(e,t)){console.log("All paths are blocked on one square");return}for(this.priorityQueue.push({x:s,y:i,usedTurns:0,direction:"none",expectedCostToEnd:this.calculateExpectedCostToEndPoint({x:s,y:i},{x:o,y:r}),currentPath:[{x:s,y:i}]});this.priorityQueue.length>0;){const l=this.getFromPriorityQueue(),{x:n=0,y:c=0}=l;if(n===o&&c===r){this.path=l.currentPath;break}const u=this.getAdjacentSquares(l);for(const m of u){if(l.currentPath.includes(m))continue;const d=this.calculateExpectedCostToEndPoint(m,{x:o,y:r});this.addToPriorityQueue(m,l,d)}}}traverseFull(e,t){const{x:s=0,y:i=0}=e,{x:o=0,y:r=0}=t;if(this.isAllPathBlocked(e,t)){const l=this.getSpecialCasePath(e,t);l.length>0&&(this.path=l);return}for(this.priorityQueue.push({x:s,y:i,usedTurns:0,direction:"none",expectedCostToEnd:this.calculateExpectedCostToEndPoint({x:s,y:i},{x:o,y:r}),currentPath:[{x:s,y:i}]});this.priorityQueue.length>0;){const l=this.getFromPriorityQueue(),{x:n=0,y:c=0}=l;if(n===o&&c===r){this.path=l.currentPath;break}const u=this.getAdjacentSquares(l);for(const m of u){if(l.currentPath.includes(m))continue;const d=this.calculateExpectedCostToEndPoint(m,{x:o,y:r});this.addToGenerousPriorityQueue(m,l,d)}}if(!this.path){const l=this.getSpecialCasePath(e,t);l.length>0&&(this.path=l)}}getSpecialCasePath(e,t){const{x:s=0,y:i=0}=e,{x:o=0,y:r=0}=t;if(s===o)return this.getYLine(i,r,s);if(i===r)return this.getXLine(s,o,i);{const l=[];return l.push(...this.getXLine(s,o,i)),l.pop(),l.push(...this.getYLine(i,r,o)),l}}sharpenPath(){if(this.path)for(let e=0;e<this.path.length;e++){const{x:t=-1,y:s=-1}=this.path[e];t===0?this.path[e].x=.25:t===this.height-1&&(this.path[e].x=t-.25),s===0?this.path[e].y=.25:s===this.width-1&&(this.path[e].y=s-.25)}}getXLine(e,t,s){const i=[];if(e<t)for(let o=e;o<=t;o++)i.push({x:o,y:s});else for(let o=e;o>=t;o--)i.push({x:o,y:s});return i}getYLine(e,t,s){const i=[];if(e<t)for(let o=e;o<=t;o++)i.push({x:s,y:o});else for(let o=e;o>=t;o--)i.push({x:s,y:o});return i}addToGenerousPriorityQueue(e,t,s){const{x:i=0,y:o=0}=e,{x:r=0,y:l=0,direction:n,usedTurns:c}=t,u=this.getMovingDirectionString(i-r,o-l);if(u===n)this.priorityQueue.push({x:i,y:o,usedTurns:c,direction:u,expectedCostToEnd:s,currentPath:[...t.currentPath,{x:i,y:o}]});else{const m=c>=2&&s>t.expectedCostToEnd;c<7&&!m&&this.priorityQueue.push({x:i,y:o,usedTurns:c+1,direction:u,expectedCostToEnd:s,currentPath:[...t.currentPath,{x:i,y:o}]})}}getPath(){return this.path?(console.log("Path found: ",this.path),this.path):(console.log("No path found"),[])}calculateExpectedCostToEndPoint(e,t){const{x:s=0,y:i=0}=e,{x:o=0,y:r=0}=t;return Math.abs(s-o)+Math.abs(i-r)}addToPriorityQueue(e,t,s){const{x:i=0,y:o=0}=e,{x:r=0,y:l=0,direction:n,usedTurns:c}=t,u=this.getMovingDirectionString(i-r,o-l);if(u===n)this.priorityQueue.push({x:i,y:o,usedTurns:c,direction:u,expectedCostToEnd:s,currentPath:[...t.currentPath,{x:i,y:o}]});else{const m=c>=2&&s>t.expectedCostToEnd;c<3&&!m&&this.priorityQueue.push({x:i,y:o,usedTurns:c+1,direction:u,expectedCostToEnd:s,currentPath:[...t.currentPath,{x:i,y:o}]})}}getFromPriorityQueue(){const e=Math.min(...this.priorityQueue.map(s=>s.expectedCostToEnd+s.currentPath.length)),t=this.priorityQueue.find(s=>e===s.expectedCostToEnd+s.currentPath.length);return t?this.priorityQueue.splice(this.priorityQueue.indexOf(t),1)[0]:this.priorityQueue.splice(0,1)[0]}getAdjacentSquares(e){const{x:t=0,y:s=0}=e,i=[];return t-1>=0&&(this.grid[t-1][s]===1||i.push({x:t-1,y:s})),t+1<this.height&&(this.grid[t+1][s]===1||i.push({x:t+1,y:s})),s-1>=0&&(this.grid[t][s-1]===1||i.push({x:t,y:s-1})),s+1<this.width&&(this.grid[t][s+1]===1||i.push({x:t,y:s+1})),i}isAllPathBlocked(e,t){const{x:s=0,y:i=0}=e,{x:o=0,y:r=0}=t,l=this.getAdjacentSquares({x:s,y:i}),n=this.getAdjacentSquares({x:o,y:r});return l.length===0||n.length===0}getMovingDirectionString(e,t){return e===1?"down":e===-1?"up":t===1?"right":t===-1?"left":"none"}}class Ua{scene;pathfinder;colorGrid=[];obstacleGrid=[];outerTiles=[];availableColors=[];pathForAutoplay=null;constructor(e){this.scene=e,this.pathfinder=new Ba}updateGrids(){this.updateColorGrid(),this.updateObstacleGrid(),this.createOuterTiles(),this.pathForAutoplay=null}checkForAvailableMatches(){return this.updateGrids(),this.checkForNearestMatch()||this.checkOuterTilesMatch()?!0:(console.log("No matches found"),!1)}updateColorGrid(){this.colorGrid=[];const{boardMap:e}=this.scene.boardManager,t=this.scene.levelHandler.getConfigs();if(!t)return;const{rows:s,columns:i}=t;for(let o=1;o<=s;o++){this.colorGrid[o-1]=[];for(let r=1;r<=i;r++){if(!e[o]||!e[o][r])continue;if(e[o][r].isCaptured()){this.colorGrid[o-1][r-1]="0";continue}const l=e[o][r].color;this.availableColors.includes(l)||this.availableColors.push(l),this.colorGrid[o-1][r-1]=l}}this.colorGrid.forEach(o=>{o.unshift("0"),o.push("0")}),this.colorGrid.unshift(new Array(i+2).fill("0")),this.colorGrid.push(new Array(i+2).fill("0"))}updateObstacleGrid(){this.obstacleGrid=[],this.colorGrid.forEach((e,t)=>{this.obstacleGrid[t]=[],e.forEach((s,i)=>{const o=s!=="0";this.obstacleGrid[t][i]=o?1:0})})}createOuterTiles(){this.outerTiles=[],this.availableColors.forEach(()=>{this.outerTiles.push([])})}getAdjacentSquaresData(e,t){const s=[],{boardMap:i}=this.scene.boardManager;return e-1>=1&&s.push(i[e-1][t]),e+1<this.colorGrid.length-1&&s.push(i[e+1][t]),t-1>=1&&s.push(i[e][t-1]),t+1<this.colorGrid[0].length-1&&s.push(i[e][t+1]),s.filter(o=>!o.isCaptured())}getMaximumSurroundingSlots(e,t){let s=4;return e-1<0&&s--,e+1>=this.colorGrid.length&&s--,t-1<0&&s--,t+1>=this.colorGrid[0].length&&s--,s}checkForNearestMatch(){let e=!1;for(let t=0;t<this.colorGrid.length;t++){for(let s=0;s<this.colorGrid[0].length;s++){const i=this.colorGrid[t][s];if(i==="0")continue;const o=this.getAdjacentSquaresData(t,s),r=this.getMaximumSurroundingSlots(t,s),l=o.map(n=>n.color);if(r>o.length){const n=this.availableColors.indexOf(i);this.outerTiles[n].push({x:t,y:s})}if(l.includes(i)){const n=l.indexOf(i),c=o[n];this.pathForAutoplay=[{x:t,y:s},{x:c.row,y:c.column}],e=!0;break}}if(e)break}return e}getAllPossiblePairs(e){const t=[];for(let s=0;s<e.length;s++)for(let i=s+1;i<e.length;i++)t.push({tile1:e[s],tile2:e[i]});return t.sort((s,i)=>{const o=Math.abs(s.tile1.x-s.tile2.x)+Math.abs(s.tile1.y-s.tile2.y),r=Math.abs(i.tile1.x-i.tile2.x)+Math.abs(i.tile1.y-i.tile2.y);return o-r}),t}checkOuterTilesMatch(){this.outerTiles.sort((t,s)=>s.length-t.length);let e=!1;for(let t=0;t<this.outerTiles.length;t++){const s=this.outerTiles[t];if(s.length<1)continue;const i=this.getAllPossiblePairs(s);for(let o=0;o<i.length;o++){const{tile1:r,tile2:l}=i[o];this.obstacleGrid[r.x][r.y]=0,this.obstacleGrid[l.x][l.y]=0;const n=this.pathfinder.findPath({x:r.x,y:r.y},{x:l.x,y:l.y},this.obstacleGrid);if(n){e=!0,this.pathForAutoplay=n;break}this.obstacleGrid[r.x][r.y]=1,this.obstacleGrid[l.x][l.y]=1}if(e)break}return e}}const{STATUS:Js}=ns;class Ih extends Ce{scene;tileMap={};boardMap={};boardContainer;boardSizeHandler;matchFinder;constructor(e){super(e),this.scene=e,this.boardContainer=this.scene.make.container({}),this.boardContainer.setDepth(K.TILE),this.matchFinder=new Ua(this.scene),this.boardSizeHandler=new nh(this.scene)}init(){this.clearBoard(),this.setState(Js.READY)}start(){this.isRunning()||(this.boardSizeHandler.calculateTileSize(),this.generateBoard(),this.setState(Js.RUNNING))}stop(){this.isRunning()&&this.setState(Js.STOPPED)}loadBoardByFen(e){const{tileManager:t}=this.scene;this.tileMap=GameCore.Utils.Hash.decodeMap(e,V.HASH);for(const s in this.tileMap){const i=this.tileMap[s];if(GameCore.Utils.Valid.isObject(i))for(const o in i){let r=i[o],l;r[0]==="b"?(r=parseInt(r.substring(1)).toString(),this.tileMap[s][o]=V.SPECIALS.BOMB,l=t.createTileByType(V.SPECIALS.BOMB,+s,+o),l instanceof We&&l.setColor(r,t.getCurrentDeck())):l=t.createTileByType(r,+s,+o),this.setTileToMap(l,+s,+o)}}}clearBoard(){this.tileMap={},this.boardMap={},this.boardContainer.removeAll()}generateBoard(){this.generateTiles(),this.placeBoard(),this.alignBoard()}generateTiles(){const{tileManager:e,levelHandler:t}=this.scene,s=t.getConfigs(),{rows:i,columns:o,specials:r={},customFen:l}=s,n=i*o;if(l&&this.loadBoardByFen(l.code),Object.keys(this.boardMap).length>0)return;const c=this.createListOfTilesByPair(),u=r.bomb||0,m=this.getBombPositions(u,c);for(let d=0;d<n;d++){const{row:f,column:h}=this.getPositionByIndex(d),p=c[d];let v=!1;m.includes(d)&&(v=!0);const b=v?V.SPECIALS.BOMB:p,g=e.createTileByType(b,f,h);v&&g instanceof We&&g.setColor(p,e.getCurrentDeck()),this.setTileToMap(g,f,h)}}createListOfTilesByPair(){const{levelHandler:e}=this.scene,t=e.getConfigs(),{rows:s,columns:i,colors:o,specials:r={}}=t,l=s*i,n=r.rocket||0,c=Math.floor(l/2)-n,u=[];let m=0;for(let p=0;p<c;p++){m=m>=o?1:m+1;const v=m.toString();u.push(v),u.push(v)}for(let p=0;p<n;p++)u.push("rocket"),u.push("rocket");u.sort(()=>Math.random()-.5);const d=this.sortTilesByMaxSpace(u),h=this.sortTilesByMaxSpace(d.reverse()).reverse();return this.addOnePairNextToEachOther(h,s,i),u.length<l&&h.splice(Math.floor(h.length/2),0,V.SPECIALS.EMPTY),h}sortTilesByMaxSpace(e){const{levelHandler:t}=this.scene,s=t.getConfigs(),{rows:i,columns:o,colors:r,rules:l}=s;if(!l.maxSpaceOfPair)return e;const n=this.convertSingleListToGrid(e,i,o),c=[];for(let m=1;m<=r;m++)c.push(m.toString());const u=this.getSortedColorList(c,e);for(let m=0;m<u.length;m++){let d=null,f=null;for(let h=0;h<i;h++)for(let p=0;p<o;p++)if(n[h][p]===u[m]){if(!d||!f){d=h,f=p;continue}const b=l.maxSpaceOfPair+1;if(Math.abs(d-h)+Math.abs(f-p)<=b){f=p,d=h;continue}const w=this.getTileNewPosition(d,f,h,p),E=n[w.row][w.column];n[w.row][w.column]=n[h][p],n[h][p]=E}}return this.convertGridToSingleList(n)}addOnePairNextToEachOther(e,t,s){const i=Phaser.Math.Between(0,e.length-1);let o=i;for(let u=0;u<e.length;u++){const m=e[u];if(u!==i&&m===e[i]){o=u;break}}if(o===i)return;const r=this.getNeighborIndexes(i,t,s);if(r.length===0)return;const l=Phaser.Math.Between(0,r.length-1),n=r[l],c=e[n];e[n]=e[o],e[o]=c,console.info("ðŸš€ > One Pair Can Match Is",this.getPositionByIndex(i),this.getPositionByIndex(n))}getNeighborIndexes(e,t,s){const{row:i,column:o}=this.getPositionByIndex(e),r=[];let l=i+1,n=o;return l<=t&&r.push(this.getIndexByPosition(l,n)),l=i-1,n=o,l>=1&&r.push(this.getIndexByPosition(l,n)),l=i,n=o+1,n<=s&&r.push(this.getIndexByPosition(l,n)),l=i,n=o-1,n>=1&&r.push(this.getIndexByPosition(l,n)),r}getTileNewPosition(e,t,s,i){let o=e,r=t;return s>e&&(o=e+1),s<e&&(o=e-1),i>t&&(r=t+1),i<t&&(r=t-1),{row:o,column:r}}convertSingleListToGrid(e,t,s){const i=[];for(let o=0;o<t;o++){i[o]=[];for(let r=0;r<s;r++)i[o][r]=e[o*s+r]}return i}convertGridToSingleList(e){const t=[];for(let s=0;s<e.length;s++)for(let i=0;i<e[s].length;i++)t.push(e[s][i]);return t}getSortedColorList(e,t){const s=[],i=[V.SPECIALS.BOMB,V.SPECIALS.EMPTY,V.SPECIALS.ROCKET];for(let o=0;o<t.length&&s.length!==e.length;o++){const r=t[o];s.includes(r)||i.includes(r)||s.push(r)}return s}getBombPositions(e,t){const s=[];t.forEach((r,l)=>{r!==V.SPECIALS.EMPTY&&r!==V.SPECIALS.ROCKET&&s.push(l)});const i=s.length>e?e:s.length,o=[];s.sort(()=>Math.random()-.5);for(let r=0;r<i;r++)o.push(s[r]);return o}getTilesByMap(){const e=[];for(const t in this.boardMap){const s=this.boardMap[t];for(const i in s){const o=this.boardMap[t][i];e.push(o)}}return e}placeBoard(){const{levelHandler:e}=this.scene,t=e.getConfigs(),s=t.rows,i=t.columns,o=this.getTileSize()+1,r=this.getTilesByMap();Phaser.Actions.GridAlign(r,{width:i,height:s,cellWidth:o,cellHeight:o,x:-((i/2-1)*o),y:-((s/2-1)*o)})}alignBoard(){const{layoutManager:e}=this.scene,{objects:t}=e,s=this.scene.ads.getBannerHeight(),i=t.headerBG.height,o=t.footerBG.height;let r=(i-o-s+46)/2;this.scene.world.isLandscape()&&(r=(i-s)/2),Phaser.Display.Align.In.Center(this.boardContainer,this.scene.gameZone,0,r)}getPositionByIndex(e){const{columns:t}=this.scene.levelHandler.getConfigs(),s=Math.floor(e/t)+1,i=e%t+1;return{row:s,column:i}}getIndexByPosition(e,t){const{columns:s}=this.scene.levelHandler.getConfigs();return(e-1)*s+(t-1)}getTileByIndex(e){const{row:t,column:s}=this.getPositionByIndex(e);return this.getTileByPosition(t,s)}getTileByPosition(e,t){return!(e in this.boardMap)||!(t in this.boardMap[e])?null:this.boardMap[e][t]}setTileToMap(e,t,s){const{tileManager:i}=this.scene;this.tileMap[t]||(this.tileMap[t]={}),this.boardMap[t]||(this.boardMap[t]={}),e.setRow(t),e.setColumn(s),this.tileMap[t][s]=e.color;const o=this.boardMap[t][s];o&&i.removeTile(o),this.boardMap[t][s]=e,this.boardContainer.add(e),i.addTile(e)}tileSwap(e){const{fromRow:t,toRow:s,fromColumn:i,toColumn:o}=e,r=this.boardMap[s][o],l=this.boardMap[t][i];r.setRow(t),r.setColumn(i),l.setRow(s),l.setColumn(o),this.boardMap[s][o]=l,this.boardMap[t][i]=r,this.tileMap[s][o]=l.color,this.tileMap[t][i]=r.color}runShuffle=e=>{const t=this.getTilesAlive(),s=this.shuffleTiles();this.shuffleAnimation(t,s,e),this.updateTilesPosition(t,s),this.scene.time.delayedCall(300,()=>{this.scene.audio.playSound(X.SHUFFLE_ITEM)})};getTilesAlive(){const{tileManager:e}=this.scene,t=e.getTiles(),s=[];return t.forEach(i=>{i.isCaptured()||i.isCapturing()||s.push(i)}),s}shuffleTiles(){const e=this.getTilesAlive();GameCore.Utils.Array.unique(e);const t=[];return e.forEach(({row:s,column:i})=>{t.push({row:s,column:i})}),GameCore.Utils.Array.shuffle(t),t}shuffleAnimation(e,t,s){const{animationManager:i}=this.scene;e.forEach((o,r)=>{const{row:l,column:n}=o,{row:c,column:u}=t[r];l!==c&&i.moveRows({tile:o,fromRow:l,toRow:c},r*5,s),n!==u&&i.moveColumns({tile:o,fromColumn:n,toColumn:u},r*5,s)})}updateTilesPosition(e,t){e.forEach((s,i)=>{const{row:o,column:r}=s,{row:l,column:n}=t[i];o===l&&r===n||this.tileSwap({fromRow:o,toRow:l,fromColumn:r,toColumn:n})})}processNoAvailableMatches=()=>{if(this.checkIfAllTilesAreCaptured()){this.scene.events.emit(V.EVENTS.NEXT_TURN);return}if(this.matchFinder.checkForAvailableMatches()){this.scene.events.emit(V.EVENTS.NEXT_TURN);return}const{animationManager:t,itemManager:s,tileManager:i}=this.scene;i.isSelectable=!1,s.setIsUseableItem(!1),t.isMoveTilesCompleted=!1;const o=500;this.runShuffle(o),this.scene.time.delayedCall(o+50,this.processNoAvailableMatches)};checkIfAllTilesAreCaptured(){const{tileManager:e}=this.scene,t=e.getTiles();if(t.length<2)return!0;for(const s of t)if(!s.isCaptured())return!1;return!0}getTileSize(){return this.boardSizeHandler.getTileSize()}}const L={HINT:{ID:"ItemHint",REWARD_DESC:"Show one matchable pair on the board"},ROCKET:{ID:"ItemRocket",REWARD_DESC:"Destroy two pairs on the board"},INVITE:{ID:"ItemInvite"},SHUFFLE:{ID:"ItemShuffle",REWARD_DESC:"Shuffle all tiles on the board"},BOMB_DEFUSE:{ID:"ItemBombDefuse",REWARD_DESC:"Remove a bomb tile on the board"},GUIDE_BOMB_DEFUSE:{ID:"ItemGuideBombDefuse"},NEW_GAME:{ID:"ItemNewGame"},CHANGE_COLOR:{ID:"ItemChangeColor"},NEXT_LEVEL:{ID:"ItemNextLevel"},BACK_LEVEL:{ID:"ItemBackLevel"},BOMB_EXPLOSIVE:{ID:"ItemBombExplosive"},TIME_UP:{ID:"ItemTimeUp"},RESET_DATA:{ID:"ItemResetData"},AUTO_MATCH:{ID:"ItemAutoMatch"}},G={DIE:"die",REPLAY:"replay",RESCUE:"rescue",FINISH:"finish",CONTINUE:"continue",NEXT_LEVEL:"next-level",RECEIVE_ITEM:"receive-item",TILE_SHOWED_UP:"tile-show-up",SHOW_RESCUE_SCREEN:"show-rescue-screen",GAME_OVER_REPLAY:"game-over-replay"};var Gi={},_h={get exports(){return Gi},set exports(a){Gi=a}};(function(a){var e=Object.prototype.hasOwnProperty,t="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(t=!1));function i(n,c,u){this.fn=n,this.context=c,this.once=u||!1}function o(n,c,u,m,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,m||n,d),h=t?t+c:c;return n._events[h]?n._events[h].fn?n._events[h]=[n._events[h],f]:n._events[h].push(f):(n._events[h]=f,n._eventsCount++),n}function r(n,c){--n._eventsCount===0?n._events=new s:delete n._events[c]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],u,m;if(this._eventsCount===0)return c;for(m in u=this._events)e.call(u,m)&&c.push(t?m.slice(1):m);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},l.prototype.listeners=function(c){var u=t?t+c:c,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var d=0,f=m.length,h=new Array(f);d<f;d++)h[d]=m[d].fn;return h},l.prototype.listenerCount=function(c){var u=t?t+c:c,m=this._events[u];return m?m.fn?1:m.length:0},l.prototype.emit=function(c,u,m,d,f,h){var p=t?t+c:c;if(!this._events[p])return!1;var v=this._events[p],b=arguments.length,g,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,m),!0;case 4:return v.fn.call(v.context,u,m,d),!0;case 5:return v.fn.call(v.context,u,m,d,f),!0;case 6:return v.fn.call(v.context,u,m,d,f,h),!0}for(w=1,g=new Array(b-1);w<b;w++)g[w-1]=arguments[w];v.fn.apply(v.context,g)}else{var E=v.length,y;for(w=0;w<E;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,m);break;case 4:v[w].fn.call(v[w].context,u,m,d);break;default:if(!g)for(y=1,g=new Array(b-1);y<b;y++)g[y-1]=arguments[y];v[w].fn.apply(v[w].context,g)}}return!0},l.prototype.on=function(c,u,m){return o(this,c,u,m,!1)},l.prototype.once=function(c,u,m){return o(this,c,u,m,!0)},l.prototype.removeListener=function(c,u,m,d){var f=t?t+c:c;if(!this._events[f])return this;if(!u)return r(this,f),this;var h=this._events[f];if(h.fn)h.fn===u&&(!d||h.once)&&(!m||h.context===m)&&r(this,f);else{for(var p=0,v=[],b=h.length;p<b;p++)(h[p].fn!==u||d&&!h[p].once||m&&h[p].context!==m)&&v.push(h[p]);v.length?this._events[f]=v.length===1?v[0]:v:r(this,f)}return this},l.prototype.removeAllListeners=function(c){var u;return c?(u=t?t+c:c,this._events[u]&&r(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,a.exports=l})(_h);const Mh=Gi,F=new Mh,Us=Ga(.55,.47,.43,.91),Ch={targets:[],yoyo:!0,repeat:-1,duration:600,repeatDelay:50,ease:Us,easeParams:[0,.9],props:{scale:{from:1,to:1.2}}};class cs extends Se{constructor(e){super(Ch,e)}}const Lh={targets:[],repeat:-1,yoyo:!0,duration:33,ease:Phaser.Math.Easing.Sine.InOut,props:{x:5}};class to extends Se{posX;constructor(e){super(Lh,e),this.config?.props&&(this.posX=this.config.props.x,this.tween?.on(Phaser.Tweens.Events.TWEEN_REPEAT,this.handleSwitchPosition))}handleSwitchPosition=()=>{this.posX=-this.posX,this.tween?.updateTo("x",-this.posX)}}const Dh={targets:[],props:{alpha:{duration:500,value:{start:0,from:0,to:1},ease:Phaser.Math.Easing.Cubic.Out},scale:{duration:1e3,value:{start:.8,from:.8,to:1},ease:Phaser.Math.Easing.Elastic.Out,easeParams:[.1,.45]}}};class Nh extends Se{constructor(e){super(Dh,e)}}const B={PRIMARY:{KEY:"Roboto-Black-Normal",TEXTURE:"./assets/fonts/Roboto-Black-Normal.png",DATA:"./assets/fonts/Roboto-Black-Normal.xml"},SHADOW:{KEY:"Roboto-Black-Shadow",TEXTURE:"./assets/fonts/Roboto-Black-Shadow.png",DATA:"./assets/fonts/Roboto-Black-Shadow.xml"},RED_STROKE:{KEY:"Roboto-Black-Red-Stroke",TEXTURE:"./assets/fonts/Roboto-Black-Red-Stroke.png",DATA:"./assets/fonts/Roboto-Black-Red-Stroke.xml"},WHITE_AND_STROKE:{KEY:"Roboto-Black-White-Stroke",TEXTURE:"./assets/fonts/Roboto-Black-White-Stroke.png",DATA:"./assets/fonts/Roboto-Black-White-Stroke.xml"},YELLOW_AND_STROKE:{KEY:"Roboto-Black-Yellow-Stroke",TEXTURE:"./assets/fonts/Roboto-Black-Yellow-Stroke.png",DATA:"./assets/fonts/Roboto-Black-Yellow-Stroke.xml"},FONT_FAMILY:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif'},{KEY:hs,FRAME:Tt}=A.GAMEPLAY;class ke extends Phaser.GameObjects.Container{scene;isActive=!0;isFree;isDisabled;amount;autoRunUpAnimation=!0;item;bg;amountItem;amountText;amountBg;itemLock;itemLockText;showItemAnimation;bubbleAnimation;shakeAnimation;parentName;callback;constructor(e,t,s,i){super(e),this.scene=e,this.isFree=!1,this.isDisabled=!1,this.createBg(),this.createItem(t,s,i),this.createAmountText(),this.createItemLock(),this.createAnimations(),this.setDepth(K.ITEM),this.scene.add.existing(this)}activeItem(){this.isActive=!0,this.showItemAnimation.play()}deactivateItem(){this.isActive=!1}enableItem(){this.isDisabled!==!1&&(this.item.setAlpha(1),this.isDisabled=!1,this.setInteractive({useHandCursor:!0}))}disableItem(){this.isDisabled!==!0&&(this.deactivateItem(),this.item.setAlpha(.4),this.isDisabled=!0,this.disableInteractive())}setFreeMode(e,t=!1){t||this.amountItem.setVisible(!e),this.isFree=e}getIsFree(){return this.isFree}set onClick(e){const{width:t,height:s}=this.bg;this.setSize(t,s+16),this.setInteractive({useHandCursor:!0}),this.callback=e,this.on(Phaser.Input.Events.GAMEOBJECT_POINTER_UP,this.handlePointerUp)}handlePointerUp=()=>{this.logItemEvent(),this.callback&&(this.scene.audio.playSound(X.GENERAL_BUTTON_CLICK),this.callback())};logItemEvent(){if(this.isActive)return;const e=this.getParentName(),t=this.name;this.scene.analytics.event(Y.BUTTON_CLICK,{button_name:t,screen_name:e})}getParentName(){if(this.parentName)return this.parentName;let e=this.parentContainer;for(;e;){if(e instanceof GameCore.Screen){const t=e;return this.parentName=t.getScreenName(),this.parentName}e=e.parentContainer}return this.parentName=this.scene.getSceneName(),this.parentName}createBg(){this.bg=this.scene.add.image(0,0,hs,Tt.ITEM_BG_ITEM),this.bg.setWorldSize(48,48),this.add(this.bg)}createItem(e,t,s){this.item=this.scene.add.image(0,0,hs,e),this.item.setWorldSize(t,s),Phaser.Display.Align.In.Center(this.item,this.bg,0,-3),this.add(this.item)}createAmountText(){this.amountItem=this.scene.add.container();const e=this.scene.lang.getCurrentLanguage();let t=10;switch(e){case"fr":t=8;break}this.amountText=this.scene.make.bitmapText({font:B.PRIMARY.KEY,size:this.scene.fontSize(t),origin:{x:.5,y:.5}}),this.amountText.setTint(8205077),this.amountText.setCenterAlign(),this.amountBg=this.scene.make.image({key:hs,frame:Tt.ITEM_BG_AMOUNT}),this.amountBg.setWorldSize(22,16),Phaser.Display.Align.In.Center(this.amountText,this.amountBg,0,-2),this.amountItem.add([this.amountBg,this.amountText]),Phaser.Display.Align.In.TopRight(this.amountItem,this.bg,-10,-2),this.add(this.amountItem),this.setAmount(0)}createItemLock(){this.itemLock=this.scene.make.image({key:hs,frame:Tt.NOTE_LOCK}),this.itemLock.setWorldSize(22,16),Phaser.Display.Align.In.TopRight(this.itemLock,this.bg,2,6),this.add(this.itemLock),this.itemLock.setVisible(!1),this.itemLockText=this.scene.make.bitmapText({font:B.WHITE_AND_STROKE.KEY,size:this.scene.fontSize(10),origin:{x:.5,y:.5},text:""}),this.itemLockText.setCenterAlign(),Phaser.Display.Align.In.BottomCenter(this.itemLockText,this.bg,0,1),this.add(this.itemLockText),this.itemLockText.setVisible(!1)}setAmount(e,t=!0){if(this.amount=e,t===!1)return;const s=this.amount<=0,i=this.scene.lang.getCurrentLanguage(),o=10;let r=10,l=Tt.NOTE_FREE;switch(i){case"fr":r=8;break;case"tr":case"de":case"it":case"zh":l=Tt.NOTE_FREE_LONG;break}if(this.amountBg){const c=s?l:Tt.ITEM_BG_AMOUNT;this.amountBg.setFrame(c)}let n=e.toString();this.amountText.setTint(8205077),this.amountText.setFontSize(this.scene.fontSize(o)),s&&(n=this.scene.lang.Text.free,this.amountText.setTint(3355443),this.amountText.setFontSize(this.scene.fontSize(r))),this.amountText.setText(n)}createAnimations(){const{scale:e}=this.item;this.showItemAnimation=new Nh({targets:[this.item],props:{scale:{duration:1e3,value:{start:e*.8,from:e*.8,to:e},ease:Phaser.Math.Easing.Elastic.Out,easeParams:[.1,.45]}}}),this.bubbleAnimation=new cs({targets:[this.item],props:{scale:{from:e,to:e*1.2}}}),this.shakeAnimation=new to({targets:[this.amountText],repeat:3,props:{x:4}})}}const{ID:fs}=L.BOMB_DEFUSE,{FRAME:Ft}=A.GAMEPLAY;class so extends ke{scene;isRunning=!1;constructor(e){super(e,Ft.DEFUSE_ITEM,26,34.5),this.scene=e,this.setName(fs),this.itemLockText.setText("Level 7"),this.onClick=this.handleUseItem}handleUseItem=()=>{if(this.isRunning)return;const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(fs);return}if(!e.activeItem(fs)){this.shakeAnimation.play();return}this.useItem()};useItem(){const{tileManager:e,itemManager:t}=this.scene;!this.isActive||this.isRunning||(this.isRunning=!0,this.defuseBomb(),e.emitInteraction(),t.updateBombDefuseItemState(),this.showItemAnimation.tween?.once(Phaser.Tweens.Events.TWEEN_COMPLETE,()=>{this.isRunning=!1,t.deactivateItem(fs)}))}defuseBomb(){const{tileManager:e}=this.scene,t=e.getAliveTiles();for(let s=0;s<t.length;s++){const i=t[s];if(i instanceof We&&!i.isDefuse()){i.handleBombDefuse();return}}}disableItem(){super.disableItem();const{levelHandler:e}=this.scene,{level:t}=e.getConfigs();this.item.setAlpha(1),this.item.setFrame(Ft.ITEM_DEFUSE_LOCK),this.bg.setFrame(Ft.ITEM_BG_LOCK),t<7?this.setVisible(!1):(this.itemLock.setVisible(!1),this.itemLockText.setVisible(!1),this.amountItem.setVisible(!0))}enableItem(){super.enableItem();const{levelHandler:e}=this.scene,{level:t}=e.getConfigs();this.item.setAlpha(1),t>=7&&this.setVisible(!0),this.item.setFrame(Ft.DEFUSE_ITEM),this.bg.setFrame(Ft.ITEM_BG_ITEM),this.amountItem.setVisible(!0),this.itemLock.setVisible(!1),this.itemLockText.setVisible(!1)}}const{ID:ps}=L.GUIDE_BOMB_DEFUSE;class Ha extends so{constructor(e){super(e),this.setName(ps),this.callback=this.handleUseGuideItem}handleUseGuideItem=()=>{if(this.isRunning)return;const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(ps);return}if(!e.activeItem(ps)){this.shakeAnimation.play();return}this.useItem()};useItem(){const{tileManager:e,itemManager:t,tutorialManager:s}=this.scene;if(!this.isActive||this.isRunning)return;this.isRunning=!0;const i=e.getAliveTiles();for(let o=0;o<i.length;o++){const r=i[o];if(r instanceof We&&!r.isDefuse()){const{x:l,y:n}=r.getWorldPosition(),c=r.block.displayWidth,u=r.block.displayHeight;//! wait for handle pointer down in guide complete
this.scene.time.delayedCall(0,()=>{this.scene.input.setTopOnly(!0),this.scene.tweens.killTweensOf(s.background),s.background.clearMask(!0),s.createMask(l-c/2,n-u/2,c,u,3),this.scene.time.delayedCall(1500,()=>{this.scene.input.setTopOnly(!1),r.handleBombDefuse(),e.emitInteraction(),s.runHideMaskAnimation(),this.isRunning=!1,t.deactivateItem(ps)})});return}}e.emitInteraction()}enableItem(){super.enableItem();const{levelHandler:e}=this.scene,{level:t}=e.getConfigs();t>7&&this.setVisible(!1)}}const{ID:Wo}=L.CHANGE_COLOR,{KEY:Gh,FRAME:Qs}=A.GAMEPLAY,{SPECIALS:Fh}=V,{BOMB:zo,ROCKET:jo}=Fh;class Ya extends ke{scene;index;colors;color;constructor(e){super(e,Qs.ROCKET_ITEM,25,25),this.scene=e,this.index=0,this.colors=new Array(28).fill(null).map((t,s)=>`${s+1}`),this.colors.push(zo),this.colors.push(jo),this.setAmount(999),this.onClick=()=>{const{itemManager:t}=this.scene;console.info("ðŸš€ > this.isActive",this.isActive),console.info("ðŸš€ > this.isDisabled",this.isDisabled),this.isActive?t.deactivateItem(Wo):t.activeItem(Wo)},this.on(Phaser.Input.Events.GAMEOBJECT_POINTER_WHEEL,this.handleWheel)}handleWheel=Bi(e=>{this.isActive&&(this.isDisabled||(e.deltaY>0?this.nextColor():this.prevColor()))},250,{isImmediate:!0,maxWait:200});nextColor(){this.color=this.colors[this.index],this.index+=1,this.index>=this.colors.length&&(this.index=0),this.changeColor(this.color)}prevColor(){this.color=this.colors[this.index],this.index-=1,this.index<=0&&(this.index=this.colors.length-1),this.changeColor(this.color)}changeColor(e){if(this.item.setTexture(Gh),e===zo)this.item.setFrame(Qs.ICON_BOMB);else if(e===jo)this.item.setFrame(Qs.TILE_ROCKET);else{const t=this.scene.tileManager.getCurrentDeck();this.item.setFrame(t+e)}this.item.setWorldSize(25,25)}activeItem=()=>{this.isActive=!0,this.setAlpha(1)};deactivateItem=()=>{super.deactivateItem(),this.setAlpha(.7)};useItem(e){if(!this.isActive)return!1;const{tileManager:t}=this.scene;return t.tilesChangeColor(this.color,[e]),!0}}const nt={COMBO:"combo",RESET:"reset"},{ID:Bt}=L.ROCKET,{FRAME:Ut}=A.GAMEPLAY;class io extends ke{scene;isRunning=!1;usingTimer;constructor(e){super(e,Ut.ROCKET_ITEM,23,36),this.scene=e,this.setName(Bt),this.itemLockText.setText("Level 11"),this.onClick=this.handleUseItem}activeItem(){super.activeItem(),this.amountItem.kill()}deactivateItem(){super.deactivateItem(),this.amountItem.revive(),this.isDisabled&&this.amountItem.setVisible(!1)}handleUseItem=()=>{if(this.isRunning)return;const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(Bt);return}if(!e.activeItem(Bt)){this.shakeAnimation.play();return}this.useItem()};useItem(){const{tileManager:e}=this.scene;if(!this.isActive||this.isRunning)return;const t=e.getPairsOfTilesCanCapture(2);t.length===4&&(this.isRunning=!0,e.isSelectable=!1,e.emitInteraction(),e.removeSuggestPairHint(),this.scene.time.delayedCall(300,()=>{this.runEffectAndCapture(t)}))}runEffectAndCapture(e){const{tileManager:t,effectManager:s,itemManager:i}=this.scene,o=[],r=[];e.forEach(n=>{const{x:c,y:u}=n.getWorldPosition(),m=n.block.displayWidth,d=n.block.displayHeight;r.push({x:c,y:u}),o.push({x:c-m/2,y:u-d/2,width:m,height:d,radius:3})});const l=i.getItem(Bt);l&&o.push({x:l.x-(l.displayWidth-4*l.scale)/2,y:l.y-l.displayHeight/2+7*l.scale,width:(l.width-4)*l.scale,height:(l.width-4)*l.scale,radius:(l.width-4)*l.scale/2}),i.createMultiMask(o),e.forEach(n=>{n.setState(V.STATUS.CAPTURING),n.setIsBreakWhenExplosive(!0)}),this.usingTimer?.remove(),this.usingTimer=this.scene.time.addEvent({delay:100,repeat:-1,callback:()=>{t.isSelectable=!1}}),s.playRocketEffect(r,()=>{this.scene.events.emit(nt.COMBO),t.tilesCapturing([e[0],e[1]])},()=>{this.scene.events.emit(nt.COMBO),t.tilesCapturing([e[2],e[3]]),this.isRunning=!1,this.usingTimer?.remove(),i.deactivateItem(Bt),i.setIsUseableItem(!1)})}disableItem(){super.disableItem(),this.item.setAlpha(1);const{levelHandler:e}=this.scene,{level:t}=e.getConfigs();this.item.setFrame(Ut.ITEM_ROCKET_LOCK),this.bg.setFrame(Ut.ITEM_BG_LOCK),t<11?this.setVisible(!1):(this.amountItem.setVisible(!0),this.itemLock.setVisible(!1),this.itemLockText.setVisible(!1))}enableItem(){super.enableItem();const{levelHandler:e}=this.scene,{level:t}=e.getConfigs();this.item.setAlpha(1),t>=11&&this.setVisible(!0),this.item.setFrame(Ut.ROCKET_ITEM),this.bg.setFrame(Ut.ITEM_BG_ITEM),this.amountItem.setVisible(!0),this.itemLock.setVisible(!1),this.itemLockText.setVisible(!1)}}const{STATUS:ei}=ns,{BOMB_DEFUSE:ti,ROCKET:Vo,AUTO_MATCH:$o}=L,{KEY:Bh,FRAME:Uh}=A.GAMEPLAY;class Hh extends Ce{scene;isUseableItem=!1;items={};itemActive="";currentHideableObjects;background;maskGraphics;constructor(e){super(e),this.scene=e,this.createBackground(),this.createItems(),this.currentHideableObjects=[],F.on(G.TILE_SHOWED_UP,this.handleTileShowedUp),this.scene.events.on(V.EVENTS.CAPTURING,this.handleItemState)}init(){for(const e in this.items)this.enableItem(e),this.deactivateItem(e),this.updateItemAmount(e);this.setState(ei.READY)}start(){this.isRunning()||(this.updateItemState(),this.setIsUseableItem(!1),this.setState(ei.RUNNING))}increaseItem(e,t){const s=this.scene.player.getCustomData("items");if(!GameCore.Utils.Valid.isObject(s))return;let i="";switch(e){case"ItemBombDefuse":i=ti.ID;break;case"ItemHint":i=L.HINT.ID;break;case"ItemShuffle":i=L.SHUFFLE.ID;break;case"ItemRocket":i=Vo.ID;break}const o=s[i];if(!GameCore.Utils.Valid.isNumber(o))return;const r=this.items[i].amount+t;this.scene.player.setCustomData("items",{[this.items[i].name]:r})}stop(){this.isRunning()&&(this.setIsUseableItem(!1),this.setState(ei.STOPPED))}handleTileShowedUp=()=>{this.setIsUseableItem(!0)};handleItemState=()=>{this.setIsUseableItem(!1),this.updateRocketItemState(),this.updateBombDefuseItemState()};setIsUseableItem(e){this.isUseableItem!==e&&(this.isUseableItem=e)}getIsUseableItem(){return this.isUseableItem}updateItemAmount(e){const t=this.items[e];if(!t)return;const s=this.scene.player.getCustomData("items");if(!GameCore.Utils.Valid.isObject(s))return;const i=s[e];GameCore.Utils.Valid.isNumber(i)&&(console.info("ðŸš€ > updateAmount",{id:e,amount:i}),t.setAmount(i))}addItemAmount(e,t,s=!0){const i=this.items[e];if(!i||!GameCore.Utils.Valid.isNumber(t))return;const o=i.amount+t;i.setAmount(o,s),this.scene.player.setCustomData("items",{[i.name]:o})}updateItemState(){const{levelHandler:e}=this.scene;e.isLevelHaveBomb()||this.disableItem(L.BOMB_DEFUSE.ID)}activeItem(e){if(!this.isRunning())return!1;const{tutorialManager:t,tileManager:s}=this.scene,{tutorialId:i}=t,o=i===e,r=e===$o.ID;if(!this.isUseableItem&&!o&&!r||!this.items[e]||this.itemActive&&this.itemActive!==e)return!1;if(!this.items[e].getIsFree()&&this.items[e].amount<1&&e!==L.INVITE.ID){const{screenManager:l}=this.scene;return l.showRewardItemScreen(e,1),!1}if(e===ti.ID&&!s.isHavingBomb())return!1;for(const l in this.items)l!==$o.ID&&this.deactivateItem(l,!1);if(r||(this.itemActive=e),this.items[e].activeItem(),this.setIsUseableItem(!1),!this.items[e].getIsFree()&&e!==L.INVITE.ID){const l=this.items[e].amount-1;this.items[e].setAmount(l),this.scene.player.setCustomData("items",{[this.items[e].name]:l})}return this.scene.game.analytics.event(Y.USE_ITEM,{item_name:e===L.GUIDE_BOMB_DEFUSE.ID?L.BOMB_DEFUSE.ID:e}),!0}enableItem(e){this.items[e]&&this.items[e].enableItem()}disableItem(e){this.items[e]&&this.items[e].disableItem()}setFreeItem(e){this.items[e]&&this.items[e].setFreeMode(!0)}setPaidItem(e,t=!1){this.items[e]&&this.items[e].setFreeMode(!1,t)}setDepthItemOnTop(e){this.items[e]&&this.items[e].setDepth(K.ON_TOP)}setDepthItemNormal(e){this.items[e]&&this.items[e].setDepth(K.ITEM)}deactivateItem(e,t=!0){this.items[e]&&(this.itemActive="",this.items[e].deactivateItem(),t&&this.hideMask(),this.setIsUseableItem(!0))}getActiveItem(){if(this.isRunning()&&this.items[this.itemActive])return this.items[this.itemActive]}createMultiMask(e){this.maskGraphics?.destroy(),this.maskGraphics=this.scene.make.graphics({fillStyle:{color:16711680,alpha:1}}),this.maskGraphics.setName("MaskGraphics"),e.forEach(t=>{this.maskGraphics.fillRoundedRect(t.x,t.y,t.width,t.height,t.radius)}),this.background.revive(),this.background.clearMask(!0),this.background.setMask(this.maskGraphics.createGeometryMask()),this.background.mask.invertAlpha=!0,this.showMask()}showMask(){if([L.ROCKET.ID].indexOf(this.itemActive)===-1)return;this.scene.tweens.killTweensOf(this.currentHideableObjects),this.scene.tweens.killTweensOf([this.background]);const{layoutManager:e}=this.scene,{groups:t}=e;switch(t.gameUI.killGroup(),this.itemActive){case L.ROCKET.ID:{const s=this.items[L.ROCKET.ID];s instanceof io&&s.setVisible(!0)}break}this.currentHideableObjects=t.gameUI.getMatching("visible",!1),this.currentHideableObjects.forEach(s=>{s.setVisible(!0)}),this.scene.add.tween({targets:this.currentHideableObjects,duration:400,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:0}}),this.background.setAlpha(0),this.scene.add.tween({targets:[this.background],duration:400,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:.6}})}hideMask(){if(!this.currentHideableObjects.length)return;const e=[this.scene.background,...this.currentHideableObjects];this.scene.tweens.killTweensOf(e),this.scene.add.tween({targets:this.currentHideableObjects,duration:400,ease:Phaser.Math.Easing.Quadratic.In,props:{alpha:1},onComplete:()=>{const{groups:t}=this.scene.layoutManager;t.gameUI.reviveGroup(),this.currentHideableObjects=[]}}),this.scene.add.tween({targets:[this.background],duration:400,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:0},onComplete:()=>{this.background.kill()}})}applyItem(e){if(!this.isRunning()||!this.getActiveItem())return!1;let s=!1;switch(this.itemActive){case L.CHANGE_COLOR.ID:{const i=this.items[L.CHANGE_COLOR.ID];i instanceof Ya&&(s=i.useItem(e))}break;default:return!1}return s}getItems(){const e=[];return Object.values(this.items).forEach(t=>{t instanceof Ha||e.push(t)}),e}getItem(e){return this.items[e]||null}updateBombDefuseItemState(){const{tileManager:e,itemManager:t}=this.scene;e.isHavingBomb()||t.disableItem(ti.ID)}updateRocketItemState(){const{tileManager:e,itemManager:t}=this.scene;e.getAliveTiles().length<4&&t.disableItem(Vo.ID)}createBackground(){this.background=this.scene.make.image({key:Bh,frame:Uh.BLANK}),this.background.setTint(0),this.background.setDepth(K.TILE+1);const{displayWidth:e,displayHeight:t}=this.scene.gameZone,s=e+100,i=t+100;this.background.setDisplaySize(s,i),Phaser.Display.Align.In.Center(this.background,this.scene.gameZone),this.background.kill()}createItems(){this.createHintItem(),this.createRocketItem(),this.createDefuseItem(),this.createGuideDefuseItem(),this.createShuffleItem(),this.createNewGameItem(),this.createTimeUpItem(),this.createAutoMatchItem(),this.createResetDataItem(),this.createBackLevelItem(),this.createNextLevelItem(),this.createChangeColorItem(),this.createBombExplosiveItem()}createHintItem(){const{objects:e}=this.scene.layoutManager;this.items[L.HINT.ID]=e.hintItem}createShuffleItem(){const{objects:e}=this.scene.layoutManager;this.items[L.SHUFFLE.ID]=e.shuffleItem}createDefuseItem(){const{objects:e}=this.scene.layoutManager;this.items[L.BOMB_DEFUSE.ID]=e.defuseItem}createGuideDefuseItem(){const{objects:e}=this.scene.layoutManager;this.items[L.GUIDE_BOMB_DEFUSE.ID]=e.guideDefuseItem}createRocketItem(){const{objects:e}=this.scene.layoutManager;this.items[L.ROCKET.ID]=e.rocketItem}createNewGameItem(){const{objects:e}=this.scene.layoutManager;e.newGame&&(this.items[L.NEW_GAME.ID]=e.newGame)}createChangeColorItem(){const{objects:e}=this.scene.layoutManager;e.changeColor&&(this.items[L.CHANGE_COLOR.ID]=e.changeColor)}createResetDataItem(){const{objects:e}=this.scene.layoutManager;e.resetData&&(this.items[L.RESET_DATA.ID]=e.resetData)}createBackLevelItem(){const{objects:e}=this.scene.layoutManager;e.backLevel&&(this.items[L.BACK_LEVEL.ID]=e.backLevel)}createNextLevelItem(){const{objects:e}=this.scene.layoutManager;e.nextLevel&&(this.items[L.NEXT_LEVEL.ID]=e.nextLevel)}createBombExplosiveItem(){const{objects:e}=this.scene.layoutManager;e.bombExplosive&&(this.items[L.BOMB_EXPLOSIVE.ID]=e.bombExplosive)}createTimeUpItem(){const{objects:e}=this.scene.layoutManager;e.timeUp&&(this.items[L.TIME_UP.ID]=e.timeUp)}createAutoMatchItem(){const{objects:e}=this.scene.layoutManager;e.autoMatch&&(this.items[L.AUTO_MATCH.ID]=e.autoMatch)}}const be={NORMAL:"normal",FALL_DOWN:"fall-down",FLY_UP:"fly-up",PUSH_LEFT:"push-left",PUSH_RIGHT:"push-right",PUT_ROWS_MIDDLE:"put-rows-middle",PUT_COLUMNS_MIDDLE:"put-columns-middle",FLY_UP_PUSH_LEFT:"fly-up-push-left",FLY_UP_PUSH_RIGHT:"fly-up-push-right",FALL_DOWN_PUSH_LEFT:"fall-down-push-left",FALL_DOWN_PUSH_RIGHT:"fall-down-push-right",FLY_UP_PUT_COLUMNS_MIDDLE:"fly-up-put-columns-middle",FALL_DOWN_PUT_COLUMNS_MIDDLE:"fall-down-put-columns-middle"},Yh={MAX_SPACE_OF_PAIR:"maxSpaceOfPair",ADD_RANDOM_TILES_PER_MOVE:"addRandomTilesPerMove"},bs={BIRD:"BIRD",CAKE:"CAKE",FRUIT:"FRUIT",CANDY:"CANDY"},Kh=[{level:1,mode:"normal",time:900,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:1,addRandomTilesPerMove:0},columns:5,rows:6,theme:["fruit"],customFen:{code:"",portraitCode:":t01t02t03t03t04:t05t06t05t07t08:t04t09i01t09t07:t10t02i01i01t06:t08t10i01i01t01",desktopCode:":t01t02t03t03t04:t05t06t05t07t08:t04t09i01t09t07:t10t02i01i01t06:t08t10i01i01t01",rows:5,columns:5}},{level:2,mode:"normal",time:900,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["cake"],customFen:{code:"",portraitCode:":t01t02t01t03t04:t05t04t02t06t03:t07t08t08t06t02:t05t09t02t08t07:t10t06t08t10t07:t04t09t05t03t01:t10t10t07t09t09:t01t04t05t03t06",desktopCode:":t01t05t07t05t10t04t10t01:t02t04t08t09t06t09t10t04:t01t02t08t02t08t05t07t05:t03t06t06t08t10t03t09t03:t04t03t02t07t07t01t09t06",rows:8,columns:5}},{level:3,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:3,addRandomTilesPerMove:0},columns:5,rows:8,theme:["candy"],customFen:{code:"",portraitCode:":t01t02t03t02t04:t05t04t06t04t03:t03t06t07t08t07:t01t03t05t02t05:t01t08t08t09t01:t07t09t09t07t10:t02t08t10t06t10:t04t05t06t10t09",desktopCode:":t01t05t03t01t01t07t02t04:t02t04t06t03t08t09t08t05:t03t06t07t05t08t09t10t06:t02t04t08t02t09t07t06t10:t04t03t07t05t01t10t10t09",rows:8,columns:5}},{level:4,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:2,addRandomTilesPerMove:0},columns:5,rows:8,theme:["flower"],customFen:{code:"",portraitCode:":t04t02t03t04t05:t01t06t01t05t07:t05t08t04t09t09:t02t04t02t08t07:t10t10t10t06t08:t03t05t09t01t07:t10t09t03t01t03:t06t07t02t06t08",desktopCode:":t04t01t05t02t10t03t10t06:t02t06t08t04t10t05t09t07:t03t01t04t02t10t09t03t02:t04t05t09t08t06t01t01t06:t05t07t09t07t08t07t03t08",rows:8,columns:5}},{level:5,mode:"push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:1,addRandomTilesPerMove:0},columns:5,rows:8,theme:["food"]},{level:6,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:2,addRandomTilesPerMove:0},columns:5,rows:8,theme:["umbrella"]},{level:7,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:2,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit"]},{level:8,mode:"normal",time:130,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:2,addRandomTilesPerMove:0},columns:6,rows:10,theme:["candy"]},{level:9,mode:"normal",time:130,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["cake"]},{level:10,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["flower"]},{level:11,mode:"fly-up-push-right",time:160,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["food"]},{level:12,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit"]},{level:13,mode:"normal",time:130,colors:15,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["candy"]},{level:14,mode:"fall-down",time:180,colors:14,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:12,theme:["cake"]},{level:15,mode:"push-right",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["umbrella"]},{level:16,mode:"fall-down-push-right",time:100,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit"]},{level:17,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["flower"]},{level:18,mode:"fall-down-push-left",time:100,colors:16,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["food"]},{level:19,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["cake"]},{level:20,mode:"fly-up-push-left",time:160,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["bird"]},{level:21,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:22,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:23,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:24,mode:"normal",time:100,colors:13,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:25,mode:"fly-up",time:160,colors:15,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:26,mode:"push-left",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:27,mode:"normal",time:180,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:28,mode:"push-right",time:100,colors:18,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:29,mode:"fall-down-push-right",time:130,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:30,mode:"fly-up-push-right",time:130,colors:14,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:31,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:32,mode:"fly-up-put-columns-middle",time:160,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:33,mode:"normal",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:34,mode:"put-columns-middle",time:100,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:35,mode:"fall-down",time:160,colors:15,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:36,mode:"fly-up-push-left",time:130,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:37,mode:"normal",time:130,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:38,mode:"fall-down-push-left",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:39,mode:"fall-down",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:40,mode:"put-columns-middle",time:160,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:41,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:42,mode:"fall-down",time:130,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:43,mode:"fly-up-put-columns-middle",time:160,colors:13,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:44,mode:"normal",time:130,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:45,mode:"normal",time:160,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:46,mode:"push-left",time:130,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:47,mode:"put-columns-middle",time:180,colors:15,specials:{bomb:1,rocket:4},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:48,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:49,mode:"normal",time:130,colors:27,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:50,mode:"fall-down",time:160,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:51,mode:"push-right",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:52,mode:"fly-up-put-columns-middle",time:100,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:53,mode:"normal",time:160,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:54,mode:"fly-up",time:130,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:55,mode:"normal",time:160,colors:28,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:56,mode:"normal",time:130,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:57,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:58,mode:"normal",time:130,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:59,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:60,mode:"normal",time:130,colors:21,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:61,mode:"put-rows-middle",time:160,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:62,mode:"fly-up",time:100,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:63,mode:"fall-down",time:180,colors:13,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:64,mode:"fly-up-put-columns-middle",time:160,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:65,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:66,mode:"normal",time:160,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:67,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:68,mode:"fall-down",time:130,colors:25,specials:{bomb:0,rocket:4},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:69,mode:"fly-up",time:160,colors:15,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:70,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:71,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:72,mode:"push-right",time:130,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:73,mode:"normal",time:160,colors:18,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:74,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:75,mode:"fall-down",time:160,colors:18,specials:{bomb:2,rocket:4},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:76,mode:"fall-down-push-left",time:100,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:77,mode:"normal",time:160,colors:26,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:78,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:79,mode:"put-rows-middle",time:100,colors:19,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:80,mode:"fly-up-push-right",time:180,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:81,mode:"normal",time:130,colors:14,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:82,mode:"fall-down",time:160,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:83,mode:"normal",time:130,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:84,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:85,mode:"normal",time:160,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:86,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:87,mode:"normal",time:130,colors:19,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:88,mode:"normal",time:160,colors:24,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:89,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:90,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:91,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:92,mode:"fall-down",time:160,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:93,mode:"normal",time:130,colors:15,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:94,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:95,mode:"put-columns-middle",time:130,colors:28,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:96,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:97,mode:"fly-up",time:180,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:98,mode:"normal",time:160,colors:24,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:99,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:100,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:101,mode:"put-columns-middle",time:180,colors:16,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:102,mode:"fall-down-put-columns-middle",time:180,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:103,mode:"normal",time:160,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:104,mode:"put-columns-middle",time:180,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:105,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:106,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:107,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:108,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:109,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:110,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:111,mode:"fall-down-push-right",time:160,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:112,mode:"normal",time:160,colors:25,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:113,mode:"normal",time:160,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:114,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:115,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:116,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:117,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:118,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:119,mode:"normal",time:160,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:120,mode:"fall-down-put-columns-middle",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:121,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:122,mode:"normal",time:130,colors:26,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:123,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:124,mode:"fly-up",time:130,colors:25,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:125,mode:"normal",time:160,colors:22,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:126,mode:"fly-up-push-right",time:130,colors:26,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:127,mode:"fall-down-push-left",time:100,colors:16,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:128,mode:"normal",time:130,colors:26,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:129,mode:"normal",time:160,colors:24,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:130,mode:"fall-down",time:160,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:131,mode:"normal",time:160,colors:19,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:132,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:133,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:134,mode:"fall-down-push-left",time:160,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:135,mode:"fly-up",time:130,colors:26,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:136,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:137,mode:"fall-down-push-left",time:100,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:138,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:139,mode:"push-left",time:130,colors:27,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:140,mode:"fall-down",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:141,mode:"push-right",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:142,mode:"push-right",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:143,mode:"fly-up",time:130,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:144,mode:"push-left",time:130,colors:15,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:145,mode:"normal",time:180,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:146,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:147,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:148,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:149,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:150,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:151,mode:"normal",time:100,colors:18,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:152,mode:"normal",time:130,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:153,mode:"fly-up",time:160,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:154,mode:"normal",time:180,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:155,mode:"fall-down-push-left",time:160,colors:16,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:156,mode:"fly-up-push-right",time:160,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:157,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:158,mode:"fall-down-push-right",time:160,colors:26,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:159,mode:"normal",time:160,colors:17,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:160,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:161,mode:"normal",time:100,colors:15,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:162,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:163,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:164,mode:"normal",time:130,colors:17,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:165,mode:"normal",time:130,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:166,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:167,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:168,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:169,mode:"fly-up-put-columns-middle",time:130,colors:21,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:170,mode:"push-right",time:180,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:171,mode:"fly-up-push-right",time:130,colors:13,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:172,mode:"fly-up",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:173,mode:"push-right",time:100,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:174,mode:"fall-down-put-columns-middle",time:100,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:175,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:176,mode:"normal",time:160,colors:14,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:177,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:178,mode:"push-right",time:160,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:179,mode:"fly-up-push-right",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:180,mode:"normal",time:130,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:181,mode:"normal",time:180,colors:25,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:182,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:183,mode:"normal",time:100,colors:19,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:184,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:185,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:186,mode:"fly-up",time:160,colors:14,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:187,mode:"push-right",time:160,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:188,mode:"fly-up-push-right",time:180,colors:13,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:189,mode:"push-left",time:130,colors:25,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:190,mode:"normal",time:160,colors:13,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:191,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:192,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:193,mode:"fly-up-push-left",time:130,colors:19,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:194,mode:"push-left",time:100,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:195,mode:"fly-up",time:100,colors:17,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:196,mode:"fall-down-push-left",time:100,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:197,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:198,mode:"push-left",time:100,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:199,mode:"fall-down-put-columns-middle",time:160,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:200,mode:"normal",time:100,colors:19,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:201,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:202,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:203,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:204,mode:"fall-down-push-left",time:130,colors:13,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:205,mode:"fly-up-push-left",time:100,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:206,mode:"fly-up-put-columns-middle",time:160,colors:18,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:207,mode:"put-rows-middle",time:100,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:208,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:209,mode:"fly-up-push-left",time:100,colors:14,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:210,mode:"push-left",time:100,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:211,mode:"fall-down-push-left",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:212,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:213,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:214,mode:"fly-up-push-right",time:100,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:215,mode:"normal",time:130,colors:14,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:216,mode:"normal",time:160,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:217,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:218,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:219,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:220,mode:"fly-up-push-right",time:160,colors:24,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:221,mode:"normal",time:130,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:222,mode:"normal",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:223,mode:"normal",time:100,colors:18,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:224,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:225,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:226,mode:"fly-up",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:227,mode:"fly-up-push-right",time:130,colors:26,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:228,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:229,mode:"normal",time:100,colors:16,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:230,mode:"fall-down",time:100,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:231,mode:"push-right",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:232,mode:"push-right",time:130,colors:14,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:233,mode:"fall-down-push-right",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:234,mode:"normal",time:160,colors:22,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:235,mode:"normal",time:160,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:236,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:237,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:238,mode:"normal",time:160,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:239,mode:"push-right",time:160,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:240,mode:"normal",time:130,colors:15,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:241,mode:"fall-down-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:242,mode:"fall-down",time:130,colors:26,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:243,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:244,mode:"normal",time:160,colors:14,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:245,mode:"fall-down",time:130,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:246,mode:"fall-down-put-columns-middle",time:130,colors:13,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:247,mode:"normal",time:130,colors:27,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:248,mode:"normal",time:160,colors:23,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:249,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:250,mode:"put-rows-middle",time:100,colors:14,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:251,mode:"normal",time:160,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:252,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:253,mode:"fly-up",time:180,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:254,mode:"push-left",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:255,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:256,mode:"normal",time:130,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:257,mode:"put-rows-middle",time:160,colors:28,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:258,mode:"fall-down-push-left",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:259,mode:"put-rows-middle",time:130,colors:25,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:260,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:261,mode:"normal",time:100,colors:13,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:262,mode:"fall-down-push-left",time:100,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:263,mode:"normal",time:160,colors:28,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:264,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:265,mode:"normal",time:180,colors:17,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:266,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:267,mode:"normal",time:180,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:268,mode:"fall-down-push-left",time:130,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:269,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:270,mode:"normal",time:180,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:271,mode:"normal",time:100,colors:19,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:272,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:273,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:274,mode:"normal",time:130,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:275,mode:"normal",time:130,colors:16,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:276,mode:"fly-up",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:277,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:278,mode:"fall-down-put-columns-middle",time:180,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:279,mode:"fly-up-put-columns-middle",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:280,mode:"normal",time:160,colors:19,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:281,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:282,mode:"normal",time:130,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:283,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:284,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:285,mode:"normal",time:130,colors:16,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:286,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:287,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:288,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:289,mode:"normal",time:130,colors:27,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:290,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:291,mode:"fly-up-push-right",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:292,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:293,mode:"fly-up-push-left",time:100,colors:17,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:294,mode:"put-rows-middle",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:295,mode:"fly-up",time:160,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:296,mode:"put-columns-middle",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:297,mode:"normal",time:100,colors:17,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:298,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:299,mode:"fly-up-put-columns-middle",time:130,colors:19,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:300,mode:"put-columns-middle",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:301,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:302,mode:"normal",time:130,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:303,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:304,mode:"normal",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:305,mode:"fall-down",time:100,colors:18,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:306,mode:"push-right",time:160,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:307,mode:"fall-down",time:130,colors:17,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:308,mode:"normal",time:130,colors:23,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:309,mode:"fly-up-push-right",time:100,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:310,mode:"normal",time:130,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:311,mode:"fall-down",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:312,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:313,mode:"fall-down-put-columns-middle",time:130,colors:16,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:314,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:315,mode:"normal",time:130,colors:24,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:316,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:317,mode:"normal",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:318,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:319,mode:"fly-up-push-left",time:130,colors:14,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:320,mode:"fly-up-push-left",time:160,colors:23,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:321,mode:"normal",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:322,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:323,mode:"push-left",time:160,colors:26,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:324,mode:"push-right",time:130,colors:21,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:325,mode:"normal",time:130,colors:27,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:326,mode:"put-rows-middle",time:130,colors:28,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:327,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:328,mode:"push-left",time:130,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:329,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:330,mode:"push-right",time:160,colors:28,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:331,mode:"push-right",time:100,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:332,mode:"fly-up-put-columns-middle",time:100,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:333,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:334,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:335,mode:"fall-down-push-left",time:130,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:336,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:337,mode:"fly-up-push-right",time:160,colors:19,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:338,mode:"fall-down",time:160,colors:21,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:339,mode:"push-right",time:100,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:340,mode:"normal",time:160,colors:14,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:341,mode:"push-left",time:100,colors:16,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:342,mode:"normal",time:180,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:343,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:344,mode:"push-right",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:345,mode:"put-columns-middle",time:160,colors:13,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:346,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:347,mode:"normal",time:160,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:348,mode:"normal",time:130,colors:24,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:349,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:350,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:351,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:352,mode:"normal",time:100,colors:18,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:353,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:354,mode:"put-rows-middle",time:160,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:355,mode:"fly-up-put-columns-middle",time:130,colors:13,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:356,mode:"fly-up",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:357,mode:"normal",time:100,colors:14,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:358,mode:"push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:359,mode:"fall-down",time:100,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:360,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:361,mode:"fall-down-push-left",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:362,mode:"fly-up-put-columns-middle",time:130,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:363,mode:"fall-down",time:180,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:364,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:365,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:366,mode:"normal",time:130,colors:23,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:367,mode:"normal",time:130,colors:24,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:368,mode:"push-left",time:100,colors:16,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:369,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:370,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:371,mode:"normal",time:160,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:372,mode:"normal",time:130,colors:12,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:373,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:374,mode:"push-left",time:100,colors:16,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:375,mode:"push-right",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:376,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:377,mode:"normal",time:160,colors:22,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:378,mode:"put-columns-middle",time:160,colors:25,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:379,mode:"push-left",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:380,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:381,mode:"fly-up-push-left",time:180,colors:28,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:382,mode:"normal",time:130,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:383,mode:"fly-up",time:100,colors:18,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:384,mode:"fall-down",time:160,colors:22,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:385,mode:"fall-down-put-columns-middle",time:100,colors:18,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:386,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:387,mode:"fall-down",time:180,colors:19,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:388,mode:"fly-up-push-right",time:130,colors:26,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:389,mode:"push-left",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:390,mode:"fly-up-put-columns-middle",time:180,colors:13,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:391,mode:"normal",time:100,colors:13,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:392,mode:"normal",time:130,colors:16,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:393,mode:"fly-up-push-right",time:160,colors:26,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:394,mode:"normal",time:130,colors:26,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:395,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:396,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:397,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:398,mode:"push-left",time:160,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:399,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:400,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:401,mode:"fly-up-push-right",time:100,colors:16,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:402,mode:"fall-down",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:403,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:404,mode:"normal",time:160,colors:26,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:405,mode:"normal",time:160,colors:28,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:406,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:407,mode:"normal",time:100,colors:18,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:408,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:409,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:410,mode:"fall-down-put-columns-middle",time:160,colors:18,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:411,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:412,mode:"fall-down",time:160,colors:19,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:413,mode:"fall-down-put-columns-middle",time:160,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:414,mode:"fly-up",time:130,colors:24,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:415,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:416,mode:"push-right",time:160,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:417,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:418,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:419,mode:"push-left",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:420,mode:"put-columns-middle",time:130,colors:23,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:421,mode:"fly-up-put-columns-middle",time:100,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:422,mode:"fall-down-put-columns-middle",time:160,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:423,mode:"fly-up-put-columns-middle",time:160,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:424,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:425,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:426,mode:"fall-down",time:130,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:427,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:428,mode:"normal",time:130,colors:12,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:429,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:430,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:431,mode:"normal",time:130,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:432,mode:"put-rows-middle",time:100,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:433,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:434,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:435,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:436,mode:"push-right",time:160,colors:27,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:437,mode:"fall-down-push-right",time:130,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:438,mode:"put-columns-middle",time:130,colors:27,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:439,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:440,mode:"normal",time:160,colors:25,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:441,mode:"fly-up-put-columns-middle",time:160,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:442,mode:"push-right",time:160,colors:25,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:443,mode:"normal",time:160,colors:19,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:444,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:445,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:446,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:447,mode:"fall-down-push-left",time:180,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:448,mode:"fall-down-push-right",time:160,colors:25,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:449,mode:"put-columns-middle",time:160,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:450,mode:"push-right",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:451,mode:"fly-up-put-columns-middle",time:160,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:452,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:453,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:454,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:455,mode:"normal",time:160,colors:22,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:456,mode:"push-right",time:130,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:457,mode:"fly-up-put-columns-middle",time:160,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:458,mode:"fall-down-put-columns-middle",time:160,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:459,mode:"normal",time:100,colors:14,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:460,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:461,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:462,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:463,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:464,mode:"put-rows-middle",time:100,colors:13,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:465,mode:"normal",time:130,colors:24,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:466,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:467,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:468,mode:"push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:469,mode:"normal",time:160,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:470,mode:"normal",time:160,colors:17,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:471,mode:"fall-down-push-right",time:100,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:472,mode:"fall-down",time:160,colors:17,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:473,mode:"normal",time:160,colors:25,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:474,mode:"push-right",time:130,colors:25,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:475,mode:"normal",time:160,colors:15,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:476,mode:"fall-down-push-left",time:180,colors:14,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:477,mode:"fall-down",time:100,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:478,mode:"push-right",time:180,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:479,mode:"normal",time:130,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:480,mode:"normal",time:160,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:481,mode:"fly-up-push-left",time:100,colors:18,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:482,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:483,mode:"put-columns-middle",time:130,colors:24,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:484,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:485,mode:"fall-down-put-columns-middle",time:180,colors:15,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:486,mode:"normal",time:130,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:487,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:488,mode:"fall-down-push-right",time:130,colors:24,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:489,mode:"normal",time:160,colors:25,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:490,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:491,mode:"fly-up-put-columns-middle",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:492,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:493,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:494,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:495,mode:"normal",time:130,colors:28,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:496,mode:"normal",time:180,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:497,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:498,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:499,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:500,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:501,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:502,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:503,mode:"fall-down",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:504,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:505,mode:"push-right",time:160,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:506,mode:"fly-up",time:160,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:507,mode:"push-right",time:100,colors:19,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:508,mode:"fly-up-push-right",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:509,mode:"push-right",time:100,colors:16,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:510,mode:"put-rows-middle",time:160,colors:25,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:511,mode:"normal",time:160,colors:19,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:512,mode:"push-right",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:513,mode:"fall-down-push-right",time:100,colors:14,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:514,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:515,mode:"fly-up-put-columns-middle",time:160,colors:25,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:516,mode:"push-right",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:517,mode:"push-left",time:180,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:518,mode:"normal",time:130,colors:24,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:519,mode:"normal",time:160,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:520,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:521,mode:"push-right",time:130,colors:22,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:522,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:523,mode:"normal",time:130,colors:25,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:524,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:525,mode:"fall-down",time:160,colors:15,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:526,mode:"fly-up-push-left",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:527,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:528,mode:"normal",time:160,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:529,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:530,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:531,mode:"fall-down-put-columns-middle",time:100,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:532,mode:"fall-down-push-right",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:533,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:534,mode:"normal",time:130,colors:25,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:535,mode:"normal",time:130,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:536,mode:"normal",time:160,colors:15,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:537,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:538,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:539,mode:"normal",time:130,colors:19,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:540,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:541,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:542,mode:"fly-up-put-columns-middle",time:130,colors:26,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:543,mode:"fall-down-push-left",time:100,colors:12,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:544,mode:"push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:545,mode:"put-rows-middle",time:100,colors:15,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:546,mode:"fall-down-put-columns-middle",time:160,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:547,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:548,mode:"fly-up",time:160,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:549,mode:"fly-up",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:550,mode:"normal",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:551,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:552,mode:"normal",time:130,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:553,mode:"fly-up-put-columns-middle",time:100,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:554,mode:"fall-down-push-right",time:100,colors:16,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:555,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:556,mode:"fly-up-push-left",time:100,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:557,mode:"normal",time:160,colors:16,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:558,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:559,mode:"put-rows-middle",time:160,colors:16,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:560,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:561,mode:"normal",time:130,colors:15,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:562,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:563,mode:"put-columns-middle",time:130,colors:16,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:564,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:565,mode:"fly-up-put-columns-middle",time:160,colors:14,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:566,mode:"fall-down-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:567,mode:"normal",time:130,colors:28,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:568,mode:"push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:569,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:570,mode:"fall-down-push-right",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:571,mode:"normal",time:180,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:572,mode:"normal",time:130,colors:23,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:573,mode:"normal",time:160,colors:22,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:574,mode:"put-columns-middle",time:100,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:575,mode:"normal",time:130,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:576,mode:"fall-down-put-columns-middle",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:577,mode:"normal",time:130,colors:26,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:578,mode:"fall-down-push-right",time:160,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:579,mode:"push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:580,mode:"fall-down-put-columns-middle",time:130,colors:19,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:581,mode:"fly-up-push-left",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:582,mode:"fly-up-push-right",time:100,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:583,mode:"put-columns-middle",time:130,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:584,mode:"fly-up",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:585,mode:"normal",time:130,colors:28,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:586,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:587,mode:"normal",time:130,colors:17,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:588,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:589,mode:"put-rows-middle",time:100,colors:18,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:590,mode:"fall-down",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:591,mode:"fall-down-put-columns-middle",time:130,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:592,mode:"fly-up",time:160,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:593,mode:"fly-up-put-columns-middle",time:160,colors:28,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:594,mode:"fall-down-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:595,mode:"fall-down-push-left",time:160,colors:17,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:596,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:597,mode:"normal",time:130,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:598,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:599,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:600,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:601,mode:"fall-down",time:160,colors:23,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:602,mode:"put-columns-middle",time:160,colors:27,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:603,mode:"fall-down-push-right",time:100,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:604,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:605,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:606,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:607,mode:"normal",time:160,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:608,mode:"fall-down-push-left",time:180,colors:24,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:609,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:610,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:611,mode:"normal",time:130,colors:24,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:612,mode:"put-rows-middle",time:130,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:613,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:614,mode:"normal",time:180,colors:28,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:615,mode:"fly-up-push-right",time:130,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:616,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:617,mode:"put-rows-middle",time:160,colors:15,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:618,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:619,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:620,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:621,mode:"fly-up-put-columns-middle",time:130,colors:22,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:622,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:623,mode:"fall-down",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:624,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:625,mode:"fly-up-push-left",time:180,colors:14,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:626,mode:"fly-up-put-columns-middle",time:130,colors:21,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:627,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:628,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:629,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:630,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:631,mode:"push-left",time:100,colors:19,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:632,mode:"normal",time:180,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:633,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:634,mode:"normal",time:160,colors:15,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:635,mode:"fall-down",time:130,colors:25,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:636,mode:"push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:637,mode:"normal",time:160,colors:25,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:638,mode:"put-columns-middle",time:100,colors:16,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:639,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:640,mode:"put-columns-middle",time:130,colors:27,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:641,mode:"put-columns-middle",time:100,colors:17,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:642,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:643,mode:"fly-up",time:130,colors:21,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:644,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:645,mode:"fall-down",time:100,colors:19,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:646,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:647,mode:"fall-down-push-right",time:100,colors:19,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:648,mode:"normal",time:130,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:649,mode:"fly-up-put-columns-middle",time:130,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:650,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:651,mode:"normal",time:130,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:652,mode:"fly-up-push-left",time:100,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:653,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:654,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:655,mode:"fly-up-push-left",time:100,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:656,mode:"fall-down",time:180,colors:22,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:657,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:658,mode:"push-right",time:100,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:659,mode:"normal",time:100,colors:18,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:660,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:661,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:662,mode:"push-left",time:160,colors:24,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:663,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:664,mode:"fly-up",time:160,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:665,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:666,mode:"fly-up-push-left",time:130,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:667,mode:"put-columns-middle",time:130,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:668,mode:"normal",time:160,colors:24,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:669,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:670,mode:"put-rows-middle",time:160,colors:28,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:671,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:672,mode:"normal",time:100,colors:18,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:673,mode:"fall-down-put-columns-middle",time:160,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:674,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:675,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:676,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:677,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:678,mode:"fall-down-push-left",time:130,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:679,mode:"fly-up",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:680,mode:"fly-up-push-left",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:681,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:682,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:683,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:684,mode:"fall-down-push-right",time:100,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:685,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:686,mode:"normal",time:130,colors:14,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:687,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:688,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:689,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:690,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:691,mode:"normal",time:160,colors:22,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:692,mode:"normal",time:160,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:693,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:694,mode:"push-left",time:130,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:695,mode:"normal",time:130,colors:15,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:696,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:697,mode:"normal",time:130,colors:14,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:698,mode:"fly-up-put-columns-middle",time:130,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:699,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:700,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:701,mode:"normal",time:130,colors:23,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:702,mode:"fly-up-put-columns-middle",time:160,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:703,mode:"fall-down-push-left",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:704,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:705,mode:"normal",time:130,colors:26,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:706,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:707,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:708,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:709,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:710,mode:"normal",time:100,colors:13,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:711,mode:"fall-down-push-left",time:160,colors:15,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:712,mode:"fall-down-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:713,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:714,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:715,mode:"push-left",time:130,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:716,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:717,mode:"fly-up",time:160,colors:18,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:718,mode:"put-columns-middle",time:160,colors:15,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:719,mode:"push-right",time:100,colors:18,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:720,mode:"fly-up-put-columns-middle",time:130,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:721,mode:"push-right",time:180,colors:21,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:722,mode:"normal",time:160,colors:28,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:723,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:724,mode:"push-left",time:160,colors:17,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:725,mode:"normal",time:130,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:726,mode:"fly-up-push-right",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:727,mode:"push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:728,mode:"normal",time:130,colors:26,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:729,mode:"fall-down",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:730,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:731,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:732,mode:"fly-up-push-right",time:160,colors:23,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:733,mode:"normal",time:130,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:734,mode:"fall-down-put-columns-middle",time:130,colors:21,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:735,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:736,mode:"normal",time:180,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:737,mode:"fly-up",time:160,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:738,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:739,mode:"normal",time:160,colors:13,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:740,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:741,mode:"normal",time:160,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:742,mode:"normal",time:100,colors:19,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:743,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:744,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:745,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:746,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:747,mode:"fall-down-put-columns-middle",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:748,mode:"normal",time:130,colors:17,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:749,mode:"normal",time:160,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:750,mode:"fall-down-push-right",time:160,colors:14,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:751,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:752,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:753,mode:"normal",time:130,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:754,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:755,mode:"normal",time:100,colors:16,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:756,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:757,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:758,mode:"normal",time:160,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:759,mode:"fly-up-push-left",time:130,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:760,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:761,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:762,mode:"normal",time:160,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:763,mode:"fall-down",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:764,mode:"fly-up",time:160,colors:13,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:765,mode:"fly-up-push-left",time:180,colors:14,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:766,mode:"push-right",time:180,colors:19,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:767,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:768,mode:"put-rows-middle",time:160,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:769,mode:"normal",time:180,colors:13,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:770,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:771,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:772,mode:"normal",time:130,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:773,mode:"put-rows-middle",time:160,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:774,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:775,mode:"put-columns-middle",time:160,colors:24,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:776,mode:"normal",time:160,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:777,mode:"push-right",time:160,colors:25,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:778,mode:"fly-up-push-left",time:100,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:779,mode:"fly-up-put-columns-middle",time:100,colors:18,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:780,mode:"normal",time:130,colors:23,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:781,mode:"normal",time:160,colors:15,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:782,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:783,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:784,mode:"normal",time:100,colors:15,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:785,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:786,mode:"normal",time:130,colors:15,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:787,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:788,mode:"fall-down-push-left",time:160,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:789,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:790,mode:"fly-up-push-right",time:160,colors:22,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:791,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:792,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:793,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:794,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:795,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:796,mode:"fly-up-push-right",time:130,colors:25,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:797,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:798,mode:"normal",time:160,colors:22,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:799,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:800,mode:"push-right",time:100,colors:19,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:801,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:802,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:803,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:804,mode:"fall-down-push-right",time:100,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:805,mode:"fly-up-push-left",time:160,colors:22,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:806,mode:"normal",time:160,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:807,mode:"normal",time:160,colors:24,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:808,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:809,mode:"push-right",time:130,colors:17,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:810,mode:"fly-up-push-left",time:160,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:811,mode:"fly-up",time:130,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:812,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:813,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:814,mode:"normal",time:160,colors:14,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:815,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:816,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:817,mode:"normal",time:100,colors:19,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:818,mode:"fly-up-put-columns-middle",time:130,colors:15,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:819,mode:"normal",time:160,colors:26,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:820,mode:"fly-up-put-columns-middle",time:130,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:821,mode:"put-columns-middle",time:130,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:822,mode:"push-left",time:130,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:823,mode:"fall-down-push-right",time:160,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:824,mode:"fly-up",time:100,colors:17,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:825,mode:"normal",time:160,colors:15,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:826,mode:"push-right",time:100,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:827,mode:"normal",time:130,colors:27,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:828,mode:"normal",time:130,colors:21,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:829,mode:"fly-up",time:130,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:830,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:831,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:832,mode:"fall-down-push-left",time:160,colors:17,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:833,mode:"normal",time:130,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:834,mode:"fall-down-push-left",time:100,colors:19,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:835,mode:"push-left",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:836,mode:"normal",time:100,colors:16,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:837,mode:"normal",time:130,colors:15,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:838,mode:"normal",time:160,colors:16,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:839,mode:"normal",time:130,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:840,mode:"normal",time:100,colors:17,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:841,mode:"normal",time:130,colors:27,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:842,mode:"put-rows-middle",time:100,colors:19,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:843,mode:"fly-up-put-columns-middle",time:100,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:844,mode:"fly-up-push-right",time:130,colors:23,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:845,mode:"normal",time:130,colors:25,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:846,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:847,mode:"normal",time:100,colors:15,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:848,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:849,mode:"push-right",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:850,mode:"normal",time:160,colors:27,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:851,mode:"put-rows-middle",time:100,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:852,mode:"fly-up-put-columns-middle",time:160,colors:25,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:853,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:854,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:855,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:856,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:857,mode:"fly-up-put-columns-middle",time:130,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:858,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:859,mode:"fall-down-push-right",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:860,mode:"normal",time:180,colors:19,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:861,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:862,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:863,mode:"fall-down",time:160,colors:15,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:864,mode:"fall-down-push-left",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:865,mode:"fall-down",time:160,colors:21,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:866,mode:"fall-down-push-left",time:160,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:867,mode:"fly-up-put-columns-middle",time:130,colors:13,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:868,mode:"normal",time:130,colors:27,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:869,mode:"normal",time:180,colors:25,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:870,mode:"normal",time:100,colors:13,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:871,mode:"normal",time:160,colors:19,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:872,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:873,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:874,mode:"fly-up-put-columns-middle",time:100,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:875,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:876,mode:"normal",time:180,colors:28,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:877,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:878,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:879,mode:"fly-up-push-left",time:130,colors:25,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:880,mode:"fly-up",time:160,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:881,mode:"normal",time:160,colors:25,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:882,mode:"normal",time:160,colors:22,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:883,mode:"normal",time:180,colors:24,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:884,mode:"normal",time:180,colors:17,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:885,mode:"fall-down-push-left",time:100,colors:17,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:886,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:887,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:888,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:889,mode:"normal",time:100,colors:16,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:890,mode:"normal",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:891,mode:"fly-up-push-right",time:160,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:892,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:893,mode:"normal",time:160,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:894,mode:"fall-down",time:180,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:895,mode:"fly-up",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:896,mode:"normal",time:160,colors:27,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:897,mode:"put-rows-middle",time:160,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:898,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:899,mode:"fly-up-push-left",time:100,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:900,mode:"fall-down-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:901,mode:"fall-down-push-right",time:100,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:902,mode:"fly-up-put-columns-middle",time:130,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:903,mode:"normal",time:160,colors:17,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:904,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:905,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:906,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:907,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:908,mode:"fly-up-push-right",time:100,colors:19,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:909,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:910,mode:"push-left",time:160,colors:26,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:911,mode:"put-columns-middle",time:130,colors:16,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:912,mode:"fall-down-push-left",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:913,mode:"normal",time:100,colors:14,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:914,mode:"fall-down",time:130,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:915,mode:"fall-down-push-left",time:160,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:916,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:917,mode:"fall-down-push-left",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:918,mode:"normal",time:130,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:919,mode:"fall-down-put-columns-middle",time:160,colors:25,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:920,mode:"put-rows-middle",time:100,colors:14,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:921,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:922,mode:"fall-down",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:923,mode:"normal",time:160,colors:16,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:924,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:925,mode:"normal",time:130,colors:15,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:926,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:927,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:928,mode:"fly-up-push-right",time:100,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:929,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:930,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:931,mode:"fly-up",time:130,colors:24,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:932,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:933,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:934,mode:"normal",time:130,colors:17,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:935,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:936,mode:"put-rows-middle",time:160,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:937,mode:"fly-up-put-columns-middle",time:160,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:938,mode:"normal",time:130,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:939,mode:"normal",time:130,colors:14,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:940,mode:"normal",time:160,colors:26,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:941,mode:"normal",time:180,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:942,mode:"normal",time:130,colors:14,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:943,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:944,mode:"fly-up",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:945,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:946,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:947,mode:"normal",time:130,colors:24,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:948,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:949,mode:"put-rows-middle",time:130,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:950,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:951,mode:"normal",time:130,colors:28,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:952,mode:"fall-down",time:130,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:953,mode:"fly-up-put-columns-middle",time:130,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:954,mode:"put-columns-middle",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:955,mode:"fly-up",time:160,colors:24,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:956,mode:"normal",time:130,colors:19,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:957,mode:"fall-down",time:160,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:958,mode:"fly-up-push-left",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:959,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:960,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:961,mode:"fly-up-push-right",time:180,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:962,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:963,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:964,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:965,mode:"fall-down-push-left",time:130,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:966,mode:"normal",time:180,colors:23,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:967,mode:"normal",time:160,colors:26,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:968,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:969,mode:"normal",time:130,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:970,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:971,mode:"normal",time:130,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:972,mode:"fall-down",time:130,colors:17,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:973,mode:"put-columns-middle",time:130,colors:27,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:974,mode:"fall-down",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:975,mode:"fly-up",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:976,mode:"fall-down-put-columns-middle",time:160,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:977,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:978,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:979,mode:"fall-down-push-right",time:160,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:980,mode:"push-left",time:160,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:981,mode:"normal",time:160,colors:15,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:982,mode:"normal",time:130,colors:14,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:983,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:984,mode:"fly-up-push-left",time:130,colors:28,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:985,mode:"fly-up",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:986,mode:"normal",time:130,colors:18,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:987,mode:"fall-down-put-columns-middle",time:160,colors:22,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:988,mode:"fly-up-push-left",time:130,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:989,mode:"normal",time:130,colors:13,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:990,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:991,mode:"fly-up",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:992,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:993,mode:"put-columns-middle",time:100,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:994,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:995,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:996,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:997,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:998,mode:"fly-up-put-columns-middle",time:160,colors:15,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:999,mode:"fall-down-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:1e3,mode:"normal",time:160,colors:23,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:1001,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]}],{BOMB:Wh,ROCKET:zh}=V.SPECIALS,{ADD_RANDOM_TILES_PER_MOVE:jh,MAX_SPACE_OF_PAIR:Vh}=Yh,Xo=Object.values(be),$h={toString:()=>Xo[Math.floor(Math.random()*Xo.length)]},Rt=[{level:0,mode:$h,time:120,rows:12,columns:7,colors:28,specials:{[Wh]:10,[zh]:5},rules:{[Vh]:15,[jh]:35},theme:[bs.BIRD,bs.CAKE,bs.FRUIT,bs.CANDY]},...Kh],{Gameplay:qo}=GameCore.Configs;class Xh{scene;level=0;targetScore=0;gameLevel;levelConfig;constructor(e){this.scene=e,this.gameLevel=Rt}init(){const e=this.scene.player.getCustomData("levelProgress");this.level=qo.StartLevel,GameCore.Utils.Valid.isNumber(e)&&(this.level=e),this.setConfig(this.level)}getConfigs(){return this.levelConfig}isLevelHaveBomb(){return!!(this.levelConfig.specials&&this.levelConfig.specials.bomb!==void 0&&this.levelConfig.specials.bomb>0||this.levelConfig.customFen&&this.levelConfig.customFen.code.includes("b"))}getConfigByLevel(e){const t=Rt.length-1;return e>t?this.createNewRandomLevel(e):this.gameLevel[e]}up(){const e=this.canLevelUp(this.level);return this.level=e,this.setConfig(e),this.scene.player.setCustomData("levelProgress",e),!0}canLevelUp(e){return e+1}setConfig(e){const t=Rt.length-1,s=e>t,i=s?t:e;s?this.levelConfig=this.createNewRandomLevel(e):this.levelConfig=GameCore.Utils.Json.clone(this.gameLevel[i]);let o=this.levelConfig.rows,r=this.levelConfig.columns;if(!this.levelConfig)return;this.levelConfig.customFen&&(this.levelConfig.rows=this.levelConfig.customFen.rows,o=this.levelConfig.rows,this.levelConfig.columns=this.levelConfig.customFen.columns,r=this.levelConfig.columns,this.levelConfig.customFen.code=this.levelConfig.customFen.portraitCode),this.scene.world.isLandscape()&&(this.levelConfig.rows=r,this.levelConfig.columns=o,this.levelConfig.customFen&&(this.levelConfig.customFen.code=this.levelConfig.customFen?.desktopCode));const{rows:l,columns:n}=this.levelConfig,c=5,u=l*n,m=c*u;this.targetScore=s?m+400:m}createNewRandomLevel(e){const t=Rt.length-1,s=(e-t)%5;let i=8,o=5,r="normal",l=100,n=0,c=0,u=20;const m=Phaser.Math.RND.between(2,4);switch(s){case 1:i=10,o=6,r="fly-up-push-right",l=130,c=1,u=Phaser.Math.RND.between(12,24);break;case 2:i=10,o=7,r="fly-up-push-left",l=160,c=Phaser.Math.RND.between(1,3),n=2,u=Phaser.Math.RND.between(12,24);break;case 3:i=12,o=7,r="fall-down-push-left",l=180,c=1,u=Phaser.Math.RND.between(12,24);break;case 4:i=12,o=7,r="fall-down-push-right",l=200,c=Phaser.Math.RND.between(1,2),n=2,u=Phaser.Math.RND.between(24,28);break}return{level:e,mode:r,time:l,colors:u,specials:{bomb:n,rocket:c},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:m},columns:o,rows:i,theme:qo.Themes}}}class qh extends Ce{scene;delayModeTimer;checkApplyModeTimer;constructor(e){super(e),this.scene=e,this.scene.events.on(V.EVENTS.NEXT_TURN,this.updateNextTurnState)}processGravityMode=()=>{const{modeManager:e,tileManager:t,animationManager:s}=this.scene;this.delayModeTimer?.remove(),this.checkApplyModeTimer?.remove(),s.isMoveTilesCompleted=!1,this.delayModeTimer=this.scene.time.addEvent({delay:300,callback:()=>{if(this.checkApplyModeTimer?.remove(),t.getAliveTiles().length<=14){this.processAfterGravityMode();return}e.applyMode(),this.checkApplyModeTimer=this.scene.time.addEvent({delay:100,repeat:20,callback:()=>{s.isMoveTilesCompleted&&(this.checkApplyModeTimer.remove(),this.processAfterGravityMode())}})}})};processAfterGravityMode(){const{tileManager:e,boardManager:t}=this.scene;if(!e.isCanMove()){e.processOutOfMove();return}if(e.handleExtraSpawn()){this.processGravityMode();return}t.processNoAvailableMatches()}updateNextTurnState=()=>{const{animationManager:e,itemManager:t,tileManager:s}=this.scene;s.isSelectable=!0,t.setIsUseableItem(!0),e.isMoveTilesCompleted=!0};applyMode=()=>{const{animationManager:e,levelHandler:t}=this.scene,{mode:s}=t.getConfigs(),{moveDuration:i}=e,o=i+10;switch(s.toString()){case be.NORMAL:e.isMoveTilesCompleted=!0;break;case be.FALL_DOWN:this.tilesFallDown(0);break;case be.FLY_UP:this.tilesFlyUp(0);break;case be.PUSH_LEFT:this.tilesPushLeft(0);break;case be.PUSH_RIGHT:this.tilesPushRight(0);break;case be.FALL_DOWN_PUSH_LEFT:this.tilesFallDown(0),this.tilesPushLeft(o);break;case be.FLY_UP_PUSH_RIGHT:this.tilesFlyUp(0),this.tilesPushRight(o);break;case be.FALL_DOWN_PUSH_RIGHT:this.tilesFallDown(0),this.tilesPushRight(o);break;case be.FLY_UP_PUSH_LEFT:this.tilesFlyUp(0),this.tilesPushLeft(o);break;case be.PUT_COLUMNS_MIDDLE:this.tilesPutColumnsMiddle(0);break;case be.PUT_ROWS_MIDDLE:this.tilesPutRowsMiddle(0);break;case be.FALL_DOWN_PUT_COLUMNS_MIDDLE:this.tilesFallDown(0),this.tilesPutColumnsMiddle(o);break;case be.FLY_UP_PUT_COLUMNS_MIDDLE:this.tilesFlyUp(0),this.tilesPutColumnsMiddle(o);break;default:e.isMoveTilesCompleted=!0;break}};getTiles(){const{boardManager:e}=this.scene,{boardMap:t}=e,s=[];for(const i in t)for(const o in t[i]){const r=t[i][o];s.push(r)}return s}tilesFlyUp(e=0){const{boardManager:t,animationManager:s}=this.scene,i=this.getTiles();let o=0;i.forEach(r=>{const{row:l,column:n}=r;if(r.isCaptured()||r.isCapturing())return;const c=this.getEmptySpacesAbove(l,n);c<1||(o++,s.moveRows({tile:r,fromRow:l,toRow:l-c},e),t.tileSwap({fromRow:l,toRow:l-c,fromColumn:n,toColumn:n}))}),o===0&&(s.isMoveTilesCompleted=!0)}tilesFallDown(e=0){const{boardManager:t,animationManager:s}=this.scene,i=this.getTiles();i.reverse();let o=0;i.forEach(r=>{const{row:l,column:n}=r;if(r.isCaptured()||r.isCapturing())return;const c=this.getEmptySpacesBlow(l,n);c<1||(o++,s.moveRows({tile:r,fromRow:l,toRow:l+c},e),t.tileSwap({fromRow:l,toRow:l+c,fromColumn:n,toColumn:n}))}),o===0&&(s.isMoveTilesCompleted=!0)}tilesPushLeft(e=0){const{boardManager:t,animationManager:s}=this.scene,i=this.getTiles();let o=0;i.forEach(r=>{const{row:l,column:n}=r;if(r.isCaptured()||r.isCapturing())return;const c=this.getEmptySpacesLeft(l,n);c<1||(o++,s.moveColumns({tile:r,fromColumn:n,toColumn:n-c},e),t.tileSwap({fromRow:l,toRow:l,fromColumn:n,toColumn:n-c}))}),o===0&&(s.isMoveTilesCompleted=!0)}tilesPushRight(e=0){const{boardManager:t,animationManager:s}=this.scene,i=this.getTiles();i.reverse();let o=0;i.forEach(r=>{const{row:l,column:n}=r;if(r.isCaptured()||r.isCapturing())return;const c=this.getEmptySpacesRight(l,n);c<1||(o++,s.moveColumns({tile:r,fromColumn:n,toColumn:n+c},e),t.tileSwap({fromRow:l,toRow:l,fromColumn:n,toColumn:n+c}))}),o===0&&(s.isMoveTilesCompleted=!0)}tilesPutColumnsMiddle(e=0){const{boardManager:t,animationManager:s}=this.scene,i=this.getTiles();let o=0;i.forEach(r=>{const{row:l,column:n}=r;if(r.isCaptured()||r.isCapturing())return;const c=this.getEmptySpacesMiddleLeft(l,n);c<1||(o++,s.moveColumns({tile:r,fromColumn:n,toColumn:n-c},e),t.tileSwap({fromRow:l,toRow:l,fromColumn:n,toColumn:n-c}))}),i.reverse(),i.forEach(r=>{const{row:l,column:n}=r;if(r.isCaptured()||r.isCapturing())return;const c=this.getEmptySpacesMiddleRight(l,n);c<1||(o++,s.moveColumns({tile:r,fromColumn:n,toColumn:n+c},e),t.tileSwap({fromRow:l,toRow:l,fromColumn:n,toColumn:n+c}))}),o===0&&(s.isMoveTilesCompleted=!0)}tilesPutRowsMiddle(e=0){const{boardManager:t,animationManager:s}=this.scene,i=this.getTiles();let o=0;i.forEach(r=>{const{row:l,column:n}=r;if(r.isCaptured()||r.isCapturing())return;const c=this.getEmptySpacesMiddleAbove(l,n);c<1||(o++,s.moveRows({tile:r,fromRow:l,toRow:l-c},e),t.tileSwap({fromRow:l,toRow:l-c,fromColumn:n,toColumn:n}))}),i.reverse(),i.forEach(r=>{const{row:l,column:n}=r;if(r.isCaptured()||r.isCapturing())return;const c=this.getEmptySpacesMiddleBelow(l,n);c<1||(o++,s.moveRows({tile:r,fromRow:l,toRow:l+c},e),t.tileSwap({fromRow:l,toRow:l+c,fromColumn:n,toColumn:n}))}),o===0&&(s.isMoveTilesCompleted=!0)}getEmptySpacesAbove(e,t,s=0){if(this.isEmptySpaceAbove(e,t)){s++;const i=e-1;return this.getEmptySpacesAbove(i,t,s)}return s}getEmptySpacesBlow(e,t,s=0){if(this.isEmptySpaceBlow(e,t)){s++;const i=e+1;return this.getEmptySpacesBlow(i,t,s)}return s}getEmptySpacesLeft(e,t,s=0){if(this.isEmptySpaceLeft(e,t)){s++;const i=t-1;return this.getEmptySpacesLeft(e,i,s)}return s}getEmptySpacesRight(e,t,s=0){if(this.isEmptySpaceRight(e,t)){s++;const i=t+1;return this.getEmptySpacesRight(e,i,s)}return s}getEmptySpacesMiddleLeft(e,t,s=0){if(this.isEmptySpaceMiddleLeft(e,t)){s++;const i=t-1;return this.getEmptySpacesMiddleLeft(e,i,s)}return s}getEmptySpacesMiddleRight(e,t,s=0){if(this.isEmptySpaceMiddleRight(e,t)){s++;const i=t+1;return this.getEmptySpacesMiddleRight(e,i,s)}return s}getEmptySpacesMiddleAbove(e,t,s=0){if(this.isEmptySpaceMiddleAbove(e,t)){s++;const i=e-1;return this.getEmptySpacesMiddleAbove(i,t,s)}return s}getEmptySpacesMiddleBelow(e,t,s=0){if(this.isEmptySpaceMiddleBelow(e,t)){s++;const i=e+1;return this.getEmptySpacesMiddleBelow(i,t,s)}return s}isEmptySpaceAbove(e,t){const s=e-1,{boardManager:i}=this.scene,{boardMap:o}=i;if(!o[s]||!o[s][t])return!1;const r=o[s][t];return r.isCaptured()||r.isCapturing()}isEmptySpaceBlow(e,t){const s=e+1,{boardManager:i}=this.scene,{boardMap:o}=i;if(!o[s]||!o[s][t])return!1;const r=o[s][t];return r.isCaptured()||r.isCapturing()}isEmptySpaceLeft(e,t){const s=t-1,{boardManager:i}=this.scene,{boardMap:o}=i;if(!o[e]||!o[e][s])return!1;const r=o[e][s];return r.isCaptured()||r.isCapturing()}isEmptySpaceRight(e,t){const s=t+1,{boardManager:i}=this.scene,{boardMap:o}=i;if(!o[e]||!o[e][s])return!1;const r=o[e][s];return r.isCaptured()||r.isCapturing()}isEmptySpaceMiddleLeft(e,t){const{columns:s}=this.scene.levelHandler.getConfigs(),i=t-1;if(i<s/2)return!1;const{boardManager:o}=this.scene,{boardMap:r}=o;if(!r[e]||!r[e][i])return!1;const l=r[e][i];return l.isCaptured()||l.isCapturing()}isEmptySpaceMiddleRight(e,t){const{columns:s}=this.scene.levelHandler.getConfigs(),i=t+1;if(i>s/2)return!1;const{boardManager:o}=this.scene,{boardMap:r}=o;if(!r[e]||!r[e][i])return!1;const l=r[e][i];return l.isCaptured()||l.isCapturing()}isEmptySpaceMiddleAbove(e,t){const{rows:s}=this.scene.levelHandler.getConfigs(),i=e-1;if(i<s/2)return!1;const{boardManager:o}=this.scene,{boardMap:r}=o;if(!r[i]||!r[i][t])return!1;const l=r[i][t];return l.isCaptured()||l.isCapturing()}isEmptySpaceMiddleBelow(e,t){const{rows:s}=this.scene.levelHandler.getConfigs(),i=e+1;if(i>s/2)return!1;const{boardManager:o}=this.scene,{boardMap:r}=o;if(!r[i]||!r[i][t])return!1;const l=r[i][t];return l.isCaptured()||l.isCapturing()}}const{KEY:si,FRAME:ii}=A.EFFECTS;class Gs extends Phaser.GameObjects.Container{start;end;middle;constructor(e){super(e),this.scene=e,this.createGlowLine(),this.scene.add.existing(this)}createGlowLine(){this.start=this.scene.add.image(0,0,si,ii.CAPTURE_PATH_START),this.start.setOrigin(1,.5),this.end=this.scene.add.image(0,0,si,ii.CAPTURE_PATH_END),this.end.setOrigin(0,.5),this.middle=this.scene.add.image(0,0,si,ii.CAPTURE_PATH_MIDDLE),this.middle.setOrigin(.5,.5),this.add(this.start),this.add(this.end),this.add(this.middle)}setGlowLineLength(e,t){const s=e+6;this.middle.setWorldSize(s,18),this.start.setWorldSize(6,18),this.end.setWorldSize(6,18),this.start.x=-s/2,this.end.x=s/2,t==="horizontal"?this.angle=0:this.angle=90}}const{KEY:Zh,FRAME:Jh}=A.GAMEPLAY,gs=K.TILE+1;class Qh extends Phaser.GameObjects.GameObject{whiteCircles;lineList;firstTilePosition=null;fadeTween;constructor(e){super(e,"captureHintPath"),this.whiteCircles=e.add.group(),this.lineList=e.add.group(),this.scene.add.existing(this)}drawNewPath(e){const t=[];let s=e[0],i=null;for(let o=1;o<e.length;o++){const r=e[o];if(!i){i=r;continue}if(s.x===i.x&&i.x===r.x){i=r;continue}if(s.y===i.y&&i.y===r.y){i=r;continue}t.push([s,i]),s=i,i=r}t.push([s,i]),t.forEach((o,r)=>{if(!o[0]||!o[1])return;const l=this.translateGridPositionToScreenPosition(o[0]),n=this.translateGridPositionToScreenPosition(o[1]);this.assignLine(l.x,l.y,n.x,n.y),this.assignWhiteCircle(l.x,l.y),r===t.length-1&&this.assignWhiteCircle(n.x,n.y)}),this.runFadeInTween()}updateFirstTilePosition(){const e=this.scene,{boardMap:t}=e.boardManager;if(!t||!t[1]||!t[1][1])return;const{x:s,y:i}=t[1][1].getWorldPosition();this.firstTilePosition=new Phaser.Math.Vector2(s,i)}clearFirstTilePosition(){this.firstTilePosition=null}setFirstTilePosition(e){this.firstTilePosition=e}clear(){this.runFadeOutTween()}hideHintEffect(){this.whiteCircles.getChildren().forEach(e=>{e.setVisible(!1)}),this.lineList.getChildren().forEach(e=>{e.setVisible(!1)})}showHintEffect(){this.whiteCircles.getChildren().forEach(e=>{e.active&&e.setVisible(!0)}),this.lineList.getChildren().forEach(e=>{e.active&&e.setVisible(!0)})}kill(){this.whiteCircles.getChildren().forEach(e=>{this.whiteCircles.killAndHide(e)}),this.lineList.getChildren().forEach(e=>{this.lineList.killAndHide(e)})}translateGridPositionToScreenPosition(e){const{x:t=1,y:s=1}=e;this.firstTilePosition||this.updateFirstTilePosition();const o=this.scene.boardManager.getTileSize()+1,r=this.firstTilePosition?this.firstTilePosition.x:0,l=this.firstTilePosition?this.firstTilePosition.y:0;return{x:r+(s-1)*o,y:l+(t-1)*o}}assignWhiteCircle(e,t){const s=this.whiteCircles.getFirstDead();if(s)return s.setPosition(e,t),s.setActive(!0),s.setVisible(!0),s.setAlpha(0),s.setDepth(gs+1),s;const i=this.scene.make.image({key:Zh,frame:Jh.HINT_LINE_DOT});return this.whiteCircles.add(i),i.setPosition(e,t),i.setDepth(gs+1),i.setWorldSize(8,8),i.setAlpha(0),this.scene.add.existing(i),i}assignLine(e,t,s,i){const o=this.lineList.getFirstDead(),r=(e+s)/2,l=(t+i)/2,n=e===s?"vertical":"horizontal",c=Phaser.Math.Distance.Between(e,t,s,i);if(o&&o instanceof Gs)return o.setPosition(r,l),o.setGlowLineLength(c,n),o.revive(),o.setAlpha(0),o.setDepth(gs),o;const u=new Gs(this.scene);return this.lineList.add(u),u.setPosition(r,l),u.setGlowLineLength(c,n),u.setDepth(gs),u.setAlpha(0),this.scene.add.existing(u),u}runFadeInTween(){this.fadeTween?.stop();const e=this.lineList.getChildren().filter(i=>i.active),t=this.whiteCircles.getChildren().filter(i=>i.active),s=this.scene.tweens.add({targets:[...e,...t],props:{alpha:{from:0,to:1}},duration:200,onStop:()=>{e.forEach(i=>{i.setAlpha(1)}),t.forEach(i=>{i.setAlpha(1)})}});this.fadeTween=s}runFadeOutTween(){this.fadeTween?.stop();const e=this.lineList.getChildren().filter(i=>i.active),t=this.whiteCircles.getChildren().filter(i=>i.active),s=this.scene.tweens.add({targets:[...e,...t],props:{alpha:{from:1,to:0}},duration:200,onComplete:()=>{this.kill()},onStop:()=>{this.kill()}});this.fadeTween=s}}const{KEY:ef,FRAME:Zo}=A.GAMEPLAY;class Ka extends Phaser.GameObjects.Particles.ParticleEmitterManager{deathZone;emitter;constructor(e){super(e,ef,Zo.EFFECT_TRAIL_STAR),this.createDeathZone(),this.createEmitters(),this.kill(),this.scene.add.existing(this)}createDeathZone(){this.deathZone=new Phaser.Geom.Circle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:Zo.EFFECT_TRAIL_STAR,speed:{min:10,max:80},scale:{start:e,end:0},alpha:{start:1,end:.2,ease:Phaser.Math.Easing.Expo.Out},deathZone:{source:this.deathZone,type:"onLeave"},lifespan:2e3})}explode(e,t,s,i){this.revive(),this.deathZone.radius=i,this.deathZone.setPosition(t,s),this.emitter.explode(e,t,s)}}const{KEY:tf,FRAME:Jo}=A.GAMEPLAY;class Wa extends Phaser.GameObjects.Particles.ParticleEmitterManager{emitZone;isRunning;emitter;constructor(e){super(e,tf,Jo.EFFECT_TRAIL_STAR),this.createEmitZone(),this.scene.add.existing(this)}createEmitZone(){this.emitZone=new Phaser.Geom.Rectangle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:Jo.EFFECT_TRAIL_STAR,emitZone:{source:this.emitZone,type:"random"},speed:20,timeScale:1,frequency:50,gravityY:100,alpha:{start:1,end:0,ease:Phaser.Math.Easing.Expo.Out},scale:{start:e*1.2,end:e*.1,ease:Phaser.Math.Easing.Expo.Out},lifespan:2666})}run(e,t,s,i,o){this.stop(),this.reset(),this.emitZone.setSize(i,o),this.emitZone.setPosition(t-i/2,s-o/2),this.emitter.setQuantity(e),this.emitter.start(),this.isRunning=!0}explode(e,t,s){this.emitter||this.reset(),this.isRunning=!1,this.emitter.explode(e,t,s)}stop(){this.isRunning=!1,this.emitter?.killAll(),this.emitter?.stop()}reset(){this.createEmitters()}moveEmitZone(e,t){this.emitZone.setPosition(e,t)}}const{KEY:Qo,FRAME:er}=A.GAMEPLAY,et=K.EFFECT+1;class tr extends Phaser.GameObjects.GameObject{starList;lineList;whiteCircles;firstTilePosition=null;starTweenList=[];starExpandTween;lineTween;captureStarTrails;explodeParticle;score;pathLength;constructor(e){super(e,"capturePath"),this.starList=e.add.group(),this.lineList=e.add.group(),this.whiteCircles=e.add.group(),this.createEffects(),this.score=0}createEffects(){this.captureStarTrails=[],this.explodeParticle=new Ka(this.scene),this.explodeParticle.setDepth(K.EFFECT)}drawNewPath(e,t=!1){this.pathLength=e.length;const s=this.drawLines(e);t?this.drawDots(s):(this.drawStars(e),this.runStarExpandTween()),this.runLineTween("fadeIn")}drawDots(e){e.forEach((t,s)=>{if(!t[0]||!t[1])return;const i=this.translateGridPositionToScreenPosition(t[0]),o=this.translateGridPositionToScreenPosition(t[1]);this.assignLine(i.x,i.y,o.x,o.y),this.assignWhiteCircle(i.x,i.y),s===e.length-1&&this.assignWhiteCircle(o.x,o.y)})}drawLines(e){const t=[];let s=e[0],i=null;for(let o=1;o<e.length;o++){const r=e[o];if(!i){i=r;continue}if(s.x===i.x&&i.x===r.x){i=r;continue}if(s.y===i.y&&i.y===r.y){i=r;continue}t.push([s,i]),s=i,i=r}return t.push([s,i]),t.forEach(o=>{if(!o[0]||!o[1])return;const r=this.translateGridPositionToScreenPosition(o[0]),l=this.translateGridPositionToScreenPosition(o[1]);this.assignLine(r.x,r.y,l.x,l.y)}),t}drawStars(e){e.forEach(t=>{const{x:s,y:i}=this.translateGridPositionToScreenPosition(t);this.assignStar(s,i)})}kill(){this.starTweenList.forEach(e=>{e.stop()}),this.starTweenList=[],this.starList.getChildren().forEach(e=>{this.starList.killAndHide(e)}),this.score=0,this.pathLength=1,this.captureStarTrails.forEach(e=>{e.stop()}),this.lineList.getChildren().forEach(e=>{this.lineList.killAndHide(e)}),this.whiteCircles.getChildren().forEach(e=>{this.whiteCircles.killAndHide(e)}),this.lineTween?.stop(),this.setActive(!1)}updateFirstTilePosition(){const e=this.scene,{boardMap:t}=e.boardManager;if(!t||!t[1]||!t[1][1])return;const{x:s,y:i}=t[1][1].getWorldPosition();this.firstTilePosition=new Phaser.Math.Vector2(s,i)}clearFirstTilePosition(){this.firstTilePosition=null}setFirstTilePosition(e){this.firstTilePosition=e}setScore(e){this.score=e}handleCaptureEffectEnd(){const e=this.scene;if(!(this.starList.getFirstAlive()!==null)){e.eatScore(this.score),this.kill();return}this.runLineTween("fadeOut"),this.runStarTween()}runLineTween(e){this.lineTween?.stop();const t=this.lineList.getChildren().filter(o=>o.active),s=this.whiteCircles.getChildren().filter(o=>o.active),i=this.scene.tweens.add({targets:[...t,...s],duration:200,props:{alpha:{from:e==="fadeIn"?0:1,to:e==="fadeIn"?1:0}},onComplete:()=>{e==="fadeOut"&&this.cleanLineWhenFadeOut()},onStop:()=>{t.forEach(o=>{o.setAlpha(e==="fadeIn"?1:0)}),s.forEach(o=>{o.setAlpha(e==="fadeIn"?1:0)}),e==="fadeOut"&&this.cleanLineWhenFadeOut()}});this.lineTween=i}cleanLineWhenFadeOut(){const e=this.lineList.getChildren().filter(s=>s.active),t=this.whiteCircles.getChildren().filter(s=>s.active);e.forEach(s=>{this.lineList.killAndHide(s)}),t.forEach(s=>{this.whiteCircles.killAndHide(s)})}runStarTween(){this.starList.getChildren().forEach((e,t)=>{if(!e.active)return;const s=this.scene,{objects:i}=s.layoutManager,{x:o,y:r}=i.starProgressBar.getStarFlyInPosition(),l=25,n=this.scene.tweens.createTimeline(),c=Phaser.Math.Angle.Between(e.x,e.y,o,r),u=Phaser.Math.Distance.Between(e.x,e.y,o,r),m=this.requestCaptureStarTrail();m.run(1,e.x,e.y,0,0),n.add({targets:e,x:e.x-Math.cos(c)*l,y:e.y-Math.sin(c)*l,duration:250,delay:40*t,ease:Phaser.Math.Easing.Quadratic.In,onUpdate:()=>{m.moveEmitZone(e.x,e.y)}}),n.add({targets:e,props:{x:{from:e.x,to:o,ease:Phaser.Math.Easing.Quadratic.Out},y:{from:e.y,to:r,ease:Phaser.Math.Easing.Quadratic.Out},scale:{from:e.scale,to:e.scale*Math.sqrt(2),ease:Phaser.Math.Easing.Quintic.Out}},duration:(u+l)/300*600,onComplete:()=>{s.eatScore(this.score/this.pathLength),this.scene.audio.playSound(X.COLLECT_STARS),m.stop(),this.explodeParticle.explode(15,o,r,30)},onUpdate:()=>{m.moveEmitZone(e.x,e.y)},onStop:()=>{s.eatScore(this.score/this.pathLength),m.stop()}}),n.add({targets:e,alpha:0,duration:400,ease:Phaser.Math.Easing.Cubic.Out,onComplete:()=>{this.starList.killAndHide(e),this.starTweenList=this.starTweenList.filter(d=>d!==n),this.starTweenList.length===0&&this.kill()},onStop:()=>{this.starList.killAndHide(e),this.starTweenList=this.starTweenList.filter(d=>d!==n),this.starTweenList.length===0&&this.kill()}}),this.starTweenList.push(n),n.play()})}runStarExpandTween(){this.starExpandTween?.stop();const e=this.starList.getChildren().filter(o=>o.active);if(e.length<1)return;const t=e[0].scaleX,s=e[0].scaleY,i=this.scene.tweens.add({targets:e,duration:200,props:{scaleX:{from:0,to:t},scaleY:{from:0,to:t}},onStart:()=>{e.forEach(o=>{o.setVisible(!0)})},onStop:()=>{e.forEach(o=>{o.setScale(t,s)})}});this.starExpandTween=i}translateGridPositionToScreenPosition(e){const{x:t=1,y:s=1}=e;this.firstTilePosition||this.updateFirstTilePosition();const o=this.scene.boardManager.getTileSize()+1,r=this.firstTilePosition?this.firstTilePosition.x:0,l=this.firstTilePosition?this.firstTilePosition.y:0;return{x:r+(s-1)*o,y:l+(t-1)*o}}assignStar(e,t){const s=this.starList.getFirstDead();if(s)return s.setPosition(e,t),s.setWorldSize(21.2,21.2),s.setActive(!0),s.setAlpha(1),s.setDepth(et+1),s;const i=this.scene.make.image({key:Qo,frame:er.ICON_STAR_BIG});return this.starList.add(i),i.setWorldSize(21.2,21.2),i.setPosition(e,t),i.setDepth(et+1),i.setVisible(!1),i.setAlpha(1),this.scene.add.existing(i),i}requestCaptureStarTrail(){const e=this.captureStarTrails.find(s=>!s.isRunning);if(e)return e;const t=new Wa(this.scene);return t.setDepth(et-1),this.captureStarTrails.push(t),t}assignLine(e,t,s,i){const o=this.lineList.getFirstDead(),r=(e+s)/2,l=(t+i)/2,n=e===s?"vertical":"horizontal",c=Phaser.Math.Distance.Between(e,t,s,i);if(o&&o instanceof Gs)return o.setPosition(r,l),o.setGlowLineLength(c,n),o.revive(),o.setDepth(et),o;const u=new Gs(this.scene);return this.lineList.add(u),u.setPosition(r,l),u.setGlowLineLength(c,n),u.setDepth(et),this.scene.add.existing(u),u}assignWhiteCircle(e,t){const s=this.whiteCircles.getFirstDead();if(s)return s.setPosition(e,t),s.setActive(!0),s.setVisible(!0),s.setAlpha(0),s.setDepth(et+1),s;const i=this.scene.make.image({key:Qo,frame:er.HINT_LINE_DOT});return this.whiteCircles.add(i),i.setPosition(e,t),i.setDepth(et+1),i.setWorldSize(8,8),i.setAlpha(0),this.scene.add.existing(i),i}}class sf extends Phaser.GameObjects.Group{firstTilePosition=null;constructor(e){super(e),this.scene.add.existing(this)}requestPath(){const e=this.getFirstDead();if(e)return e.setActive(!0),e.setFirstTilePosition(this.firstTilePosition),e;const t=this.scene,s=new tr(t);return s.setFirstTilePosition(this.firstTilePosition),this.add(s),s}updateFirstTilePosition(){const e=this.scene,{boardMap:t}=e.boardManager;if(!t||!t[1]||!t[1][1])return;const{x:s,y:i}=t[1][1].getWorldPosition();this.firstTilePosition=new Phaser.Math.Vector2(s,i)}clearFirstTilePosition(){this.firstTilePosition=null}killPath(e){e.handleCaptureEffectEnd()}killAndHideAll(){this.getChildren().forEach(e=>{e instanceof tr&&e.kill()})}}const{KEY:of,FRAME:rf}=A.TUTORIAL;class oi extends Phaser.GameObjects.Container{number;dot;constructor(e){super(e),this.dot=this.scene.make.image({key:of,frame:rf.DOT_WRONG}),this.dot.setWorldSize(48/2,48/2),this.add(this.dot),this.number=this.scene.make.bitmapText({font:B.PRIMARY.KEY,text:"0",size:this.scene.fontSize(15),origin:{x:.5,y:.65}}),this.add(this.number);const{displayWidth:t,displayHeight:s}=this.dot;this.setSize(t,s),Phaser.Display.Align.In.Center(this.number,this.dot,0,-4),this.scene.add.existing(this)}setNumber(e){this.number.setText(e.toString())}}const{KEY:sr,FRAME:ir}=A.TUTORIAL;class af{scene;decorList;lineList;firstTilePosition=null;drawX=0;drawY=0;constructor(e){this.scene=e,this.decorList=e.add.group(),this.lineList=e.add.group()}drawNewPath(e){const t=this.getShortenPath(e);this.clear();const s=this.translateGridPositionToScreenPosition(t[0]);this.moveTo(s.x,s.y);let i=1,o=null;for(let r=1;r<t.length;r++){const l=t[r],{x:n,y:c}=this.translateGridPositionToScreenPosition(l);if(this.lineTo(n,c),r!==t.length-1)if(i<=2){const u=this.assignDot(n,c);u.setNumber(i++),o=u}else o=this.assignCross(n,c)}if(i===2&&o!==null){const{x:r=1,y:l=1}=o;o.setVisible(!1),o.setActive(!1),this.assignCross(r,l)}else if(i===1){const{x:r,y:l}=this.translateGridPositionToScreenPosition(t[0]),{x:n,y:c}=this.translateGridPositionToScreenPosition(t[t.length-1]);this.assignCross((n+r)/2,(c+l)/2)}}getShortenPath(e){if(e.length<0)return[];const t=[];t.push(e[0]);let s="none",i=e[0];return e.forEach((o,r)=>{if(r===0)return;const{x:l=1,y:n=1}=o,{x:c=1,y:u=1}=i,m=this.getMovingDirectionString(l-c,n-u);s!=="none"&&s!==m&&t.push(i),s=m,i=o}),t.push(e[e.length-1]),t}updateFirstTilePosition(){const e=this.scene,{boardMap:t}=e.boardManager;if(!t||!t[1]||!t[1][1])return;const{x:s,y:i}=t[1][1].getWorldPosition();this.firstTilePosition=new Phaser.Math.Vector2(s,i)}clearFirstTilePosition(){this.firstTilePosition=null}setFirstTilePosition(e){this.firstTilePosition=e}clear(){return this.decorList.getChildren().forEach(e=>{e.setVisible(!1),e.setActive(!1)}),this.lineList.getChildren().forEach(e=>{e.setVisible(!1),e.setActive(!1)}),this}translateGridPositionToScreenPosition(e){const{x:t=1,y:s=1}=e;this.firstTilePosition||this.updateFirstTilePosition();const o=this.scene.boardManager.getTileSize()+1,r=this.firstTilePosition?this.firstTilePosition.x:0,l=this.firstTilePosition?this.firstTilePosition.y:0;return{x:r+(s-1)*o,y:l+(t-1)*o}}assignDot(e,t){const s=this.decorList.getChildren().find(o=>o instanceof oi&&!o.active);if(s)return s.setPosition(e,t),s.setActive(!0),s.setVisible(!0),s.setDepth(K.TILE+2),s;const i=new oi(this.scene);return this.decorList.add(i),i.setPosition(e,t),i.setDepth(K.TILE+2),this.scene.add.existing(i),i}assignCross(e,t){const s=this.decorList.getChildren().find(o=>!(o instanceof oi)&&!o.active);if(s)return s.setPosition(e,t),s.setActive(!0),s.setVisible(!0),s.setDepth(K.TILE+2),s;const i=this.scene.make.image({key:sr,frame:ir.CROSS_WRONG});return i.setOrigin(.5,.4),i.setWorldSize(108/4,108/4),i.setDepth(K.TILE+2),this.decorList.add(i),i.setPosition(e,t),this.scene.add.existing(i),i}moveTo(e,t){this.drawX=e,this.drawY=t}lineTo(e,t){const s=this.lineList.getChildren().find(o=>!o.active);if(s&&s instanceof Phaser.GameObjects.Image){s.setPosition(this.drawX,this.drawY),s.setAngle(this.getLineAngle(e-this.drawX,t-this.drawY)),s.setOrigin(0,.5),s.setDisplaySize(this.getLineLength(e-this.drawX,t-this.drawY),18/2),s.setActive(!0),s.setVisible(!0),s.setDepth(K.TILE+1),this.drawX=e,this.drawY=t;return}const i=this.scene.make.image({key:sr,frame:ir.LINE_WRONG});i.setOrigin(0,.5),i.setDisplaySize(this.getLineLength(e-this.drawX,t-this.drawY),18/2),i.setDepth(K.TILE+1),this.lineList.add(i),i.setPosition(this.drawX,this.drawY),i.setAngle(this.getLineAngle(e-this.drawX,t-this.drawY)),this.scene.add.existing(i),this.drawX=e,this.drawY=t}getLineAngle(e,t){switch(this.getMovingDirectionString(t,e)){case"down":return 90;case"up":return-90;case"right":return 0;case"left":return 180;default:return 0}}getLineLength(e,t){switch(this.getMovingDirectionString(t,e)){case"down":case"up":return Math.abs(t);case"right":case"left":return Math.abs(e);default:return 0}}getMovingDirectionString(e,t){return e>0?"down":e<0?"up":t>0?"right":t<0?"left":"none"}}class nf extends ls{constructor(e,t,s){super(e),this.setName("EmptyTile"),this.setRow(t),this.setColumn(s),this.setState(V.STATUS.CAPTURED),this.hideHighlight(),this.removeTile()}}const{KEY:or,FRAME:ri}=A.GAMEPLAY,{SPECIALS:rr}=V;class vs extends ls{rocketTailSprite;constructor(e,t,s){super(e,ri.TILE_ROCKET,rr.ROCKET),this.setName("RocketTile"),this.setRow(t),this.setColumn(s),this.createRocketSparkle(),console.log(ri.TILE_ROCKET,rr.ROCKET),this.icon.setScale(this.block.scale)}createRocketSparkle(){const{KEY:e,FRAME:t}=A.EFFECTS;this.rocketTailSprite=this.scene.make.sprite({key:e,frame:t.ROCKET_TAIL+"0",origin:{x:.5,y:.5}}),this.add(this.rocketTailSprite),this.updateRocketTailConfig(),this.rocketTailSprite.anims.play($.ROCKET_TAIL.KEY,!0)}onExplosive(){this.startExplosive(),super.onExplosive()}kill(){this.rocketTailSprite.anims.stop(),super.kill()}revive(){super.revive(),this.updateRocketTailConfig(),this.rocketTailSprite.anims.play($.ROCKET_TAIL.KEY,!0)}updateRocketTailConfig(){const e=this.scene.boardManager.boardSizeHandler.getTileSize();this.rocketTailSprite.setPosition(-e/5,e/5),this.rocketTailSprite.setScale(.5*this.scene.boardManager.boardSizeHandler.getTileSize()/V.SIZE)}enableTile(){super.enableTile(),this.icon.setScale(this.block.scale)}startExplosive=()=>{const{boardManager:e}=this.scene,{boardContainer:t}=e,s=t.count("visible",!0)-1;t.moveTo(this,s)};changeDeck(){}drawBlock(e){const t=this.scene.boardManager.getTileSize();this.block=this.scene.add.image(0,0,or,ri.TILE_BG),this.block.setDisplaySize(t,t),this.add(this.block),this.icon=this.scene.make.sprite({key:or,frame:e}),this.icon.setScale(this.block.scale/2),this.add(this.icon)}}const lf={ADD:"add",RESET:"reset"};class cf extends ls{constructor(e,t,s,i,o){super(e,o,i),this.setName("NormalTile"),this.setRow(t),this.setColumn(s)}}const{STATUS:ai}=ns,{BOMB:uf,ROCKET:df}=V.SPECIALS,{TILES:mf}=A,{Gameplay:ar}=GameCore.Configs;class hf extends Ce{scene;isSelectable=!1;isFirstInteractionFired=!1;currentDeckPrefix;hintTiles=[];hintEffect;pathFinder;captureWrongPathEffect;capturePathGroup;delayEnableItemTimer;tilesGroup;firstSelectedTile=null;isSuggestPairHintShowed;matchedPairCount;isExtraPairSpawned;isFirstExtraPairSpawn;remainingExtraTileSpawn;firstTilePosition;constructor(e){super(e),this.scene=e,this.pathFinder=new Ba,this.hintEffect=new Qh(this.scene),this.firstTilePosition=new Phaser.Math.Vector2(0,0),this.capturePathGroup=new sf(this.scene),this.captureWrongPathEffect=new af(this.scene),this.createGroup(),this.listenEvents()}init(){this.isSelectable=!1,this.firstSelectedTile=null,this.isSuggestPairHintShowed=!1,this.isFirstInteractionFired=!1,this.clearTiles();const{theme:e}=this.scene.levelHandler.getConfigs();if(!e||typeof e=="string")this.currentDeckPrefix="candy";else{const t=Phaser.Math.Between(0,e.length-1),s=e[t].toUpperCase(),i=mf[s].KEY;this.scene.textures.exists(i)?this.currentDeckPrefix=e[t]:this.currentDeckPrefix="candy"}this.setState(ai.READY)}start(){if(this.isRunning())return;this.isSelectable=!1,this.matchedPairCount=0,this.isExtraPairSpawned=!1,this.isFirstExtraPairSpawn=!0,this.isFirstInteractionFired=!1;const{rules:e}=this.scene.levelHandler.getConfigs();this.remainingExtraTileSpawn=e.addRandomTilesPerMove||0,this.hintEffect.clearFirstTilePosition(),this.capturePathGroup.clearFirstTilePosition(),this.captureWrongPathEffect.clearFirstTilePosition(),this.showUpTilesAnimation(),this.setState(ai.RUNNING)}stop(){this.isRunning()&&(this.isSelectable=!1,this.isFirstInteractionFired=!1,this.removeSuggestPairHint(),this.capturePathGroup.killAndHideAll(),this.setState(ai.STOPPED))}getCurrentDeck(){return this.currentDeckPrefix}emitInteraction(){this.scene.events.emit(V.EVENTS.INTERACTION),this.isFirstInteractionFired||(this.isFirstInteractionFired=!0,this.scene.events.emit(V.EVENTS.FIRST_INTERACTION))}clearWrongPath(){this.captureWrongPathEffect.clear()}drawWrongPath(e){this.captureWrongPathEffect.drawNewPath(e)}createGroup(){this.tilesGroup=this.scene.make.group({active:!1,runChildUpdate:!1})}listenEvents(){this.scene.events.on(V.EVENTS.ROCKET_EXPLODE,this.handleRocketExplode)}getTiles(){return!this.scene||!this.tilesGroup?.scene?[]:this.tilesGroup.getMatching("active",!0)}getAliveTiles(){const e=this.getTiles(),t=[];return e.forEach(s=>{s.isCaptured()||s.isCapturing()||t.push(s)}),t}hideAllTiles(){this.getAliveTiles().forEach(t=>{t.setVisible(!1)})}showAllTiles(){this.getAliveTiles().forEach(t=>{t.setVisible(!0)})}clearTiles(){this.tilesGroup&&this.tilesGroup.children.each(e=>{e instanceof ls&&e.removeTile()})}getTileExit(e){const t=this.tilesGroup.getMatching("type",e);return t.length<1?null:t.find(s=>s.visible===!1&&!(s instanceof We))||null}createTileByType(e,t,s){const i=this.getTileExit(e);if(i)return i.changeDeck(this.currentDeckPrefix),i.enableTile(),i.setRow(t),i.setColumn(s),i;if(e===df)return new vs(this.scene,t,s);if(e===uf)return new We(this.scene,t,s);const o=parseInt(e);if(o>28||o<1||!GameCore.Utils.Valid.isNumber(o)||e==="empty")return new nf(this.scene,t,s);const r=new cf(this.scene,t,s,e,`tile-${e}`);return r.changeDeck(this.currentDeckPrefix),r}addTile(e){this.tilesGroup.add(e),this.addEventsTile(e)}addEventsTile=e=>{e.block&&(e.block.setInteractive({useHandCursor:!0}),e.block.off(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN),e.block.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.tileSelect(e)),e.createInput())};removeEventsAllTiles(){this.getTiles().forEach(t=>{t.block?.off(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN),t.block?.disableInteractive()})}tileCapture(e){this.firstSelectedTile===e&&(this.firstSelectedTile=null),e.setState(V.STATUS.CAPTURED)}removeTile(e){if(!e)return;const{boardManager:t}=this.scene,{boardContainer:s,tileMap:i}=t,{row:o,column:r}=e;i[o]&&i[o][r]&&(i[o][r]="?"),e.nextX=null,e.nextY=null,e.setVisible(!1),s.remove(e),this.tilesGroup.killAndHide(e)}showUpTilesAnimation(){const e=[...this.getTiles()];e.reverse();const{animationManager:t}=this.scene;t.startBoard(e).once(Phaser.Tweens.Events.TWEEN_COMPLETE,()=>{this.scene.tweens.killTweensOf(e),e.forEach(i=>{i.setAlpha(1)}),this.isSelectable=!0,this.hintEffect.updateFirstTilePosition(),this.capturePathGroup.updateFirstTilePosition(),this.captureWrongPathEffect.updateFirstTilePosition(),this.getLocalFirstTilePosition(),this.setUpAllBombTilesWhenGameStarts(),F.emit(G.TILE_SHOWED_UP)})}setUpAllBombTilesWhenGameStarts(){const{boardMap:e}=this.scene.boardManager;if(!e||!e[1])return;const t=Object.keys(e).length,s=Object.keys(e[1]).length;for(let i=1;i<=t;i++)if(e[i])for(let o=1;o<=s;o++){if(!e[i][o])continue;const r=e[i][o];r instanceof We&&r.setBombEffectWhenGameStarts()}}getLocalFirstTilePosition(){const{boardMap:e}=this.scene.boardManager;if(!e||!e[1]||!e[1][1])return;const{x:t,y:s}=e[1][1];this.firstTilePosition=new Phaser.Math.Vector2(t,s)}isCanMove(){return!(!this.isRunning()||this.scene.boardManager.checkIfAllTilesAreCaptured())}processOutOfMove(){if(!this.isRunning())return;const e=this.getTiles();for(const t of e)t.isCaptured()||(this.tileCapture(t),this.removeTile(t));this.scene.finishLevel()}isHavingBomb(){const{levelHandler:e}=this.scene,t=e.getConfigs();if(t.specials&&(!t.specials.bomb||t.specials.bomb===0))return!1;const s=this.getAliveTiles();for(let i=0;i<s.length;i++){const o=s[i];if(o instanceof We&&!o.isDefuse())return!0}return!1}getPairsOfTilesCanCapture(e){const t=[],s=this.getTiles();GameCore.Utils.Array.shuffle(s);for(const i of s){if(i.isCaptured()||i.isCapturing())continue;const o=this.getPairTilesSameColor(i,t);if(o.length===2&&(t.push(o[0],o[1]),t.length===e*2))break}return t}suggestPairHint(){if(!this.isRunning()||this.isSuggestPairHintShowed)return;const e=this.getValidPairTilesSameColorPath();if(!e||e.length===0)return;const{x:t=1,y:s=1}=e[0],{x:i=1,y:o=1}=e[e.length-1],{boardMap:r}=this.scene.boardManager,l=r[t][s],n=r[i][o];this.isSuggestPairHintShowed=!0,this.hintEffect.drawNewPath(e),this.scene.effectManager.playTileHintEffect(l,n),this.scene.audio.playSound(X.HINT_ITEM)}removeSuggestPairHint(){this.hintEffect.clear(),this.hintTiles=[],this.isSuggestPairHintShowed=!1,this.scene.effectManager.stopTileHintEffect()}hideHintEffect(){this.isSuggestPairHintShowed&&(this.scene.effectManager.tileHintEffect.hide(),this.hintEffect.hideHintEffect())}showHintEffect(){this.isSuggestPairHintShowed&&(this.scene.effectManager.tileHintEffect.show(),this.hintEffect.showHintEffect())}tileSelect=e=>()=>{if(!this.isSelectable||e.isCapturing())return;const{itemManager:t,boardManager:s,animationManager:i}=this.scene;if(this.emitInteraction(),this.removeSuggestPairHint(),t.itemActive!==""&&t.applyItem(e))return;t.setIsUseableItem(!0);let o=[];const r=this.createPathFromTile(e);if(GameCore.Utils.Valid.isBoolean(r))return;if(r===null){const{levelHandler:m,tutorialManager:d}=this.scene,{level:f}=m;if(d.isLevelShowWrongPath(f)&&this.createWrongPath(e),this.scene.events.emit(V.EVENTS.NO_PATH_FOUND),this.scene.audio.playSound(X.INVALID_MATCH),i.isMoveTilesCompleted){const h=[...this.getTiles()];i.pairWrong(h)}this.firstSelectedTile?.hideHighlight(),this.firstSelectedTile=null;return}this.captureWrongPathEffect.clear();const{x:l=0,y:n=0}=r[0],{boardMap:c}=s;o=[c[l][n],e],this.firstSelectedTile=null,this.tilesCapturing(o,r),this.startVibrate(o.length)};createPathFromTile(e){if(!this.firstSelectedTile)return e.showHighlight(),this.firstSelectedTile=e,this.scene.audio.playSound(X.TILE_SELECT),!1;if(this.firstSelectedTile===e)return e.hideHighlight(),this.firstSelectedTile=null,this.scene.audio.playSound(X.TILE_SELECT),!1;if(this.firstSelectedTile.isCaptured()||this.firstSelectedTile.isCapturing())return this.firstSelectedTile=e,!1;const{row:t,column:s,color:i}=this.firstSelectedTile,{row:o,column:r,color:l}=e;if(i!==l)return this.firstSelectedTile.hideHighlight(),e.showHighlight(),this.firstSelectedTile=e,this.scene.audio.playSound(X.TILE_SELECT),!1;const n=this.getCurrentGrid(t,s,o,r);return n.forEach(u=>{u.push(0),u.unshift(0)}),n.push(new Array(n[0].length).fill(0)),n.unshift(new Array(n[0].length).fill(0)),this.pathFinder.findPath({x:t,y:s},{x:o,y:r},n)}createWrongPath(e){if(!this.firstSelectedTile)return;const{levelHandler:t}=this.scene,{level:s}=t;let i=null;const{row:o,column:r}=this.firstSelectedTile,{row:l,column:n}=e;if(s===1&&o===1&&r===2&&l===4&&n===2)i=[],i.push(new Phaser.Math.Vector2(1,2)),i.push(new Phaser.Math.Vector2(4,2));else{const c=this.getCurrentGrid(o,r,l,n);c.forEach(u=>{u.push(0),u.unshift(0)}),c.push(new Array(c[0].length).fill(0)),c.unshift(new Array(c[0].length).fill(0)),i=this.pathFinder.findWrongPath({x:o,y:r},{x:l,y:n},c)}this.captureWrongPathEffect.drawNewPath(i),this.scene.time.delayedCall(1e3,()=>{this.captureWrongPathEffect.clear()})}getCurrentGrid(e=-1,t=-1,s=-1,i=-1){const o=[],{boardMap:r}=this.scene.boardManager,l=Object.keys(r).length;for(let n=1;n<=l;n++){const c=r[n],u=Object.keys(c).length,m=[];for(let d=1;d<=u;d++){const f=c[d];f.isCaptured()||f.isCapturing()||n===e&&d===t||n===s&&d===i?m.push(0):m.push(1)}o.push(m)}return o}getValidPairTilesSameColorPath(){const e=this.getTiles(),t=[];if(e.forEach(i=>{i.isCaptured()||i.isCapturing()||t.push(i)}),t.length<2)return[];const s=this.getCurrentGrid();s.forEach(i=>{i.push(0),i.unshift(0)}),s.push(new Array(s[0].length).fill(0)),s.unshift(new Array(s[0].length).fill(0));for(let i=0;i<t.length;i++){const o=t[i],{row:r,column:l}=o;s[r][l]=0;for(let n=i+1;n<t.length;n++){const c=t[n];if(o.color!==c.color)continue;const{row:u,column:m}=c;s[u][m]=0;const d=this.pathFinder.findPath({x:r,y:l},{x:u,y:m},s);if(d)return this.hintTiles=[o,c],d;s[u][m]=1}s[r][l]=1}return null}getPairTilesSameColor(e,t=[]){if(t.includes(e))return[];const s=[];s.push(e);for(const i of this.getTiles())if(!i.isCaptured()&&!i.isCapturing()&&i!==e&&i.color===e.color&&!t.includes(i)){s.push(i);break}return s}tilesChangeColor(e,t){const{boardManager:s}=this.scene;t.forEach(i=>{const{row:o,column:r,x:l,y:n}=i,c=this.createTileByType(e,o,r);s.setTileToMap(c,o,r),c.setX(l),c.setY(n),this.removeTile(i)})}getCapturingTiles(){const e=this.getTiles(),t=[];return e.forEach(s=>{s.isCapturing()&&t.push(s)}),t}tilesCapturing(e,t){this.delayEnableItemTimer?.remove();const{animationManager:s,modeManager:i,itemManager:o}=this.scene;this.removeSuggestPairHint(),o.setIsUseableItem(!1),e.forEach(n=>{this.tileCapture(n)}),this.matchedPairCount+=e.length/2;const r=this.capturePathGroup.requestPath();t&&(r.setScore(5*e.length),r.drawNewPath(t)),this.processRocketTiles(e),this.scene.events.emit(V.EVENTS.CAPTURING),s.capturing(e),this.scene.time.addEvent({delay:400,callback:()=>{this.capturePathGroup.killPath(r)}}),this.getCapturingTiles().length<1&&i.processGravityMode(),this.scene.events.emit(nt.COMBO),this.scene.events.emit(lf.ADD,ar.BaseScore)}handleRocketExplode=e=>{this.tilesCapturing(e)};processRocketTiles(e){const t=e.filter(l=>l instanceof vs).length;if(!(t>0))return;const{effectManager:i}=this.scene,o=this.getPairsOfTilesCanCapture(t/2),r=e.filter(l=>l instanceof vs);o.forEach(l=>{l.setState(V.STATUS.CAPTURING)}),r.forEach((l,n)=>{if(n>=o.length||!(l instanceof vs))return;const c=o[n],{x:u,y:m}=l.getWorldPosition(),d=new Phaser.Math.Vector2(u,m);i.requestTileRocketEffect(d,c)}),i.playTileRocketEffects()}handleExtraSpawn(){if(this.remainingExtraTileSpawn===0)return!1;const{tileManager:e}=this.scene;return this.isFirstExtraPairSpawn?this.matchedPairCount<5?!1:(this.isFirstExtraPairSpawn=!1,e.spawnExtraPair(),!0):(this.matchedPairCount-5)%2===0?this.isExtraPairSpawned?!1:(e.spawnExtraPair(),!0):(this.isExtraPairSpawned=!1,!1)}spawnExtraPair(){this.remainingExtraTileSpawn-=1;const{boardManager:e,levelHandler:t}=this.scene,{boardMap:s,boardContainer:i}=e,{colors:o}=t.getConfigs(),r=this.findFreeSpacesInBoard();if(r.length<2){this.remainingExtraTileSpawn++;return}this.scene.audio.playSound(X.EXTRA_TILE_SPAWN),r.sort(()=>Math.random()-.5);const l=Phaser.Math.RND.between(1,o),{row:n,column:c}=r[0],{row:u,column:m}=r[1],d=this.createTileByType(l.toString(),n,c),f=this.createTileByType(l.toString(),u,m);this.addTile(d),this.addTile(f),s[n][c]=d,s[u][m]=f;const{x:h,y:p}=this.firstTilePosition;d.setVisible(!1),f.setVisible(!1),i.add(d),i.add(f);const v=this.scene.boardManager.getTileSize()+1;d.setPosition(h+(c-1)*v,p+(n-1)*v),f.setPosition(h+(m-1)*v,p+(u-1)*v),d.runExtraSpawnEffect(),f.runExtraSpawnEffect(),d.setVisible(!0),f.setVisible(!0),this.isExtraPairSpawned=!0}findFreeSpacesInBoard(){const{boardMap:e}=this.scene.boardManager,t=[],s=Object.keys(e).length,i=Object.keys(e[1]).length;for(let o=1;o<=s;o++)for(let r=1;r<=i;r++)e[o][r].isCaptured()&&t.push({row:o,column:r});return t}startVibrate(e){try{if(!ar.EnableVibrate||e<=4)return;const{player:t}=this.scene;if(!t.getPlayerSetting("vibrate"))return;if(e<=6){Ot(340);return}if(e<=8){Ot(410);return}if(e<=9){Ot(480);return}if(e>9){Ot(600);return}}catch(t){pe(t)}}}const{KEY:ff,FRAME:pf}=A.TUTORIAL;class bf extends Phaser.GameObjects.Container{hand;toGlobalX=0;toGlobalY=0;constructor(e){super(e),this.name="DoubleTapTutorialHand",this.addHand(),this.bringToTop(this.hand),this.scene.add.existing(this)}addHand(){this.hand=this.scene.make.image({key:ff,frame:pf.HAND,origin:{x:0,y:0}}),this.hand.setWorldSize(65.5,55.5),this.add(this.hand)}setTarget(e,t){this.toGlobalX=e,this.toGlobalY=t}playAnimation(e=0,t=800){this.scene.tweens.killTweensOf(this.hand);const s=1/this.scene.world.getPixelRatio();this.hand.x=0,this.hand.y=0,this.hand.angle=30,this.hand.scale=s,this.hand.setPosition(0,0),this.hand.setAlpha(1),this.runTapTween(!0,e,t)}runTapTween(e,t=0,s=800){const i=1/this.scene.world.getPixelRatio();this.scene?.tweens.add({targets:[this.hand],ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:{start:0,value:1,duration:100},scale:{duration:200,start:i,to:i*.8},angle:{from:30,value:0,duration:200}},yoyo:!0,onComplete:()=>{const o=this.toGlobalX-this.x,r=this.toGlobalY-this.y;e?this.runMoveTween(0,0,o,r,t,s):this.runMoveTween(o,r,0,0,t,s)}})}runMoveTween(e,t,s,i,o=0,r=800){this.scene?.tweens.add({delay:o,targets:[this.hand],ease:Phaser.Math.Easing.Cubic.Out,props:{x:{from:e,to:s,duration:800},y:{from:t,to:i,duration:800}},onComplete:()=>{this.runTapTween(s===0&&i===0,o,r)}})}stopAnimation(){this.scene.tweens.killTweensOf(this.hand)}kill(){super.kill()}revive(){super.revive()}destroy(e){super.destroy(e)}preDestroy(){this.scene.tweens.killTweensOf(this.hand)}}const ne={GUIDE_1:"Guide1",GUIDE_2:"Guide2",GUIDE_3:"Guide3",GUIDE_4:"Guide4",GUIDE_5:"Guide5",GUIDE_6:"Guide6",GUIDE_7:"Guide7",GUIDE_8:"Guide8",GUIDE_11:"Guide11"};class gf{scene;manager;isStep1Analyzed;isStep2Analyzed;hintOrder=[[2,5,5,1],[1,1,5,5],[2,2,4,5],[2,1,2,3],[4,1,5,2],[1,2,4,2],[1,3,1,4],[1,2,4,2],[4,1,5,2],[1,5,3,1],[2,4,3,5],[3,2,3,4]];constructor(e){this.manager=e,this.scene=e.scene}setup(){this.isStep1Analyzed=!1,this.isStep2Analyzed=!1,F.once(G.TILE_SHOWED_UP,this.startGuide),F.once(G.FINISH,this.closeTutorial),this.manager.background.setDepth(K.EFFECT)}startGuide=()=>{const{tileManager:e,uiManager:t,boardManager:s}=this.scene,{boardContainer:i}=s;i.add(this.manager.background),this.manager.background.setPosition(-i.x+this.manager.background.displayWidth/2,-i.y+this.manager.background.displayHeight/2),t.disableUILogicForGuide1(),e.removeEventsAllTiles(),this.createHint()};createHint=()=>{const e=this.hintOrder.pop();if(!e)return;const t=e[0],s=e[1],i=e[2],o=e[3],{tileManager:r}=this.scene,{boardMap:l,boardContainer:n}=this.scene.boardManager;n.bringToTop(this.manager.background);const c=l[t][s],{x:u,y:m}=c.getWorldPosition();r.addEventsTile(c),n.bringToTop(c);const d=l[i][o],{x:f,y:h}=d.getWorldPosition();r.addEventsTile(d),n.bringToTop(d),this.manager.runShowMaskAnimation(.4),this.createHandAt(u,m,f,h),this.scene.events.once(V.EVENTS.INTERACTION,this.handleInteract)};handleNoPathFound=()=>{this.scene.events.off(V.EVENTS.CAPTURING,this.handleCapturing);const{tileManager:e}=this.scene;e.removeEventsAllTiles(),this.isStep2Analyzed||(this.scene.analytics.event(Y.TUTORIAL_STEP,{step:2}),this.isStep2Analyzed=!0),this.manager.runHideMaskAnimation(),this.scene.time.delayedCall(1e3,()=>{e.clearWrongPath(),this.scene.time.delayedCall(500,()=>{this.createHint()})})};handleCapturing=()=>{this.scene.events.off(V.EVENTS.NO_PATH_FOUND,this.handleNoPathFound),this.scene.audio.playSound("combo_1"),this.isStep1Analyzed||(this.scene.analytics.event(Y.TUTORIAL_STEP,{step:1}),this.isStep1Analyzed=!0),this.manager.runHideMaskAnimation(),this.scene.time.delayedCall(600,()=>{this.createHint()})};handleInteract=()=>{this.manager.hand.stopAnimation(),this.manager.hand.kill(),this.scene.events.once(V.EVENTS.CAPTURING,this.handleCapturing),this.scene.events.once(V.EVENTS.NO_PATH_FOUND,this.handleNoPathFound)};createHandAt(e,t,s,i){this.manager.hand.setDepth(K.ON_TOP),this.manager.hand.setPosition(e-10,t),this.manager.hand.revive(),this.manager.hand.setTarget(s-10,i),this.manager.hand.stopAnimation(),this.manager.hand.playAnimation(300)}closeTutorial=()=>{F.off(G.TILE_SHOWED_UP,this.startGuide),this.scene.events.off(V.EVENTS.INTERACTION,this.handleInteract),this.scene.events.off(V.EVENTS.CAPTURING,this.handleCapturing),this.scene.events.off(V.EVENTS.NO_PATH_FOUND,this.handleNoPathFound);const{boardContainer:e}=this.scene.boardManager;e.remove(this.manager.background,!1),Phaser.Display.Align.In.Center(this.manager.background,this.scene.gameZone),this.scene.analytics.event(Y.TUTORIAL_STEP,{step:3});const{objects:t}=this.scene.layoutManager;t.skipContainer.kill(),this.manager.stopTutorial()}}class vf{scene;manager;constructor(e){this.manager=e,this.scene=e.scene}setup(){F.once(G.TILE_SHOWED_UP,this.startGuide),F.once(G.FINISH,this.closeTutorial),F.once(G.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo()};createInfo(){const{itemManager:e,layoutManager:t}=this.scene,{staticHand:s,infoText:i}=this.manager,{objects:o}=t;e.setDepthItemOnTop(L.ROCKET.ID);const{x:r,y:l,scale:n,width:c,displayWidth:u,displayHeight:m}=o.rocketItem;this.manager.createMask(r-(u-2*n)/2,l-m/2+6*n,(c-2)*n,(c-2)*n,(c-2)*n/2);const d=this.scene.world.isLandscape(),f=d?30:-50,h=d?60:-90,p=d?30:210;this.manager.runShowMaskAnimation(),s.revive(),s.angle=p,s.setPosition(r,l+f);const b=this.scene.lang.getCurrentLanguage()==="ru"?200:150;i.setMaxWidth(b),i.revive(),i.setPosition(r,l+h),i.setText(this.scene.lang.Text.tutorial_level_11),this.scene.input.setTopOnly(!0),this.scene.input.once(Phaser.Input.Events.POINTER_UP,this.handlePointerDown)}handlePointerDown=()=>{this.scene.input.setTopOnly(!1);const{itemManager:e}=this.scene,{infoText:t,staticHand:s}=this.manager;this.manager.runHideMaskAnimation(),t.kill(),s.kill(),e.setPaidItem(L.ROCKET.ID,!0),e.setDepthItemNormal(L.ROCKET.ID),e.itemActive!==L.ROCKET.ID&&e.enableItem(L.ROCKET.ID),this.scene.analytics.event(Y.TUTORIAL_STEP,{step:18})};closeTutorial=()=>{F.off(G.TILE_SHOWED_UP,this.startGuide),F.off(G.FINISH,this.closeTutorial),F.off(G.DIE,this.closeTutorial),this.manager.stopTutorial(),this.manager.completeTutorial(),this.scene.analytics.event(Y.TUTORIAL_STEP,{step:19})}}class wf{scene;manager;constructor(e){this.manager=e,this.scene=e.scene}setup(){F.once(G.TILE_SHOWED_UP,this.startGuide),F.once(G.FINISH,this.closeTutorial),F.once(G.DIE,this.closeTutorial)}startGuide=()=>{const{uiManager:e}=this.scene;e.disableUILogicForGuide2(),this.manager.listenAutoHintEvent(),this.manager.startAutoHint()};closeTutorial=()=>{F.off(G.TILE_SHOWED_UP,this.startGuide),F.off(G.FINISH,this.closeTutorial),F.off(G.DIE,this.closeTutorial),this.manager.stopListenAutoHintEvent(),this.manager.stopAutoHint(),this.manager.stopTutorial()}}class Tf{scene;manager;constructor(e){this.manager=e,this.scene=e.scene}setup(){F.once(G.TILE_SHOWED_UP,this.startGuide),F.once(G.FINISH,this.closeTutorial),F.once(G.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo(),this.manager.listenAutoHintEvent(),this.manager.startAutoHint()};createInfo(){const{staticHand:e,infoText:t}=this.manager,{layoutManager:s}=this.scene,{objects:i}=s,{width:o,height:r,x:l,y:n}=i.playtimeClock,c=10;this.manager.createMask(l-c/2,n-r/2-c/2,o+c,r+c),this.manager.runShowMaskAnimation(),e.revive(),e.angle=30,e.setPosition(l+o/2,n+30),t.setMaxWidth(200),t.revive(),t.setPosition(l+90,n+60),t.setText(this.scene.lang.Text.tutorial_level_3),this.scene.input.setTopOnly(!0),this.scene.input.once(Phaser.Input.Events.POINTER_DOWN,this.handlePointerDown)}handlePointerDown=()=>{this.scene.input.setTopOnly(!1);const{infoText:e,staticHand:t}=this.manager;this.manager.runHideMaskAnimation(),e.kill(),t.kill(),this.scene.analytics.event(Y.TUTORIAL_STEP,{step:4})};closeTutorial=()=>{F.off(G.TILE_SHOWED_UP,this.startGuide),F.off(G.FINISH,this.closeTutorial),F.off(G.DIE,this.closeTutorial),this.manager.stopListenAutoHintEvent(),this.manager.stopAutoHint(),this.manager.stopTutorial(),this.scene.analytics.event(Y.TUTORIAL_STEP,{step:5})}}class yf{scene;manager;constructor(e){this.manager=e,this.scene=e.scene}setup(){F.once(G.TILE_SHOWED_UP,this.startGuide),F.once(G.FINISH,this.closeTutorial),F.once(G.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo(),this.manager.listenAutoHintEvent()};createInfo(){const{itemManager:e,layoutManager:t}=this.scene,{staticHand:s,infoText:i}=this.manager,{objects:o}=t;e.setDepthItemOnTop(L.HINT.ID);const{x:r,y:l,scale:n,width:c,displayWidth:u,displayHeight:m}=o.hintItem;this.manager.createMask(r-(u-2*n)/2,l-m/2+6*n,(c-2)*n,(c-2)*n,(c-2)*n/2),this.manager.runShowMaskAnimation();const d=this.scene.world.isLandscape(),f=d?30:-50;let h=d?60:-90;const p=d?30:210;s.revive(),s.angle=p,s.setPosition(r,l+f);const v=this.scene.lang.getCurrentLanguage();i.revive(),v==="ru"&&(d?h+=10:h-=10),i.setPosition(r,l+h),i.setText(this.scene.lang.Text.tutorial_hint),this.scene.input.setTopOnly(!0),this.scene.input.once(Phaser.Input.Events.POINTER_UP,this.handlePointerDown)}handlePointerDown=()=>{this.scene.input.setTopOnly(!1);const{itemManager:e}=this.scene,{infoText:t,staticHand:s}=this.manager;this.manager.runHideMaskAnimation(),t.kill(),s.kill(),e.setPaidItem(L.HINT.ID),e.setDepthItemNormal(L.HINT.ID),this.scene.analytics.event(Y.TUTORIAL_STEP,{step:6})};closeTutorial=()=>{F.off(G.TILE_SHOWED_UP,this.startGuide),F.off(G.FINISH,this.closeTutorial),F.off(G.DIE,this.closeTutorial),this.manager.stopListenAutoHintEvent(),this.manager.stopAutoHint(),this.manager.stopTutorial(),this.scene.analytics.event(Y.TUTORIAL_STEP,{step:7})}}class we extends Phaser.GameObjects.Container{useSound=!0;isClicked=!1;scaleUp=-1;scaleDown=-1;button;upAnimation;downAnimation;isUsePixelPerfect=!1;hitArea;hitZone;hitSoundEffectKey=X.GENERAL_BUTTON_CLICK;scaleDownPress;parentName;constructor(e,t,s,i,o,r=!1){super(e),this.isUsePixelPerfect=r,this.setDepth(K.BUTTON),this.createButton(t,s,i,o),this.updateSize(),this.listenEvents(),this.scene.add.existing(this)}listenEvents(){this.scene.events.on(Phaser.Scenes.Events.SLEEP,this.handleSceneSleep),this.once(Phaser.GameObjects.Events.DESTROY,this.handelObjectDestroy)}handelObjectDestroy=()=>{this.scene&&this.scene.events.off(Phaser.Scenes.Events.SLEEP,this.handleSceneSleep)};handleSceneSleep=()=>{this.scene&&this.scene.tweens.killTweensOf(this)};set onClick(e){this.isUsePixelPerfect?(this.hitArea=this.button,this.hitArea.setInteractive({useHandCursor:!0,pixelPerfect:!0})):(this.hitArea=this.hitZone,this.updateSize(),this.hitArea.setInteractive({useHandCursor:!0})),this.hitArea.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handlePointerDown),this.hitArea.on(Phaser.Input.Events.GAMEOBJECT_POINTER_UP,this.handleOnClick(e)),this.hitArea.on(Phaser.Input.Events.GAMEOBJECT_POINTER_OUT,this.handlePointerOut)}get isUsePixelPerFect(){return this.isUsePixelPerfect}handlePointerDown=()=>{this.isClicked||this.upAnimation?.tween?.isPlaying()||(this.isClicked=!0,this.runDownAnimation())};handleOnClick=e=>()=>{this.isClicked&&(this.upAnimation?.tween?.isPlaying()||(this.isClicked=!1,this.runUpAnimation(),this.upAnimation?.tween?.once(Phaser.Tweens.Events.TWEEN_COMPLETE,()=>{this.logButtonEvent(),this.addDebugData(),this.processCallback(e)})))};handlePointerOut=()=>{this.isClicked&&(this.upAnimation?.tween?.isPlaying()||(this.isClicked=!1,this.runUpAnimation()))};processCallback(e){this.upAnimation?.stop(),this.downAnimation?.stop(),this.scene?.tweens.killTweensOf(this),this.scaleUp!==-1&&this.setScale(this.scaleUp),e()}setDisabled(e){e?(this.setAlpha(.5),this.hitArea?.disableInteractive()):(this.setAlpha(1),this.hitArea?.setInteractive())}createButton(e,t,s,i){this.button=this.scene.add.image(0,0,e,t),s&&i&&this.button.setWorldSize(s,i),this.scaleDownPress=this.scale-.07;const{displayWidth:o,displayHeight:r}=this.button;this.hitZone=this.scene.make.zone({displayWidth:o,displayHeight:r}),this.add([this.button,this.hitZone])}updateSize(){const{width:e,height:t}=this.button,s=10,i=e/100*10,o=t/100*10,r=i<s?i:s,l=o<s?o:s;this.setSize(e+r,t+l),this.hitZone.setSize(e+r,t+l)}runDownAnimation=()=>{this.scaleDown===-1&&(this.scaleUp=this.scale,this.scaleDown=this.scaleDownPress),this.useSound&&this.scene.audio.playSound(this.hitSoundEffectKey),this.downAnimation?.remove(),this.downAnimation=new rs({targets:[this],duration:150,props:{scale:this.scaleDown},onUpdate:()=>{this.hitZone.scale=1/this.scale}}),this.downAnimation.play()};runUpAnimation=()=>{this.scaleUp!==-1&&(this.upAnimation?.remove(),this.upAnimation=new rs({targets:[this],duration:150,props:{scale:this.scaleUp},onUpdate:()=>{this.hitZone.scale=1/this.scale}}),this.upAnimation.play())};addDebugData(){const e=this.getParentName(),t=this.name;Ui("ui-click",`${e}:${t}`)}logButtonEvent(){const e=this.getParentName(),t=this.name;this.scene.analytics.event(Y.BUTTON_CLICK,{button_name:t,screen_name:e})}getParentName(){if(this.parentName)return this.parentName;let e=this.parentContainer;for(;e;){if(e instanceof GameCore.Screen){const t=e;return this.parentName=t.getScreenName(),this.parentName}e=e.parentContainer}return this.parentName=this.scene.getSceneName(),this.parentName}setButtonHitSoundEffect(e){this.hitSoundEffectKey=e}}const{KEY:yt,FRAME:Ee}=A.TUTORIAL,{KEY:ws,FRAME:ni}=A.DEFAULT;class Ef extends Phaser.GameObjects.Container{popup;content;failContent;onClick;goodText;tile1;rocket1;curve1;tile5;tile4;tile7;rocket2;curve2;constructor(e){super(e),this.scene=e,this.setDepth(K.POPUP),this.createPopup(),this.updateSize(),this.createTitle(),this.createContent(),this.createText(),this.createButton(),this.createFail(),this.scene.add.existing(this)}createPopup(){const e=this.scene.make.image({key:ws,frame:ni.POPUP});e.setWorldSize(291.5,374),this.add(e),this.popup=e}updateSize(){const{displayWidth:e,displayHeight:t}=this.popup;this.setSize(e/2,t/2)}createTitle(){const e=this.scene.make.image({key:ws,frame:this.scene.lang.Texture.rocket}),t=this.scene.lang.getCurrentLanguage();let s=115,i=24.5;switch(t){case"ru":s=110,i=25;break;case"ja":s=99,i=29;break;case"pt":s=132,i=25;break;case"fr":s=90,i=30;break;case"it":s=97,i=25;break;case"tr":s=96,i=25;break;case"de":s=113,i=25;break;case"es":s=117,i=25;break;case"zh":s=54,i=29;break}e.setWorldSize(s,i),e.setTint(15584418),Phaser.Display.Align.In.TopCenter(e,this.popup,0,-22),this.add(e)}createContent(){this.content=this.scene.make.container({}),this.content.setSize(208,104),this.add(this.content),this.content.setPosition(0,-50),this.createTiles()}createTiles(){const e=[],t=this.createTile(Ee.GUIDE_TILE5);this.content.add(t),e.push(t),this.tile1=t;const s=this.createTile(Ee.GUIDE_TILE4);this.content.add(s),e.push(s);const i=this.createTile(Ee.GUIDE_TILE3);this.content.add(i),e.push(i);const o=this.createTile(Ee.GUIDE_TILE2);this.content.add(o),e.push(o),this.tile4=o;const r=this.createTile(Ee.GUIDE_TILE5);this.content.add(r),e.push(r),this.tile5=r;const l=this.createTile(Ee.GUIDE_TILE1);this.content.add(l),e.push(l);const n=this.createTile(Ee.GUIDE_TILE2);this.content.add(n),e.push(n),this.tile7=n;const c=this.createTile(Ee.GUIDE_TILE1);this.content.add(c),e.push(c),Phaser.Actions.GridAlign(e,{width:4,height:2,cellWidth:52,cellHeight:52,x:-(2*52)+26+1,y:-(1*52)+26+1});const u=this.scene.make.image({key:yt,frame:Ee.ROCKET});u.setWorldSize(30,39),this.content.add(u),this.rocket1=u,this.rocket1.setPosition(t.x,t.y),this.rocket1.kill();const m=this.scene.make.image({key:yt,frame:Ee.ROCKET});m.setWorldSize(30,39),this.content.add(m),this.rocket2=m,this.rocket2.setPosition(r.x,r.y),this.rocket2.kill();const d=(o.x-t.x)/2,f=t.x+d,h=t.y;this.curve1=new Phaser.Curves.Ellipse(f,h,d,50,180,360);const p=(n.x-r.x)/2,v=r.x+p,b=r.y;this.curve2=new Phaser.Curves.Ellipse(v,b,p,30,180,360,!0)}createTile(e,t=!1){const s=this.scene.make.container({});s.setSize(50,50);const i=this.scene.make.image({key:yt,frame:Ee.TILE_BG});if(i.setWorldSize(50,50),s.add(i),e){const o=this.scene.make.image({key:yt,frame:e});o.setWorldSize(41,43.5),s.add(o)}if(t){const o=this.scene.add.graphics();o.fillStyle(0,.3),o.fillPoints([{x:0,y:0},{x:0,y:-25},{x:25,y:-25}],!0),s.add(o);const r=this.scene.make.image({key:yt,frame:Ee.BOMB});r.setWorldSize(20,21),Phaser.Display.Align.In.BottomRight(r,s,0,-3),s.add(r)}return s}createText(){const e=this.scene.make.bitmapText({font:B.YELLOW_AND_STROKE.KEY,size:this.scene.fontSize(18)});e.setCenterAlign(),e.setText(this.scene.lang.Text.tutorial_rocket_tile),e.setMaxWidth(220),Phaser.Display.Align.In.Center(e,this.popup,0,50),this.add(e)}createButton(){const e=new we(this.scene,ws,ni.BUTTON_GREEN,180,46.5);e.setName("Guide5Btn");const t=this.scene.lang.getCurrentLanguage();let s=-4,i=18;switch(t){case"ja":s=-6,i=20;break}const o=this.scene.make.bitmapText({font:B.SHADOW.KEY,size:this.scene.fontSize(i),origin:{x:.5,y:.5}});o.setText(this.scene.lang.Text.ok),e.add(o),Phaser.Display.Align.In.Center(o,e,0,s),Phaser.Display.Align.In.BottomCenter(e,this.popup,0,-30),e.onClick=this.handleButtonClick;const r=this.scene.make.image({key:ws,frame:ni.BUTTON_BG});r.setWorldSize(184,50.5),r.setPosition(e.x,e.y),this.add([r,e])}handleButtonClick=()=>{this.kill(),this.onClick&&this.onClick()};createFail(){this.failContent=this.scene.make.container({}),Phaser.Display.Align.In.Center(this.failContent,this.content),this.add(this.failContent);const e=this.scene.lang.getCurrentLanguage();let t=171,s=79;switch(e){case"ru":t=200,s=79;break;case"ja":t=112,s=79;break;case"id":t=115,s=63;break;case"it":t=108,s=56;break;case"es":t=100,s=56;break;case"fr":t=100,s=56;break;case"pt":t=94,s=57;break;case"de":t=93,s=57;break;case"zh":t=88,s=60;break;case"tr":t=70,s=61;break}const i=this.scene.make.image({key:yt,frame:this.scene.lang.Texture.tutorial_text_good});i.setWorldSize(t,s),this.failContent.add(i),i.kill(),this.goodText=i}stopAnimation(){this.goodText.kill(),this.scene.tweens.killTweensOf([this.tile1,this.tile4,this.tile5,this.tile7,this.rocket1,this.rocket2]),this.scene.tweens.killTweensOf(this.goodText)}playAnimation(){this.scene.tweens.killTweensOf(this.goodText),this.scene.tweens.killTweensOf([this.tile1,this.tile4,this.tile5,this.tile7,this.rocket1,this.rocket2]),this.goodText.kill(),this.goodText.setPosition(0,0),this.rocket1.setPosition(this.tile1.x,this.tile1.y),this.rocket1.setAngle(0),this.rocket1.setAlpha(1),this.rocket1.kill(),this.rocket2.setPosition(this.tile5.x,this.tile5.y),this.rocket2.setAngle(0),this.rocket2.setAlpha(1),this.rocket2.kill(),this.tile1.setAlpha(1),this.tile4.setAlpha(1),this.tile5.setAlpha(1),this.tile7.setAlpha(1),this.scene.time.delayedCall(600,()=>{this.rocket1.revive(),this.rocket2.revive()}),this.scene.tweens.add({targets:[this.tile1,this.tile5],duration:500,delay:300,props:{alpha:{from:1,to:0}},onComplete:()=>{this.scene.tweens.addCounter({from:0,to:1,duration:500,onUpdate:e=>{const t=e.getValue(),s=this.curve1.getPoint(t);this.rocket1.setRotation(Phaser.Math.Angle.Between(this.rocket1.x,this.rocket1.y,s.x,s.y)+Phaser.Math.DegToRad(66)),this.rocket1.setPosition(s.x,s.y);const i=this.curve2.getPoint(t);this.rocket2.setRotation(Phaser.Math.Angle.Between(this.rocket2.x,this.rocket2.y,i.x,i.y)+Phaser.Math.DegToRad(66)),this.rocket2.setPosition(i.x,i.y)},onComplete:()=>{this.scene.tweens.add({targets:[this.tile4,this.tile7,this.rocket1,this.rocket2],duration:300,props:{alpha:{from:1,to:0}}}),this.scene.time.delayedCall(200,()=>{this.playGoodAnimation()})}})}})}playGoodAnimation(){this.goodText.revive(),this.scene.tweens.add({targets:this.goodText,duration:500,ease:Phaser.Math.Easing.Linear,props:{y:{from:0,to:-50}},onComplete:()=>{this.playAnimation()}})}}class Pf{scene;manager;popup;constructor(e){this.manager=e,this.scene=e.scene,this.popup=new Ef(this.scene),this.popup.setDepth(K.ON_TOP),this.scene.world.isLandscape()?(this.popup.setScale(.7),Phaser.Display.Align.In.Center(this.popup,this.scene.gameZone,0,-20)):Phaser.Display.Align.In.Center(this.popup,this.scene.gameZone,0,-50),this.popup.kill()}setup(){F.once(G.TILE_SHOWED_UP,this.startGuide),F.once(G.FINISH,this.closeTutorial),F.once(G.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo()};createInfo(){this.scene.input.setTopOnly(!0),this.manager.runShowMaskAnimation(),this.popup.revive(),this.scene.time.delayedCall(500,()=>{this.popup.playAnimation(),this.scene.analytics.event(Y.TUTORIAL_STEP,{step:8})}),this.popup.onClick=()=>{this.scene.input.setTopOnly(!1),this.manager.runHideMaskAnimation(),this.popup.stopAnimation(),this.manager.listenAutoHintEvent(),this.manager.startAutoHint(),this.scene.analytics.event(Y.TUTORIAL_STEP,{step:9})}}closeTutorial=()=>{F.off(G.TILE_SHOWED_UP,this.startGuide),F.off(G.FINISH,this.closeTutorial),F.off(G.DIE,this.closeTutorial),this.manager.stopListenAutoHintEvent(),this.manager.stopAutoHint(),this.manager.stopTutorial(),this.scene.analytics.event(Y.TUTORIAL_STEP,{step:10})}}const{KEY:tt,FRAME:Be}=A.TUTORIAL,{KEY:Ts,FRAME:li}=A.DEFAULT;class Sf extends Phaser.GameObjects.Container{popup;content;contentBg;failContent;onClick;failedText;originFailScale;leftLeaf;originLLeafScale;rightLeaf;originRLeafScale;bombCountDownMask;bomb;tileBomb;bombTween;constructor(e){super(e),this.scene=e,this.setDepth(K.POPUP),this.createPopup(),this.updateSize(),this.createTitle(),this.createContent(),this.createText(),this.createButton(),this.createFail(),this.scene.add.existing(this)}createPopup(){const e=this.scene.make.image({key:Ts,frame:li.POPUP});e.setWorldSize(291.5,374),this.add(e),this.popup=e}updateSize(){const{displayWidth:e,displayHeight:t}=this.popup;this.setSize(e/2,t/2)}createTitle(){const e=this.scene.make.image({key:Ts,frame:this.scene.lang.Texture.boom}),t=this.scene.lang.getCurrentLanguage();let s=86,i=25;switch(t){case"ru":s=63,i=25;break;case"ja":s=86,i=25;break;case"zh":s=29,i=28;break;case"pt":s=106,i=25;break;case"fr":s=85,i=25;break;case"id":s=80,i=25;break;case"es":s=65,i=25;break;case"tr":s=107,i=25;break}e.setWorldSize(s,i),e.setTint(15584418),Phaser.Display.Align.In.TopCenter(e,this.popup,0,-22),this.add(e)}createContent(){this.content=this.scene.make.container({}),this.content.setSize(102,102),this.add(this.content),this.content.setPosition(0,-20),this.createTiles();const e=this.scene.make.image({key:tt,frame:Be.BLANK});e.setTint(0),e.setWorldSize(102,102),e.setY(-20),this.content.add(e),e.kill(),this.contentBg=e}createTiles(){const e=this.createTile(Be.GUIDE_TILE1);this.content.add(e),Phaser.Display.Align.In.TopLeft(e,this.content);const t=this.createTile(Be.GUIDE_TILE2);this.content.add(t),Phaser.Display.Align.In.TopRight(t,this.content);const s=this.createTile(Be.GUIDE_TILE1);this.content.add(s),Phaser.Display.Align.In.BottomLeft(s,this.content);const i=this.createTile(Be.GUIDE_TILE2,!0);this.content.add(i),Phaser.Display.Align.In.BottomRight(i,this.content),this.tileBomb=i}createTile(e,t=!1){const s=this.scene.make.container({});s.setSize(50,50);const i=this.scene.make.image({key:tt,frame:Be.TILE_BG});i.setWorldSize(50,50),s.add(i);const o=this.scene.make.image({key:tt,frame:e});if(o.setWorldSize(41,43.5),s.add(o),t){const r=this.scene.make.image({key:tt,frame:Be.BOMB});r.setWorldSize(20,21),Phaser.Display.Align.In.BottomRight(r,s,0,-3),s.add(r),this.bomb=r}return s}createText(){const e=this.scene.make.bitmapText({font:B.YELLOW_AND_STROKE.KEY,size:this.scene.fontSize(18)});e.setText(this.scene.lang.Text.tutorial_bomb_tile),e.setCenterAlign(),e.setMaxWidth(220),Phaser.Display.Align.In.Center(e,this.popup,0,50),this.add(e)}createButton(){const e=new we(this.scene,Ts,li.BUTTON_GREEN,180,46.5);e.setName("Guide6Btn");const t=this.scene.lang.getCurrentLanguage();let s=-4,i=18;switch(t){case"ja":s=-6,i=20;break}const o=this.scene.make.bitmapText({font:B.SHADOW.KEY,size:this.scene.fontSize(i),origin:{x:.5,y:.5}});o.setText(this.scene.lang.Text.ok),e.add(o),Phaser.Display.Align.In.Center(o,e,0,s),Phaser.Display.Align.In.BottomCenter(e,this.popup,0,-30),e.onClick=this.handleButtonClick;const r=this.scene.make.image({key:Ts,frame:li.BUTTON_BG});r.setWorldSize(184,50.5),r.setPosition(e.x,e.y),this.add([r,e])}handleButtonClick=()=>{this.kill(),this.onClick&&this.onClick()};createFail(){this.failContent=this.scene.make.container({}),Phaser.Display.Align.In.Center(this.failContent,this.content),this.add(this.failContent);const e=this.scene.make.image({key:tt,frame:Be.LEAF_LEFT});e.setOrigin(1,.5),e.setWorldSize(132.5,61),this.failContent.add(e),e.setY(-17),e.kill(),this.leftLeaf=e,this.originLLeafScale=e.scale;const t=this.scene.make.image({key:tt,frame:Be.LEAF_RIGHT});t.setOrigin(0,.5),t.setWorldSize(120,68),this.failContent.add(t),t.setY(-17),t.kill(),this.rightLeaf=t,this.originRLeafScale=t.scale;const s=this.scene.lang.getCurrentLanguage();let i=61.5;switch(s){case"ru":i=35;break;case"ja":i=90;break;case"it":i=45*(167.5/350);break;case"de":i=45*(167.5/336);break;case"tr":i=55*(167.5/263);break;case"es":i=45*(167.5/231);break;case"pt":i=45*(167.5/192);break;case"fr":i=54*(167.5/164);break;case"id":i=48*(167.5/163);break;case"zh":i=51*(167.5/93);break}const o=this.scene.make.image({key:tt,frame:this.scene.lang.Texture.tutorial_text_failed});o.setWorldSize(167.5,i),this.failContent.add(o),o.setY(-20),o.kill(),this.failedText=o,this.originFailScale=o.scale}stopAnimation(){this.contentBg.kill(),this.leftLeaf.kill(),this.rightLeaf.kill(),this.failedText.kill(),this.scene.tweens.killTweensOf(this.content),this.scene.tweens.killTweensOf(this.leftLeaf),this.scene.tweens.killTweensOf(this.rightLeaf),this.scene.tweens.killTweensOf(this.failedText)}playAnimation(){this.scene.tweens.killTweensOf(this.content),this.scene.tweens.killTweensOf(this.leftLeaf),this.scene.tweens.killTweensOf(this.rightLeaf),this.scene.tweens.killTweensOf(this.failedText),this.contentBg.revive(),this.contentBg.setAlpha(0),this.bomb.revive(),this.failedText.revive(),this.failedText.setScale(0),this.leftLeaf.revive(),this.leftLeaf.setScale(0),this.leftLeaf.setAngle(-5),this.rightLeaf.revive(),this.rightLeaf.setScale(0),this.rightLeaf.setAngle(5),this.runBombIconTween(),this.scene.tweens.addCounter({from:1,to:0,duration:1e3,ease:"Linear",onUpdate:e=>{const t=e.getValue();this.bombCountDownMask.drawCountdown(t,1)},onComplete:()=>{this.bomb.kill(),this.scene.time.delayedCall(200,()=>{this.playFailAnimation()})}})}runBombIconTween(){this.bombTween?.stop(),this.bombTween?.stop();const{scaleX:e,scaleY:t}=this.bomb;this.bombTween=this.scene.tweens.add({targets:this.bomb,scaleX:e*1.2,scaleY:t*1.2,ease:"Sine.easeInOut",duration:500,yoyo:!0,repeat:-1,onStop:()=>{this.bomb.setScale(e,t)}})}createBombCountDown(){this.bombCountDownMask=new Ma(this.scene,50,4),this.tileBomb.add(this.bombCountDownMask),this.bombCountDownMask.drawCountdown(0,1)}playFailAnimation(){this.scene.tweens.add({targets:this.contentBg,duration:1e3,ease:Phaser.Math.Easing.Linear,props:{alpha:{from:0,to:.5}}}),this.scene.tweens.add({targets:this.failedText,duration:1e3,ease:Phaser.Math.Easing.Expo.InOut,props:{scale:{from:0,to:this.originFailScale}},onComplete:()=>{const e=[this.originLLeafScale,this.originRLeafScale];this.scene.tweens.add({targets:[this.leftLeaf,this.rightLeaf],duration:500,ease:Phaser.Math.Easing.Expo.Out,props:{scale:{getStart:(s,i,o,r)=>0,getEnd:(s,i,o,r)=>e[r]}}});const t=[-5,5];this.scene.tweens.add({targets:[this.leftLeaf,this.rightLeaf],delay:300,duration:500,ease:Phaser.Math.Easing.Linear,props:{angle:{getStart:(s,i,o,r)=>t[r],getEnd:(s,i,o,r)=>0}},onComplete:()=>{this.playAnimation()}})}})}}class kf{scene;manager;popup;constructor(e){this.manager=e,this.scene=e.scene,this.popup=new Sf(this.scene),this.popup.setDepth(K.ON_TOP),this.scene.world.isLandscape()?(this.popup.setScale(.7),Phaser.Display.Align.In.Center(this.popup,this.scene.gameZone,0,-20)):Phaser.Display.Align.In.Center(this.popup,this.scene.gameZone,0,-50),this.popup.kill(),this.popup.createBombCountDown()}setup(){F.once(G.TILE_SHOWED_UP,this.startGuide),F.once(G.FINISH,this.closeTutorial),F.once(G.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo()};createInfo(){this.scene.input.setTopOnly(!0),this.manager.runShowMaskAnimation(),this.popup.revive(),this.scene.time.delayedCall(500,()=>{this.popup.playAnimation(),this.scene.analytics.event(Y.TUTORIAL_STEP,{step:11})}),this.popup.onClick=()=>{this.scene.input.setTopOnly(!1),this.manager.runHideMaskAnimation(),this.popup.stopAnimation(),this.manager.listenAutoHintEvent(),this.manager.startAutoHint(),this.scene.analytics.event(Y.TUTORIAL_STEP,{step:12})}}closeTutorial=()=>{F.off(G.TILE_SHOWED_UP,this.startGuide),F.off(G.FINISH,this.closeTutorial),F.off(G.DIE,this.closeTutorial),this.manager.stopListenAutoHintEvent(),this.manager.stopAutoHint(),this.manager.stopTutorial(),this.scene.analytics.event(Y.TUTORIAL_STEP,{step:13})}}class xf{scene;manager;constructor(e){this.manager=e,this.scene=e.scene}setup(){F.once(G.TILE_SHOWED_UP,this.startGuide),F.once(G.FINISH,this.closeTutorial),F.once(G.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo()};createInfo(){const{itemManager:e,layoutManager:t}=this.manager.scene,{staticHand:s,infoText:i}=this.manager,{objects:o}=t;e.setDepthItemOnTop(L.GUIDE_BOMB_DEFUSE.ID);const{x:r,y:l,scale:n,width:c,displayWidth:u,displayHeight:m}=o.defuseItem;this.manager.createMask(r-(u-2*n)/2,l-m/2+6*n,(c-2)*n,(c-2)*n,(c-2)*n/2),this.manager.runShowMaskAnimation();const d=this.scene.world.isLandscape(),f=d?30:-50,h=d?0:30,p=d?60:-90,v=d?30:210;s.revive(),s.angle=v,s.setPosition(r,l+f);const g=this.scene.lang.getCurrentLanguage()==="ru"?250:150;i.setMaxWidth(g),i.revive(),i.setPosition(r+h,l+p),i.setText(this.scene.lang.Text.tutorial_level_7),this.manager.scene.input.setTopOnly(!0),this.manager.scene.input.once(Phaser.Input.Events.POINTER_UP,this.handlePointerDown)}handlePointerDown=()=>{this.manager.scene.input.setTopOnly(!1);const{itemManager:e,uiManager:t}=this.manager.scene,{infoText:s,staticHand:i}=this.manager;this.manager.runHideMaskAnimation(),t.changeToDefuseItem(),s.kill(),i.kill(),e.setPaidItem(L.GUIDE_BOMB_DEFUSE.ID),e.setDepthItemNormal(L.GUIDE_BOMB_DEFUSE.ID),this.manager.scene.analytics.event(Y.TUTORIAL_STEP,{step:14})};closeTutorial=()=>{F.off(G.TILE_SHOWED_UP,this.startGuide),F.off(G.FINISH,this.closeTutorial),F.off(G.DIE,this.closeTutorial),this.manager.stopTutorial(),this.manager.scene.analytics.event(Y.TUTORIAL_STEP,{step:15})}}class Of{scene;manager;constructor(e){this.manager=e,this.scene=e.scene}setup(){F.once(G.TILE_SHOWED_UP,this.startGuide),F.once(G.FINISH,this.closeTutorial),F.once(G.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo()};createInfo(){const{itemManager:e,layoutManager:t}=this.manager.scene,{staticHand:s,infoText:i}=this.manager,{objects:o}=t;e.setDepthItemOnTop(L.SHUFFLE.ID);const{x:r,y:l,scale:n,width:c,displayWidth:u,displayHeight:m}=o.shuffleItem;this.manager.createMask(r-(u-2*n)/2,l-m/2+6*n,(c-2)*n,(c-2)*n,(c-2)*n/2);const d=this.scene.world.isLandscape(),f=d?30:-50,h=d?60:-90,p=d?30:210;this.manager.runShowMaskAnimation(),s.revive(),s.angle=p,s.setPosition(r,l+f);const b=this.scene.lang.getCurrentLanguage()==="ru"?225:150;i.setMaxWidth(b),i.revive(),i.setPosition(r,l+h),i.setText(this.scene.lang.Text.tutorial_level_8),this.manager.scene.input.setTopOnly(!0),this.manager.scene.input.once(Phaser.Input.Events.POINTER_UP,this.handlePointerDown)}handlePointerDown=()=>{this.manager.scene.input.setTopOnly(!1);const{itemManager:e}=this.manager.scene,{infoText:t,staticHand:s}=this.manager;this.manager.runHideMaskAnimation(),t.kill(),s.kill(),e.setPaidItem(L.SHUFFLE.ID),e.setDepthItemNormal(L.SHUFFLE.ID),this.manager.scene.analytics.event(Y.TUTORIAL_STEP,{step:16})};closeTutorial=()=>{F.off(G.TILE_SHOWED_UP,this.startGuide),F.off(G.FINISH,this.closeTutorial),F.off(G.DIE,this.closeTutorial),this.manager.stopTutorial(),this.manager.scene.analytics.event(Y.TUTORIAL_STEP,{step:17})}}const{STATUS:ci}=ns,{KEY:nr,FRAME:lr}=A.TUTORIAL;class Rf extends Ce{scene;tutorialId;isTutorialEnable;tutorialsDisplayed=[];isAnalyticFirstSent=!0;hand;staticHand;infoText;background;maskGraphics;tutGuide1;tutGuide2;tutGuide3;tutGuide4;tutGuide5;tutGuide6;tutGuide7;tutGuide8;tutGuide11;autoTimeEvent;constructor(e){super(e),this.scene=e,this.createBackground(),this.createHand(),this.createStaticHand(),this.createInfoText(),this.checkIsValidForTutorial()}init(){this.hand.kill(),this.infoText.kill(),this.background.kill(),this.staticHand.kill(),this.setState(ci.READY)}start(){this.isRunning()||this.isTutorialEnable&&(this.setState(ci.RUNNING),this.showTutorial())}stop(){this.isRunning()&&(this.checkIsValidForTutorial(),this.scene.tweens.killTweensOf([this.background,this.hand,this.staticHand,this.infoText]),this.setState(ci.STOPPED))}setTutorialEnable(e){this.isTutorialEnable=e}isLevelHaveTutorial(e){return e<=8||e===11}isLevelShowWrongPath(e){return e<=6}displayCount(e){return this.tutorialsDisplayed.filter(s=>s===e).length}isNothingToDisplay(){return this.scene.levelHandler.level>11}showTutorial(){if(!this.isRunning())return;const{levelHandler:e}=this.scene;this.isAnalyticFirstSent&&(this.scene.analytics.event(Y.TUTORIAL_BEGIN),this.isAnalyticFirstSent=!1),e.level===1?this.startTutorial(ne.GUIDE_1):e.level===2?this.startTutorial(ne.GUIDE_2):e.level===3?this.startTutorial(ne.GUIDE_3):e.level===4?this.startTutorial(ne.GUIDE_4):e.level===5?this.startTutorial(ne.GUIDE_5):e.level===6?this.startTutorial(ne.GUIDE_6):e.level===7?this.startTutorial(ne.GUIDE_7):e.level===8?this.startTutorial(ne.GUIDE_8):e.level===11&&this.startTutorial(ne.GUIDE_11)}startTutorial=e=>{if(!this.isRunning())return!1;if(this.isNothingToDisplay())return this.stop(),this.setTutorialEnable(!1),!1;switch(this.background.kill(),e){case ne.GUIDE_1:this.tutGuide1=new gf(this),this.tutGuide1.setup();break;case ne.GUIDE_2:this.tutGuide2=new wf(this),this.tutGuide2.setup();break;case ne.GUIDE_3:this.tutGuide3=new Tf(this),this.tutGuide3.setup();break;case ne.GUIDE_4:this.tutGuide4=new yf(this),this.tutGuide4.setup();break;case ne.GUIDE_5:this.tutGuide5=new Pf(this),this.tutGuide5.setup();break;case ne.GUIDE_6:this.tutGuide6=new kf(this),this.tutGuide6.setup();break;case ne.GUIDE_7:this.tutGuide7=new xf(this),this.tutGuide7.setup();break;case ne.GUIDE_8:this.tutGuide8=new Of(this),this.tutGuide8.setup();break;case ne.GUIDE_11:this.tutGuide11=new vf(this),this.tutGuide11.setup();break;default:return!1}return this.isRunning()?(this.tutorialId=e,this.tutorialsDisplayed.push(this.tutorialId),!0):!1};stopTutorial(){this.tutorialId="",this.hand.kill(),this.infoText.kill(),this.staticHand.kill(),this.background.kill()}completeTutorial(){this.scene.time.delayedCall(500,()=>{this.scene.analytics.event(Y.TUTORIAL_COMPLETE),this.scene.player.incUserGuideDisplays()}),this.setTutorialEnable(!1)}checkIsValidForTutorial(){const e=this.scene.player.getCustomData("levelProgress"),s=(GameCore.Utils.Valid.isNumber(e)?e:0)<=11;return this.setTutorialEnable(s),s}createHand(){this.hand=new bf(this.scene),this.hand.kill(),this.hand.setDepth(K.PRIORITY)}createStaticHand(){this.staticHand=this.scene.add.image(0,0,nr,lr.HAND),this.staticHand.setWorldSize(20,16),this.staticHand.kill(),this.staticHand.setDepth(K.PRIORITY)}createInfoText(){this.infoText=this.scene.make.bitmapText({font:B.SHADOW.KEY,size:this.scene.fontSize(15),origin:{x:.5,y:.5}}),this.infoText.setTint(16637882),this.infoText.setCenterAlign(),this.infoText.kill(),this.infoText.setDepth(K.PRIORITY)}createBackground(){this.background=this.scene.make.image({key:nr,frame:lr.BLANK}),this.background.setInteractive({}),this.scene.input.setTopOnly(!1),this.background.setTint(0),this.background.setAlpha(.8),this.background.setDepth(K.PRIORITY),this.background.kill();const{displayWidth:e,displayHeight:t}=this.scene.gameZone,s=e+100,i=t+100;this.background.setDisplaySize(s,i),Phaser.Display.Align.In.Center(this.background,this.scene.gameZone)}createMask(e,t,s,i,o=10){this.maskGraphics?.destroy(),this.maskGraphics=this.scene.make.graphics({fillStyle:{color:16711680,alpha:1}}),this.maskGraphics.setName("MaskGraphics"),this.maskGraphics.fillRoundedRect(e,t,s,i,o),this.background.revive(),this.background.clearMask(!0),this.background.setMask(this.maskGraphics.createGeometryMask()),this.background.mask.invertAlpha=!0}createMultiMask(e){this.maskGraphics?.destroy(),this.maskGraphics=this.scene.make.graphics({fillStyle:{color:16711680,alpha:1}}),this.maskGraphics.setName("MaskGraphics"),e.forEach(t=>{this.maskGraphics.fillRoundedRect(t.x,t.y,t.width,t.height,t.radius)}),this.background.revive(),this.background.clearMask(!0),this.background.setMask(this.maskGraphics.createGeometryMask()),this.background.mask.invertAlpha=!0}runShowMaskAnimation(e=.8){const t=[this.background];this.background.revive(),this.background.setAlpha(0),this.scene.tweens.killTweensOf(t),this.scene.tweens.add({targets:t,duration:300,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:{from:0,to:e}}})}runHideMaskAnimation=()=>{const e=[this.background];this.background.revive(),this.scene.tweens.killTweensOf(e),this.scene.tweens.add({targets:e,duration:400,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:0},onComplete:()=>{this.background.kill(),this.background.clearMask(!0)}})};startAutoHint(){this.autoTimeEvent=this.scene.time.delayedCall(5e3,this.handleAutomaticallyHint)}handleAutomaticallyHint=()=>{const{tileManager:e,itemManager:t}=this.scene;e.hintTiles.length>0||t.getIsUseableItem()===!1?(this.stopAutoHint(),this.startAutoHint()):e.suggestPairHint()};stopAutoHint(){this.autoTimeEvent?.remove()}listenAutoHintEvent(){this.scene.events.on(V.EVENTS.INTERACTION,this.handlePlayerInteract),this.scene.events.on(V.EVENTS.NO_PATH_FOUND,this.handleNoPathFound)}stopListenAutoHintEvent(){this.scene.events.off(V.EVENTS.INTERACTION,this.handlePlayerInteract),this.scene.events.off(V.EVENTS.NO_PATH_FOUND,this.handleNoPathFound)}handleNoPathFound=()=>{const{tileManager:e}=this.scene;this.scene.time.delayedCall(1e3,()=>{e.clearWrongPath()})};handlePlayerInteract=()=>{this.stopAutoHint();const{tileManager:e}=this.scene;e.clearWrongPath(),this.startAutoHint()}}class Af extends Ce{scene;constructor(e){super(e),this.scene=e,this.initUILogic()}start(){this.isRunning()||(super.start(),this.updateUIData(),this.enablePause())}stop(){const{objects:e}=this.scene.layoutManager;e.playtimeClock.removeEvents(),this.disablePause()}updateUIData=()=>{const{levelHandler:e,layoutManager:t}=this.scene,{objects:s}=t,{time:i}=e.getConfigs();s.playtimeClock.setClockText(i),s.playtimeClock.addEvents(),s.playtimeClock.pauseClock()};initUILogic(){const{layoutManager:e}=this.scene,{objects:t}=e;t.skipBtn.onClick=this.handleSkipTutorial,t.pauseButton.onClick=this.handlePauseButton,this.scene.world.isLandscape()&&t.footerBG.kill()}handleSkipTutorial=()=>{const{tutorialManager:e,layoutManager:t}=this.scene,{objects:s}=t;e.stop(),this.scene.finishLevel(),s.skipContainer.kill(),s.headerBG.revive(),this.scene.world.isLandscape()||s.footerBG.revive()};handlePauseButton=()=>{const{screenManager:e}=this.scene;e.showPauseScreen()};updateLevel(e){const{objects:t}=this.scene.layoutManager;t.levelText.setText(`${this.scene.lang.Text.lv} ${e}`)}showUIForGuide(){const{levelHandler:e,layoutManager:t}=this.scene,{objects:s,groups:i}=t,{level:o}=e;if(!(o>11))switch(o){case 1:i.gameUI.killGroup(),s.headerBG.kill(),this.scene.world.isLandscape()||s.footerBG.kill();break;case 2:{const{itemManager:r}=this.scene;s.headerBG.revive(),this.scene.world.isLandscape()||s.footerBG.revive(),r.disableItem(L.BOMB_DEFUSE.ID),r.disableItem(L.ROCKET.ID),s.playtimeClock.kill();break}case 3:{const{itemManager:r}=this.scene;r.disableItem(L.BOMB_DEFUSE.ID),r.disableItem(L.ROCKET.ID);break}case 4:{const{itemManager:r}=this.scene;r.disableItem(L.BOMB_DEFUSE.ID),r.disableItem(L.ROCKET.ID),r.setFreeItem(L.HINT.ID);break}case 5:{const{itemManager:r}=this.scene;r.disableItem(L.BOMB_DEFUSE.ID),r.disableItem(L.ROCKET.ID);break}case 6:{const{itemManager:r}=this.scene;r.disableItem(L.BOMB_DEFUSE.ID),r.disableItem(L.ROCKET.ID);break}case 7:{const{itemManager:r}=this.scene;this.changeToGuideDefuseItem(),r.disableItem(L.ROCKET.ID),r.setFreeItem(L.GUIDE_BOMB_DEFUSE.ID);break}case 8:{const{itemManager:r}=this.scene;r.disableItem(L.ROCKET.ID),r.setFreeItem(L.SHUFFLE.ID);break}case 9:{const{itemManager:r}=this.scene;r.disableItem(L.ROCKET.ID);break}case 10:{const{itemManager:r}=this.scene;r.disableItem(L.ROCKET.ID);break}case 11:{const{itemManager:r}=this.scene;r.setFreeItem(L.ROCKET.ID)}}}disableUILogicForGuide1(){const{objects:e}=this.scene.layoutManager;e.playtimeClock.removeEvents(),e.playtimeClock.pauseClock(),e.skipContainer.revive(),e.skipBtn.setDisabled(!1),this.scene.comboManager.stop(),e.comboProgressBar.kill()}disableUILogicForGuide2(){const{objects:e}=this.scene.layoutManager;e.playtimeClock.removeEvents(),e.playtimeClock.pauseClock()}changeToGuideDefuseItem(){const{itemManager:e}=this.scene,t=e.getItem(L.BOMB_DEFUSE.ID);t&&t.kill();const s=e.getItem(L.GUIDE_BOMB_DEFUSE.ID);s&&s.revive()}changeToDefuseItem(){const{itemManager:e}=this.scene,t=e.getItem(L.BOMB_DEFUSE.ID);t&&t.revive();const s=e.getItem(L.GUIDE_BOMB_DEFUSE.ID);s&&s.kill()}enablePause(){const{objects:e}=this.scene.layoutManager;e.pauseButton.setDisabled(!1)}disablePause(){const{objects:e}=this.scene.layoutManager;e.pauseButton.setDisabled(!0)}}class If extends Phaser.GameObjects.Zone{constructor(e,t,s){super(e,0,0,t,s),this.setOrigin(0,0)}}class za extends Phaser.Scene{unsubscribeList;gameZone;background;handleOpenScene=()=>{this.logPageviewOnOpen(),this.logEventOpen()};constructor(){super({visible:!1})}create(){this.events.on("wake",this.handleOpenScene),this.events.on("resume",this.handleOpenScene),this.events.on("create",this.handleOpenScene),this.scaleGame(),this.createGameZone()}scaleGame(){const e=this.getCamera("main"),t=this.world.getZoomRatio(),{width:s,height:i}=this.world.getWorldSize();e.setZoom(t),e.centerOn(s/2,i/2)}createGameZone(){const{width:e,height:t}=this.world.getWorldSize();this.gameZone=new If(this,e,t)}getCamera(e){return e==="main"?this.cameras.main:this.cameras.getCamera(e)}createMask(e=1){this.getCamera("main").setBackgroundColor(`rgba(0, 0, 0, ${e})`)}fontSize(e){return e/1}createBackground(e,t,s,i){this.background?(this.background.setTexture(e),t&&this.background.setFrame(t)):this.background=this.make.image({key:e,frame:t}),this.background.setName(e);const{displayWidth:o,displayHeight:r}=this.gameZone;this.background.setDisplaySize(o,r),GameCore.Utils.Valid.isNumber(s)&&this.background.setAlpha(s),GameCore.Utils.Valid.isNumber(i)&&this.background.setTint(i),Phaser.Display.Align.In.Center(this.background,this.gameZone)}handleStateChange(e){this.unsubscribeList=[],e.forEach(t=>{const{selector:s,callback:i}=t,o=this.storage.watch(s,i);this.unsubscribeList.push(o)}),this.events.once("sleep",this.removeStateChange),this.events.once("destroy",this.removeStateChange),this.events.once("shutdown",this.removeStateChange)}removeStateChange=()=>{this.unsubscribeList.forEach(e=>e())};logPageviewOnOpen(){this.analytics.pageview(this.scene.key)}logEventOpen(){this.analytics.event(Y.SCREEN_OPEN,{screen_name:this.getSceneName()})}getSceneName(){return GameCore.Utils.String.toUpperCamelCase(this.scene.key.toLowerCase())}}const{KEY:_f,FRAME:ui}=A.EFFECTS;class ja extends Phaser.GameObjects.Particles.ParticleEmitterManager{yellowEmitter;whiteEmitter;globalScale=1;constructor(e,t=1){super(e,_f,ui.YELLOW_SMOKE),this.globalScale=t,this.createEmitZone(),this.scene.add.existing(this)}createEmitZone(){}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.yellowEmitter=this.createEmitter({on:!1,frame:ui.YELLOW_SMOKE,timeScale:1,alpha:{start:.3,end:0,ease:Phaser.Math.Easing.Expo.Out},scale:{start:e/5*this.globalScale,end:e*this.globalScale,ease:Phaser.Math.Easing.Expo.Out},lifespan:1500}),this.whiteEmitter=this.createEmitter({on:!1,frame:ui.WHITE_SMOKE,timeScale:1,alpha:{start:.3,end:0,ease:Phaser.Math.Easing.Expo.Out},scale:{start:e/2*this.globalScale,end:e*this.globalScale,ease:Phaser.Math.Easing.Expo.Out},rotate:{start:0,end:360*1,random:!0},lifespan:1500})}explodeYellow(e,t,s,i,o){this.yellowEmitter||this.reset(),this.yellowEmitter.setSpeedX(i),this.yellowEmitter.setSpeedY(o),this.yellowEmitter.explode(e,t,s)}explodeWhite(e,t,s,i,o){this.whiteEmitter||this.reset(),this.whiteEmitter.setSpeedX(i),this.whiteEmitter.setSpeedY(o),this.whiteEmitter.explode(e,t,s)}stop(){this.yellowEmitter?.killAll(),this.yellowEmitter?.stop(),this.whiteEmitter?.killAll(),this.whiteEmitter?.stop()}reset(){this.createEmitters()}}const{KEY:cr,FRAME:ur}=A.GAMEPLAY;class Mf{scene;longRocketList=[];rocketList=[];tween1=[];tween2=[];rocketTrail;explosionSpriteList=[];constructor(e){this.scene=e,this.createRockets(),this.createRocketTrail(),this.createExplosion()}createRockets(){for(let e=0;e<4;e++){const t=this.scene.add.image(0,0,cr,ur.EFFECT_LONG_ROCKET);t.setOrigin(.5,0),t.setWorldSize(40,180),t.setDepth(K.EFFECT),t.kill(),this.longRocketList.push(t);const s=this.scene.add.image(0,0,cr,ur.EFFECT_SHORT_ROCKET);s.setOrigin(1,.5),s.setWorldSize(107/2,78/2),s.setDepth(K.EFFECT),s.kill(),this.rocketList.push(s)}}createRocketTrail(){this.rocketTrail=new ja(this.scene),this.rocketTrail.setDepth(K.EFFECT)}createExplosion(){for(let e=0;e<4;e++){const{KEY:t,FRAME:s}=A.EFFECTS,i=this.scene.add.sprite(0,0,t,s.EFFECT_ROCKET_EXPLOSION+"0");i.setScale(.5),i.setOrigin(.5,.5),i.setDepth(K.EFFECT),i.kill(),this.explosionSpriteList.push(i)}}playExplosion(e,t,s){this.explosionSpriteList[s].revive(),this.explosionSpriteList[s].setPosition(e,t),this.explosionSpriteList[s].play($.ROCKET_EXPLOSION.KEY,!0),this.explosionSpriteList[s].once(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{this.explosionSpriteList[s].kill()})}playTween1(e,t,s){const{width:i}=this.scene.world.getWorldSize(),o=[{x:-100,y:-50},{x:-50,y:-100},{x:i+100,y:-50},{x:i+100,y:-100}];this.tween1.push(this.getTween1Target(o[0],0,867)),this.tween1.push(this.getTween1Target(o[1],1,867+100,()=>{this.playTween2([o[0],o[1]],[e[0],e[1]],[0,1],0,t)})),this.tween1.push(this.getTween1Target(o[2],2,867+200)),this.tween1.push(this.getTween1Target(o[3],3,867+300,()=>{this.playTween2([o[2],o[3]],[e[2],e[3]],[2,3],100,s)}))}getTween1Target(e,t,s,i){const{height:o}=this.scene.world.getWorldSize(),r=o-67,l=this.scene.tweens.createTimeline({});l.add({targets:this.longRocketList[t],props:{y:{duration:867,getEnd:()=>r},rotation:{delay:s,duration:200,getEnd:c=>Phaser.Math.Angle.Between(e.x,e.y,c.x,r)-Math.PI/2}}});let n=.8;return l.add({targets:this.longRocketList[t],duration:133+200,ease:Phaser.Math.Easing.Expo.In,onStart:()=>{this.scene.audio.playSound(X.ROCKET_FLY)},props:{x:{getEnd:()=>e.x},y:{getEnd:()=>e.y}},onUpdate:(c,u)=>{const m=u.x-u.height/2*Math.cos(u.rotation-Math.PI/2),d=u.y-u.height/2*Math.sin(u.rotation-Math.PI/2),f=u.x-u.height/1.5*Math.cos(u.rotation-Math.PI/2),h=u.y-u.height/1.5*Math.sin(u.rotation-Math.PI/2);l.progress>n&&(this.rocketTrail.explodeYellow(1,m,d,m-f,d-h),n+=.02),Math.random()<.2&&this.rocketTrail.explodeWhite(1,m,d,m-f,d-h)},onComplete:()=>{i&&i()}}),l.play(),l}playTween2(e,t,s,i,o){const r=[],l=[];s.forEach(u=>{r.push(this.longRocketList[u]),l.push(this.rocketList[u])});let n=.3;const c=this.scene.tweens.add({targets:l,delay:i,duration:800,ease:Phaser.Math.Easing.Expo.In,onStart:()=>{r.forEach(u=>{u.kill()}),l.forEach((u,m)=>{u.setPosition(r[m].x,r[m].y),u.rotation=0,u.revive(),u.setRotation(Phaser.Math.Angle.Between(e[m].x,e[m].y,t[m].x,t[m].y))})},props:{x:{getEnd:(u,m,d,f)=>t[f].x},y:{getEnd:(u,m,d,f)=>t[f].y}},onUpdate:(u,m)=>{const d=m.x-1.5*m.height*Math.cos(m.rotation),f=m.y-1.5*m.height*Math.sin(m.rotation),h=m.x-2*m.height*Math.cos(m.rotation),p=m.y-2*m.height*Math.sin(m.rotation);u.progress>n&&(this.rocketTrail.explodeYellow(1,d,f,d-h,f-p),n+=.05),Math.random()<.1&&this.rocketTrail.explodeWhite(1,d,f,d-h,f-p)},onComplete:()=>{l.forEach((u,m)=>{u.kill(),this.playExplosion(t[m].x,t[m].y,s[m])}),o&&o()}});this.tween2.push(c)}play(e,t,s){if(e.length!==4)return;this.tween1.forEach(r=>{r.stop()}),this.tween1=[],this.tween2.forEach(r=>{r.stop()}),this.tween2=[];const{width:i,height:o}=this.scene.world.getWorldSize();this.longRocketList.forEach((r,l)=>{const n=i/8+i/4*l,c=o+133;r.setPosition(n,c),r.rotation=0,r.revive()}),this.playTween1(e,t,s)}stop(){this.tween1.forEach(e=>{e.stop()}),this.tween1=[],this.tween2.forEach(e=>{e.stop()}),this.tween2=[],this.longRocketList.forEach(e=>{e.kill()})}}const{KEY:dr,FRAME:mr}=A.EFFECTS;class Cf{scene;glowEffect1;glowEffect2;glowSpinTween;tile1=null;tile2=null;defaultTileValues=null;tileTween;constructor(e){this.scene=e,this.createGlowEffect()}createGlowEffect(){this.glowEffect1=this.scene.add.image(0,0,dr,mr.FX_HINT_GLOW),this.glowEffect1.setOrigin(.5,.5),this.glowEffect1.setWorldSize(60,60),this.glowEffect1.kill(),this.glowEffect2=this.scene.add.image(0,0,dr,mr.FX_HINT_GLOW),this.glowEffect2.setOrigin(.5,.5),this.glowEffect2.setWorldSize(60,60),this.glowEffect2.kill()}play(){this.glowSpinTween?.stop(),this.tileTween?.stop(),!(!this.tile1||!this.tile2)&&(this.playGlowSpinTween(),this.playTileTween())}playGlowSpinTween(){if(!this.tile1||!this.tile2)return;const{x:e,y:t}=this.tile1.getWorldPosition(),{x:s,y:i}=this.tile2.getWorldPosition(),{boardContainer:o}=this.scene.boardManager;this.glowEffect1.revive(),this.glowEffect1.setPosition(e,t),this.glowEffect1.setDepth(o.depth-1),this.glowEffect2.revive(),this.glowEffect2.setPosition(s,i),this.glowEffect2.setDepth(o.depth-1),this.glowSpinTween=this.scene.tweens.add({targets:[this.glowEffect1,this.glowEffect2],duration:2e3,props:{angle:{from:0,to:360}},repeat:-1})}playTileTween(){if(!this.tile1||!this.tile2)return;this.tileTween=this.scene.tweens.createTimeline({loop:-1,loopDelay:300});const e=[this.tile1.scaleX,this.tile2.scaleX],t=[this.tile1.scaleY,this.tile2.scaleY],s=[this.tile1,this.tile2],i=this.tile1.scaleX,o=this.tile1.scaleY,r=this.tile2.scaleX,l=this.tile2.scaleY;this.defaultTileValues={scaleX1:i,scaleY1:o,scaleX2:r,scaleY2:l},this.tileTween.add({targets:s,duration:300,props:{scaleX:{getStart:(n,c,u,m)=>e[m],getEnd:(n,c,u,m)=>e[m]*.7},scaleY:{getStart:(n,c,u,m)=>t[m],getEnd:(n,c,u,m)=>e[m]*.7}}}),this.tileTween.add({targets:s,duration:100,props:{angle:{from:0,to:-30}}}),this.tileTween.add({targets:s,duration:100,props:{angle:{from:-30,to:30}}}),this.tileTween.add({targets:s,duration:100,props:{angle:{from:30,to:-30}}}),this.tileTween.add({targets:s,duration:100,props:{angle:{from:-30,to:0}}}),this.tileTween.add({targets:s,duration:300,props:{scaleX:{getStart:(n,c,u,m)=>e[m]*.7,getEnd:(n,c,u,m)=>e[m]},scaleY:{getStart:(n,c,u,m)=>t[m]*.7,getEnd:(n,c,u,m)=>t[m]}}}),this.tileTween.play()}hide(){this.glowEffect1.setVisible(!1),this.glowEffect2.setVisible(!1)}show(){this.glowEffect1.setVisible(!0),this.glowEffect2.setVisible(!0)}stop(){if(this.scene.tweens.killTweensOf([this.glowEffect1,this.glowEffect2,this.tile1,this.tile2]),this.glowEffect1.kill(),this.glowEffect2.kill(),this.defaultTileValues){const{scaleX1:e,scaleY1:t,scaleX2:s,scaleY2:i}=this.defaultTileValues;this.tile1?.setScale(e,t),this.tile2?.setScale(s,i)}this.tile1?.setAngle(0),this.tile2?.setAngle(0),this.tile1=null,this.tile2=null,this.defaultTileValues=null}}const{KEY:Lf,FRAME:Df}=A.GAMEPLAY;class Nf{scene;startingPosition;target;rocket;flyTween;rocketTrail;explosionSprite;isPlaying;isInQueue;constructor(e){this.scene=e,this.target=null,this.startingPosition=null,this.isPlaying=!1,this.isInQueue=!1,this.createRockets(),this.createRocketTrail(),this.createExplosion()}createExplosion(){const{KEY:e,FRAME:t}=A.EFFECTS;this.explosionSprite=this.scene.add.sprite(0,0,e,t.EFFECT_ROCKET_EXPLOSION+"0"),this.explosionSprite.setOrigin(.5,.8),this.explosionSprite.kill(),this.explosionSprite.setDepth(K.ROCKET),this.explosionSprite.setScale(.5)}createRocketTrail(){this.rocketTrail=new ja(this.scene,.5),this.rocketTrail.setDepth(K.ROCKET)}createRockets(){const e=this.scene.add.image(0,0,Lf,Df.EFFECT_TILE_ROCKET);e.setOrigin(.5,.5),e.setWorldSize(20,33.5),e.kill(),e.setDepth(K.ROCKET),this.rocket=e}playTween(){if(!this.target||!this.getTargetPosition())return;let t=.1;this.flyTween=this.scene.tweens.add({targets:[this.rocket],duration:600,ease:Phaser.Math.Easing.Expo.InOut,props:{x:{getEnd:()=>{const s=this.getTargetPosition();if(s)return s.x}},y:{getEnd:()=>{const s=this.getTargetPosition();if(s)return s.y}}},onStart:()=>{this.scene.audio.playSound(X.ROCKET_FLY)},onUpdate:s=>{const i=this.rocket.x-this.rocket.height/2*Math.cos(this.rocket.rotation-Math.PI/2),o=this.rocket.y-this.rocket.height/2*Math.sin(this.rocket.rotation-Math.PI/2),r=this.rocket.x-this.rocket.height/1.5*Math.cos(this.rocket.rotation-Math.PI/2)*3,l=this.rocket.y-this.rocket.height/1.5*Math.sin(this.rocket.rotation-Math.PI/2)*3;s.progress>t&&(t+=.05,this.rocketTrail.explodeYellow(1,i,o,r-i,l-o)),Math.random()<.3&&this.rocketTrail.explodeWhite(1,i,o,r-i,l-o)},onComplete:()=>{this.rocket.kill(),this.isPlaying=!1;const s=this.getTargetPosition();if(s){const{x:i,y:o}=s;this.playExplosion(i,o),this.target?.setIsBreakWhenExplosive(!0)}},onStop:()=>{this.rocket.kill(),this.isPlaying=!1;const s=this.getTargetPosition();if(s){const{x:i,y:o}=s;this.playExplosion(i,o),this.target?.setIsBreakWhenExplosive(!0)}this.target=null}})}playExplosion(e,t){this.explosionSprite.revive(),this.explosionSprite.setPosition(e,t),this.explosionSprite.once(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{this.explosionSprite.kill()}),this.explosionSprite.play($.ROCKET_EXPLOSION.KEY,!0)}play(){if(this.flyTween?.stop(),!this.target||!this.startingPosition)return;this.isPlaying=!0;const{x:e,y:t}=this.startingPosition,s=this.getTargetPosition();if(!s)return;const{x:i,y:o}=s,r=Phaser.Math.Angle.Between(e,t,i,o),l=this.scene.boardManager.getTileSize();this.rocket.setWorldSize(20*l/35,33.5*l/35),this.rocket.setPosition(e,t),this.rocket.rotation=r+Math.PI/2,this.rocket.revive(),this.playTween()}getTargetPosition(){return this.target?this.target.getWorldPosition():null}stop(){this.flyTween?.stop(),this.rocket.kill(),this.target=null,this.isPlaying=!1,this.isInQueue=!1}}const{KEY:hr,FRAME:Et}=A.EFFECTS,Ve={GOOD:{en:[129,60],ru:[162,64],ja:[107,62],pt:[94,57],es:[100,56],fr:[100,56],it:[108,56],de:[93,57],tr:[70,61],id:[115,63],zh:[88,60]},GREAT:{en:[129,57.5],ru:[151,55],ja:[89,62],pt:[148,61],es:[138,56],fr:[127,56],it:[150,56],de:[198,57],tr:[70,61],id:[114,63],zh:[88,60]},EXCELLENT:{en:[167,54],ru:[215,61],ja:[164,62],pt:[196,56],es:[213,61],fr:[195,56],it:[214,56],de:[267,57],tr:[200,61],id:[170,63],zh:[108,60]},UNBELIEVABLE:{en:[206,53],ru:[197,61],ja:[192,61],pt:[259,61],es:[182,61],fr:[213,56],it:[212,56],de:[236,57],tr:[196,61],id:[142,64],zh:[137,59]}};class Gf{scene;originY;originScale;textTween;endTween;lightTween;textImage;textLight;constructor(e){this.scene=e,this.originScale=1/this.scene.world.getPixelRatio(),this.createTextLight(),this.createText(),this.alignText()}run=e=>{if(e<2){this.textImage.kill(),this.textLight.kill();return}this.textTween||(this.createTextAnimation(),this.createTextLightAnimation());let t=this.scene.lang.getCurrentLanguage();switch(["en","ru","ja"].indexOf(t)===-1&&(t="en"),e){case 2:this.textImage.setFrame(this.scene.lang.Texture.effect_good),this.textImage.setWorldSize(Ve.GOOD[t][0],Ve.GOOD[t][1]),this.textLight.setFrame(Et.TEXT_GOOD_LIGHT),this.textLight.setWorldSize(137,66.5);break;case 3:this.textImage.setFrame(this.scene.lang.Texture.effect_great),this.textImage.setWorldSize(Ve.GREAT[t][0],Ve.GREAT[t][1]),this.textLight.setFrame(Et.TEXT_GREAT_LIGHT),this.textLight.setWorldSize(137,66);break;case 4:this.textImage.setFrame(this.scene.lang.Texture.effect_excellent),this.textImage.setWorldSize(Ve.EXCELLENT[t][0],Ve.EXCELLENT[t][1]),this.textLight.setFrame(Et.TEXT_EXCELLENT_LIGHT),this.textLight.setWorldSize(138,66);break}e>=5&&(this.textImage.setFrame(this.scene.lang.Texture.effect_unbelievable),this.textImage.setWorldSize(Ve.UNBELIEVABLE[t][0],Ve.UNBELIEVABLE[t][1]),this.textLight.setFrame(Et.TEXT_UNBELIEVABLE_LIGHT),this.textLight.setWorldSize(134,66)),this.playTextAnimation()};stop(){this.textTween?.stop(),this.endTween?.stop(),this.lightTween?.stop(),this.textImage.kill(),this.textLight.kill()}playTextAnimation=()=>{this.textImage.revive(),this.textLight.revive(),this.endTween?.remove(),this.textTween.restart(),this.lightTween.restart()};createText(){this.textImage=this.scene.add.image(0,0,hr,Et.TEXT_GOOD),this.textImage.kill(),this.textImage.setScale(this.originScale),this.textImage.setDepth(K.ENCOURAGING)}createTextLight(){this.textLight=this.scene.add.image(0,0,hr,Et.TEXT_GOOD_LIGHT),this.textLight.kill(),this.textLight.setScale(this.originScale),this.textLight.setDepth(K.ENCOURAGING)}alignText=()=>{Phaser.Display.Align.In.TopCenter(this.textImage,this.scene.gameZone,0,-20),Phaser.Display.Align.In.Center(this.textLight,this.textImage),this.originY=this.textImage.y};createTextLightAnimation(){this.lightTween=this.scene.add.tween({targets:[this.textLight],props:{alpha:{repeat:1,duration:250,value:{start:1,to:0}},scale:{yoyo:!0,duration:100,ease:Phaser.Math.Easing.Quintic.Out,value:{from:this.originScale,to:this.originScale*1.1}}},onComplete:()=>{this.textLight.kill()}})}createTextAnimation(){this.textTween=this.scene.add.tween({targets:[this.textImage,this.textLight],props:{y:{delay:100,duration:600,ease:Phaser.Math.Easing.Quintic.InOut,value:{start:this.originY,to:this.originY-20}},scale:{delay:0,duration:350,ease:Phaser.Math.Easing.Circular.Out,value:{from:this.originScale*.5,to:this.originScale}},alpha:{duration:150,value:{start:0,to:1}}},onComplete:()=>{if(!this.endTween){this.createEndAnimation();return}this.endTween.restart()}})}createEndAnimation=()=>{this.endTween=this.scene.add.tween({targets:[this.textImage,this.textLight],duration:300,delay:100,props:{alpha:{from:1,to:0},scale:{ease:Phaser.Math.Easing.Sine.Out,value:this.originScale}},onComplete:()=>{this.textImage.setY(this.originY),this.textLight.setY(this.originY),this.textImage.kill(),this.textLight.kill()}})}}const{KEY:fr,FRAME:di}=A.GAMEPLAY;class Ff{scene;currentTile=null;tileHighlightSprite;tileOutline;tileOutlineTween;constructor(e){this.scene=e,this.createTileOutline(),this.createSpinningImage()}createTileOutline(){this.tileOutline=this.scene.add.image(0,0,fr,di.EFFECT_TILE_OUTLINE),this.tileOutline.setOrigin(.5,.5),this.tileOutline.setWorldSize(37,37),this.tileOutline.setDepth(K.EFFECT-1),this.tileOutline.kill()}createSpinningImage(){this.tileHighlightSprite=this.scene.make.sprite({key:fr,frame:di.EFFECT_TILE_HIGHLIGHT+"0"},!0),this.tileHighlightSprite.setOrigin(.5,.5),this.tileHighlightSprite.setDepth(K.EFFECT),this.tileHighlightSprite.kill()}play(e){this.tileOutlineTween?.stop(),this.currentTile=e;const t=this.scene.boardManager.getTileSize(),s=t;this.tileOutline.revive(),this.tileOutline.setAlpha(1),this.tileOutline.setWorldSize(t*.95,t*.95),e.add(this.tileOutline),this.tileHighlightSprite.revive(),this.tileHighlightSprite.setWorldSize(s,s),this.tileHighlightSprite.play($.TILE_HIGHLIGHT.KEY),e.add(this.tileHighlightSprite),this.scene.scene.systems.updateList.add(this.tileHighlightSprite),this.runFadeInTween()}runFadeInTween(){this.tileOutlineTween=this.scene.tweens.add({targets:this.tileOutline,duration:1e3,yoyo:!0,repeat:-1,ease:Phaser.Math.Easing.Sine.InOut,props:{alpha:0}})}stop(){this.tileHighlightSprite.anims.stop(),this.tileHighlightSprite.setFrame(di.EFFECT_TILE_HIGHLIGHT+"0"),this.tileHighlightSprite.kill(),this.tileOutlineTween?.stop(),this.tileOutline.kill(),this.currentTile?.remove(this.tileHighlightSprite),this.currentTile?.remove(this.tileOutline),this.currentTile=null}}const{KEY:ys,FRAME:Es}=A.GAMEPLAY;class pr extends Phaser.GameObjects.Container{isPlaying;constructor(e){super(e),this.setDepth(K.EFFECT-1),this.createBreakFragments(),this.scene.add.existing(this)}getIsPlaying(){return this.isPlaying}createBreakFragments(){const e=this.scene.make.image({key:ys,frame:Es.LEF_TILE_FRAGMENT});e.setWorldSize(37,37),this.add(e);const t=this.scene.make.image({key:ys,frame:Es.RIGHT_TILE_FRAGMENT});t.setWorldSize(37,37),this.add(t);const s=this.scene.make.image({key:ys,frame:Es.TOP_TILE_FRAGMENT});s.setWorldSize(37,37),this.add(s);const i=this.scene.make.image({key:ys,frame:Es.BOTTOM_TILE_FRAGMENT});i.setWorldSize(37,37),this.add(i)}playAnimation(e,t){this.isPlaying=!0;const i=this.scene.boardManager.getTileSize();this.revive(),this.getAll().forEach(r=>{r.setPosition(0,0),r.setAlpha(1),r.setAngle(0),r instanceof Phaser.GameObjects.Image&&r.setWorldSize(i,i)}),this.setPosition(e,t);const o=[{x:-10,y:0,angle:-10},{x:10,y:0,angle:10},{x:0,y:-10,angle:10},{x:0,y:10,angle:-10}];this.scene.tweens.add({targets:this.getAll(),alpha:1,duration:500,props:{x:{value:(r,l,n,c)=>o[c].x},y:{value:(r,l,n,c)=>o[c].y},alpha:{value:0},angle:{value:(r,l,n,c)=>o[c].angle}},onComplete:()=>{this.kill(),this.isPlaying=!1}})}stop(){this.scene.tweens.killTweensOf(this.getAll()),this.kill(),this.isPlaying=!1}}const{KEY:Bf,FRAME:Uf}=A.GAMEPLAY;class Hf{scene;starList;flyingStarCounter;flyingStarTweens;clockRemainingTime;captureStarTrails;explodeParticle;constructor(e){this.scene=e,this.starList=this.scene.add.group(),this.flyingStarTweens=[],this.createEffects(),this.clockRemainingTime=0}createEffects(){this.captureStarTrails=[],this.explodeParticle=new Ka(this.scene),this.explodeParticle.setDepth(K.EFFECT+1)}play(e){this.flyingStarCounter?.stop();const{layoutManager:t}=this.scene,{playtimeClock:s,starProgressBar:i}=t.objects;if(!s.visible||!i.visible){e&&e();return}s.pauseClock(),this.clockRemainingTime=s.getRemainingTime();const o=this.clockRemainingTime>78?Math.ceil(this.clockRemainingTime/13):6;this.flyingStarCounter=this.scene.tweens.addCounter({from:0,to:100,duration:100,onStart:()=>{this.runStarTweens(),this.clockRemainingTime=this.clockRemainingTime>o?this.clockRemainingTime-o:0,s.setClockText(this.clockRemainingTime),this.clockRemainingTime===0&&(this.flyingStarCounter.stop(),typeof e=="function"&&this.scene.time.delayedCall(500,e))},onLoop:()=>{this.runStarTweens(),this.clockRemainingTime=this.clockRemainingTime>o?this.clockRemainingTime-o:0,s.setClockText(this.clockRemainingTime),this.clockRemainingTime===0&&(this.flyingStarCounter.stop(),typeof e=="function"&&this.scene.time.delayedCall(650,e))},loop:-1})}stop(){this.flyingStarCounter?.stop(),this.flyingStarTweens.forEach(e=>e.stop()),this.starList.getChildren().forEach(e=>this.starList.killAndHide(e)),this.captureStarTrails.forEach(e=>e.stop())}runStarTweens(){const e=this.requestNewStar(),t=this.requestCaptureStarTrail(),{layoutManager:s}=this.scene,{playtimeClock:i,starProgressBar:o}=s.objects,{x:r,y:l}=i.getWorldPosition(),{x:n,y:c}=o.getStarFlyInPosition(),u=r+10,m=new Phaser.Math.Vector2(u,l),d=new Phaser.Math.Vector2(n,c);let f=new Phaser.Math.Vector2(u+(n-u)/4,c*1.6);this.scene.world.isLandscape()&&(f=new Phaser.Math.Vector2(u+(n-u)/2,c*3));const h=new Phaser.Curves.QuadraticBezier(m,f,d),p=e.scale,v=this.scene.tweens.addCounter({from:0,to:100,duration:650,ease:Phaser.Math.Easing.Sine.Out,onStart:()=>{e.setScale(0),e.setPosition(u,l),e.setVisible(!0),t.run(1,e.x,e.y,0,0)},onUpdate:b=>{const g=b.getValue(),w=h.getPoint(g/100);e.setPosition(w.x,w.y),t.moveEmitZone(e.x,e.y);const E=g>50?1:g/50;e.setScale(p*E)},onComplete:()=>{this.starList.killAndHide(e),e.setScale(p),t.stop(),this.explodeParticle.explode(5,n,c,20),this.scene.audio.playSound(X.COLLECT_STARS),this.flyingStarTweens=this.flyingStarTweens.filter(b=>b!==b)},onStop:()=>{this.starList.killAndHide(e),e.setScale(p),t.stop(),this.flyingStarTweens=this.flyingStarTweens.filter(b=>b!==b)}});this.flyingStarTweens.push(v)}requestNewStar(){const e=this.starList.getFirstDead();if(e)return e.setActive(!0),e;const t=this.scene.make.image({key:Bf,frame:Uf.ICON_STAR_BIG});return this.starList.add(t),t.setWorldSize(30,30),t.setDepth(K.EFFECT),t.setVisible(!1),this.scene.add.existing(t),t}requestCaptureStarTrail(){const e=this.captureStarTrails.find(s=>!s.isRunning);if(e)return e;const t=new Wa(this.scene);return t.setDepth(K.EFFECT-1),this.captureStarTrails.push(t),t}}const{FRAME:Yf}=A.GAMEPLAY;class Kf extends Fa{constructor(e){super(e)}explode(e,t,s,i){super.explode(e,t,s,i),this.runParticleTween()}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:Yf.EFFECT_SPARK,speedX:{min:-300,max:300},speedY:{min:-300,max:300},scale:{min:e*.8,max:e*1.1},alpha:{min:.8,max:1},tint:16753660,deathZone:{source:this.deathZone,type:"onLeave"}})}runParticleTween(){this.emitter.forEachAlive(t=>{this.scene.tweens.killTweensOf(t),this.scene.tweens.add({targets:[t],duration:400,delay:5*0,ease:Phaser.Math.Easing.Circular.Out,props:{velocityX:t.velocityX/50,velocityY:t.velocityY/50}}),this.scene.add.tween({targets:[t],duration:2e3,delay:300,ease:Phaser.Math.Easing.Circular.Out,props:{alpha:0,scaleX:0,scaleY:0,velocityX:Phaser.Math.RND.between(-20,20),velocityY:Phaser.Math.RND.between(-60,-90)},onComplete:()=>{t.lifeCurrent=0}})},this)}}const{KEY:Wf,FRAME:zf}=A.EFFECTS;class jf{scene;comboExplosionParticle;explosionCircle;explosionCircleTween;constructor(e){this.scene=e,this.createComboExplosionParticle(),this.createExplosionCircle()}createComboExplosionParticle(){this.comboExplosionParticle=new Kf(this.scene),this.comboExplosionParticle.setDepth(K.EFFECT+1)}createExplosionCircle(){this.explosionCircle=this.scene.add.image(0,0,Wf,zf.FX_CIRCLE),this.explosionCircle.setWorldSize(120,120),this.explosionCircle.setTint(16753660),this.explosionCircle.setDepth(K.EFFECT+1),this.explosionCircle.setVisible(!1)}play(){this.explosionCircleTween?.stop();const{objects:e}=this.scene.layoutManager;if(!e.comboProgressBar.visible)return;const{x:t,y:s}=e.comboProgressBar.comboNumber.getWorldPosition();this.runExplosionCircleTween(t,s)}runExplosionCircleTween(e,t){const s=this.explosionCircle.scale;this.explosionCircleTween=this.scene.tweens.createTimeline(),this.explosionCircleTween.add({targets:this.explosionCircle,scaleX:s,scaleY:s,alpha:.2,ease:Phaser.Math.Easing.Cubic.Out,duration:400,onStart:()=>{this.explosionCircle.setScale(.5*s),this.explosionCircle.setAlpha(.1),this.explosionCircle.setPosition(e,t),this.explosionCircle.setVisible(!0),this.comboExplosionParticle.explode(20,e,t,1e3)},onStop:()=>{this.explosionCircle.setVisible(!1),this.explosionCircle.setScale(s)}}),this.explosionCircleTween.add({targets:this.explosionCircle,alpha:0,ease:Phaser.Math.Easing.Cubic.Out,duration:800,onComplete:()=>{this.explosionCircle.setVisible(!1),this.explosionCircle.setScale(s)},onStop:()=>{this.explosionCircle.setVisible(!1),this.explosionCircle.setScale(s)}}),this.explosionCircleTween.play()}stop(){this.explosionCircleTween?.stop(),this.explosionCircle.setVisible(!1)}}class Vf extends Ce{scene;comboEffect;rocketEffect;tileRocketEffects;tileRocketLaunchQueue;tileHintEffect;tileHighlightEffect;tileBreakEffects;flyingStarFromClockEffect;comboExplosionEffect;constructor(e){super(e),this.scene=e,this.tileRocketEffects=[],this.tileRocketLaunchQueue=[],this.createComboEffect(),this.createRocketEffect(),this.createTileHintEffect(),this.createTileHighlightEffect(),this.createTileBreakEffect(),this.createFlyingStarFromClockEffect(),this.createComboExplosionEffect()}createComboEffect(){this.comboEffect=new Gf(this.scene)}createRocketEffect(){this.rocketEffect=new Mf(this.scene)}createTileHintEffect(){this.tileHintEffect=new Cf(this.scene)}createTileHighlightEffect(){this.tileHighlightEffect=new Ff(this.scene)}createFlyingStarFromClockEffect(){this.flyingStarFromClockEffect=new Hf(this.scene)}createComboExplosionEffect(){this.comboExplosionEffect=new jf(this.scene)}createTileBreakEffect(){this.tileBreakEffects=[];for(let e=0;e<2;e++){const t=new pr(this.scene);t.setScale(.8),this.tileBreakEffects.push(t),t.kill()}}playComboEffect(e){this.comboEffect.run(e)}playRocketEffect(e,t,s){this.rocketEffect.play(e,t,s)}requestTileRocketEffect(e,t){let s=this.tileRocketEffects.find(i=>!i.isInQueue);s||(s=new Nf(this.scene),this.tileRocketEffects.push(s)),s.target=t,s.isInQueue=!0,s.startingPosition=e,this.tileRocketLaunchQueue.push(s)}playTileRocketEffects(){if(this.tileRocketLaunchQueue.length===0)return;const e=200;this.scene.time.delayedCall(e,()=>{const t=[];this.tileRocketLaunchQueue.forEach(s=>{s.isPlaying||(s.target&&t.push(s.target),s.play())}),this.scene.time.delayedCall(700,()=>{this.scene.events.emit(V.EVENTS.ROCKET_EXPLODE,t)}),this.tileRocketLaunchQueue=[]})}playTileHintEffect(e,t){this.tileHintEffect.stop(),this.tileHintEffect.tile1=e,this.tileHintEffect.tile2=t,this.tileHintEffect.play()}stopTileHintEffect(){this.tileHintEffect.stop()}playTileHighlightEffect(e){this.tileHighlightEffect.play(e)}stopTileHighlightEffect(){this.tileHighlightEffect.stop()}getCurrentlyHighlightedTile(){return this.tileHighlightEffect.currentTile}playTileBreakEffect(e){const{x:t,y:s}=e.getWorldPosition(),i=this.tileBreakEffects.find(r=>!r.getIsPlaying());if(i){i.playAnimation(t,s);return}const o=new pr(this.scene);o.playAnimation(t,s),this.tileBreakEffects.push(o)}playFlyingStarFromClockEffect(e){this.flyingStarFromClockEffect.play(e)}playComboExplosionEffect(){this.comboExplosionEffect.stop(),this.comboExplosionEffect.play()}stop(){this.isRunning()&&(super.stop(),this.comboEffect.stop(),this.rocketEffect.stop(),this.tileHintEffect.stop(),this.tileHighlightEffect.stop(),this.flyingStarFromClockEffect.stop(),this.comboExplosionEffect.stop(),this.tileRocketEffects.forEach(e=>e.stop()),this.tileBreakEffects.forEach(e=>e.stop()),this.tileRocketLaunchQueue=[])}}class $f extends Ce{scene;currentCombo;comboTimer;progressTimer;comboDuration;constructor(e){super(e),this.scene=e,this.currentCombo=0;const t=this.scene.world.isLandscape();this.comboDuration=t?4e3:2e3}init(){this.currentCombo=0,this.clearTimer(),this.cleanListeners(),this.hideComboProgressBar()}start(){this.isRunning()||(super.start(),this.startComboTimer(),this.listenComboEvents())}stop(){this.isRunning()&&(super.stop(),this.currentCombo=0,this.clearTimer(),this.cleanListeners(),this.hideComboProgressBar())}getCombo(){return this.currentCombo}startComboTimer(){this.clearTimer();const e={repeat:-1,delay:this.comboDuration,callback:this.onReset};this.comboTimer=this.scene.time.addEvent(e)}clearTimer(){this.comboTimer?.remove(),this.comboTimer?.destroy(),this.progressTimer?.remove(),this.progressTimer?.destroy()}listenComboEvents(){this.scene.events.on(nt.COMBO,this.onCombo),this.scene.events.on(nt.RESET,this.onReset)}cleanListeners(){this.scene.events.off(nt.COMBO,this.onCombo),this.scene.events.off(nt.RESET,this.onReset)}onCombo=()=>{if(this.progressTimer?.remove(),!this.isRunning())return;this.currentCombo+=1,Ot(Math.min(20+this.currentCombo*20,11*20)),this.startComboTimer();const{layoutManager:e,effectManager:t}=this.scene,{comboProgressBar:s}=e.objects;if(this.currentCombo>1){let i=1;s.revive(),s.setDepth(K.EFFECT),s.setAlpha(1),s.setComboText(this.currentCombo),t.playComboExplosionEffect(),s.setProcess(i,!0),this.progressTimer=this.scene.time.addEvent({delay:100,repeat:this.comboDuration/100,callback:()=>{i-=1/(this.comboDuration/100),i<0&&(i=0),i<=0&&this.scene.tweens.add({targets:s,alpha:0,delay:100,duration:100,onComplete:()=>{this.hideComboProgressBar()}}),s.setProcess(i)}})}this.scene.time.delayedCall(300,()=>{this.playComboSound(this.currentCombo),t.playComboEffect(this.currentCombo)})};playComboSound(e){const t=`combo_${e>5?5:e}`;this.scene.audio.playSound(t)}onReset=()=>{this.currentCombo=0,this.hideComboProgressBar()};hideComboProgressBar(){const{layoutManager:e}=this.scene,{comboProgressBar:t}=e.objects;t.kill(),this.scene.tweens.killTweensOf(t)}}const Xf={NORMAL:"normal"},{ID:Ps}=L.HINT,{FRAME:Ht}=A.GAMEPLAY;class Va extends ke{scene;constructor(e){super(e,Ht.HINT_ITEM,26.5,36.5),this.scene=e,this.setName(Ps),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e,tileManager:t}=this.scene;if(t.isSuggestPairHintShowed){this.showItemAnimation.play();return}if(this.isActive){e.deactivateItem(Ps);return}if(!e.activeItem(Ps)){this.shakeAnimation.play();return}this.useItem()};useItem(){const{tileManager:e,itemManager:t}=this.scene;e.suggestPairHint(),t.deactivateItem(Ps)}disableItem(){super.disableItem(),this.item.setAlpha(1),this.item.setFrame(Ht.ITEM_HINT_LOCK),this.bg.setFrame(Ht.ITEM_BG_LOCK),this.amountItem.setVisible(!1),this.itemLock.setVisible(!0),this.itemLockText.setVisible(!0)}enableItem(){super.enableItem(),this.item.setAlpha(1),this.item.setFrame(Ht.HINT_ITEM),this.bg.setFrame(Ht.ITEM_BG_ITEM),this.amountItem.setVisible(!0),this.itemLock.setVisible(!1),this.itemLockText.setVisible(!1)}}const{ID:Ss}=L.SHUFFLE,{FRAME:Yt}=A.GAMEPLAY;class $a extends ke{scene;duration;isRunning=!1;costTimer;constructor(e){super(e,Yt.ITEM_SHUFFLE,26.5,35.5),this.scene=e,this.duration=1200,this.setName(Ss),this.onClick=this.handleUseItem}handleUseItem=()=>{if(this.isRunning)return;const{itemManager:e,animationManager:t}=this.scene;if(t.isMoveTilesCompleted||this.shakeAnimation.play(),this.isActive){e.deactivateItem(Ss);return}if(!e.activeItem(Ss)){this.shakeAnimation.play();return}this.useItem()};useItem=()=>{const{tileManager:e}=this.scene;this.isRunning=!0,e.isSelectable=!1,e.emitInteraction(),e.removeSuggestPairHint(),this.costTimer?.remove();const t=100;this.scene.time.delayedCall(t,this.runShuffle)};runShuffle=()=>{const{boardManager:e}=this.scene;e.runShuffle(this.duration),this.scene.time.delayedCall(this.duration+100,this.processNoAvailableMatches)};processNoAvailableMatches=()=>{const{boardManager:e,itemManager:t,tileManager:s}=this.scene,{matchFinder:i}=e;if(i.checkForAvailableMatches()){this.isRunning=!1,t.deactivateItem(Ss),s.isSelectable=!0;return}this.runShuffle()};disableItem(){super.disableItem(),this.item.setAlpha(1),this.item.setFrame(Yt.ITEM_SHUFFLE_LOCK),this.bg.setFrame(Yt.ITEM_BG_LOCK),this.amountItem.setVisible(!1),this.itemLock.setVisible(!0),this.itemLockText.setVisible(!0)}enableItem(){super.enableItem(),this.item.setAlpha(1),this.item.setFrame(Yt.ITEM_SHUFFLE),this.bg.setFrame(Yt.ITEM_BG_ITEM),this.amountItem.setVisible(!0),this.itemLock.setVisible(!1),this.itemLockText.setVisible(!1)}}const{ID:ks}=L.AUTO_MATCH,{FRAME:qf}=A.GAMEPLAY;class Zf extends ke{scene;isRunning=!1;matchFinder;delayItemTimer;delayMatchTimer;activeTween;constructor(e){super(e,qf.DEV_TOOL_HAND,25,25),this.scene=e,this.matchFinder=new Ua(e),this.setAmount(999),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(ks);return}if(!e.activeItem(ks)){this.shakeAnimation.play();return}e.setIsUseableItem(!0),this.useItem()};deactivateItem(){this.cleanState(),super.deactivateItem()}useItem=()=>{this.cleanState(),this.scene.gameStatus===ge.PLAYING&&(this.isRunning=!0,this.autoMatch(),this.autoUseItem(),this.runActiveTween())};runActiveTween=()=>{this.activeTween?.isPlaying()||(this.activeTween=this.scene.tweens.add({targets:[this],duration:400,yoyo:!0,repeat:-1,ease:Phaser.Math.Easing.Sine.InOut,props:{alpha:.3}}))};autoMatch=()=>{if(!this.isRunning)return;const{boardManager:e,tileManager:t,itemManager:s}=this.scene;if(this.scene.gameStatus!==ge.PLAYING){this.cleanState(),s.deactivateItem(ks);return}if(this.runActiveTween(),t.firstSelectedTile=null,!t.isCanMove()){this.cleanState(),s.deactivateItem(ks);return}if(!this.matchFinder.checkForAvailableMatches()){this.nextAutoMatch();return}const o=this.matchFinder.pathForAutoplay;if(!o){this.nextAutoMatch();return}const{x:r=1,y:l=1}=o[0],{x:n=1,y:c=1}=o[o.length-1],u=e.getTileByPosition(r,l),m=e.getTileByPosition(n,c);if(!u||!m){this.nextAutoMatch();return}if(!this.emuSelectTile(u)){this.nextAutoMatch();return}const f=Phaser.Math.Between(100,400);this.delayMatchTimer=this.scene.time.delayedCall(f,()=>{this.emuSelectTile(m),this.nextAutoMatch()})};nextAutoMatch=()=>{const e=Phaser.Math.Between(300,2100);this.delayMatchTimer=this.scene.time.delayedCall(e,this.autoMatch)};autoUseItem=()=>{if(!this.isRunning)return;const{itemManager:e}=this.scene;this.runActiveTween();const t=Phaser.Math.Between(3e3,5e3);this.delayItemTimer=this.scene.time.delayedCall(t,()=>{if(!e.getIsUseableItem()){this.autoUseItem();return}const s=e.getItems();Phaser.Utils.Array.Shuffle(s);const i=s.filter(r=>r.isDisabled||r.amount<=0?!1:r instanceof Va||r instanceof io||r instanceof $a||r instanceof so),o=Phaser.Math.Between(0,i.length-1);i[o]&&i[o].callback(),this.autoUseItem()})};emuSelectTile=e=>{const{tileManager:t}=this.scene;return t.isSelectable?(e.showHighlight(),t.emitInteraction(),t.tileSelect(e)(),!0):!1};cleanState(){this.setAlpha(1),this.isRunning=!1,this.activeTween?.remove(),this.delayItemTimer?.remove(),this.delayMatchTimer?.remove(),this.scene.tweens.killTweensOf(this)}}const{ID:mi}=L.BACK_LEVEL,{FRAME:Jf}=A.GAMEPLAY;class Qf extends ke{scene;isRunning=!1;constructor(e){super(e,Jf.DEV_TOOL_ARROW,25,25),this.scene=e,this.setAmount(999),this.item.flipX=!0,this.onClick=this.handleUseItem}handleUseItem=()=>{if(this.isRunning)return;const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(mi);return}if(!e.activeItem(mi)){this.shakeAnimation.play();return}this.useItem()};useItem=()=>{const{itemManager:e,levelHandler:t}=this.scene,{level:s}=t;t.level=s-2,t.setConfig(s-2),this.scene.finishLevel(),e.deactivateItem(mi)}}const{ID:hi}=L.BOMB_EXPLOSIVE,{FRAME:ep}=A.GAMEPLAY;class tp extends ke{scene;constructor(e){super(e,ep.DEV_TOOL_BOMB,25,25),this.scene=e,this.setAmount(999),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(hi);return}if(!e.activeItem(hi)){this.shakeAnimation.play();return}this.useItem()};useItem=()=>{const{itemManager:e,tileManager:t}=this.scene;t.emitInteraction(),t.getAliveTiles().forEach(i=>{i instanceof We&&i.shortenRemainingTime()}),e.deactivateItem(hi)}}const{ID:fi}=L.NEW_GAME,{FRAME:sp}=A.GAMEPLAY;class ip extends ke{scene;constructor(e){super(e,sp.DEV_TOOL_NEW_GAME,25,25),this.scene=e,this.setAmount(999),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(fi);return}if(!e.activeItem(fi)){this.shakeAnimation.play();return}this.useItem()};useItem=async()=>{await this.resetData(),this.resetGame();const{itemManager:e}=this.scene;e.deactivateItem(fi)};resetData=async()=>{const e=new Mt({}).toObject();await FBInstant.player.setDataAsync(e),this.scene.player.setMultiCustomData({levelProgress:0})};resetGame(){const{levelHandler:e}=this.scene,t=e.getConfigByLevel(0);t&&(t.rows=Phaser.Math.Between(4,12),t.columns=Phaser.Math.Between(4,7)),e.setConfig(0),F.emit(G.NEXT_LEVEL)}}const{ID:pi}=L.NEXT_LEVEL,{FRAME:op}=A.GAMEPLAY;class rp extends ke{scene;constructor(e){super(e,op.DEV_TOOL_ARROW,25,25),this.scene=e,this.setAmount(999),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(pi);return}if(!e.activeItem(pi)){this.shakeAnimation.play();return}this.useItem()};useItem=()=>{const{itemManager:e}=this.scene;this.scene.finishLevel(!0),e.deactivateItem(pi)}}const{ID:bi}=L.RESET_DATA,{FRAME:ap}=A.GAMEPLAY,{StartItems:np}=GameCore.Configs.Gameplay;class lp extends ke{scene;isResetToDefault;constructor(e){super(e,ap.DEV_TOOL_RESET,25,25),this.scene=e,this.isResetToDefault=!1,this.setAmount(999),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(bi);return}if(!e.activeItem(bi)){this.shakeAnimation.play();return}this.useItem()};useItem=async()=>{await this.resetData(),this.resetItems();const{itemManager:e}=this.scene;e.deactivateItem(bi)};resetData=async()=>{const e={...np};this.isResetToDefault||Object.keys(e).forEach(t=>{const s=t;e[s]=0}),this.isResetToDefault=!this.isResetToDefault,await this.scene.player.setMultiCustomData({items:e})};resetItems(){const{itemManager:e}=this.scene;e.init(),e.start()}}const{ID:gi}=L.TIME_UP,{FRAME:cp}=A.GAMEPLAY;class up extends ke{scene;constructor(e){super(e,cp.DEV_TOOL_CLOCK,25,25),this.scene=e,this.setAmount(999),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(gi);return}if(!e.activeItem(gi)){this.shakeAnimation.play();return}this.useItem()};useItem=()=>{const{itemManager:e,layoutManager:t}=this.scene,{objects:s}=t;s.playtimeClock.startClock(0),e.deactivateItem(gi)}}const{KEY:dp,FRAME:br}=A.GAMEPLAY;class mp extends Phaser.GameObjects.Particles.ParticleEmitterManager{deathZone;emitter;constructor(e){super(e,dp,br.EFFECT_SPARK),this.createDeathZone(),this.createEmitters(),this.kill(),this.scene.add.existing(this)}createDeathZone(){this.deathZone=new Phaser.Geom.Circle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:br.EFFECT_SPARK,speed:{min:20,max:500},scale:{start:e*1.33,end:0},deathZone:{source:this.deathZone,type:"onLeave"},tint:16259176,lifespan:200})}explode(e,t,s,i){this.revive(),this.deathZone.radius=i,this.deathZone.setPosition(t,s),this.emitter.explode(e,t,s)}}const{KEY:vi,FRAME:wi}=A.GAMEPLAY;class hp extends Phaser.GameObjects.Container{process;minProcess;maxProcess;comboText;comboNumber;progressBox;circleLight;progressBar;comboParticle;circleLightTween;comboTextTween;progressAnimation;constructor(e){super(e),this.setSize(84,8),this.process=0,this.minProcess=0,this.maxProcess=1,this.createComboText(),this.createComboNumber(),this.createProgressBG(),this.createProgressBar(),this.createCircleLight(),this.createComboParticle(),this.createContainer()}setComboText(e){this.comboNumber.setText(`x${e}`),this.comboTextTween?.stop(0),this.circleLightTween?.stop(0);const{x:t,y:s}=this.comboNumber;this.comboParticle.explode(10,t,s,30),this.circleLightTween=this.scene.add.tween({targets:[this.circleLight],duration:200,props:{alpha:{start:.5,to:0,ease:Phaser.Math.Easing.Expo.In},scale:{start:0,to:1,ease:Phaser.Math.Easing.Cubic.Out}}}),this.comboTextTween=this.scene.add.tween({targets:[this.comboNumber],duration:100,completeDelay:400,ease:Phaser.Math.Easing.Sine.In,props:{scale:{from:1,to:1.3}},onComplete:()=>{this.comboTextTween=this.scene.add.tween({targets:[this.comboNumber],duration:100,ease:Phaser.Math.Easing.Sine.Out,props:{scale:{start:1.3,to:1}}})}})}setProcess(e,t=!1){if(this.process=this.getCorrectValue(e),!this.scene||t){this.updateProcess();return}this.runProcessAnimation(e)}updateProcess(){const{height:e}=this.progressBar,t=this.getDisplayWidthByProcess(this.process);this.progressBar.setWorldSize(t,e)}getCorrectValue(e){let t=e;return isFinite(t)||(t=0),t<this.minProcess&&(t=this.minProcess),t>this.maxProcess&&(t=this.maxProcess),t}getDisplayWidthByProcess(e){const{width:t}=this;return(t-1)*e}runProcessAnimation(e){this.progressAnimation?.stop(),this.progressAnimation=this.scene.add.tween({targets:[this.progressBar],duration:100,ease:Phaser.Math.Easing.Quadratic.InOut,props:{displayWidth:()=>{const t=this.getCorrectValue(e);return this.getDisplayWidthByProcess(t)}},onUpdate:()=>{const{displayWidth:t,displayHeight:s}=this.progressBar;this.progressBar.setWorldSize(t,s)},onComplete:()=>{this.updateProcess()}})}createComboText(){this.comboText=this.scene.make.bitmapText({font:B.RED_STROKE.KEY,size:this.scene.fontSize(10),origin:{x:.5,y:.5},text:this.scene.lang.Text.combo}),Phaser.Display.Align.In.Center(this.comboText,this,-16,-15)}createComboNumber(){this.comboNumber=this.scene.make.bitmapText({font:B.RED_STROKE.KEY,size:this.scene.fontSize(12),origin:{x:.5,y:.9},text:"x1"}),Phaser.Display.Align.In.RightCenter(this.comboNumber,this.comboText,23,-1)}createCircleLight(){this.circleLight=this.scene.make.image({key:vi,frame:wi.EFFECT_CIRCLE}),this.circleLight.setTint(15677098),this.circleLight.setAlpha(0),this.circleLight.setWorldSize(45,45),Phaser.Display.Align.In.Center(this.circleLight,this.comboNumber)}createComboParticle(){this.comboParticle=new mp(this.scene)}createProgressBG(){this.progressBox=this.scene.make.image({key:vi,frame:wi.PROGRESS_BG_COMBO}),this.progressBox.setWorldSize(87,7.5)}createProgressBar(){this.progressBar=this.scene.make.image({key:vi,frame:wi.PROGRESS_BAR_COMBO,origin:{x:0,y:.5}}),this.progressBar.setWorldSize(0,4),Phaser.Display.Align.In.LeftCenter(this.progressBar,this.progressBox,-1),this.setProcess(0)}createContainer(){this.add([this.progressBox,this.progressBar,this.comboText,this.comboNumber,this.circleLight,this.comboParticle]),this.circleLight.setDepth(K.EFFECT),this.comboParticle.setDepth(K.EFFECT),this.setDepth(K.EFFECT),this.scene.add.existing(this)}}const{KEY:gr,FRAME:vr}=A.GAMEPLAY,Pt={PLAY:"play",PAUSE:"pause"};class fp extends Phaser.GameObjects.Container{scene;clockBG;clockIcon;clockIconOriginScale;clockText;tickEvent;remainingTime;tickAnimation;tickEventRemainingTime;constructor(e){super(e,0,0),this.scene=e,this.state=Pt.PAUSE,this.remainingTime=0,this.createContents(),this.scene.add.existing(this)}createContents(){this.createClockBG(),this.updateSize(),this.createClockText(),this.createClockImage()}addEvents(){this.removeEvents(),this.scene.events.on(V.EVENTS.FIRST_INTERACTION,this.handleFirstInteraction)}removeEvents(){this.scene.events.off(V.EVENTS.FIRST_INTERACTION,this.handleFirstInteraction)}handleFirstInteraction=()=>{const e=this.scene,{levelHandler:t}=e,{time:s}=t.getConfigs();this.startClock(s)};handleRescueTimeout=()=>{const e=this.scene,{levelHandler:t}=e,{time:s}=t.getConfigs();this.startClock(Math.floor(s/2))};startClock(e){this.state=Pt.PLAY,this.tickEvent?.destroy(),this.remainingTime=e,this.setClockText(this.remainingTime),this.tickEvent=this.scene.time.addEvent({delay:1e3,callback:this.updateClock,callbackScope:this,loop:!0})}updateClock=()=>{if(this.scene.gameStatus!==ge.DYING){if(this.remainingTime<=31&&this.playNotifyAnimation(),this.remainingTime<=0){this.pauseClock();const{level:t}=this.scene.levelHandler;this.scene.die(t,"timeUp");return}this.remainingTime-=1,this.setClockText(this.remainingTime)}};setClockText(e){const t=Math.floor(e/60),s=e%60,i=t<10?`0${t}`:t,o=s<10?`0${s}`:s;this.clockText.setText(`${i}:${o}`)}pauseClock(){this.state!==Pt.PAUSE&&(this.stopNotifyAnimation(),this.state=Pt.PAUSE,this.tickEvent&&(this.tickEventRemainingTime=1e3-this.tickEvent.getElapsed(),this.tickEvent.destroy()))}resumeClock(){this.state!==Pt.PLAY&&(this.state=Pt.PLAY,this.tickEvent=this.scene.time.addEvent({delay:this.tickEventRemainingTime,callback:()=>{this.updateClock(),this.tickEvent=this.scene.time.addEvent({delay:1e3,callback:this.updateClock,callbackScope:this,loop:!0})},callbackScope:this}))}createClockBG(){this.clockBG=this.scene.make.image({key:gr,frame:vr.TIMER_BG,origin:{x:0,y:.5}}),this.clockBG.setWorldSize(71,25),this.add(this.clockBG)}updateSize(){const{displayWidth:e,displayHeight:t}=this.clockBG;this.setSize(e,t)}createClockText(){this.clockText=this.scene.make.bitmapText({text:"00:00",font:B.PRIMARY.KEY,size:this.scene.fontSize(13),origin:{x:0,y:.5}}),this.clockText.setTint(16763191),this.clockText.setRightAlign(),Phaser.Display.Align.In.RightCenter(this.clockText,this.clockBG,-8,-2),this.add(this.clockText)}createClockImage(){this.clockIcon=this.scene.make.image({key:gr,frame:vr.ICON_CLOCK}),this.clockIcon.setWorldSize(28,34),Phaser.Display.Align.In.LeftCenter(this.clockIcon,this.clockBG,2,-1),this.add(this.clockIcon),this.clockIconOriginScale=this.clockIcon.scaleX}getRemainingTime(){return this.remainingTime}playNotifyAnimation(){if(this.tickAnimation?.isPlaying())return;let e=15;this.tickAnimation?.stop(),this.tickAnimation=this.scene.tweens.timeline({loop:-1,onLoop:t=>{this.clockIcon.setAngle(e),t.data[0].data[0].from=e,t.data[0].data[0].start=e,e=-e,t.data[0].data[0].to=e,t.data[0].data[0].end=e,t.data[0].data[0].duration=200}}),this.tickAnimation.add({targets:this.clockIcon,ease:Phaser.Math.Easing.Linear,props:{angle:{duration:100,start:0,to:e}}}),this.tickAnimation.add({targets:this.clockIcon,ease:Phaser.Math.Easing.Linear,props:{scale:{duration:200,value:this.clockIconOriginScale*1.1}},yoyo:!0}),this.tickAnimation.play()}stopNotifyAnimation(){this.tickAnimation?.stop(),this.clockIcon.setScale(this.clockIconOriginScale),this.clockIcon.setAngle(0)}}const{KEY:Kt,FRAME:Wt}=A.GAMEPLAY;class pp extends Phaser.GameObjects.Container{stars=[];process;minProcess;maxProcess;progressBox;progressBarLeft;progressBarBg;progressBarRight;progressAnimation;constructor(e){super(e),this.setSize(163,30),this.process=0,this.minProcess=0,this.maxProcess=1,this.createProgressBox(),this.createProgressBar(),this.createStars(),this.createContainer()}setProcess(e,t=!1){if(this.process=this.getCorrectValue(e),this.updateStarVisibility(),!this.scene||t){this.updateProcess();return}this.runProcessAnimation(e)}updateProcess(){const{displayHeight:e}=this.progressBarBg,t=this.getDisplayWidthByProcess(this.process);this.progressBarBg.setWorldSize(t,e);const{x:s}=this.progressBarBg;this.progressBarRight.setX(s+t)}getCorrectValue(e){let t=e;return isFinite(t)||(t=0),t<this.minProcess&&(t=this.minProcess),t>this.maxProcess&&(t=this.maxProcess),t}getDisplayWidthByProcess(e){const{width:t}=this;return(t-17)*e}runProcessAnimation(e){this.progressAnimation?.stop(),this.progressAnimation=this.scene.add.tween({targets:[this.progressBarBg],duration:300,ease:Phaser.Math.Easing.Quadratic.InOut,props:{displayWidth:()=>{const t=this.getCorrectValue(e);return this.getDisplayWidthByProcess(t)}},onUpdate:()=>{const{x:t,displayWidth:s}=this.progressBarBg;this.progressBarRight.setX(t+s)},onComplete:()=>{this.updateProcess()}})}createProgressBox(){this.progressBox=this.scene.make.image({key:Kt,frame:Wt.PROGRESS_STAR}),this.progressBox.setWorldSize(163,30),this.add(this.progressBox)}createProgressBar(){this.progressBarLeft=this.scene.make.image({key:Kt,frame:Wt.PROGRESS_BAR_LEFT}),this.progressBarLeft.setOrigin(0,.5),this.progressBarLeft.setWorldSize(6,12.5),this.progressBarRight=this.scene.make.image({key:Kt,frame:Wt.PROGRESS_BAR_RIGHT}),this.progressBarRight.setOrigin(0,.5),this.progressBarRight.setWorldSize(6,12.5),this.progressBarBg=this.scene.make.image({key:Kt,frame:Wt.PROGRESS_BAR_MID}),this.progressBarBg.setOrigin(0,.5),this.progressBarBg.setWorldSize(6,12.5);const s=-2,i=.5,o=-7.5;Phaser.Display.Align.In.LeftCenter(this.progressBarBg,this.progressBox,o,i),Phaser.Display.Align.In.LeftCenter(this.progressBarLeft,this.progressBox,s,i),Phaser.Display.Align.In.LeftCenter(this.progressBarRight,this.progressBox,o,i),this.setProcess(0,!0)}createStars(){this.stars=[];for(let e=0;e<3;e++){const t=this.scene.make.image({key:Kt,frame:Wt.ICON_STAR_BIG});t.y=0,t.setWorldSize(30,30),t.setVisible(!1),this.stars.push(t)}this.stars[0].x=7,this.stars[1].x=38,this.stars[2].x=67}updateStarVisibility(){if(this.stars.length!==0){if(this.process>=.92){this.stars[0].setVisible(!0),this.stars[1].setVisible(!0),this.stars[2].setVisible(!0);return}if(this.process>=.72){this.stars[0].setVisible(!0),this.stars[1].setVisible(!0),this.stars[2].setVisible(!1);return}if(this.process>=.52){this.stars[0].setVisible(!0),this.stars[1].setVisible(!1),this.stars[2].setVisible(!1);return}this.stars[0].setVisible(!1),this.stars[1].setVisible(!1),this.stars[2].setVisible(!1)}}getStarAmount(){return this.process>=.92?3:this.process>=.72?2:this.process>=.52?1:0}getStarFlyInPosition(){if(this.process>=.72){const{translateX:s,translateY:i}=this.stars[2].getWorldTransformMatrix().decomposeMatrix();return{x:s,y:i}}if(this.process>=.52){const{translateX:s,translateY:i}=this.stars[1].getWorldTransformMatrix().decomposeMatrix();return{x:s,y:i}}const{translateX:e,translateY:t}=this.stars[0].getWorldTransformMatrix().decomposeMatrix();return{x:e,y:t}}createContainer(){this.add([this.progressBox,this.progressBarBg,this.progressBarLeft,this.progressBarRight]),this.add(this.stars),this.scene.add.existing(this)}}const St=242,{KEY:zt,FRAME:jt}=A.GAMEPLAY;class bp extends Phaser.GameObjects.Container{scene;headerMiddle;headerLeft;headerRight;actualScreenWidth;constructor(e){super(e),this.scene=e,e.add.existing(this),this.initScreenWidth(),this.initHeader(),this.initSize()}initScreenWidth(){const e=this.scene.world.getScreenWidth(),t=this.scene.gameZone.width;this.actualScreenWidth=e>t?e:t}initSize(){//!! Size for calculating other UI positions, tile size, etc.
if(this.scene.world.isLandscape()){this.setSize(760,55.5);return}this.setSize(375,66)}initHeader(){if(!this.scene.world.isLandscape()){this.headerMiddle=this.scene.add.image(0,0,zt,jt.LAYOUT_HEADER),this.headerMiddle.setWorldSize(375,66),this.add(this.headerMiddle);return}if(this.actualScreenWidth<St*2){this.initReducedLandscapeHeader();return}this.initNormalLandscapeHeader()}initReducedLandscapeHeader(){const e=this.actualScreenWidth;this.headerMiddle=this.scene.add.image(0,0,zt,jt.LAYOUT_HEADER_MIDDLE),this.headerMiddle.setWorldSize(e,55.5),this.add(this.headerMiddle)}initNormalLandscapeHeader(){const e=this.actualScreenWidth-St*2;this.headerLeft=this.scene.add.image(0,0,zt,jt.LAYOUT_HEADER_LEFT),this.headerLeft.setWorldSize(St,55.5),this.headerMiddle=this.scene.add.image(0,0,zt,jt.LAYOUT_HEADER_MIDDLE),this.headerMiddle.setWorldSize(e,55.5),this.headerRight=this.scene.add.image(0,0,zt,jt.LAYOUT_HEADER_RIGHT),this.headerRight.setWorldSize(St,55.5),this.add(this.headerLeft),this.add(this.headerMiddle),this.add(this.headerRight),this.headerMiddle.setPosition(0,0),this.headerLeft.setPosition(this.headerMiddle.x-(e+St)/2,0),this.headerRight.setPosition(this.headerMiddle.x+(e+St)/2,0)}}const{KEY:Ti,FRAME:yi}=A.GAMEPLAY,{KEY:wr,FRAME:Tr}=A.DEFAULT;class gp{scene;skipBtn;skipContainer;pauseButton;headerBG;footerBG;levelText;playtimeClock;starProgressBar;comboProgressBar;hintItem;rocketItem;shuffleItem;defuseItem;guideDefuseItem;timeUp=null;newGame=null;resetData=null;backLevel=null;nextLevel=null;autoMatch=null;changeColor=null;bombExplosive=null;group;constructor(e){this.scene=e,this.createGroup(),this.createObjects()}getAll(){return this.group.getChildren()}createGroup(){this.group=this.scene.add.group()}createObjects(){this.createHeaderBG(),this.createFooterBG(),this.createLevelText(),this.createSkipButton(),this.createPauseButton(),this.createPlaytimeClock(),this.createStarProgressBar(),this.createComboProgressBar(),this.createHintItem(),this.createRocketItem(),this.createDefuseItem(),this.createGuideDefuseItem(),this.createShuffleItem(),this.createDevTools()}createHeaderBG(){this.headerBG=new bp(this.scene),this.group.add(this.headerBG)}createFooterBG(){this.footerBG=this.scene.add.image(0,0,Ti,yi.LAYOUT_FOOTER),this.footerBG.setWorldSize(375,108.5),this.group.add(this.footerBG)}createLevelText(){this.levelText=this.scene.make.bitmapText({font:B.YELLOW_AND_STROKE.KEY,size:this.scene.fontSize(15),origin:{x:.5,y:.6},text:"Lv 1"}),this.group.add(this.levelText)}createSkipButton(){this.skipContainer=this.scene.add.container(0,0),this.skipContainer.setDepth(K.ON_TOP);const e=this.scene.make.image({key:wr,frame:Tr.BUTTON_GREEN_SMALL_BG});e.setY(-1),e.setWorldSize(67,24),this.skipContainer.add(e),this.skipBtn=new we(this.scene,wr,Tr.BUTTON_GREEN_SMALL,63,20),this.skipBtn.setName("SkipGuide"),this.skipContainer.add(this.skipBtn);const t=this.scene.lang.getCurrentLanguage();let s=13,i=-2;switch(t){case"ru":case"de":s=8,i=-1}const o=this.scene.make.bitmapText({font:B.SHADOW.KEY,size:this.scene.fontSize(s),origin:{x:.5,y:.6},text:this.scene.lang.Text.skip});o.setY(i),this.skipBtn.add(o),this.skipContainer.setSize(63,20),this.skipContainer.kill(),this.group.add(this.skipContainer)}createPauseButton(){this.pauseButton=new we(this.scene,Ti,yi.BUTTON_YELLOW_CIRCLE,37,37),this.pauseButton.setName("Pause");const e=this.scene.make.image({key:Ti,frame:yi.ICON_PAUSE});e.setWorldSize(15,17),this.pauseButton.add(e),this.group.add(this.pauseButton)}createPlaytimeClock(){this.playtimeClock=new fp(this.scene),this.group.add(this.playtimeClock)}createStarProgressBar(){this.starProgressBar=new pp(this.scene),this.group.add(this.starProgressBar)}createComboProgressBar(){this.comboProgressBar=new hp(this.scene),this.comboProgressBar.setAlpha(0),this.comboProgressBar.kill(),this.group.add(this.comboProgressBar)}createHintItem(){this.hintItem=new Va(this.scene),this.group.add(this.hintItem)}createShuffleItem(){this.shuffleItem=new $a(this.scene),this.group.add(this.shuffleItem)}createDefuseItem(){this.defuseItem=new so(this.scene),this.group.add(this.defuseItem)}createGuideDefuseItem(){this.guideDefuseItem=new Ha(this.scene),this.guideDefuseItem.kill(),this.group.add(this.guideDefuseItem)}createRocketItem(){this.rocketItem=new io(this.scene),this.group.add(this.rocketItem)}createDevTools(){GameCore.Utils.Valid.isDebugger()&&(this.createNewGameItem(),this.createTimeUpItem(),this.createAutoMatchItem(),this.createResetDataItem(),this.createBackLevelItem(),this.createNextLevelItem(),this.createChangeColorItem(),this.createBombExplosiveItem())}createNewGameItem(){this.newGame=new ip(this.scene),this.newGame.setScale(.7),this.group.add(this.newGame)}createChangeColorItem(){this.changeColor=new Ya(this.scene),this.changeColor.setScale(.7),this.group.add(this.changeColor)}createResetDataItem(){this.resetData=new lp(this.scene),this.resetData.setScale(.7),this.group.add(this.resetData)}createBackLevelItem(){this.backLevel=new Qf(this.scene),this.backLevel.setScale(.7),this.group.add(this.backLevel)}createNextLevelItem(){this.nextLevel=new rp(this.scene),this.nextLevel.setScale(.7),this.group.add(this.nextLevel)}createBombExplosiveItem(){this.bombExplosive=new tp(this.scene),this.bombExplosive.setScale(.7),this.group.add(this.bombExplosive)}createTimeUpItem(){this.timeUp=new up(this.scene),this.timeUp.setScale(.7),this.group.add(this.timeUp)}createAutoMatchItem(){this.autoMatch=new Zf(this.scene),this.autoMatch.setScale(.7),this.group.add(this.autoMatch)}}class vp{scene;objects;allUI;groups;constructor(e){this.scene=e,this.objects=null,this.createGroups()}setUIObjects(e){this.objects=e,this.allUI.addMultiple(this.objects.getAll())}createGroups(){this.groups={},this.allUI=this.scene.add.group(),this.groups.allUI=this.allUI}killAllUI(){this.allUI.killGroup()}reviveAllUI(){this.allUI.reviveGroup()}}const wp=43;class Xa extends vp{itemUI;gameUI;alignUI(){if(this.objects===null)return;const{headerBG:e,footerBG:t,levelText:s,skipContainer:i}=this.objects,{pauseButton:o,playtimeClock:r,starProgressBar:l,comboProgressBar:n}=this.objects,{gameZone:c}=this.scene,u=this.scene.ads.getBannerHeight();Phaser.Display.Align.In.TopCenter(e,c),Phaser.Display.Align.In.BottomCenter(t,c,0,-u+wp),Phaser.Display.Align.In.BottomCenter(s,e,-70,-35),Phaser.Display.Align.In.TopRight(i,c,-5,-15),Phaser.Display.Align.In.TopRight(o,e,-8,-6),Phaser.Display.Align.In.TopLeft(r,e,22,-13),Phaser.Display.Align.In.BottomCenter(l,e,43,-26),Phaser.Display.Align.In.TopRight(n,c,-20,-80)}alignItems(){const{objects:e}=this;if(!e)return;const{hintItem:t,rocketItem:s,defuseItem:i,shuffleItem:o,guideDefuseItem:r}=e,{footerBG:l}=e,n=this.scene;if(!(n instanceof lt))return;const{level:c}=n.levelHandler.getConfigs(),{width:u,height:m}=l,d=-m*.15;let f=4;const h=[i,t,s,o];if(!i.visible&&c!==7){f-=1;const x=h.indexOf(i);h.splice(x,1)}if(!s.visible){f-=1;const x=h.indexOf(s);h.splice(x,1)}const p=u*62/75,v=p/f;Phaser.Display.Align.In.Center(h[0],l,-p/2+v/2,d);for(let x=1;x<h.length;x++){const M=h[x];M.x=h[0].x+x*v,M.y=h[0].y}c===7&&r.setPosition(i.x,i.y);const{changeColor:b,newGame:g,resetData:w,autoMatch:E}=e,{backLevel:y,nextLevel:S,timeUp:R,bombExplosive:O}=e,{gameZone:P}=this.scene;if(GameCore.Utils.Valid.isDebugger()){b&&Phaser.Display.Align.In.TopLeft(b,P,0,-80),g&&Phaser.Display.Align.In.TopLeft(g,P,0,-120),w&&Phaser.Display.Align.In.TopLeft(w,P,0,-160),E&&Phaser.Display.Align.In.TopLeft(E,P,0,-200);const x=0,M=-240;y&&Phaser.Display.Align.In.TopLeft(y,P,x,M),S&&Phaser.Display.Align.In.TopLeft(S,P,x,M-40),R&&Phaser.Display.Align.In.TopLeft(R,P,x,M-2*40),O&&Phaser.Display.Align.In.TopLeft(O,P,x,M-3*40)}}createGroups(){super.createGroups(),this.itemUI=this.scene.add.group(),this.gameUI=this.scene.add.group(),this.itemUI.setDepth(K.ITEM),this.groups.itemUI=this.itemUI,this.groups.gameUI=this.gameUI}setUIObjects(e){super.setUIObjects(e),this.addUIObjectsToGroups()}addUIObjectsToGroups(){this.objects!==null&&(this.addObjectsForItem(),this.addObjectsForGame())}addObjectsForItem(){this.objects!==null&&this.groups.itemUI.addMultiple([this.objects.hintItem,this.objects.rocketItem,this.objects.shuffleItem,this.objects.defuseItem])}addObjectsForGame(){this.objects!==null&&this.groups.gameUI.addMultiple([this.objects.levelText,this.objects.pauseButton,this.objects.playtimeClock,this.objects.starProgressBar,...this.groups.itemUI.getChildren()])}}class Tp extends Xa{alignUI(){if(super.alignUI(),this.objects===null)return;const{gameZone:e}=this.scene;Phaser.Display.Align.In.TopRight(this.objects.footerBG,this.objects.headerBG,-26,16),Phaser.Display.Align.In.TopCenter(this.objects.levelText,this.objects.headerBG,-220,-10),Phaser.Display.Align.In.TopRight(this.objects.pauseButton,this.objects.headerBG,-10),Phaser.Display.Align.In.TopLeft(this.objects.playtimeClock,this.objects.headerBG,5,-7),Phaser.Display.Align.In.BottomCenter(this.objects.starProgressBar,this.objects.headerBG,-80,-20),Phaser.Display.Align.In.TopRight(this.objects.comboProgressBar,e,-100,-65)}alignItems(){const{objects:e}=this;if(!e)return;const{hintItem:t,rocketItem:s,defuseItem:i,shuffleItem:o,guideDefuseItem:r}=e,{footerBG:l}=e,n=this.scene;if(!(n instanceof lt))return;const{level:c}=n.levelHandler.getConfigs(),{width:u,height:m}=l,d=.675;t.setScale(d),s.setScale(d),i.setScale(d),o.setScale(d),r.setScale(d);const f=-m*.13;let h=4;const p=[i,t,s,o];if(!i.visible&&c!==7){h-=1;const M=p.indexOf(i);p.splice(M,1)}if(!s.visible){h-=1;const M=p.indexOf(s);p.splice(M,1)}let v=u*18/25;h===3?v=u*8/15:h===4?v=u*2/3:h===2&&(v=u*12/25);const b=v/h;Phaser.Display.Align.In.Center(p[0],l,-v/2+b/2,f);for(let M=1;M<p.length;M++){const C=p[M];C.x=p[0].x+M*b,C.y=p[0].y}c===7&&r.setPosition(i.x,i.y);const{changeColor:g,newGame:w,resetData:E,autoMatch:y}=e,{backLevel:S,nextLevel:R,timeUp:O,bombExplosive:P}=e,{gameZone:x}=this.scene;if(GameCore.Utils.Valid.isDebugger()){g&&Phaser.Display.Align.In.TopLeft(g,x,0,-80),w&&Phaser.Display.Align.In.TopLeft(w,x,0,-120),E&&Phaser.Display.Align.In.TopLeft(E,x,0,-160),y&&Phaser.Display.Align.In.TopLeft(y,x,0,-200);const M=-50,C=-80;S&&Phaser.Display.Align.In.TopLeft(S,x,M,C),R&&Phaser.Display.Align.In.TopLeft(R,x,M,C-40),O&&Phaser.Display.Align.In.TopLeft(O,x,M,C-2*40),P&&Phaser.Display.Align.In.TopLeft(P,x,M,C-3*40)}}}const{STATUS:Ei}=ns;class yp extends Ce{scene;layout;objects;groups;constructor(e){super(e),this.scene=e,this.createObjects(),this.createLayouts(),this.createGroups()}createObjects(){this.objects=new gp(this.scene)}createLayouts(){this.scene.world.isLandscape()?this.layout=new Tp(this.scene):this.layout=new Xa(this.scene),this.layout.setUIObjects(this.objects)}createGroups(){this.groups=this.layout.groups}init(){this.layout.alignUI(),this.setState(Ei.READY)}start(){this.isRunning()||(this.updateUIState(),this.setState(Ei.RUNNING))}stop(){this.isRunning()&&this.setState(Ei.STOPPED)}updateUIState(){}}const z={PAUSE_SCREEN:"PAUSE_SCREEN",NOTIFY_SCREEN:"NOTIFY_SCREEN",RESULT_SCREEN:"RESULT_SCREEN",RESCUE_SCREEN:"RESCUE_SCREEN",CONTINUE_SCREEN:"CONTINUE_SCREEN",REWARD_ITEM_SCREEN:"REWARD_ITEM_SCREEN",DAILY_REWARDS_SCREEN:"DAILY_REWARDS_SCREEN"},ht={SCREEN:200,POPUP:300,PRIORITY:999},Ep={targets:[],duration:600,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:{start:1,from:1,to:0}}};class Dt extends Se{constructor(e){super(Ep,e)}}const Pp={targets:[],duration:600,ease:Phaser.Math.Easing.Back.Out,props:{y:{from:250,to:0},scale:{from:.9,to:1},alpha:{start:0,from:0,to:1}}};class Hs extends Se{constructor(e){super(Pp,e)}}const{KEY:st,FRAME:kt}=A.DEFAULT,{Match:Pi}=GameCore.Configs;class Sp extends GameCore.Screen{level;reason;isUseRescue;popup;contents;countdownText;countdownTimer;countdownCount;realTimeCountdown;progressTween;rescueSoundEvent;progressCircle;progressMaskImage;progressMask;reasonText;continueButton;continueButtonBg;continueButtonAnimation;popupShowUpAnimation;popupFadeOutAnimation;adsTimer;constructor(e,t,s,i){super(e,t,s,i),this.reason="",this.realTimeCountdown=1400,this.countdownCount=Pi.MaxRescueCount,this.setDepth(ht.POPUP),this.background.setAlpha(.8),this.createContent(),this.addContent()}open=e=>{super.open(),this.progressCircle.clearMask(),this.isUseRescue=!1,this.countdownCount=Pi.RescueGamePopupTimeout,this.setTime(this.countdownCount),this.level=e.level,this.reason=e.reason,this.updateReasonText(e.reason),this.runOpenAnimation()};close(){this.rescueSoundEvent?.remove(),super.close()}handleShowRewardedVideoAd=async()=>{const{globalScene:e,audio:t}=this.scene.game;let s=null;try{if(this.isUseRescue)return;this.isUseRescue=!0,this.progressTween.pause(),this.rescueSoundEvent?.remove(),this.countdownTimer.remove(),s=this.scene.game.globalScene.time.delayedCall(200,()=>{e.screen.open(z.NOTIFY_SCREEN,{message:this.scene.lang.Text.loading_ads,duration:0,loading:!0})}),t.pauseMusic(),t.pauseAllSounds(),t.muteAll(),await this.scene.ads.showRewardedVideoAsync(),e.screen.events.off(GameCore.Screens.Events.CLOSE),this.scene.audio.playSound(X.DAILY_REWARD),s?.remove(),e.screen.close(z.NOTIFY_SCREEN),this.runCloseAnimation(),this.popupFadeOutAnimation.tween?.once(Phaser.Tweens.Events.TWEEN_COMPLETE,()=>{F.emit(G.CONTINUE,{reason:this.reason})})}catch(i){if(this.runCloseAnimation(),this.isUseRescue=!1,s?.remove(),i instanceof Object&&GameCore.Utils.Object.hasOwn(i,"code")&&i.code==="USER_INPUT"){this.showNotifySkipAds();return}this.showNotifyNoAds()}finally{this.adsTimer?.destroy(),this.scene.audio.unmuteAll(),this.scene.audio.playMusic(),this.scene.audio.resumeAllSounds(),this.scene.ads.preloadRewardedVideoAsync().catch(i=>{})}};showNotifyNoAds=e=>{if(e&&e.name!==z.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.events.off(GameCore.Screens.Events.CLOSE),t.screen.events.on(GameCore.Screens.Events.CLOSE,this.showRescueScreen),t.screen.open(z.NOTIFY_SCREEN,{message:this.scene.lang.Text.no_ads,duration:2e3,loading:!1})};showNotifySkipAds=()=>{const{globalScene:e}=this.scene.game;e.screen.events.off(GameCore.Screens.Events.CLOSE),e.screen.events.on(GameCore.Screens.Events.CLOSE,this.showRescueScreen),e.screen.open(z.NOTIFY_SCREEN,{message:`${this.scene.lang.Text.no_rewards_1}
${this.scene.lang.Text.no_rewards_2}`,duration:3e3,loading:!1})};showRescueScreen=e=>{if(e&&e.name!==z.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.events.off(GameCore.Screens.Events.CLOSE,this.showRescueScreen),this.countdownTimer.remove(),this.progressTween.pause(),this.scene.screen.close(this.name),F.emit(G.SHOW_RESCUE_SCREEN,{level:this.level,reason:this.reason})};createContent(){this.createPopup(),this.createCountdown(),this.createProgressCircle(),this.createReasonText(),this.createContinueButton()}createPopup(){this.popup=this.scene.add.container(0,0),this.popup.setSize(292,374);const e=this.scene.make.image({key:st,frame:kt.POPUP});e.setWorldSize(292,374);const t=this.scene.make.image({key:st,frame:this.scene.lang.Texture.text_continue}),s=this.scene.lang.getCurrentLanguage();let i=164,o=25;switch(s){case"ru":i=213,o=28;break;case"ja":i=151,o=30;break;case"id":i=131,o=25;break;case"it":i=189,o=24;break;case"de":i=187,o=24;break;case"es":i=187,o=29;break;case"fr":i=178,o=24;break;case"pt":i=173,o=24;break;case"tr":i=150,o=24;break;case"zh":i=74,o=27;break}t.setWorldSize(i,o),Phaser.Display.Align.In.TopCenter(t,e,4,-23),this.popup.add([e,t]),this.add(this.popup),Phaser.Display.Align.In.Center(this.popup,this.zone)}createCountdown(){this.countdownText=this.scene.make.bitmapText({size:this.scene.fontSize(50),font:B.YELLOW_AND_STROKE.KEY,origin:{x:.5,y:.5}}),this.countdownText.setTint(16773122),this.countdownText.setCenterAlign(),this.setTime(this.countdownCount)}runCountdown(){const e={loop:!0,delay:this.realTimeCountdown,callback:this.handleRunCountdown};this.countdownTimer=this.scene.time.addEvent(e),this.startProgressCircle()}setProgressCircle(e){const{translateX:t,translateY:s}=this.progressCircle.getWorldTransformMatrix().decomposeMatrix();if(this.progressMaskImage.setPosition(t,s),this.progressMaskImage.clear(),e===0)return;this.progressMaskImage.fillStyle(16777215,0);const i=-Math.PI/2,o=3*Math.PI/2-Phaser.Math.DegToRad(360-e);this.progressMaskImage.slice(0,0,80,i,o,!1),this.progressMaskImage.fillPath()}setTime(e){this.countdownText.setText(`${e}`)}createProgressCircle(){this.progressCircle=this.scene.make.image({key:st,frame:kt.PROGRESS_CIRCLE});const e=this.scene.make.image({key:st,frame:kt.PROGRESS_CIRCLE_BG});this.progressMaskImage=this.scene.make.graphics({}),this.progressMask=this.progressMaskImage.createGeometryMask(),this.progressCircle.setWorldSize(129,129),e.setWorldSize(129,129),Phaser.Display.Align.In.Center(this.progressCircle,this.popup,0,-40),Phaser.Display.Align.In.Center(e,this.popup,0,-40),Phaser.Display.Align.In.Center(this.countdownText,e,0,-10),this.popup.add([e,this.progressCircle])}startProgressCircle(){this.setProgressCircle(360),this.progressCircle.setMask(this.progressMask),this.progressTween=this.scene.tweens.addCounter({from:360,to:0,duration:Pi.RescueGamePopupTimeout*this.realTimeCountdown,onUpdate:e=>{const t=+e.getValue().toFixed(2);this.setProgressCircle(t)},onComplete:()=>{this.setProgressCircle(0),this.rescueSoundEvent?.remove()}}),this.playSoundTimeCountdown(),this.rescueSoundEvent=this.scene.time.addEvent({repeat:3,delay:this.realTimeCountdown,callback:this.playSoundTimeCountdown})}playSoundTimeCountdown=()=>{this.scene.audio.playSound(X.RESCUE_TIMER,{volume:1.5})};createReasonText(){this.reasonText=this.scene.make.bitmapText({font:B.YELLOW_AND_STROKE.KEY,origin:{x:.5,y:.5}})}updateReasonText(e){let t=this.scene.fontSize(16);switch(e){case"bombExplosive":t=this.scene.fontSize(18),this.reasonText.setText(this.scene.lang.Text.reason_bomb);break;case"timeUp":t=this.scene.fontSize(20),this.reasonText.setText(this.scene.lang.Text.reason_time_out);break;default:this.reasonText.setText("You have failed the level!")}this.reasonText.setFontSize(t);const s=this.scene.lang.getCurrentLanguage();let i=0;switch(s){case"ja":i=5}Phaser.Display.Align.In.Center(this.reasonText,this.popup,i,57)}createContinueButton(){this.continueButton=new we(this.scene,st,kt.BUTTON_GREEN_ROUNDED_RECT,184,51),this.continueButton.setName("Continue"),this.continueButtonBg=this.scene.make.image({key:st,frame:kt.BUTTON_BG}),this.continueButtonBg.setWorldSize(184,51),this.continueButton.onClick=this.handleShowRewardedVideoAd;const e=this.scene.add.image(0,0,st,kt.ICON_ADS);e.setWorldSize(27,29),Phaser.Display.Align.In.Center(e,this.continueButton,-60),this.continueButton.add(e);const t=this.scene.lang.getCurrentLanguage();let s=20;switch(t){case"ru":s=17;break;case"ja":s=18;break}const i=this.scene.make.bitmapText({text:this.scene.lang.Text.continue,font:B.SHADOW.KEY,origin:{x:.35,y:.75},size:this.scene.fontSize(s)});this.continueButton.add(i),Phaser.Display.Align.In.BottomCenter(this.continueButton,this.popup,0,-40),Phaser.Display.Align.In.Center(this.continueButtonBg,this.continueButton,0,-1)}handleRunCountdown=()=>{if(this.countdownCount-=1,this.setTime(this.countdownCount),this.countdownCount<=0){this.countdownTimer.remove(),this.progressTween.complete(),this.rescueTimeout();return}};rescueTimeout(){this.scene.time.delayedCall(800,()=>{this.runCloseAnimation(),this.isUseRescue||this.popupFadeOutAnimation.tween?.once(Phaser.Tweens.Events.TWEEN_COMPLETE,()=>{F.emit(G.SHOW_RESCUE_SCREEN,{level:this.level,reason:this.reason})})})}runContinueButtonAnimation(){this.continueButtonAnimation||(this.continueButtonAnimation=new cs({targets:[this.continueButton],props:{scale:"-=0.02"}})),this.continueButtonAnimation?.play()}addContent(){this.contents=this.scene.add.group(),this.contents.addMultiple([this.countdownText,this.reasonText,this.continueButtonBg,this.continueButton]),this.popup.add(this.contents.getChildren())}runOpenAnimation(){this.popupShowUpAnimation?.tween?.isPlaying()||this.runPopupEntrancesAnimation(0,400)}runCloseAnimation(){this.popupFadeOutAnimation?.tween?.isPlaying()||this.runPopupExitsAnimation(0,200)}runPopupEntrancesAnimation(e,t){if(!this.popupShowUpAnimation){const{y:s,scale:i}=this.popup;this.popupShowUpAnimation=new Hs({targets:[this.popup],delay:e,duration:t,props:{y:{from:350,to:s},alpha:{start:1,from:1,to:1},scale:{start:0,from:0,to:i}},onComplete:()=>{this.runCountdown(),this.runContinueButtonAnimation()}})}this.popupShowUpAnimation.play()}runPopupExitsAnimation(e,t){this.popupFadeOutAnimation||(this.popupFadeOutAnimation=new Dt({targets:[this.popup],delay:e,duration:t,props:{y:250,scale:0},onComplete:()=>{this.popup.setY(0),this.scene.screen.close(this.name)}})),this.popupFadeOutAnimation.play()}}const kp={targets:[],duration:1e3,ease:Phaser.Math.Easing.Quadratic.InOut,props:{scale:.2}};class qa extends Se{spline;constructor(e){super(kp,e);const{curve:t}=this.config;t&&(this.spline=new Phaser.Curves.Spline(t),this.tween?.on(Phaser.Tweens.Events.TWEEN_START,this.createCounter))}createCounter=(e,t)=>{const{onCurveUpdate:s}=this.config,i=typeof s=="function"?s:null;t.forEach((o,r)=>{if(!this.scene)return;const{duration:l,delay:n}=e.data[r],c=new Phaser.Math.Vector2;this.scene.tweens.addCounter({delay:n,duration:l,ease:Phaser.Math.Easing.Quadratic.InOut,onUpdate:u=>{this.spline.getPoint(u.getValue(),c),o.x=c.x,o.y=c.y,i&&i(o)}})})}}const{KEY:xp,FRAME:Op}=A.TUTORIAL;class Za extends Phaser.GameObjects.Container{hand;constructor(e){super(e),this.name="TapTutorialHand",this.addHand(),this.scene.add.existing(this)}addHand(){this.hand=this.scene.make.image({key:xp,frame:Op.HAND,origin:{x:.5,y:.5}}),this.hand.setWorldSize(65.5,55.5),this.add(this.hand)}playAnimation(e=0,t=800){const s=1/this.scene.world.getPixelRatio();this.hand.angle=30,this.scene?.tweens.add({delay:e,targets:[this.hand],ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:{start:0,value:1,duration:200},scale:{duration:400,start:s*1.6,to:s*1.2},angle:{from:30,value:0,duration:400}},onComplete:()=>{this.scene?.tweens.add({targets:[this.hand],delay:200,duration:200,ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:0},onComplete:()=>{this.hand.x=0,this.hand.y=0,this.hand.scale=s,this.playAnimation(t)}})}})}stopAnimation(){this.scene.tweens.killTweensOf(this.hand)}preDestroy(){this.scene.tweens.killTweensOf(this.hand)}}const{KEY:Rp,FRAME:yr}=A.EFFECTS;class Ja extends Phaser.GameObjects.Particles.ParticleEmitterManager{emitZone;emitter;constructor(e){super(e,Rp,yr.FX_STAR_YELLOW),this.createEmitZone(),this.scene.add.existing(this)}createEmitZone(){this.emitZone=new Phaser.Geom.Rectangle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:yr.FX_COMET,emitZone:{source:this.emitZone,type:"random"},speed:20,timeScale:1,frequency:100,alpha:{start:1,end:0,ease:Phaser.Math.Easing.Expo.Out},scale:{start:e*2,end:e*.1,ease:Phaser.Math.Easing.Expo.Out},lifespan:2666})}run(e,t,s,i,o){this.stop(),this.reset(),this.emitZone.setSize(i,o),this.emitZone.setPosition(t-i/2,s-o/2),this.emitter.setQuantity(e),this.emitter.start()}explode(e,t,s){this.emitter||this.reset(),this.emitter.explode(e,t,s)}stop(){this.emitter?.killAll(),this.emitter?.stop()}reset(){this.createEmitters()}}const{KEY:Ap,FRAME:Er}=A.EFFECTS;class Qa extends Phaser.GameObjects.Particles.ParticleEmitterManager{deathZone;emitter;constructor(e){super(e,Ap,Er.FX_SPARK),this.createDeathZone(),this.createEmitters(),this.setActive(!1),this.setVisible(!1),this.scene.add.existing(this)}createDeathZone(){this.deathZone=new Phaser.Geom.Circle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:Er.FX_SPARK,speed:{min:10,max:1200},scale:{start:e*1.33,end:0},alpha:{start:1,end:0,ease:Phaser.Math.Easing.Expo.Out},deathZone:{source:this.deathZone,type:"onLeave"},lifespan:3e3})}explode(e,t,s,i){this.setActive(!0),this.setVisible(!0),this.deathZone.radius=i,this.deathZone.setPosition(t,s),this.emitter.explode(e,t,s)}}const{KEY:Ip,FRAME:Pr}=A.EFFECTS;class en extends Phaser.GameObjects.Particles.ParticleEmitterManager{emitZone;emitter;constructor(e){super(e,Ip,Pr.FX_COMET),this.createEmitZone(),this.createEmitters(),this.scene.add.existing(this)}createEmitZone(){this.emitZone=new Phaser.Geom.Rectangle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:Pr.FX_COMET,emitZone:{source:this.emitZone,type:"random"},deathZone:{source:this.emitZone,type:"onLeave"},timeScale:1,frequency:150,speedY:{min:-20,max:-60},alpha:{start:1,end:0,ease:Phaser.Math.Easing.Cubic.Out},scale:{start:e*1,end:0,ease:Phaser.Math.Easing.Cubic.Out},lifespan:{min:1500,max:2500}})}run(e,t,s,i,o){this.stop(),this.emitZone.setSize(i,o),this.emitZone.setPosition(t-i/2,s-o/2),this.emitter.setQuantity(e),this.emitter.start()}stop(){this.emitter?.killAll(),this.emitter?.stop()}}const _p={targets:[],duration:600,ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:{start:0,from:0,to:1}}};class oo extends Se{constructor(e){super(_p,e)}}const Mp={targets:[],duration:300,ease:eo,props:{scale:{from:1.2,to:1}}};class Ys extends Se{constructor(e){super(Mp,e)}}class tn extends we{constructor(e,t,s,i,o,r=!1){super(e,t,s,i,o,r)}processCallback(e){this.upAnimation?.stop(),this.downAnimation?.stop(),this.scaleUp!==-1&&this.setScale(this.scaleUp),e()}}const{KEY:Sr,FRAME:kr}=A.DEFAULT;class sn extends tn{text1;icon;x2;text2;constructor(e,t,s,i,o){super(e,t,s,i,o),this.createAdsICon(),this.createTexts()}createAdsICon(){const e=this.scene.lang.getCurrentLanguage();let t=-50,s=1;switch(e){case"ru":t=-65,s=.9;break;case"es":case"pt":t=-65;break;case"fr":case"it":t=-55;break}const i=this.scene.make.image({key:Sr,frame:kr.ICON_ADS});i.setOrigin(.5,.5),i.setWorldSize(30.5*s,33*s),i.setPosition(t,0),this.add(i),this.icon=i}createTexts(){const e=this.scene.lang.getCurrentLanguage();let t=23,s=50,i=23,o=0,r=1;switch(e){case"ru":t=20,s=65,i=18,r=.75;break;case"ja":t=23,o=-3;break;case"id":i=21,r=.75;break;case"pt":case"es":i=20,r=.8,s=65;break;case"fr":case"it":i=20,r=.8,s=55;break;case"de":i=21;break}const l=this.scene.make.bitmapText({font:B.SHADOW.KEY,text:this.scene.lang.Text.get,size:this.scene.fontSize(i),origin:{x:.5,y:.75}});this.add(l),this.text1=l;const n=this.scene.make.image({key:Sr,frame:kr.X2});n.setWorldSize(42*r,27*r),n.setPosition(s,0),this.add(n),this.x2=n;const c=this.scene.make.bitmapText({font:B.SHADOW.KEY,text:this.scene.lang.Text.continue,size:this.scene.fontSize(t),origin:{x:.5,y:.7}});this.add(c),c.setPosition(0,o),this.text2=c}setMode(e){e==="item"?(this.text1.revive(),this.icon.revive(),this.x2.revive(),this.text2.kill()):(this.text1.kill(),this.icon.kill(),this.x2.kill(),this.text2.revive())}}class ro extends we{paddingZone;showDebugZone;debugZone;constructor(e,t){const{key:s,frame:i,width:o,height:r,usePixelPerfect:l}=t;super(e,s,i,o,r,l);const{paddingZone:n=0,showDebugZone:c=!1}=t;this.paddingZone=n,this.showDebugZone=c,this.updateSize()}updateSize(){super.updateSize();const{width:e,height:t}=this,s=e+this.paddingZone,i=t+this.paddingZone;this.setSize(s,i),this.hitZone.setSize(s,i),this.showDebugZone&&(this.debugZone?.destroy(),this.debugZone=this.hitZone.drawDebugBox(10699282,.5),this.add(this.debugZone))}}const{KEY:Cp,FRAME:xr}=A.EFFECTS;class on extends Phaser.GameObjects.Particles.ParticleEmitterManager{config;emitZone;emitter;constructor(e,t){super(e,Cp,xr.BLANK),this.config=t||{},this.createEmitZone(),this.createEmitters(),this.scene.add.existing(this)}createEmitZone(){this.emitZone=new Phaser.Geom.Rectangle}createEmitters(){const e=1/this.scene.world.getPixelRatio(),t={on:!1,frame:xr.FX_STAR_YELLOW,emitZone:{source:this.emitZone,type:"random"},timeScale:1,frequency:150,speedY:{min:-20,max:-60},alpha:{start:1,end:0,ease:Phaser.Math.Easing.Cubic.Out},scale:{start:e*1,end:0,ease:Phaser.Math.Easing.Cubic.Out},lifespan:{min:1500,max:2500}},s=ve(t,this.config);this.emitter=this.createEmitter(s)}run(e,t,s,i,o){this.stop(),this.emitZone.setSize(i,o),this.emitZone.setPosition(t-i/2,s-o/2),this.emitter.setQuantity(e),this.emitter.start()}stop(){this.emitter?.killAll(),this.emitter?.stop()}explode(){this.emitter.explode(100,0,0)}}const{DEFAULT:it,GAMEPLAY:Le}=A,{KEY:Or,FRAME:Lp}=A.DEFAULT;class Dp extends GameCore.Screen{title;whiteGlow;itemIcon=[];quantityText=[];viewAdButton;getContinueBtn;iconTwinkle;popupContents;hand;giftIcon;giftIconWhite;cometTwinkle;starTwinkleUp;sparksExplosive;giftEntrancesAnimation;giftAttentionAnimation;giftShakeAnimation;giftOpenAnimation;backgroundFadeInAnimation;contentShowUpAnimation;viewAdButtonAnimation;popupFadeOutAnimation;glowSpinTween;constructor(e,t,s,i){super(e,t,s,i),this.setDepth(ht.POPUP),this.background.setAlpha(.6),this.createEffects(),this.createContents(),this.createContentsEffects(),this.createGiftIcon(),this.createHand()}open=e=>{super.open(e),this.rewardItem({updateUI:!1,isFree:!0}),this.updateScreen(e),this.runGlowSpinTween(),this.runOpenAnimation()};updateScreen(e){const t=Object.keys(e),s=this.createWhiteGlow();t.length>1&&(s.scale=s.scale*2),this.whiteGlow=s,this.createIcons(e),this.createTexts(e),this.addAt(this.quantityText,2),this.addAt(this.itemIcon,2),this.addAt(this.whiteGlow,2);let i=25;const o=Object.values(e);GameCore.Utils.Array.unique(o).length>1&&(i=80);let l=(this.itemIcon.length-1)/2;this.itemIcon.forEach((n,c)=>{n.setPosition((c-l)*i,-75)}),l=(this.quantityText.length-1)/2,this.quantityText.forEach((n,c)=>{n.setPosition((c-l)*i,-30)}),this.createContentsGroup()}createIcons(e){Object.keys(e).forEach(s=>{const i=this.createItemIcon();switch(s){case L.HINT.ID:i.setTexture(Le.KEY,Le.FRAME.HINT_ITEM);break;case L.ROCKET.ID:i.setTexture(Le.KEY,Le.FRAME.ROCKET_ITEM);break;case L.BOMB_DEFUSE.ID:i.setTexture(Le.KEY,Le.FRAME.DEFUSE_ITEM);break;case L.SHUFFLE.ID:i.setTexture(Le.KEY,Le.FRAME.ITEM_SHUFFLE);break}this.itemIcon.push(i)})}createTexts(e){const t=Object.values(e),i=GameCore.Utils.Array.unique(t).length===1?1:t.length;for(let o=0;o<i;o++){const r=this.createQuantityText();r.setText(`x${t[o]}`),this.quantityText.push(r)}}runGlowSpinTween(){this.glowSpinTween?.stop(),this.whiteGlow.angle=0,this.whiteGlow.setPosition((this.itemIcon[0].x+this.itemIcon[this.itemIcon.length-1].x)/2,this.itemIcon[0].y),this.glowSpinTween=this.scene.tweens.add({targets:this.whiteGlow,angle:360,duration:5e3,repeat:-1,ease:"Linear"})}createEffects(){this.cometTwinkle=new Ja(this.scene),this.starTwinkleUp=new en(this.scene),this.sparksExplosive=new Qa(this.scene),this.add([this.cometTwinkle,this.starTwinkleUp,this.sparksExplosive])}createContentsEffects(){const e=1/Hi();this.iconTwinkle=new on(this.scene,{scale:{min:.05*e,max:e*.4}}),this.add([this.iconTwinkle])}createContents(){this.createTitle(),this.createViewAdsButton(),this.createGetContinueBtn()}createTitle(){const e=this.scene.make.image({key:it.KEY,frame:this.scene.lang.Texture.text_daily_rewards}),t=this.scene.lang.getCurrentLanguage();let s=259,i=56.5;t==="ja"?(s=244.5,i=60):t==="id"&&(s=261,i=56),e.setWorldSize(s,i),this.add(e),Phaser.Display.Align.In.Center(e,this,0,-200),this.title=e}createItemIcon(){const e=this.scene.make.image({key:Le.KEY,frame:Le.FRAME.HINT_ITEM});return e.setWorldSize(55,55),e}createWhiteGlow(){return this.whiteGlow=this.scene.make.image({key:it.KEY,frame:it.FRAME.ART_WHITE_GLOW}),this.whiteGlow.setWorldSize(127,127),this.whiteGlow}createQuantityText(){return this.scene.make.bitmapText({text:"x1",font:B.YELLOW_AND_STROKE.KEY,size:this.scene.fontSize(35),origin:{x:.5,y:.5}})}createViewAdsButton(){const e=new sn(this.scene,Or,Lp.BUTTON_GREEN,180,46.5);e.setPosition(0,120),e.setMode("item"),e.onClick=this.handleShowRewardedVideoAd,Phaser.Display.Align.In.Center(e,this,0,110),this.add(e),this.viewAdButton=e}createGetContinueBtn(){const e=this.scene.lang.getCurrentLanguage();let t=152,s=18.5;switch(e){case"ru":t=224,s=18;break;case"ja":t=123,s=21;break;case"zh":t=88,s=18;break;case"fr":t=235,s=18;break;case"de":t=224,s=18;break;case"id":t=205,s=19;break;case"it":t=184,s=18;break;case"pt":t=189,s=18;break;case"es":t=164,s=18;break;case"tr":t=146,s=18;break}const i=new ro(this.scene,{key:Or,frame:this.scene.lang.Texture.get_continue,width:t,height:s,paddingZone:40});Phaser.Display.Align.In.Center(i,this,0,180),i.onClick=this.handleOnGetContinueBtnClick,this.add(i),this.getContinueBtn=i}createContentsGroup(){this.popupContents=this.scene.make.group({}),this.popupContents.addMultiple([this.title,this.whiteGlow,...this.itemIcon,...this.quantityText,this.iconTwinkle,this.viewAdButton,this.getContinueBtn])}createGiftIcon(){this.giftIconWhite=this.scene.make.image({key:it.KEY,frame:it.FRAME.LOGO_GIFT_WHITE,visible:!1}),this.giftIconWhite.setWorldSize(150,150),this.giftIconWhite.setDepth(K.PRIORITY),this.add(this.giftIconWhite),this.giftIcon=this.scene.make.image({key:it.KEY,frame:it.FRAME.LOGO_GIFT,visible:!1}),this.giftIcon.setInteractive({useHandCursor:!0}),this.giftIcon.setWorldSize(150,150),this.giftIcon.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handleTheGiftClick),this.setTheGiftClickable(!1),this.add(this.giftIcon)}createHand(){this.hand=new Za(this.scene),this.add(this.hand)}handleOnGetContinueBtnClick=()=>{this.updateItemUI(),this.scene.audio.playSound(X.DAILY_REWARD),this.runCloseAnimation()};handleTheGiftClick=()=>{this.setTheGiftClickable(!1),this.logButtonEvent("OpenGift"),this.hand.kill(),this.giftIconWhite.revive(),this.scene.tweens.killTweensOf(this.giftIcon),Phaser.Display.Align.In.Center(this.giftIconWhite,this.giftIcon),this.scene.audio.playSound(X.GIFT_CHARGE),this.runShakeTheGift(),this.runOpenTheGift()};runShakeTheGift(){this.giftShakeAnimation||(this.giftShakeAnimation=new to({targets:[this.giftIcon,this.giftIconWhite],duration:22})),this.giftShakeAnimation.play()}runOpenTheGift(){if(!this.giftOpenAnimation){const e=1/this.scene.world.getPixelRatio();this.giftOpenAnimation=new rs({targets:[this.giftIcon,this.giftIconWhite],duration:1500,props:{alpha:0,scale:e},onUpdate:()=>{this.giftIconWhite.setAlpha(1)},onComplete:()=>{this.giftShakeAnimation.stop(),this.giftIcon.kill(),this.giftIconWhite.kill(),this.sparksExplosive.explode(100,this.giftIcon.x,this.giftIcon.y,230),this.scene.audio.playSound(X.GIFT_EXPLODE),this.scene.time.delayedCall(500,this.runCloseAnimation),this.rewardItem({updateUI:!0,isFree:!1})}})}this.giftOpenAnimation.play()}rewardItem(e){const t=this.data.list,s=Object.keys(t),{updateUI:i,isFree:o}=e;s.forEach(r=>{F.emit(G.RECEIVE_ITEM,{itemId:r,rewardCount:t[r],updateUI:i,isFree:o})})}updateItemUI(){const e=this.getData("itemId");F.emit(G.RECEIVE_ITEM,{itemId:e,rewardCount:0})}runCloseAnimation=()=>{this.runExitsAnimation(0,200)};handleShowRewardedVideoAd=async()=>{let e=null;try{const{audio:t,game:s}=this.scene;this.viewAdButton.setDisabled(!0),e=s.globalScene.time.delayedCall(200,()=>{s.globalScene.screen.open(z.NOTIFY_SCREEN,{message:this.scene.lang.Text.loading_ads,duration:0,loading:!0})}),t.pauseMusic(),t.pauseAllSounds(),t.muteAll(),await this.scene.ads.showRewardedVideoAsync(),e?.remove(),s.globalScene.screen.close(z.NOTIFY_SCREEN),this.starTwinkleUp.stop(),this.scene.audio.playSound(X.DAILY_REWARD),this.popupContents.setActive(!1),this.popupContents.setVisible(!1),this.runTheGiftEntrancesAnimation(0,1500)}catch(t){if(e?.remove(),t instanceof Object&&GameCore.Utils.Object.hasOwn(t,"code")&&t.code==="USER_INPUT"){this.showNotifySkipAds();return}this.showNotifyNoAds()}finally{this.scene.ads.preloadRewardedVideoAsync().catch(t=>{}),this.scene.audio.unmuteAll(),this.scene.audio.playMusic(),this.scene.audio.resumeAllSounds(),this.viewAdButton.setDisabled(!1)}};runTheGiftEntrancesAnimation(e,t){this.giftIcon.revive(),this.giftIcon.setAlpha(1),Phaser.Display.Align.In.TopRight(this.giftIcon,this.zone),this.giftEntrancesAnimation?.remove();const{x:s,y:i}=this.giftIcon,o=(this.itemIcon[0].x+this.itemIcon[this.itemIcon.length-1].x)/2,r=this.itemIcon[0].y,l={x:s,y:i},n={x:o,y:r},c=1/this.scene.world.getPixelRatio();this.giftEntrancesAnimation=new qa({targets:[this.giftIcon],delay:e,duration:t,curve:[[l.x,l.y],[l.x-80,l.y+80],[n.x,n.y]],props:{scale:{start:c*.5,to:c},angle:{start:20,to:0}},onCurveUpdate:u=>{const d=u.x+Phaser.Math.RND.between(-40,40),f=u.y+Phaser.Math.RND.between(-40,40);this.cometTwinkle.explode(1,d,f)},onComplete:()=>{this.scene.audio.playSound(X.GIFT_REVEAL);const u=1.5;this.starTwinkleUp.setScale(u);const{x:m,y:d,width:f,height:h}=this.giftIcon;this.starTwinkleUp.run(1,m,d,f/u,h/u),this.moveTo(this.starTwinkleUp,this.length-1),this.runTheGiftAttentionAnimation()}}),this.giftEntrancesAnimation.play()}runTheGiftAttentionAnimation(){this.giftAttentionAnimation||(this.giftAttentionAnimation=new cs({targets:[this.giftIcon],props:{scale:"+=0.05"}})),this.hand.revive(),this.hand.playAnimation(),Phaser.Display.Align.In.Center(this.hand,this.giftIcon,20,20),this.setTheGiftClickable(!0),this.giftAttentionAnimation.play()}setTheGiftClickable(e){e?this.giftIcon.setInteractive():this.giftIcon.disableInteractive()}showNotifySkipAds=()=>{const{globalScene:e}=this.scene.game;e.screen.open(z.NOTIFY_SCREEN,{message:`${this.scene.lang.Text.no_rewards_1}
${this.scene.lang.Text.no_rewards_2}`,duration:1500,loading:!1})};showNotifyNoAds=e=>{if(e&&e.name!==z.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.open(z.NOTIFY_SCREEN,{message:this.scene.lang.Text.no_ads,duration:1200,loading:!1})};logButtonEvent(e){const t=this.getScreenName();this.scene.analytics.event(Y.BUTTON_CLICK,{button_name:e,screen_name:t})}runOpenAnimation(){this.revive(),this.hand.kill(),this.popupContents.setActive(!0),this.popupContents.setVisible(!0),this.starTwinkleUp.stop();const e=this.quantityText.length===3?200:100;this.iconTwinkle.run(1,(this.itemIcon[0].x+this.itemIcon[this.itemIcon.length-1].x)/2,this.itemIcon[0].y,e,50),this.runBackgroundEntrancesAnimation(0,200),this.runPopupContentEntrancesAnimation(100,400)}runBackgroundEntrancesAnimation(e,t){this.backgroundFadeInAnimation||(this.backgroundFadeInAnimation=new oo({targets:[this.background],delay:e,duration:t,props:{alpha:{start:0,to:.8}}})),this.backgroundFadeInAnimation.play()}runPopupContentEntrancesAnimation(e,t){this.viewAdButton.setDisabled(!0),this.viewAdButton.setAlpha(0),this.contentShowUpAnimation?.remove(),this.contentShowUpAnimation=new Ys({targets:this.popupContents.getChildren(),duration:t,delay:this.scene.tweens.stagger(100,{start:e}),props:{scale:{getStart:s=>s.scale-.3,getEnd:s=>s.scale},alpha:{start:0,from:0,to:1}},onComplete:()=>{this.viewAdButton.setDisabled(!1),this.runViewAdButtonAnimation()}}),this.contentShowUpAnimation.play()}runViewAdButtonAnimation(){this.viewAdButtonAnimation?.stop(),this.viewAdButtonAnimation=this.scene.add.tween({targets:[this.viewAdButton],yoyo:!0,repeat:-1,duration:600,repeatDelay:50,ease:Us,easeParams:[0,.9],props:{scale:{from:1,to:.98}}})}runExitsAnimation(e,t){this.popupFadeOutAnimation||(this.popupFadeOutAnimation=new Dt({targets:this.getAll(),delay:e,duration:t,props:{alpha:{start:.8,to:0}},onComplete:()=>{this.glowSpinTween?.stop(),this.iconTwinkle?.stop(),this.iconTwinkle.stop(),this.scene.screen.close(this.name)}})),this.popupFadeOutAnimation.play()}}const{KEY:Np}=A.DEFAULT;class Si extends we{options;icon;constructor(e,t){super(e,Np,t.frameOn),this.options=t}processCallback(e){const{enable:t}=this.options;this.updateStatus(!t),e(!t)}updateStatus(e){this.options.enable=e;const t=this.getFrameByStatus();this.button.setFrame(t)}getFrameByStatus=()=>{const{enable:e,frameOn:t,frameOff:s}=this.options;return e?t:s};logButtonEvent(){const e=this.getParentName(),t=this.name,s=!this.options.enable;this.scene.analytics.event(Y.BUTTON_CLICK,{button_name:t,screen_name:e,enable:s})}}class Gp extends Error{constructor(e,t){super(e,t),this.name="LoadResourceFail",this.message=e||"Load resource fail",this.payload=t}}const Fp=()=>()=>{const{player:a,analytics:e,globalScene:t}=window.game;try{a.getPlayer().isUserNew&&e.event(Y.NEW_USER),t.events.emit(Ni.SWITCH,re.GAME_SCENE)}catch(s){t.events.emit(Ni.SWITCH,re.GAME_SCENE),console.warn(s)}},rn=a=>({type:ka,payload:{sceneKey:a}}),Bp=a=>a.scene.currentSceneKey,Up=de([Bp],a=>a),{KEY:Hp,FRAME:Yp}=A.DEFAULT;class Kp extends Phaser.GameObjects.Container{fps=0;fpsString="FPS: %1";fpsText;background;zone;lastUpdate;constructor(e){super(e,0,0),this.createFps(),this.createInputZone(),this.setDepth(K.DEBUG),this.scene.add.existing(this),this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.update)}update=e=>{if(e-this.lastUpdate<800)return;this.lastUpdate=e;const t=Math.floor(this.scene.game.loop.actualFps);this.setFps(t)};setFps(e){this.fps=e;const t=Phaser.Utils.String.Format(this.fpsString,[e]);this.fpsText.setText(t)}createFps(){this.background=this.scene.make.image({key:Hp,frame:Yp.BLANK}),this.background.setName("BG"),this.background.setTint(13801480),this.background.setWorldSize(50,20),this.fpsText=this.scene.make.bitmapText({size:this.scene.fontSize(12),text:this.fpsString,font:B.PRIMARY.KEY,origin:{x:.5,y:.5}}),this.fpsText.setName("FPS Meter"),Phaser.Display.Align.In.Center(this.fpsText,this.background,0,-3),this.add([this.background,this.fpsText]),this.setFps(0)}createInputZone(){const{width:e,height:t}=this.background;this.zone=this.scene.make.zone({width:e,height:t}),this.add(this.zone),this.zone.setInteractive({useHandCursor:!0}),this.zone.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handleShowFps)}handleShowFps=()=>{const{fpsText:e,background:t}=this;e.setVisible(!e.visible),t.setVisible(!t.visible)}}class Wp extends Phaser.GameObjects.Container{performance;memory=0;maxMemoryLimit;maxPercentThreshold;normalColor=3459162;warningColor=16768343;alarmColor=15812200;memoryString="Memory: %1MB / %2MB";memoryText;lastUpdate;constructor(e){if(super(e,0,0),this.performance=window.performance,this.createMemory(),this.setDepth(K.DEBUG),this.scene.add.existing(this),!this.isSupport()){this.memoryText.setText("Memory: not supported!");return}const{jsHeapSizeLimit:t}=this.performance.memory;this.maxPercentThreshold=90,this.setMaxMemory(t/1048576),this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.update)}update=e=>{if(e-this.lastUpdate<1e3)return;this.lastUpdate=e;const{usedJSHeapSize:t}=this.performance.memory,s=this.maxMemoryLimit*1048576,i=Math.round(t/1048576);this.setMemory(i),this.memoryText.setTint(this.normalColor),t>this.maxPercentThreshold/100*s&&this.memoryText.setTint(this.warningColor),t>s&&this.memoryText.setTint(this.alarmColor)};isSupport(){return this.performance&&!!this.performance?.memory}setMaxMemory(e){this.maxMemoryLimit=Math.round(e)}setMemory(e){this.memory=e;const t=Phaser.Utils.String.Format(this.memoryString,[e,this.maxMemoryLimit]);this.memoryText.setText(t)}createMemory(){this.memoryText=this.scene.make.bitmapText({size:this.scene.fontSize(14),text:this.memoryString,font:B.PRIMARY.KEY,depth:2e3}),this.memoryText.setName("Memory Meter"),this.add(this.memoryText),this.setMemory(0)}}const zp={targets:[],duration:600,ease:Phaser.Math.Easing.Linear,props:{angle:{from:0,to:360}}};class jp extends Se{constructor(e){super(zp,e)}}const{KEY:Vp,FRAME:$p}=A.DEFAULT;class Xp extends Phaser.GameObjects.Image{anim;constructor(e){super(e,0,0,Vp,$p.PRELOADER),this.runAnimation(),this.setWorldSize(65,65),this.scene.add.existing(this)}runAnimation(){this.anim?.remove(),this.anim=new jp({targets:[this],repeat:-1,duration:1200}),this.anim.play()}setVisible(e){return super.setVisible(e),e?this.runAnimation():this.anim.stop(),this}}const Rr={no_rewards_2_ru:`Ð’Ð« ÐÐ• ÐŸÐžÐ¡ÐœÐžÐ¢Ð Ð•Ð›Ð˜
 Ð Ð•ÐšÐ›ÐÐœÐ£ Ð”Ðž ÐšÐžÐÐ¦Ð!`,no_ads_ru:`ÐÐ•Ð¢ ÐžÐ‘ÐªÐ¯Ð’Ð›Ð•ÐÐ˜Ð™ Ð”Ð›Ð¯
 ÐžÐ¢ÐžÐ‘Ð ÐÐ–Ð•ÐÐ˜Ð¯!`};class qp extends GameCore.Screen{loadingIcon;messageText;openAnimation;closeTimerEvent;constructor(e,t,s,i){super(e,t,s,i),this.addLoadingIcon(),this.addMessageText(),this.setDepth(ht.PRIORITY),this.background.setAlpha(.8)}open(e){super.open(e);const[t="",s=0,i=!1]=this.getData(["message","duration","loading"]);this.setMessage(t),this.showLoading(i),this.closeTimerEvent?.remove(),s>0&&(this.closeTimerEvent=this.scene.time.addEvent({delay:s,callback:()=>{this.visible&&this.scene.screen.close(this.name)}})),this.runOpenAnimation()}addLoadingIcon(){this.loadingIcon=new Xp(this.scene),this.add(this.loadingIcon),Phaser.Display.Align.In.Center(this.loadingIcon,this.zone)}addMessageText(){const t=this.scene.lang.getCurrentLanguage()==="ru"?22:26;this.messageText=this.scene.make.bitmapText({size:this.scene.fontSize(t),font:B.PRIMARY.KEY,origin:{x:.5,y:.5}}),this.messageText.setTint(13007418),this.messageText.setCenterAlign(),this.add(this.messageText)}setMessage(e){let t=e;!this.scene.world.isLandscape()&&this.scene.lang.getCurrentLanguage()==="ru"&&(e.includes(this.scene.lang.Text.no_rewards_1)&&(t=`${this.scene.lang.Text.no_rewards_1}
${Rr.no_rewards_2_ru}`),e.includes(this.scene.lang.Text.no_ads)&&(t=Rr.no_ads_ru)),this.messageText.setText(t)}showLoading(e){this.loadingIcon.setVisible(e);const t=e===!1?20:60;Phaser.Display.Align.In.Center(this.messageText,this.zone,0,t)}runOpenAnimation(){this.openAnimation?.stop(),this.openAnimation?.remove(),this.openAnimation=new Ys({targets:[this.messageText,this.loadingIcon],props:{scale:{getStart:e=>e.scale-.3,getEnd:e=>e.scale}}}),this.openAnimation.play()}logPageviewOnOpen(){}logPageviewOnClose(){}}const{KEY:Zp,FRAME:Jp}=A.DEFAULT;class ao extends za{mask;fadeInAnim;fadeOutAnim;fpsMeter;memoryMeter;init(){this.listenScenesEvents(),this.game.globalScene=this}setup(){this.scaleGame(),this.addMask(),this.addNotifyScreen(),this.addFPS(),this.addMemory()}addNotifyScreen(){const e=this.screen.add(z.NOTIFY_SCREEN,qp);Phaser.Display.Align.In.Center(e,this.gameZone)}addMask(){this.mask=this.make.image({key:Zp,frame:Jp.BLANK});const{width:e,height:t}=this.gameZone;this.mask.setAlpha(0),this.mask.setOrigin(0,0),this.mask.setTint(0),this.mask.setWorldSize(e,t)}addFPS(){const{ShowFPSInGame:e}=GameCore.Configs.Statistics;e&&(this.fpsMeter=new Kp(this),Phaser.Display.Align.In.TopLeft(this.fpsMeter,this.gameZone,-25,-10))}addMemory(){const{ShowMemoryInGame:e}=GameCore.Configs.Statistics;e&&(this.memoryMeter=new Wp(this),Phaser.Display.Align.In.TopLeft(this.memoryMeter,this.gameZone,-45,-3))}updateSceneState(){this.setGlobalSceneOnTop()}setGlobalSceneOnTop(){this.scene.bringToTop(this)}runMaskFadeInAnimation(){this.mask&&GameCore.Configs.EnableEffectSceneTransition&&(this.fadeInAnim?.remove(),this.fadeOutAnim?.remove(),this.fadeInAnim=new oo({targets:[this.mask],duration:400,ease:Phaser.Math.Easing.Cubic.In,props:{alpha:{start:0,from:0,to:.6}}}),this.mask.setAlpha(0),this.fadeInAnim.play())}runMaskFadeOutAnimation(){this.mask&&GameCore.Configs.EnableEffectSceneTransition&&(this.fadeInAnim?.remove(),this.fadeOutAnim?.remove(),this.fadeOutAnim=new Dt({targets:[this.mask],duration:400,ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:{start:.6,from:.6,to:0}}}),this.mask.setAlpha(1),this.fadeOutAnim.play())}listenScenesEvents(){this.scene.manager.getScenes(!1).forEach(t=>{t.events.on(Phaser.Scenes.Events.CREATE,this.emitGameEventStartScene),t.events.on(Phaser.Scenes.Events.SLEEP,this.emitGameEventSleepScene),t.events.on(Phaser.Scenes.Events.WAKE,this.emitGameEventWakeScene),t.events.on(Phaser.Scenes.Events.PAUSE,this.emitGameEventPauseScene),t.events.on(Phaser.Scenes.Events.RESUME,this.emitGameEventResumeScene),t.events.on(Phaser.Scenes.Events.SHUTDOWN,this.emitGameEventShutdownScene)}),this.events.on(Ni.SWITCH,this.switchScene)}getActiveScene(){return this.scene.manager.getScenes(!0)[0]}getCurrentScene(){return this.currentScene}get currentScene(){const e=this.storage.getState(),t=Up(e);let s;return t?s=this.scene.manager.getScene(t):s=this.getActiveScene(),s.scene}switchScene=e=>{this.currentScene.switch(e)};updateActiveSceneKey(e){e!==re.GLOBAL_SCENE&&this.storage.dispatch(rn(e))}emitGameEventStartScene=e=>{const{key:t}=e.scene;console.info("%cScene start","color: #D27D2D",t),this.updateSceneState(),this.runMaskFadeOutAnimation(),this.updateActiveSceneKey(t),this.game.events.emit(Phaser.Scenes.Events.START,t),Ui("scene",`Start scene: ${t}`)};emitGameEventSleepScene=e=>{const{key:t}=e.scene.scene;console.info("%cScene sleep","color: #D27D2D",t),t!==re.LOAD_SCENE&&(this.runMaskFadeInAnimation(),this.game.events.emit(Phaser.Scenes.Events.SLEEP,t))};emitGameEventWakeScene=e=>{const{key:t}=e.scene.scene;console.info("%cScene wake","color: #D27D2D",t),t!==re.LOAD_SCENE&&(this.updateSceneState(),this.runMaskFadeOutAnimation(),this.updateActiveSceneKey(t),this.game.events.emit(Phaser.Scenes.Events.WAKE,t))};emitGameEventPauseScene=e=>{const{key:t}=e.scene.scene;console.info("%cScene pause","color: #D27D2D",t),this.game.events.emit(Phaser.Scenes.Events.PAUSE,t)};emitGameEventResumeScene=e=>{const{key:t}=e.scene;console.info("%cScene resume","color: #D27D2D",t),this.game.events.emit(Phaser.Scenes.Events.RESUME,t)};emitGameEventShutdownScene=e=>{const{key:t}=e.scene.scene;console.info("%cScene shutdown","color: #D27D2D",t),this.game.events.emit(Phaser.Scenes.Events.SHUTDOWN,t)};logEventOpen(){}logPageviewOnOpen(){}}const{NEW_EFFECTS:B0}=Je,{Gameplay:Qp,Rollbar:eb}=GameCore.Configs;class an extends Phaser.Scene{isMusicLoaded=!1;isLazyLoadRequesting=!1;loadingPercent=0;preload(){window.getLoadingPerc=()=>this.loadingPercent,this.facebook.progressLoading.loadingProgressFbLoadScene(),this.analytics.event(Y.SCREEN_OPEN,{screen_name:"LoadScene"});const e=t=>{this.loadingPercent=Math.max(this.loadingPercent,t*100),t===1&&this.load.off("progress",e),this.facebook.progressLoading.onProgress(t)};this.load.on("progress",e),this.load.on(Phaser.Loader.Events.FILE_LOAD_ERROR,t=>{const s=new Gp("Load resources at LoadScene failed.");jl(s,{file:t?.url})}),this.loadFonts(),this.load.image(Ze.AVATAR_DEFAULT.KEY,Ze.AVATAR_DEFAULT.FILE),this.world.isLandscape()?this.load.image(Ze.BACKGROUND.KEY,Ze.BACKGROUND.FILE_LANDSCAPE):this.load.image(Ze.BACKGROUND.KEY,Ze.BACKGROUND.FILE),this.load.atlas({key:A.DEFAULT.KEY,textureURL:A.DEFAULT.TEXTURE,atlasURL:A.DEFAULT.JSON}),this.load.multiatlas({key:A.GAMEPLAY.KEY,path:A.GAMEPLAY.PATH,atlasURL:A.GAMEPLAY.JSON}),this.load.multiatlas({key:A.EFFECTS.KEY,path:A.EFFECTS.PATH,atlasURL:A.EFFECTS.JSON}),this.load.atlas({key:A.TUTORIAL.KEY,textureURL:A.TUTORIAL.TEXTURE,atlasURL:A.TUTORIAL.JSON}),this.player.updateData().then(this.handleUpdateNotificationData).catch(t=>{this.rollbar.sendException(t)}),this.load.atlas({key:A.TILES.CANDY.KEY,textureURL:A.TILES.CANDY.TEXTURE,atlasURL:A.TILES.CANDY.JSON}),this.loadCurrentLevelTiles()}create(){this.audio.initSound(),this.analytics.event(Y.LOAD_COMPLETE),this.facebook.on("startgame",this.handleFBInstantGameStarted),this.facebook.gameStarted(),this.setupGlobalScene(),this.lazyLoadResource(),this.logGlanceNewUserToRollbar(),this.setAdsAvailabilityThenStartGame()}setAdsAvailabilityThenStartGame(){if(!GameCore.Configs.Ads.Enabled){this.startGame();return}const e=setInterval(()=>{if(!window.isAdSDKLoaded)return;clearInterval(e),GameCore.Configs.Ads.Enabled=!1;const t=!window.GlanceGamingAdInterface,s=!window.GlanceGamingAdInterface.isLibraryInitialized||!window.GlanceGamingAdInterface.isLibraryInitialized(),i=!window.GlanceGamingAdInterface.showStickyBannerAd,o=!window.GlanceGamingAdInterface.loadRewardedAd;if(t||s||i||o){this.startGame();return}GameCore.Configs.Ads.Enabled=!0,this.startGame()},50)}handleFBInstantGameStarted=()=>{window.__fbGameReady=!0,this.player.updateData().catch(e=>{this.rollbar.sendException(e)}),this.player.requestConnectedPlayers()};handleUpdateNotificationData=()=>{const e=this.player.getPlayer(),{playerId:t,name:s,locale:i,data:o}=e,r=this.player.getCustomData("levelProgress");this.notification.updateData({playerId:t,name:s,photo:"",locale:i,friendIds:this.player.getConnectedPlayerIds(10,0),gameSettings:this.player.getPlayerSettings(),gameProgress:{currentLevel:r},gameStatistics:{highScore:o.score}}),this.notification.sendRequest()};setupGlobalScene(){const e=this.scene.get(re.GLOBAL_SCENE);e instanceof ao&&e.setup()}startGame=()=>{this.showStickyBannerAd(),this.preloadAds(),this.analytics.event(Y.APP_READY),this.storage.dispatch(rn(re.LOAD_SCENE)),this.storage.dispatch(Fp())};showStickyBannerAd=()=>{this.ads.showBannerAdAsync().catch(e=>{console.warn(e)})};preloadAds=()=>{this.ads.preloadRewardedVideoAsync().catch(e=>{}),this.ads.preloadInterstitialAdAsync().catch(e=>{})};lazyLoadResource(){setTimeout(()=>{this.scene.wake(),this.loadSounds(),this.load.once(Phaser.Loader.Events.COMPLETE,()=>{this.scene.sleep()})},1500)}loadSounds(){const{player:e}=this.game,t=!!e.getPlayerSetting("music");this.loadSoundFX(),t&&this.loadMusic()}loadSoundFX(){Object.values(X).forEach(t=>{this.load.audio(t,Je.NEW_EFFECTS[t])})}loadMusic(){if(this.isMusicLoaded)return;this.isMusicLoaded=!0;const{FILE_KEY_COMPLETE:e}=Phaser.Loader.Events;this.scene.isSleeping()&&this.scene.wake(),this.load.once(`${e}audio-${Je.BACKGROUND.KEY}`,this.handleLoadMusicCompleted),this.load.once(Phaser.Loader.Events.COMPLETE,()=>{this.scene.sleep()}),this.load.audio(Je.BACKGROUND.KEY,Je.BACKGROUND.FILE),this.load.start()}handleLoadMusicCompleted=()=>{this.audio.initMusic(Je.BACKGROUND.KEY),this.audio.playMusic()};loadCurrentLevelTiles(){let e=this.player.getCustomData("levelProgress");GameCore.Utils.Valid.isNumber(e)||(e=1);let t=Qp.Themes;e<Rt.length&&(t=Rt[e].theme);for(const s of t)switch(s){case"cake":{console.log("Loaded cake"),this.load.atlas({key:A.TILES.CAKE.KEY,textureURL:A.TILES.CAKE.TEXTURE,atlasURL:A.TILES.CAKE.JSON});break}case"bird":{console.log("Loaded bird"),this.load.atlas({key:A.TILES.BIRD.KEY,textureURL:A.TILES.BIRD.TEXTURE,atlasURL:A.TILES.BIRD.JSON});break}case"fruit":{console.log("Loaded fruit"),this.load.atlas({key:A.TILES.FRUIT.KEY,textureURL:A.TILES.FRUIT.TEXTURE,atlasURL:A.TILES.FRUIT.JSON});break}case"flower":{console.log("Loaded flower"),this.load.atlas({key:A.TILES.FLOWER.KEY,textureURL:A.TILES.FLOWER.TEXTURE,atlasURL:A.TILES.FLOWER.JSON});break}case"umbrella":{console.log("Loaded umbrella"),this.load.atlas({key:A.TILES.UMBRELLA.KEY,textureURL:A.TILES.UMBRELLA.TEXTURE,atlasURL:A.TILES.UMBRELLA.JSON});break}case"food":{console.log("Loaded food"),this.load.atlas({key:A.TILES.FOOD.KEY,textureURL:A.TILES.FOOD.TEXTURE,atlasURL:A.TILES.FOOD.JSON});break}}}lazyLoadResources(){this.isLazyLoadRequesting=!1,this.lazyLoadTiles(),this.isLazyLoadRequesting&&(this.scene.wake(),this.load.once(Phaser.Loader.Events.COMPLETE,()=>{this.scene.sleep()}),this.load.start())}lazyLoadTiles(){this.textures.exists(A.TILES.CAKE.KEY)||(this.isLazyLoadRequesting=!0,console.log("Lazy load cake"),this.load.atlas({key:A.TILES.CAKE.KEY,textureURL:A.TILES.CAKE.TEXTURE,atlasURL:A.TILES.CAKE.JSON})),this.textures.exists(A.TILES.BIRD.KEY)||(this.isLazyLoadRequesting=!0,console.log("Lazy load bird"),this.load.atlas({key:A.TILES.BIRD.KEY,textureURL:A.TILES.BIRD.TEXTURE,atlasURL:A.TILES.BIRD.JSON})),this.textures.exists(A.TILES.FRUIT.KEY)||(this.isLazyLoadRequesting=!0,console.log("Lazy load fruit"),this.load.atlas({key:A.TILES.FRUIT.KEY,textureURL:A.TILES.FRUIT.TEXTURE,atlasURL:A.TILES.FRUIT.JSON})),this.textures.exists(A.TILES.FLOWER.KEY)||(this.isLazyLoadRequesting=!0,console.log("Lazy load flower"),this.load.atlas({key:A.TILES.FLOWER.KEY,textureURL:A.TILES.FLOWER.TEXTURE,atlasURL:A.TILES.FLOWER.JSON})),this.textures.exists(A.TILES.FOOD.KEY)||(this.isLazyLoadRequesting=!0,console.log("Lazy load food"),this.load.atlas({key:A.TILES.FOOD.KEY,textureURL:A.TILES.FOOD.TEXTURE,atlasURL:A.TILES.FOOD.JSON})),this.textures.exists(A.TILES.UMBRELLA.KEY)||(this.isLazyLoadRequesting=!0,console.log("Lazy load umbrella"),this.load.atlas({key:A.TILES.UMBRELLA.KEY,textureURL:A.TILES.UMBRELLA.TEXTURE,atlasURL:A.TILES.UMBRELLA.JSON}))}logGlanceNewUserToRollbar(){if(!eb.Enable)return;this.player.getPlayer().isUserNew&&"__GLANCE_ENV"in window&&this.rollbar.sendException(new Error("Glance new user"))}loadFonts(){switch(this.lang.getCurrentLanguage()){case"ja":B.PRIMARY={KEY:"Noto-Black-Normal",TEXTURE:"./assets/fonts/Noto-Black-Normal.png",DATA:"./assets/fonts/Noto-Black-Normal.xml"},B.SHADOW={KEY:"Noto-Black-Shadow",TEXTURE:"./assets/fonts/Noto-Black-Shadow.png",DATA:"./assets/fonts/Noto-Black-Shadow.xml"},B.RED_STROKE={KEY:"Noto-Black-Red-Stroke",TEXTURE:"./assets/fonts/Noto-Black-Red-Stroke.png",DATA:"./assets/fonts/Noto-Black-Red-Stroke.xml"},B.WHITE_AND_STROKE={KEY:"Noto-Black-White-Stroke",TEXTURE:"./assets/fonts/Noto-Black-White-Stroke.png",DATA:"./assets/fonts/Noto-Black-White-Stroke.xml"},B.YELLOW_AND_STROKE={KEY:"Noto-Black-Yellow-Stroke",TEXTURE:"./assets/fonts/Noto-Black-Yellow-Stroke.png",DATA:"./assets/fonts/Noto-Black-Yellow-Stroke.xml"},B.FONT_FAMILY="NotoSansJP-Black";break;case"zh":B.PRIMARY={KEY:"Noto-Black-Normal",TEXTURE:"./assets/fonts/NotoZh-Black-Normal.png",DATA:"./assets/fonts/NotoZh-Black-Normal.xml"},B.SHADOW={KEY:"Noto-Black-Shadow",TEXTURE:"./assets/fonts/NotoZh-Black-Shadow.png",DATA:"./assets/fonts/NotoZh-Black-Shadow.xml"},B.RED_STROKE={KEY:"Noto-Black-Red-Stroke",TEXTURE:"./assets/fonts/NotoZh-Black-Red-Stroke.png",DATA:"./assets/fonts/NotoZh-Black-Red-Stroke.xml"},B.WHITE_AND_STROKE={KEY:"Noto-Black-White-Stroke",TEXTURE:"./assets/fonts/NotoZh-Black-White-Stroke.png",DATA:"./assets/fonts/NotoZh-Black-White-Stroke.xml"},B.YELLOW_AND_STROKE={KEY:"Noto-Black-Yellow-Stroke",TEXTURE:"./assets/fonts/NotoZh-Black-Yellow-Stroke.png",DATA:"./assets/fonts/NotoZh-Black-Yellow-Stroke.xml"},B.FONT_FAMILY="NotoSansSC-Black";break;default:{const t=this.lang.getCurrentLanguage(),i=["en","id","ru"].indexOf(t)!==-1?"":`-${t}`;B.PRIMARY={KEY:"Roboto-Black-Normal",TEXTURE:`./assets/fonts/Roboto-Black-Normal${i}.png`,DATA:`./assets/fonts/Roboto-Black-Normal${i}.xml`},B.SHADOW={KEY:"Roboto-Black-Shadow",TEXTURE:`./assets/fonts/Roboto-Black-Shadow${i}.png`,DATA:`./assets/fonts/Roboto-Black-Shadow${i}.xml`},B.RED_STROKE={KEY:"Roboto-Black-Red-Stroke",TEXTURE:`./assets/fonts/Roboto-Black-Red-Stroke${i}.png`,DATA:`./assets/fonts/Roboto-Black-Red-Stroke${i}.xml`},B.WHITE_AND_STROKE={KEY:"Roboto-Black-White-Stroke",TEXTURE:`./assets/fonts/Roboto-Black-White-Stroke${i}.png`,DATA:`./assets/fonts/Roboto-Black-White-Stroke${i}.xml`},B.YELLOW_AND_STROKE={KEY:"Roboto-Black-Yellow-Stroke",TEXTURE:`./assets/fonts/Roboto-Black-Yellow-Stroke${i}.png`,DATA:`./assets/fonts/Roboto-Black-Yellow-Stroke${i}.xml`},B.FONT_FAMILY="Roboto-Black";break}}this.load.bitmapFont(B.SHADOW.KEY,B.SHADOW.TEXTURE,B.SHADOW.DATA),this.load.bitmapFont(B.PRIMARY.KEY,B.PRIMARY.TEXTURE,B.PRIMARY.DATA),this.load.bitmapFont(B.RED_STROKE.KEY,B.RED_STROKE.TEXTURE,B.RED_STROKE.DATA),this.load.bitmapFont(B.WHITE_AND_STROKE.KEY,B.WHITE_AND_STROKE.TEXTURE,B.WHITE_AND_STROKE.DATA),this.load.bitmapFont(B.YELLOW_AND_STROKE.KEY,B.YELLOW_AND_STROKE.TEXTURE,B.YELLOW_AND_STROKE.DATA)}}const{KEY:De,FRAME:fe}=A.DEFAULT;class tb extends GameCore.Screen{popup;title;buttonClose;contents;settingMusic;settingSound;settingVibrate;popupShowUpAnimation;popupFadeOutAnimation;contentShowUpAnimation;constructor(e,t,s,i){super(e,t,s,i),this.createPopup(),this.createTitle(),this.createButtons(),this.addItem(),this.arrangeItems(),this.createInput(),this.setDepth(ht.POPUP),this.background.setAlpha(.8)}open(){super.open();const{player:e}=this.scene,t=e.getPlayerSettings(),{music:s,sound:i,vibrate:o}=t;this.settingMusic.updateStatus(s),this.settingSound.updateStatus(i),this.runOpenAnimation()}createInput(){this.buttonClose.setButtonHitSoundEffect(X.CLOSE_POPUP_CLICK),this.buttonClose.onClick=this.handleClose,this.settingMusic.onClick=this.handleMusicSetting,this.settingSound.onClick=this.handleSoundSetting,this.settingVibrate.kill()}handleClose=()=>{this.runCloseAnimation()};handleRestart=()=>{this.runCloseAnimation(),F.emit(G.REPLAY)};handleMusicSetting=e=>{if(this.scene.player.setSetting("music",e),e){const t=this.scene.game.scene.getScene(re.LOAD_SCENE);t instanceof an&&t.loadMusic(),this.scene.audio.playMusic()}else this.scene.audio.pauseMusic()};handleSoundSetting=e=>{this.scene.player.setSetting("sound",e)};handleVibrateSetting=e=>{this.scene.player.setSetting("vibrate",e),_a(e)};createPopup(){this.popup=this.scene.add.container(0,0),this.popup.setSize(292,374);const e=this.scene.make.image({key:De,frame:fe.POPUP});e.setWorldSize(292,374),this.popup.add(e),this.add(this.popup),Phaser.Display.Align.In.Center(this.popup,this.zone)}createTitle(){this.title=this.scene.make.image({key:De,frame:this.scene.lang.Texture.text_pause});const e=this.scene.lang.getCurrentLanguage();let t=94,s=25;switch(e){case"ru":t=101,s=26;break;case"ja":t=112,s=28;break;case"it":t=97,s=25;break;case"tr":t=153,s=25;break;case"fr":t=93,s=25;break;case"de":t=93,s=25;break;case"id":t=77,s=25;break;case"pt":t=116,s=25;break;case"es":t=116,s=25;break;case"zh":t=56,s=29;break}this.title.setWorldSize(t,s),Phaser.Display.Align.In.TopCenter(this.title,this.popup,2,-23),this.popup.add(this.title)}createButtons(){const{music:e,sound:t,vibrate:s}=this.scene.player.getPlayerSettings();this.createCloseButton(),this.createContinueButton(),this.createRestartButton(),this.createMusicButton(e),this.createSoundButton(t),this.createVibrateButton(s)}createCloseButton(){this.buttonClose=new we(this.scene,De,fe.BUTTON_RED_CIRCLE,36,36);const e=this.scene.make.image({key:De,frame:fe.ICON_X});e.setWorldSize(15,17),this.buttonClose.add(e),this.buttonClose.setName("Close"),this.popup.add(this.buttonClose),Phaser.Display.Align.In.TopRight(this.buttonClose,this.popup,-15,-15)}createContinueButton(){const e=new we(this.scene,De,fe.BUTTON_BLUE_ROUNDED_RECT,184,51),t=this.scene.lang.getCurrentLanguage();let s=-3;switch(t){case"ja":s=-5;break}const i=this.scene.make.bitmapText({text:this.scene.lang.Text.continue,font:B.SHADOW.KEY,size:this.scene.fontSize(15),origin:{x:.5,y:.6}}),o=this.scene.make.image({key:De,frame:fe.ICON_CONTINUE});o.setWorldSize(21,26);const r=this.scene.make.image({key:De,frame:fe.BUTTON_BG});r.setWorldSize(184,51),e.add(o),e.add(i),Phaser.Display.Align.In.Center(i,e,16,s),Phaser.Display.Align.In.LeftCenter(o,i,30,3),e.setName("Continue"),this.popup.add(r),this.popup.add(e),Phaser.Display.Align.In.Center(e,this.popup,0,30),Phaser.Display.Align.In.Center(r,this.popup,0,29.5),e.onClick=this.handleClose}createRestartButton(){const e=new we(this.scene,De,fe.BUTTON_GREEN_ROUNDED_RECT,184,51),t=this.scene.lang.getCurrentLanguage();let s=-3,i=35;switch(t){case"ja":s=-5;break;case"ru":i=30;break}const o=this.scene.make.bitmapText({text:this.scene.lang.Text.restart,font:B.SHADOW.KEY,size:this.scene.fontSize(15),origin:{x:.5,y:.6}}),r=this.scene.make.image({key:De,frame:fe.ICON_RESTART});r.setWorldSize(25,27);const l=this.scene.make.image({key:De,frame:fe.BUTTON_BG});l.setWorldSize(184,51),e.add(r),e.add(o),Phaser.Display.Align.In.Center(o,e,16,s),Phaser.Display.Align.In.LeftCenter(r,o,i,3),e.setName("Restart"),this.popup.add(l),this.popup.add(e);const n=20;Phaser.Display.Align.In.Center(e,this.popup,0,90+n),Phaser.Display.Align.In.Center(l,this.popup,0,89.5+n),e.onClick=this.handleRestart}createMusicButton(e){this.settingMusic=new Si(this.scene,{enable:e,frameOn:fe.ICON_MUSIC_ON,frameOff:fe.ICON_MUSIC_OFF}),this.settingMusic.setName("Music"),this.settingMusic.button.setWorldSize(48,48)}createSoundButton(e){this.settingSound=new Si(this.scene,{enable:e,frameOn:fe.ICON_SOUND_ON,frameOff:fe.ICON_SOUND_OFF}),this.settingSound.setName("Sound"),this.settingSound.button.setWorldSize(48,48)}createVibrateButton(e){this.settingVibrate=new Si(this.scene,{enable:e,frameOn:fe.ICON_VIBRATE_ON,frameOff:fe.ICON_VIBRATE_OFF}),this.settingVibrate.setName("Vibrate"),this.settingVibrate.button.setWorldSize(48,48)}addItem(){this.contents=this.scene.add.group(),this.contents.addMultiple([this.settingMusic,this.settingSound,this.settingVibrate]),this.popup.add(this.contents.getChildren())}arrangeItems(){const t=-this.popup.height*.16;this.settingSound.setPosition(-70,t),this.settingMusic.setPosition(70,t)}runOpenAnimation(){this.popupShowUpAnimation?.tween?.isPlaying()||(this.runPopupEntrancesAnimation(0,400),this.runPopupContentEntrancesAnimation(200,300))}runCloseAnimation(){this.popupFadeOutAnimation?.tween?.isPlaying()||this.runPopupExitsAnimation(0,200)}runPopupEntrancesAnimation(e,t){if(!this.popupShowUpAnimation){const{y:s,scale:i}=this.popup;this.popupShowUpAnimation=new Hs({targets:[this.popup],delay:e,duration:t,props:{y:{from:350,to:s},alpha:{start:1,from:1,to:1},scale:{start:0,from:0,to:i}}})}this.popupShowUpAnimation.play()}runPopupContentEntrancesAnimation(e,t){const s=this.contents.getChildren(),i=s.map(o=>o.alpha);s.forEach(o=>{o.setAlpha(0)}),this.contentShowUpAnimation?.remove(),this.contentShowUpAnimation=new Ys({targets:s,duration:t,delay:e,props:{alpha:{getStart:()=>0,getEnd:(o,r,l,n)=>i[n]}}}),this.contentShowUpAnimation.play()}runPopupExitsAnimation(e,t){this.popupFadeOutAnimation||(this.popupFadeOutAnimation=new Dt({targets:[this.popup],delay:e,duration:t,props:{y:250,scale:0},onComplete:()=>{this.popup.setY(0),this.scene.screen.close(this.name)}})),this.popupFadeOutAnimation.play()}}const{DEFAULT:xs,EFFECTS:Ar}=A;class sb extends Phaser.GameObjects.Container{whiteGlow;bomb;explosion;bombShakeTween;glowSpinTween;constructor(e){super(e),this.createWhiteGlow(),this.createBomb(),this.createExplosion()}createWhiteGlow(){const e=this.scene.add.image(0,0,xs.KEY,xs.FRAME.ART_WHITE_GLOW);e.setWorldSize(110,110),this.add(e),e.setPosition(0,0),this.whiteGlow=e}createBomb(){const e=this.scene.add.image(0,0,xs.KEY,xs.FRAME.ICON_BOMB);e.setWorldSize(57,63),this.add(e),e.setPosition(0,0),this.bomb=e}createExplosion(){const e=this.scene.add.sprite(0,0,Ar.KEY,Ar.FRAME.EFFECT_BOMB_EXPLOSION+"0");this.add(e),e.setPosition(0,0),e.setWorldSize(45,45),e.kill(),this.explosion=e}runBombShakeAnimation(){this.bombShakeTween?.stop(),this.bomb.setPosition(0,0),this.bomb.revive(),this.whiteGlow.revive(),this.explosion.kill(),this.bombShakeTween=this.scene.tweens.add({targets:this.bomb,x:-2,delay:800,duration:50,ease:"Sine.easeInOut",yoyo:!0,repeat:6,onComplete:this.runBombExplodeAnimation})}runGlowSpinAnimation(){this.glowSpinTween?.stop(),this.whiteGlow.revive(),this.whiteGlow.angle=0,this.glowSpinTween=this.scene.tweens.add({targets:this.whiteGlow,angle:360,duration:5e3,repeat:-1})}runBombExplodeAnimation=()=>{this.bomb.kill(),this.whiteGlow.kill(),this.explosion.revive(),this.explosion.anims.play($.BOMB_EXPLOSION.KEY,!0),this.explosion.on(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{this.explosion.kill(),this.runBombShakeAnimation(),this.runGlowSpinAnimation()})};play(){this.runGlowSpinAnimation(),this.runBombShakeAnimation()}stop(){this.bombShakeTween?.stop(),this.glowSpinTween?.stop(),this.bomb.kill(),this.explosion.kill(),this.whiteGlow.kill()}revive(){super.revive(),this.whiteGlow.angle=0,this.whiteGlow.revive(),this.bomb.setPosition(0,0),this.bomb.revive()}}const{KEY:Ir,FRAME:_r}=A.DEFAULT;class ib extends Phaser.GameObjects.Container{clock;clockSpinTween;whiteGlow;glowSpinTween;constructor(e){super(e),this.createWhiteGlow(),this.createClock()}createClock(){const e=this.scene.add.image(0,0,Ir,_r.ICON_TIMEOUT_CLOCK);e.setWorldSize(50,68.7),this.add(e),e.setPosition(0,0),this.clock=e}createWhiteGlow(){const e=this.scene.add.image(0,0,Ir,_r.ART_WHITE_GLOW);e.setWorldSize(110,110),this.add(e),e.setPosition(0,0),this.whiteGlow=e}runClockSpinAnimation(){this.clockSpinTween?.stop(),this.clock.angle=0,this.clock.setFlipY(!1),this.clock.revive(),this.clockSpinTween=this.scene.tweens.add({targets:this.clock,angle:this.clock.angle+180,duration:800,delay:800,ease:Phaser.Math.Easing.Sine.InOut,repeat:-1,repeatDelay:800,onStart:()=>{this.clock.setFlipY(!1)}})}runGlowSpinAnimation(){this.glowSpinTween?.stop(),this.whiteGlow.angle=0,this.whiteGlow.revive(),this.glowSpinTween=this.scene.tweens.add({targets:this.whiteGlow,angle:360,duration:5e3,repeat:-1})}play(){this.runClockSpinAnimation(),this.runGlowSpinAnimation()}stop(){this.clockSpinTween?.stop(),this.glowSpinTween?.stop()}revive(){super.revive(),this.clock.angle=0,this.clock.setFlipY(!1),this.clock.revive(),this.whiteGlow.angle=0,this.whiteGlow.revive()}}const{KEY:Ue,FRAME:$e}=A.DEFAULT;class ob extends GameCore.Screen{level;reason;isUseRescue;popup;levelText;reasonText;reasonIcon;resultBombAnimation;resultTimeOutAnimation;rescueButton;replayButton;rescueButtonAnimation;adsTimer;popupShowUpAnimation;popupFadeOutAnimation;constructor(e,t,s,i){super(e,t,s,i),this.setDepth(ht.POPUP),this.background.setAlpha(.8),this.createPopup()}open=e=>{super.open(),this.isUseRescue=!1,this.level=e.level,this.reason=e.reason,this.updateLevel(),this.updateReason(),this.runOpenAnimation(),this.runContinueButtonAnimation()};close(){this.resultBombAnimation.stop(),this.resultBombAnimation.kill(),this.resultTimeOutAnimation.stop(),this.resultTimeOutAnimation.kill(),super.close()}handleShowRewardedVideoAd=async()=>{const{globalScene:e,audio:t}=this.scene.game;let s=null;try{if(this.isUseRescue)return;this.isUseRescue=!0,s=e.time.delayedCall(200,()=>{e.screen.open(z.NOTIFY_SCREEN,{message:this.scene.lang.Text.loading_ads,duration:0,loading:!0})}),t.pauseMusic(),t.pauseAllSounds(),t.muteAll(),await this.scene.ads.showRewardedVideoAsync(),e.screen.events.off(GameCore.Screens.Events.CLOSE),this.runCloseAnimation(),this.popupFadeOutAnimation.tween?.once(Phaser.Tweens.Events.TWEEN_COMPLETE,()=>{F.emit(G.RESCUE,{reason:this.reason})}),this.scene.audio.playSound(X.DAILY_REWARD),s?.remove(),e.screen.close(z.NOTIFY_SCREEN)}catch(i){if(s?.remove(),i instanceof Object&&GameCore.Utils.Object.hasOwn(i,"code")&&i.code==="USER_INPUT"){this.showNotifySkipAds();return}this.showNotifyNoAds()}finally{this.adsTimer?.destroy(),this.scene.audio.unmuteAll(),this.scene.audio.playMusic(),this.scene.audio.resumeAllSounds(),this.scene.ads.preloadRewardedVideoAsync().catch(i=>{})}};showNotifyNoAds=e=>{if(e&&e.name!==z.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.events.off(GameCore.Screens.Events.CLOSE),t.screen.events.on(GameCore.Screens.Events.CLOSE,this.replayGame),t.screen.open(z.NOTIFY_SCREEN,{message:this.scene.lang.Text.no_ads,duration:2e3,loading:!1})};showNotifySkipAds=()=>{const{globalScene:e}=this.scene.game;e.screen.events.off(GameCore.Screens.Events.CLOSE),e.screen.events.on(GameCore.Screens.Events.CLOSE,this.replayGame),e.screen.open(z.NOTIFY_SCREEN,{message:`${this.scene.lang.Text.no_rewards_1}
${this.scene.lang.Text.no_rewards_2}`,duration:3e3,loading:!1})};replayGame=e=>{if(e&&e.name!==z.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.events.off(GameCore.Screens.Events.CLOSE,this.replayGame),this.runCloseAnimation(),F.emit(G.GAME_OVER_REPLAY)};handleReplay=()=>{this.runCloseAnimation(),F.emit(G.GAME_OVER_REPLAY)};createContent(){this.createTitle(),this.createLevelText(),this.createReasonText(),this.createReasonIcon(),this.createResultBombAnimation(),this.createResultTimeOutAnimation(),this.createRescueButton(),this.createReplayText()}createPopup(){this.popup=this.scene.add.container(),this.popup.setSize(292,374);const e=this.scene.make.image({key:Ue,frame:$e.POPUP});e.setWorldSize(292,374);const t=this.scene.make.image({key:Ue,frame:$e.ART_BG_LIGHT});t.setWorldSize(244,244),this.popup.add([t,e]),this.add(this.popup),this.createContent(),Phaser.Display.Align.In.Center(this.popup,this.zone,0,-50)}createTitle(){const e=this.scene.make.image({key:Ue,frame:this.scene.lang.Texture.text_failed}),t=this.scene.lang.getCurrentLanguage();let s=118;switch(t){case"ru":s=181;break;case"ja":s=57;break;case"pt":s=127;break;case"es":s=118;break;case"de":s=222;break;case"it":s=232;break;case"fr":s=107*(30/36);break;case"zh":s=62*(30/33);break;case"tr":s=173*(30/37);break}e.setWorldSize(s,30),this.popup.add(e),Phaser.Display.Align.In.TopCenter(e,this.popup,0,-20)}createLevelText(){this.levelText=this.scene.make.bitmapText({size:this.scene.fontSize(20),font:B.YELLOW_AND_STROKE.KEY,origin:{x:.5,y:.5},text:"Level X"}),this.popup.add(this.levelText),Phaser.Display.Align.In.TopCenter(this.levelText,this.popup,0,-75)}createReasonText(){this.reasonText=this.scene.make.bitmapText({size:this.scene.fontSize(16),font:B.YELLOW_AND_STROKE.KEY,origin:{x:.5,y:.5}}),this.reasonText.kill(),this.popup.add(this.reasonText);const e=this.scene.lang.getCurrentLanguage();let t=0;switch(e){case"ja":t=5}Phaser.Display.Align.In.Center(this.reasonText,this.popup,t,60)}createReasonIcon(){this.reasonIcon=this.scene.make.image({key:Ue,frame:$e.ICON_LOSE}),this.reasonIcon.setWorldSize(60,60),this.reasonIcon.kill(),this.popup.add(this.reasonIcon),Phaser.Display.Align.In.Center(this.reasonIcon,this.popup,-60,60)}createResultBombAnimation(){this.resultBombAnimation=new sb(this.scene),this.popup.add(this.resultBombAnimation),Phaser.Display.Align.In.Center(this.resultBombAnimation,this.popup,0,-15),this.resultBombAnimation.kill()}createResultTimeOutAnimation(){this.resultTimeOutAnimation=new ib(this.scene),this.popup.add(this.resultTimeOutAnimation),Phaser.Display.Align.In.Center(this.resultTimeOutAnimation,this.popup,0,-15),this.resultTimeOutAnimation.kill()}updateLevel(){this.levelText.setText(`${this.scene.lang.Text.level} ${this.level}`)}updateReason(){const e=this.scene.fontSize(16);switch(this.reasonText.revive(),this.reason){case"bombExplosive":this.resultBombAnimation.revive(),this.resultBombAnimation.play(),this.reasonText.setText(this.scene.lang.Text.reason_bomb);break;case"timeUp":this.resultTimeOutAnimation.revive(),this.resultTimeOutAnimation.play(),this.reasonIcon.setFrame($e.ICON_CLOCK),this.reasonText.setText(this.scene.lang.Text.reason_time_out);break;default:this.reasonText.setText("You have failed the level!")}this.reasonText.setFontSize(e)}createRescueButton(){this.rescueButton=new we(this.scene,Ue,$e.BUTTON_GREEN_ROUNDED_RECT,184,51),this.rescueButton.setName("Continue");const e=this.scene.make.image({key:Ue,frame:$e.BUTTON_BG});e.setWorldSize(184,51),this.rescueButton.onClick=this.handleShowRewardedVideoAd;const t=this.scene.add.image(0,0,Ue,$e.ICON_ADS);t.setWorldSize(27,29),Phaser.Display.Align.In.Center(t,this.rescueButton,-65),this.rescueButton.add(t);const s=this.scene.lang.getCurrentLanguage();let i=20;switch(s){case"ru":i=17;break;case"de":i=16;break}const o=this.scene.make.bitmapText({size:this.scene.fontSize(i),text:this.scene.lang.Text.resurrection,font:B.WHITE_AND_STROKE.KEY,origin:{x:.38,y:.75}});this.rescueButton.add(o),this.popup.add(e),this.popup.add(this.rescueButton),Phaser.Display.Align.In.BottomCenter(this.rescueButton,this.popup,0,-40),Phaser.Display.Align.In.Center(e,this.rescueButton)}createReplayText(){this.replayButton=new ro(this.scene,{key:Ue,frame:$e.NO_THANK_TEXT,paddingZone:0}),this.replayButton.button.kill(),this.replayButton.setName("Replay");const e=this.scene.make.image({key:Ue,frame:this.scene.lang.Texture.text_replay}),t=this.scene.lang.getCurrentLanguage();let s=59,i=19;switch(t){case"ru":s=75,i=18;break;case"ja":s=57,i=19;break;case"id":s=149,i=19;break;case"de":s=143,i=18;break;case"tr":s=143,i=18;break;case"it":s=137,i=18;break;case"pt":s=100,i=22;break;case"es":s=107,i=22;break;case"zh":s=70,i=18;break;case"fr":s=81,i=18;break}e.setWorldSize(s,i),this.replayButton.add(e),this.popup.add(this.replayButton),this.replayButton.onClick=this.handleReplay,this.replayButton.setPosition(0,this.popup.height/2+15)}runContinueButtonAnimation(){this.rescueButtonAnimation||(this.rescueButtonAnimation=new cs({targets:[this.rescueButton],props:{scale:"-=0.02"}})),this.rescueButtonAnimation?.play()}runOpenAnimation(){this.popupShowUpAnimation?.tween?.isPlaying()||this.runPopupEntrancesAnimation(0,400)}runCloseAnimation(){this.popupFadeOutAnimation?.tween?.isPlaying()||this.runPopupExitsAnimation(0,200)}runPopupEntrancesAnimation(e,t){if(!this.popupShowUpAnimation){const{y:s,scale:i}=this.popup;this.popupShowUpAnimation=new Hs({targets:[this.popup],delay:e,duration:t,props:{y:{from:s+400,to:s},alpha:{start:1,from:1,to:1},scale:{start:0,from:0,to:i}},onComplete:()=>{this.updateLevel(),this.updateReason()}})}this.popupShowUpAnimation.play()}runPopupExitsAnimation(e,t){this.popupFadeOutAnimation||(this.popupFadeOutAnimation=new Dt({targets:[this.popup],delay:e,duration:t,props:{y:250,scale:0},onComplete:()=>{this.popup.setY(0),this.scene.screen.close(this.name)}})),this.popupFadeOutAnimation.play()}}const rb={targets:[],repeat:3,duration:33,ease:Phaser.Math.Easing.Linear,props:{y:5},yoyo:!0};class ab extends Se{targetY;shakeAmount;constructor(e){super(rb,e),this.config?.props&&(this.targetY=this.config.targets[0].y,this.shakeAmount=this.config.props.y-this.targetY,this.tween?.on(Phaser.Tweens.Events.TWEEN_REPEAT,this.handleSwitchPosition))}handleSwitchPosition=()=>{this.shakeAmount*=-.7,this.tween?.updateTo("y",this.targetY+this.shakeAmount)}}const{KEY:nb,TEXTURE:lb,FRAME_RATE:cb,END:ub,PREFIX:db,ZERO_PAD:mb}=$.RIBBON_A;class hb extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:cb,frames:e.generateFrameNames(lb,{prefix:db,end:ub,zeroPad:mb,start:1}),yoyo:!0,showOnStart:!0};super(e,nb,t)}}const{KEY:fb,TEXTURE:pb,FRAME_RATE:bb,END:gb,PREFIX:vb,ZERO_PAD:wb}=$.RIBBON_B;class Tb extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:bb,frames:e.generateFrameNames(pb,{prefix:vb,end:gb,zeroPad:wb,start:1}),yoyo:!0,showOnStart:!0};super(e,fb,t)}}const{KEY:yb,TEXTURE:Eb,FRAME_RATE:Pb,END:Sb,PREFIX:kb,ZERO_PAD:xb}=$.RIBBON_C;class Ob extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:Pb,frames:e.generateFrameNames(Eb,{prefix:kb,end:Sb,zeroPad:xb,start:1}),yoyo:!0,showOnStart:!0};super(e,yb,t)}}const{KEY:Rb,TEXTURE:Ab,FRAME_RATE:Ib,END:_b,PREFIX:Mb,ZERO_PAD:Cb}=$.RIBBON_D;class Lb extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:Ib,frames:e.generateFrameNames(Ab,{prefix:Mb,end:_b,zeroPad:Cb,start:1}),yoyo:!0,showOnStart:!0};super(e,Rb,t)}}const{KEY:Db,TEXTURE:Nb,FRAME_RATE:Gb,END:Fb,PREFIX:Bb,ZERO_PAD:Ub}=$.CONFETTI_STAR_X;class Hb extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:Gb,frames:e.generateFrameNames(Nb,{prefix:Bb,end:Fb,zeroPad:Ub,start:1}),yoyo:!0,showOnStart:!0};super(e,Db,t)}}const{KEY:Yb,TEXTURE:Kb,FRAME_RATE:Wb,END:zb,PREFIX:jb,ZERO_PAD:Vb}=$.CONFETTI_STAR_Y;class $b extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:Wb,frames:e.generateFrameNames(Kb,{prefix:jb,end:zb,zeroPad:Vb,start:1}),showOnStart:!0};super(e,Yb,t)}}class Xb extends Phaser.GameObjects.Particles.Particle{scene;ribbon;graphics;colorUse;lastChange;currentFrame;isYoyo;isGravityChanged;points;constructor(e){super(e),this.scene=e.manager.scene,this.points=new Array(10).fill(null).map(()=>({x:0,y:0})),this.isYoyo=!1,this.isGravityChanged=!1,this.lastChange=0,this.currentFrame=-1,this.createGraphics(),this.randomRibbonUsedWhenFall()}randomRibbonUsedWhenFall(){switch(Phaser.Math.Between(0,3)){case 0:this.ribbon=this.scene.anims.get($.RIBBON_A.KEY);break;case 1:this.ribbon=this.scene.anims.get($.RIBBON_B.KEY);break;case 2:this.ribbon=this.scene.anims.get($.RIBBON_C.KEY);break;case 3:this.ribbon=this.scene.anims.get($.RIBBON_D.KEY);break;default:this.ribbon=this.scene.anims.get($.RIBBON_A.KEY);break}}setRibbonPosition(e,t){this.points.map(s=>{s.x=e,s.y=t})}createGraphics(){const e=[8443204,2928867,12013036,16376097,15285798];this.colorUse=e[Phaser.Math.Between(0,e.length-1)],this.graphics=this.scene.add.graphics({lineStyle:{width:3,color:this.colorUse}});const{x:t,y:s,depth:i}=this.emitter.manager;this.graphics.setDepth(i),this.graphics.setPosition(t,s)}update(e,t,s){const i=super.update(e,t,s);return this.updateFrames(e),this.updatePoints(),this.updateGraphics(),this.updateGravity(),this.updateVelocity(),this.updateColor(),i}updateFrames(e){this.lastChange+=e,this.lastChange>=this.ribbon.msPerFrame&&(this.isYoyo?this.currentFrame--:this.currentFrame++,this.currentFrame<0&&(this.isYoyo=!1,this.currentFrame=1),this.currentFrame>=this.ribbon.frames.length&&(this.isYoyo=!0,this.currentFrame-=1),this.frame=this.ribbon.frames[this.currentFrame].frame,this.lastChange-=this.ribbon.msPerFrame)}updatePoints(){this.graphics.visible&&(this.points.shift(),this.points.push({x:this.x,y:this.y}))}updateGraphics(){if(this.graphics.visible){for(const e of this.points)if(e.y===0)return;this.graphics.clear(),this.graphics.strokePoints(this.points)}}updateGravity(){this.lifeCurrent>this.life-2e3||this.isGravityChanged||(this.isGravityChanged=!0,this.graphics.destroy(),this.emitter.setVisible(!0),this.emitter.setGravityY(45))}updateVelocity(){if(this.graphics.visible){if(this.lifeCurrent>this.life-1800){this.velocityX+=Phaser.Math.Between(-12,12);return}this.velocityX>0?this.velocityX+=Phaser.Math.Between(-10,6):this.velocityX+=Phaser.Math.Between(-6,10)}}updateColor(){this.graphics.visible||(this.tint=this.colorUse)}}class qb extends Phaser.GameObjects.Particles.Particle{scene;isYoyo;isGravityChanged;lastChange;currentFrame;star;starX;starY;constructor(e){super(e),this.isYoyo=!1,this.isGravityChanged=!1,this.lastChange=0,this.currentFrame=-1,this.scene=e.manager.scene,this.starX=this.scene.anims.get($.CONFETTI_STAR_X.KEY),this.starY=this.scene.anims.get($.CONFETTI_STAR_Y.KEY),this.star=this.starX}update(e,t,s){const i=super.update(e,t,s);return this.updateGravity(),this.updateVelocity(),this.updateFrameRate(),this.updateFrames(e),i}updateGravity(){this.lifeCurrent>this.life-2e3||this.isGravityChanged||(this.isGravityChanged=!0,this.emitter.setGravityY(15),this.emitter.setSpeedX(0))}updateVelocity(){this.lifeCurrent>this.life-2e3||(this.velocityX>0?this.velocityX+=Phaser.Math.Between(-6,3):this.velocityX+=Phaser.Math.Between(-3,6))}updateFrames(e){if(this.lastChange+=e,this.lastChange>=this.star.msPerFrame){const t=Phaser.Math.RND.between(0,1);this.star=t>0?this.starX:this.starY,this.isYoyo?this.currentFrame--:this.currentFrame++,this.currentFrame<0&&(this.isYoyo=!1,this.currentFrame=1,this.emitter.setAlpha(1)),this.currentFrame>=this.star.frames.length&&(this.isYoyo=!0,this.currentFrame-=1,this.emitter.setAlpha(.8)),this.frame=this.star.frames[this.currentFrame].frame,this.lastChange-=this.star.msPerFrame}}updateFrameRate(){this.lifeCurrent<this.life-2e3?this.star.msPerFrame=150:this.star.msPerFrame=Phaser.Math.RND.between(300,600)}}const{KEY:Zb,FRAME:ki}=A.EFFECTS;class Jb extends Phaser.GameObjects.Particles.ParticleEmitterManager{emitterConfetti;emitterRibbons;ribbonConfig;confettiConfig;width;height;isDesktop;constructor(e,t){super(e,Zb,ki.BLANK),this.isDesktop=t,this.emitterRibbons=[],this.emitterConfetti=[],this.createConfigs(),this.createAnimations(),this.scene.add.existing(this)}createConfigs(){const e=[7915829,3184860,10768119,16766779,11337728],t=1/this.scene.world.getPixelRatio();this.ribbonConfig={on:!1,visible:!1,timeScale:1.5,frame:ki.BLANK,particleBringToTop:!0,speedY:{min:this.isDesktop?-250:-480,max:this.isDesktop?-330:-560},gravityY:this.isDesktop?160:290,lifespan:{min:4e3,max:6e3},rotate:{start:0,end:360*5,random:!0},scale:{min:t*.6,max:t},particleClass:Xb},this.confettiConfig={on:!1,delay:200,timeScale:2,tint:e,particleBringToTop:!0,frame:ki.PREFIX_ANIMATION_RIBBON_CONFETTI_A+"1",speedY:{min:this.isDesktop?-250:-460,max:this.isDesktop?-330:-580},gravityY:this.isDesktop?160:280,lifespan:{min:5e3,max:8e3},rotate:{start:0,end:360*3},scale:{min:t*.6,max:t},particleClass:qb}}createAnimations(){if(!this.scene.anims.get($.CONFETTI_STAR_X.KEY)){const e=new Hb(this.scene.anims);this.scene.anims.add($.CONFETTI_STAR_X.KEY,e)}if(!this.scene.anims.get($.CONFETTI_STAR_Y.KEY)){const e=new $b(this.scene.anims);this.scene.anims.add($.CONFETTI_STAR_Y.KEY,e)}if(!this.scene.anims.get($.RIBBON_A.KEY)){const e=new hb(this.scene.anims);this.scene.anims.add($.RIBBON_A.KEY,e)}if(!this.scene.anims.get($.RIBBON_B.KEY)){const e=new Tb(this.scene.anims);this.scene.anims.add($.RIBBON_B.KEY,e)}if(!this.scene.anims.get($.RIBBON_C.KEY)){const e=new Ob(this.scene.anims);this.scene.anims.add($.RIBBON_C.KEY,e)}if(!this.scene.anims.get($.RIBBON_D.KEY)){const e=new Lb(this.scene.anims);this.scene.anims.add($.RIBBON_D.KEY,e)}}run(e,t,s,i){this.setPosition(e,t),this.width=s,this.height=i,this.createEmitters(),this.emitterConfetti.forEach(o=>{o.emitParticle(this.isDesktop?40:25)}),this.emitterRibbons.forEach(o=>{o.emitParticle(this.isDesktop?35:20)})}stop(){this.emitterConfetti.forEach(e=>{e.killAll()}),this.emitterRibbons.forEach(e=>{e.killAll()}),this.kill()}createEmitters(){this.emitterRibbons=[],this.emitterConfetti=[],this.createConfettiLeftEmitter(),this.createConfettiRightEmitter(),this.createRibbonLeftEmitter(),this.createRibbonRightEmitter()}createConfettiLeftEmitter(){const e={...this.confettiConfig,speedX:{min:5,max:90}},t=this.createEmitter(e);this.emitterConfetti.push(t)}createConfettiRightEmitter(){const{width:e}=this,t={...this.confettiConfig,x:e,speedX:{min:-5,max:-90}},s=this.createEmitter(t);this.emitterConfetti.push(s)}createRibbonLeftEmitter(){const e={...this.ribbonConfig,speedX:{min:20,max:80},emitCallback:s=>{s.setRibbonPosition(0,0)}},t=this.createEmitter(e);this.emitterRibbons.push(t)}createRibbonRightEmitter(){const{width:e}=this,t={...this.ribbonConfig,x:e,speedX:{min:-20,max:-80},emitCallback:i=>{i.setRibbonPosition(e,0)}},s=this.createEmitter(t);this.emitterRibbons.push(s)}killAllParticles(){this.emitterConfetti.forEach(e=>{e.forEachAlive(t=>{t.lifeCurrent=0},this)}),this.emitterRibbons.forEach(e=>{e.forEachAlive(t=>{t.lifeCurrent=0},this)})}}const{KEY:Qb,FRAME:e0}=A.EFFECTS;class t0 extends Phaser.GameObjects.Particles.ParticleEmitterManager{emitter;emitZone;constructor(e,t){super(e,Qb),this.createEmitZone(),this.setDepth(K.ON_TOP),this.createExplodeAnimation(t),this.scene.add.existing(this)}createEmitZone(){this.emitZone=new Phaser.Geom.Circle(0,0,25)}createExplodeAnimation(e){const t=1/this.scene.world.getPixelRatio();let s={frame:[e0.ANIMATION_STAR_X+"1"],scale:{start:t*1.5,end:t*5,random:!0},lifespan:{min:600,max:900},alpha:{start:.5,end:1},speed:{min:50,max:60},rotate:{start:0,end:360},tint:[16777215,16776960,16750848],emitZone:{source:this.emitZone,type:"random"},particleClass:s0,on:!1};e&&(s=ve(s,e)),this.emitter=this.createEmitter(s)}explode(e=8,t,s){this.emitter.explode(e,t,s)}}class s0 extends Phaser.GameObjects.Particles.Particle{constructor(e){super(e);const t=Math.random()*.18+.01;this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:t},scaleY:{min:1,max:1}}}fire(e,t){super.fire(e,t);const{x:s,y:i}=this.emitter;e||(e=s.defaultValue),t||(t=i.defaultValue);const o=Phaser.Math.Distance.Between(0,0,this.velocityX,this.velocityY),r=Math.atan2(this.y-t,this.x-e);this.velocityX=o*Math.cos(r),this.velocityY=o*Math.sin(r),this.rotation=r}update(e,t,s){return super.update(e,t,s)}}const{KEY:Ae,FRAME:He}=A.DEFAULT,{KEY:i0,FRAME:Vt}=A.GAMEPLAY;class o0 extends Phaser.GameObjects.Container{popup;ribbon;listStars=[];starOriginScale=0;levelStars=0;levelText;levelTextOriginScale=0;buttonBg;buttonBgOriginScale=0;button;getContinueBtn;itemContainer;itemIcon;currentItem;bigGlow;bigGlowTween;glow;glowTween;onGreenClick;onGetContinueClick;confettiAnimation;continueButtonAnimation;starsParticle=[];listTimeLine=[];twinkle;constructor(e){super(e),this.createPopup(),this.updateSize(),this.createRibbon(),this.createBigGlow(),this.createStarsParticle(),this.createStars(),this.createLevelText(),this.createWinText(),this.createButton(),this.createItem(),this.createGetContinueBtn(),this.createEffect(),this.setDepth(K.POPUP),this.scene.add.existing(this)}createEffect(){const e=this.scene.world.isLandscape();this.confettiAnimation=new Jb(this.scene,e),this.confettiAnimation.setDepth(K.ON_TOP);const t=1/this.scene.world.getPixelRatio();this.twinkle=new on(this.scene,{scale:{min:.05*t,max:t*.4}}),this.twinkle.setDepth(K.EFFECT),this.add(this.twinkle)}createStarsParticle(){for(let e=0;e<3;e++){const t=new t0(this.scene);this.starsParticle.push(t)}this.add(this.starsParticle)}createPopup(){const e=this.scene.make.image({key:Ae,frame:He.POPUP});e.setWorldSize(291.5,374),this.add(e),this.popup=e}createRibbon(){const e=this.scene.make.image({key:Ae,frame:He.RESULT_RIBBON});e.setWorldSize(365.5,115),e.setPosition(0,-40),this.add(e),this.ribbon=e}createBigGlow(){const e=this.scene.make.image({key:Ae,frame:He.ART_WHITE_GLOW});e.setWorldSize(63.5*3,66.25*3),e.setPosition(0,-70),this.add(e),this.bigGlow=e,e.kill()}createStars(){const e=this.scene.make.image({key:Ae,frame:He.RESULT_STAR});e.setWorldSize(359/4,370/4),e.setPosition(-85,-60),e.setAngle(-12),this.listStars.push(e);const t=this.scene.make.image({key:Ae,frame:He.RESULT_STAR});t.setWorldSize(359/4,370/4),t.setPosition(0,-70),t.setAngle(0),this.listStars.push(t);const s=this.scene.make.image({key:Ae,frame:He.RESULT_STAR});s.setWorldSize(359/4,370/4),s.setPosition(85,-60),s.setAngle(12),this.listStars.push(s),this.add([e,s,t]),this.starOriginScale=e.scaleX}updateSize(){const{displayWidth:e,displayHeight:t}=this.popup;this.setSize(e,t)}createLevelText(){const e=this.scene.make.bitmapText({font:B.YELLOW_AND_STROKE.KEY,text:"Level 1",size:this.scene.fontSize(25),origin:{x:.5,y:.5}});e.setPosition(0,0),this.add(e),this.levelText=e,this.levelTextOriginScale=e.scale}createWinText(){const e=this.scene.make.image({key:Ae,frame:this.scene.lang.Texture.victory}),t=this.scene.lang.getCurrentLanguage();let s=152,i=31;switch(t){case"ru":s=133,i=34;break;case"ja":s=67.5,i=35.5;break;case"id":s=205,i=25;break;case"pt":s=130,i=35;break;case"es":s=152,i=29;break;case"it":s=151,i=29;break;case"fr":s=147,i=29;break;case"tr":s=102,i=28;break;case"de":s=72,i=29;break;case"zh":s=62,i=33;break}e.setPosition(0,-152),e.setWorldSize(s,i),this.add(e)}createButton(){const e=new sn(this.scene,Ae,He.BUTTON_GREEN,180,46.5);e.setPosition(0,120),e.onClick=this.handleOnGreenBtnClick,this.button=e;const t=this.scene.make.image({key:Ae,frame:He.BUTTON_BG});t.setWorldSize(184,50.5),t.setPosition(e.x,e.y),this.buttonBg=t,this.buttonBgOriginScale=t.scale,this.add([t,e])}createItem(){this.itemContainer=this.scene.make.container({}),this.add(this.itemContainer),this.itemContainer.setPosition(0,50);const e=this.scene.make.image({key:Ae,frame:He.ART_WHITE_GLOW});e.setWorldSize(63.5,66.25),e.setPosition(-15,0),this.itemContainer.add(e),this.glow=e;const t=this.scene.make.image({key:i0,frame:Vt.BLANK});t.setPosition(-17,0),t.setWorldSize(25,25),this.itemContainer.add(t),this.itemIcon=t;const s=this.scene.make.bitmapText({font:B.WHITE_AND_STROKE.KEY,text:"+1",size:this.scene.fontSize(22),origin:{x:.5,y:.57}});s.setPosition(17,0),this.itemContainer.add(s)}createGetContinueBtn(){const e=this.scene.lang.getCurrentLanguage();let t=152,s=18.5;switch(e){case"ru":t=224,s=18;break;case"ja":t=123,s=21;break;case"zh":t=88,s=18;break;case"fr":t=235,s=18;break;case"de":t=224,s=18;break;case"id":t=205,s=19;break;case"it":t=184,s=18;break;case"pt":t=189,s=18;break;case"es":t=164,s=18;break;case"tr":t=146,s=18;break}const i=new ro(this.scene,{key:Ae,frame:this.scene.lang.Texture.get_continue,width:t,height:s,paddingZone:40});Phaser.Display.Align.In.BottomCenter(i,this.popup,0,50),i.onClick=this.handleOnGetContinueBtnClick,this.add(i),this.getContinueBtn=i}setLevel(e){this.levelText.setText(`${this.scene.lang.Text.level} ${e}`)}setStars(e){this.levelStars=e}setItem(e){if(this.currentItem!==e){switch(this.currentItem=e,e){case"defuse":this.itemIcon.setFrame(Vt.DEFUSE_ITEM),this.itemIcon.setWorldSize(26,34.5);break;case"hint":this.itemIcon.setFrame(Vt.HINT_ITEM),this.itemIcon.setWorldSize(26.5,36.5);break;case"shuffle":this.itemIcon.setFrame(Vt.ITEM_SHUFFLE),this.itemIcon.setWorldSize(26.5,35.5);break;case"rocket":this.itemIcon.setFrame(Vt.ROCKET_ITEM),this.itemIcon.setWorldSize(23,36);break;case"none":this.itemContainer.kill()}e!=="none"?this.button.setMode("item"):this.button.setMode("continue")}}handleOnGreenBtnClick=()=>{this.onGreenClick&&this.onGreenClick()};handleOnGetContinueBtnClick=()=>{this.onGetContinueClick&&this.onGetContinueClick()};playAnimation(e=0){this.playShowUpAnimation(e)}playShowUpAnimation(e){this.listTimeLine?.forEach(d=>d.stop()),this.listTimeLine=[],this.bigGlow.kill(),this.twinkle.stop();const t=e;this.listStars.forEach((d,f)=>{if(f>=this.levelStars){d.kill();return}this.listStars[f].revive(),this.listStars[f].setScale(0)}),this.listStars[0].setAngle(-10),this.listStars[1].setAngle(0),this.listStars[2].setAngle(10);const s=this.playStarAnimation(this.listStars[0],t,200,400,366,"-=10","+=10"),i=this.playStarAnimation(this.listStars[1],t+166,200,233,566,"+=0","+=0"),o=this.playStarAnimation(this.listStars[2],t+333,200,100,466,"+=10","-=10");this.listTimeLine?.push(s,i,o),this.scaleObject(t,400,this.listStars[0],0,this.starOriginScale*1.75,Phaser.Math.Easing.Sine.In,()=>{this.scene.audio.playSound(X.PROGRESS_STAR)}),this.scaleObject(t+166,366,this.listStars[1],0,this.starOriginScale*1.75,Phaser.Math.Easing.Sine.In),this.scaleObject(t+333,200,this.listStars[2],0,this.starOriginScale*1.75,Phaser.Math.Easing.Sine.In),this.scaleObject(t+400,400,this.listStars[0],this.starOriginScale*1.75,this.starOriginScale-.1,Phaser.Math.Easing.Cubic.In,void 0,()=>{this.starsParticle[0].explode(50,this.listStars[0].x,this.listStars[0].y)}),this.scaleObject(t+533,266,[this.listStars[1],this.listStars[2]],this.starOriginScale*1.75,this.starOriginScale-.1,Phaser.Math.Easing.Cubic.In,void 0,()=>{this.starsParticle[1].explode(50,this.listStars[1].x,this.listStars[1].y),this.starsParticle[2].explode(50,this.listStars[2].x,this.listStars[2].y),new ab({targets:[this.ribbon],props:{y:this.ribbon.y+5}}).play(),this.runEffect3Stars(),this.scene.audio.playSound(X.THREE_STARS)}),this.scaleObject(t+800,166,this.listStars,this.starOriginScale-.1,this.starOriginScale,void 0,void 0,()=>{this.scene.audio.playSound(X.LEVEL_COMPLETE)});const r=800+166,l=[this.levelText],n=[this.levelTextOriginScale];this.levelText.setScale(0);const c=this.scene.tweens.createTimeline();c.add({targets:l,delay:r+t,duration:800,props:{scale:{getStart:()=>0,getEnd:(d,f,h,p)=>n[p],ease:Phaser.Math.Easing.Elastic.Out,easeParams:[.1,.45]}}}),this.currentItem!=="none"?(this.getContinueBtn.revive(),this.itemContainer.revive(),this.itemContainer.setScale(0),this.glowTween?.remove(),this.glowTween=this.scene.add.tween({targets:this.glow,duration:1e6,ease:Phaser.Math.Easing.Linear,repeat:-1,props:{rotation:{start:0,to:180}}}),c.add({targets:this.itemContainer,duration:800,props:{scale:{getStart:()=>0,getEnd:()=>1,ease:Phaser.Math.Easing.Elastic.Out,easeParams:[.1,.45]}},onStart:()=>{this.scene.audio.playSound(X.HINT_ITEM,{volume:1.5})}})):(this.getContinueBtn.kill(),this.itemContainer.kill());const u=[this.button,this.buttonBg],m=[1,this.buttonBgOriginScale];this.button.setScale(0),this.buttonBg.setScale(0),c.add({targets:u,duration:800,props:{scale:{getStart:()=>0,getEnd:(d,f,h,p)=>m[p],ease:Phaser.Math.Easing.Elastic.Out,easeParams:[.1,.45]}},onComplete:()=>{this.runContinueButtonAnimation()}}),this.currentItem!=="none"&&(this.getContinueBtn.setScale(0),c.add({targets:this.getContinueBtn,duration:300,props:{scale:{from:0,to:1}}})),c.play(),this.listTimeLine.push(c)}scaleObject(e,t,s,i,o,r,l,n){this.scene.tweens.add({targets:s,duration:t,delay:e,props:{scale:{from:i,to:o}},ease:r,onStart:l,onComplete:n})}playStarAnimation(e,t,s,i,o,r,l){const n=this.scene.tweens.createTimeline();return n.add({targets:e,delay:t,duration:s,props:{angle:"-=15"}}),n.add({targets:e,duration:i,props:{angle:"+=15"}}),n.add({targets:e,delay:o,duration:1300,props:{angle:r,scale:"+=0.1"}}),n.add({targets:e,duration:2333,props:{angle:l,scale:"-=0.1"},yoyo:!0,repeat:-1,ease:Phaser.Math.Easing.Sine.InOut}),n.play(),n}runEffect3Stars(){const e=this.bigGlow.scale;this.bigGlow.revive(),this.bigGlow.setScale(0),this.scene.tweens.add({targets:this.bigGlow,scale:{from:0,to:e},duration:500,ease:Phaser.Math.Easing.Sine.Out}),this.bigGlowTween=this.scene.tweens.add({targets:this.bigGlow,rotation:{from:0,to:Math.PI*2},duration:5e3,repeat:-1}),this.twinkle.run(2,this.x,this.y,230,80),this.runConfetti()}runConfetti(){const{displayWidth:e,displayHeight:t}=this.scene.gameZone,s=this.scene.world.isLandscape();this.confettiAnimation.run(s?e/4:0,t,s?e/2:e,t*.75)}stopAnimation(){this.bigGlowTween?.remove(),this.glowTween?.remove(),this.twinkle.stop(),this.stopConfetti(),this.continueButtonAnimation?.stop(),this.button.setScale(1),this.listTimeLine.forEach(e=>{e.stop()}),this.listTimeLine=[]}stopConfetti(){this.confettiAnimation.killAllParticles()}runContinueButtonAnimation(){this.button.setScale(1),this.continueButtonAnimation?.stop(),this.continueButtonAnimation=this.scene.add.tween({targets:[this.button],yoyo:!0,repeat:-1,duration:600,repeatDelay:50,ease:Us,easeParams:[0,.9],props:{scale:{from:1,to:.98}}})}}const{Gameplay:r0}=GameCore.Configs,{RewardItemResultPopupRatio:a0}=r0;class n0 extends GameCore.Screen{popup;popupShowUpAnimation;item="none";rewardAmount;adsTimer;constructor(e,t,s,i){super(e,t,s,i),this.createPopup(),this.setDepth(ht.POPUP),this.background.setAlpha(.6)}open=e=>{super.open(e),this.updateData(),this.scene.audio.setMusicVolume(0),this.runOpenAnimation()};updateData(){const e=this.getData("level"),t=this.getData("eatStars");if(this.popup.setLevel(e||1),this.popup.setStars(t||0),Math.random()>a0){this.item="none",this.popup.setItem("none");return}const i=["ItemHint","ItemShuffle"],o=["hint","shuffle"];let r=[.54,1];e>=7&&(i.push("ItemBombDefuse"),o.push("defuse"),r=[.4,.73,1]),e>=11&&(i.push("ItemRocket"),o.push("rocket"),r=[.29,.54,.74,1]);const l=Math.random(),n=r.findIndex(m=>l<=m),c=i[n],u=o[n];this.item=c,this.popup.setItem(u)}createPopup(){this.popup=new o0(this.scene),this.add(this.popup),this.popup.onGreenClick=this.handleGreenBtnClick,this.popup.onGetContinueClick=this.handleContinueLevel,Phaser.Display.Align.In.Center(this.popup,this.zone,0,-50)}handleGreenBtnClick=async()=>{if(this.item==="none")this.handleContinueLevel();else try{await this.handleShowRewardedVideoAd()}catch(e){console.log(e)}};handleContinueLevel=()=>{this.rewardItem(1),this.closeAndNextLevel()};closeAndNextLevel(){this.item!=="none"&&this.scene.game.analytics.event(Y.GET_FREE_ITEM,{item_name:this.item,value:this.rewardAmount}),this.popup.stopAnimation(),this.scene.screen.close(this.name),F.emit(G.NEXT_LEVEL)}handleShowRewardedVideoAd=async()=>{let e=null;try{const{audio:t,game:s}=this.scene;e=s.globalScene.time.delayedCall(200,()=>{s.globalScene.screen.open(z.NOTIFY_SCREEN,{message:this.scene.lang.Text.loading_ads,duration:0,loading:!0})}),t.pauseMusic(),t.pauseAllSounds(),t.muteAll(),await this.scene.ads.showRewardedVideoAsync(),e?.remove(),s.globalScene.screen.close(z.NOTIFY_SCREEN),this.rewardItem(2),this.closeAndNextLevel()}catch(t){if(e?.remove(),t instanceof Object&&GameCore.Utils.Object.hasOwn(t,"code")&&t.code==="USER_INPUT"){this.showNotifySkipAds(),this.popup.runContinueButtonAnimation();return}this.showNotifyNoAds(),this.popup.runContinueButtonAnimation()}finally{this.adsTimer?.destroy(),this.scene.audio.unmuteAll(),this.scene.audio.playMusic(),this.scene.audio.resumeAllSounds(),this.scene.ads.preloadRewardedVideoAsync().catch(t=>{})}};showNotifySkipAds=()=>{const{globalScene:e}=this.scene.game;e.screen.open(z.NOTIFY_SCREEN,{message:`${this.scene.lang.Text.no_rewards_1}
${this.scene.lang.Text.no_rewards_2}`,duration:1500,loading:!1})};showNotifyNoAds=e=>{if(e&&e.name!==z.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.open(z.NOTIFY_SCREEN,{message:this.scene.lang.Text.no_ads,duration:1500,loading:!1})};rewardItem(e){if(this.item==="none")return;this.rewardAmount=e;const t=this.scene.scene.get(re.GAME_SCENE);if(!(t instanceof lt))return;const{itemManager:s}=t;s.increaseItem(this.item,this.rewardAmount)}runOpenAnimation(){this.runPopupEntrancesAnimation(0,300),this.popup.playAnimation(300)}runPopupEntrancesAnimation(e,t){if(!this.popupShowUpAnimation){const{y:s,scale:i}=this.popup;this.popupShowUpAnimation=new Hs({targets:[this.popup],delay:e,duration:t,props:{y:{from:350,to:s},alpha:{start:1,from:1,to:1},scale:{start:0,from:0,to:i}}})}this.popupShowUpAnimation.play()}}const{DEFAULT:ce,GAMEPLAY:Ne}=A;class l0 extends GameCore.Screen{hand;giftIcon;giftIconWhite;popup;itemIcon;descText;quantityText;viewAdButton;closeButton;viewAdBg;whiteGlow;itemId;popupContents;cometTwinkle;starTwinkleUp;sparksExplosive;popupFadeOutAnimation;backgroundFadeInAnimation;contentShowUpAnimation;giftEntrancesAnimation;giftAttentionAnimation;giftShakeAnimation;giftOpenAnimation;glowSpinTween;viewAdButtonAnimation;adsTimer;constructor(e,t,s,i){super(e,t,s,i),this.setDepth(ht.POPUP),this.background.setAlpha(.8),this.createPopup(),this.createEffects(),this.createGiftIcon(),this.createHand(),this.createContentsGroup()}open=e=>{super.open(e),this.itemId=e.itemId,this.updateScreen(),this.runGlowSpinTween(),this.runOpenAnimation()};updateScreen(){switch(this.itemId){case L.HINT.ID:this.itemIcon.setTexture(Ne.KEY,Ne.FRAME.HINT_ITEM),this.descText.setText(this.scene.lang.Text.hint_description);break;case L.ROCKET.ID:this.itemIcon.setTexture(Ne.KEY,Ne.FRAME.ROCKET_ITEM),this.descText.setText(this.scene.lang.Text.rocket_description);break;case L.BOMB_DEFUSE.ID:this.itemIcon.setTexture(Ne.KEY,Ne.FRAME.DEFUSE_ITEM),this.descText.setText(this.scene.lang.Text.defuse_description);break;case L.SHUFFLE.ID:this.itemIcon.setTexture(Ne.KEY,Ne.FRAME.ITEM_SHUFFLE),this.descText.setText(this.scene.lang.Text.shuffle_description);break}}handleClosePopup=()=>{this.glowSpinTween?.stop(),this.runCloseAnimation()};handleShowRewardedVideoAd=async()=>{let e=null;try{const{audio:t,game:s}=this.scene;this.viewAdButton.setDisabled(!0),e=s.globalScene.time.delayedCall(200,()=>{s.globalScene.screen.open(z.NOTIFY_SCREEN,{message:this.scene.lang.Text.loading_ads,duration:0,loading:!0})}),t.pauseMusic(),t.pauseAllSounds(),t.muteAll(),await this.scene.ads.showRewardedVideoAsync(),e?.remove(),s.globalScene.screen.close(z.NOTIFY_SCREEN),this.starTwinkleUp.stop(),this.scene.audio.playSound(X.DAILY_REWARD),this.popupContents.setActive(!1),this.popupContents.setVisible(!1),this.runTheGiftEntrancesAnimation(0,1500)}catch(t){if(e?.remove(),t instanceof Object&&GameCore.Utils.Object.hasOwn(t,"code")&&t.code==="USER_INPUT"){this.showNotifySkipAds();return}this.showNotifyNoAds()}finally{this.scene.ads.preloadRewardedVideoAsync().catch(t=>{}),this.adsTimer?.destroy(),this.scene.audio.unmuteAll(),this.scene.audio.playMusic(),this.scene.audio.resumeAllSounds(),this.viewAdButton.setDisabled(!1)}};setTheGiftClickable(e){e?this.giftIcon.setInteractive():this.giftIcon.disableInteractive()}handleTheGiftClick=()=>{this.setTheGiftClickable(!1),this.logButtonEvent("OpenGift"),this.hand.kill(),this.giftIconWhite.revive(),this.scene.tweens.killTweensOf(this.giftIcon),Phaser.Display.Align.In.Center(this.giftIconWhite,this.giftIcon),this.scene.audio.playSound(X.GIFT_CHARGE),this.runShakeTheGift(),this.runOpenTheGift()};logButtonEvent(e){const t=this.getScreenName();this.scene.analytics.event(Y.BUTTON_CLICK,{button_name:e,screen_name:t})}showNotifyNoAds=e=>{if(e&&e.name!==z.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.open(z.NOTIFY_SCREEN,{message:this.scene.lang.Text.no_ads,duration:1200,loading:!1})};showNotifySkipAds=()=>{const{globalScene:e}=this.scene.game;e.screen.open(z.NOTIFY_SCREEN,{message:`${this.scene.lang.Text.no_rewards_1}
${this.scene.lang.Text.no_rewards_2}`,duration:1500,loading:!1})};runOpenAnimation(){this.revive(),this.hand.kill(),this.popupContents.setActive(!0),this.popupContents.setVisible(!0),this.starTwinkleUp.stop(),this.runBackgroundEntrancesAnimation(0,200),this.runPopupContentEntrancesAnimation(100,400)}runCloseAnimation=()=>{this.runExitsAnimation(0,200)};runBackgroundEntrancesAnimation(e,t){this.backgroundFadeInAnimation||(this.backgroundFadeInAnimation=new oo({targets:[this.background],delay:e,duration:t,props:{alpha:{start:0,to:.8}}})),this.backgroundFadeInAnimation.play()}runPopupContentEntrancesAnimation(e,t){this.viewAdButton.setDisabled(!0),this.viewAdButton.setAlpha(0),this.contentShowUpAnimation?.remove(),this.contentShowUpAnimation=new Ys({targets:this.popupContents.getChildren(),duration:t,delay:this.scene.tweens.stagger(100,{start:e}),props:{scale:{getStart:s=>s===this.descText?s.scale:s.scale-.3,getEnd:s=>s.scale},alpha:{start:0,from:0,to:1}},onComplete:()=>{this.viewAdButton.setDisabled(!1),this.runViewAdButtonAnimation()}}),this.contentShowUpAnimation.play()}runTheGiftEntrancesAnimation(e,t){this.giftIcon.revive(),this.giftIcon.setAlpha(1),Phaser.Display.Align.In.TopRight(this.giftIcon,this.zone),this.giftEntrancesAnimation?.remove();const{x:s,y:i}=this.giftIcon,{x:o,y:r}=this.popup,l={x:s,y:i},n={x:o,y:r},c=1/this.scene.world.getPixelRatio();this.giftEntrancesAnimation=new qa({targets:[this.giftIcon],delay:e,duration:t,curve:[[l.x,l.y],[l.x-80,l.y+80],[n.x,n.y]],props:{scale:{start:c*.5,to:c},angle:{start:20,to:0}},onCurveUpdate:u=>{const d=u.x+Phaser.Math.RND.between(-40,40),f=u.y+Phaser.Math.RND.between(-40,40);this.cometTwinkle.explode(1,d,f)},onComplete:()=>{this.scene.audio.playSound(X.GIFT_REVEAL);const u=1.5;this.starTwinkleUp.setScale(u);const{x:m,y:d,width:f,height:h}=this.giftIcon;this.starTwinkleUp.run(1,m,d,f/u,h/u),this.moveTo(this.starTwinkleUp,this.length-1),this.runTheGiftAttentionAnimation()}}),this.giftEntrancesAnimation.play()}runTheGiftAttentionAnimation(){this.giftAttentionAnimation||(this.giftAttentionAnimation=new cs({targets:[this.giftIcon],props:{scale:"+=0.05"}})),this.hand.revive(),this.hand.playAnimation(),Phaser.Display.Align.In.Center(this.hand,this.giftIcon,20,20),this.setTheGiftClickable(!0),this.giftAttentionAnimation.play()}runShakeTheGift(){this.giftShakeAnimation||(this.giftShakeAnimation=new to({targets:[this.giftIcon,this.giftIconWhite],duration:22})),this.giftShakeAnimation.play()}runOpenTheGift(){if(!this.giftOpenAnimation){const e=1/this.scene.world.getPixelRatio();this.giftOpenAnimation=new rs({targets:[this.giftIcon,this.giftIconWhite],duration:1500,props:{alpha:0,scale:e},onUpdate:()=>{this.giftIconWhite.setAlpha(1)},onComplete:()=>{this.giftShakeAnimation.stop(),this.giftIcon.kill(),this.giftIconWhite.kill(),this.sparksExplosive.explode(100,this.giftIcon.x,this.giftIcon.y,230),this.scene.audio.playSound(X.GIFT_EXPLODE),this.scene.time.delayedCall(500,this.runCloseAnimation);const[t,s]=this.getData(["itemId","rewardCount"]);F.emit(G.RECEIVE_ITEM,{itemId:t,rewardCount:s})}})}this.giftOpenAnimation.play()}runExitsAnimation(e,t){this.popupFadeOutAnimation||(this.popupFadeOutAnimation=new Dt({targets:this.getAll(),delay:e,duration:t,props:{alpha:{start:.8,to:0}},onComplete:()=>{this.scene.screen.close(this.name),this.descText.setText("")}})),this.popupFadeOutAnimation.play()}createHand(){this.hand=new Za(this.scene),this.add(this.hand)}createContentsGroup(){this.popupContents=this.scene.make.group({}),this.popupContents.addMultiple([this.popup,this.closeButton,this.whiteGlow,this.itemIcon,this.quantityText,this.descText,this.viewAdBg,this.viewAdButton])}createPopup(){this.popup=this.scene.add.container(0,0),this.popup.setSize(283,345.5);const e=this.scene.make.image({key:ce.KEY,frame:ce.FRAME.POPUP});e.setWorldSize(283,345.5),this.popup.add(e),this.add(this.popup),this.createItemIcon(),this.createQuantityText(),this.createDescriptionText(),this.createViewAdsButton(),this.createCloseButton(),Phaser.Display.Align.In.Center(this.popup,this.zone,0,-50)}createItemIcon(){this.whiteGlow=this.scene.make.image({key:ce.KEY,frame:ce.FRAME.ART_WHITE_GLOW}),this.whiteGlow.setWorldSize(100,100),this.popup.add(this.whiteGlow);const e=this.scene.make.image({key:Ne.KEY,frame:Ne.FRAME.HINT_ITEM});e.setWorldSize(55,55),this.popup.add(e),Phaser.Display.Align.In.Center(e,this.popup,0,-75),this.whiteGlow.setPosition(e.x,e.y),this.itemIcon=e}createQuantityText(){const e=this.scene.make.bitmapText({text:"x1",font:B.YELLOW_AND_STROKE.KEY,size:this.scene.fontSize(35),origin:{x:.5,y:.5}});this.popup.add(e),Phaser.Display.Align.In.Center(e,this.popup,0,-30),this.quantityText=e}createDescriptionText(){const t=this.scene.lang.getCurrentLanguage()==="ru"?17:20,s=this.scene.make.bitmapText({text:"",origin:{x:.5,y:0},font:B.YELLOW_AND_STROKE.KEY,size:this.scene.fontSize(t)});s.setMaxWidth(200),s.setCenterAlign(),this.popup.add(s),Phaser.Display.Align.In.Center(s,this.popup,0,10),this.descText=s}createViewAdsButton(){const e=new tn(this.scene,ce.KEY,ce.FRAME.BUTTON_GREEN_ROUNDED_RECT,184,51),t=this.scene.add.image(0,0,ce.KEY,ce.FRAME.ICON_ADS);t.setWorldSize(27,29),Phaser.Display.Align.In.Center(t,e),t.setX(e.x-60),e.add(t);const s=this.scene.make.bitmapText({text:this.scene.lang.Text.get_now,origin:{x:.5,y:.5},font:B.SHADOW.KEY,size:this.scene.fontSize(22)}),i=this.scene.make.image({key:ce.KEY,frame:ce.FRAME.BUTTON_BG});i.setWorldSize(184,51),e.add(s),Phaser.Display.Align.In.Center(s,e,18,-4),Phaser.Display.Align.In.Center(e,this.popup,0,110),this.popup.add(i),this.popup.add(e),Phaser.Display.Align.In.Center(i,e,0,-1),this.viewAdButton=e,this.viewAdBg=i,e.onClick=this.handleShowRewardedVideoAd}createCloseButton(){const e=new we(this.scene,ce.KEY,ce.FRAME.BUTTON_CLOSE,38,39);Phaser.Display.Align.In.TopRight(e,this.popup,-15,-11),this.popup.add(e),e.onClick=this.handleClosePopup,this.closeButton=e}createGiftIcon(){this.giftIconWhite=this.scene.make.image({key:ce.KEY,frame:ce.FRAME.LOGO_GIFT_WHITE,visible:!1}),this.giftIconWhite.setWorldSize(150,150),this.giftIconWhite.setDepth(K.PRIORITY),this.add(this.giftIconWhite),this.giftIcon=this.scene.make.image({key:ce.KEY,frame:ce.FRAME.LOGO_GIFT,visible:!1}),this.giftIcon.setInteractive({useHandCursor:!0}),this.giftIcon.setWorldSize(150,150),this.giftIcon.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handleTheGiftClick),this.setTheGiftClickable(!1),this.add(this.giftIcon)}createEffects(){this.cometTwinkle=new Ja(this.scene),this.starTwinkleUp=new en(this.scene),this.sparksExplosive=new Qa(this.scene),this.add([this.cometTwinkle,this.starTwinkleUp,this.sparksExplosive])}runGlowSpinTween(){this.glowSpinTween?.stop(),this.whiteGlow.angle=0,this.whiteGlow.setPosition(this.itemIcon.x,this.itemIcon.y),this.glowSpinTween=this.scene.tweens.add({targets:this.whiteGlow,angle:360,duration:5e3,repeat:-1,ease:"Linear"})}runViewAdButtonAnimation(){this.viewAdButtonAnimation?.stop(),this.viewAdButtonAnimation=this.scene.add.tween({targets:[this.viewAdButton],yoyo:!0,repeat:-1,duration:600,repeatDelay:50,ease:Us,easeParams:[0,.9],props:{scale:{from:1,to:.98}}})}}class c0 extends Ce{scene;isLandscape;constructor(e){super(e),this.scene=e,this.isLandscape=this.scene.world.isLandscape()}start(){this.isRunning()||super.start()}showPauseScreen=()=>{const{screen:e}=this.scene.game.globalScene;let t=e.get(z.PAUSE_SCREEN);t||(t=e.add(z.PAUSE_SCREEN,tb),this.isLandscape&&t.incScale(-.3)),t.once(GameCore.Screens.Events.OPEN,()=>{const{tileManager:s}=this.scene;s.hideAllTiles(),s.hideHintEffect(),this.scene.scene.pause()}),t.once(GameCore.Screens.Events.CLOSE,s=>{s.off(GameCore.Screens.Events.OPEN);const{tileManager:i}=this.scene;i.showAllTiles(),i.showHintEffect(),this.scene.scene.resume()}),e.open(z.PAUSE_SCREEN)};showRescueScreen(e,t){const{screen:s}=this.scene.game.globalScene;let i=s.get(z.RESCUE_SCREEN);i||(i=s.add(z.RESCUE_SCREEN,ob),this.isLandscape&&(i.incScale(-.3),i.incY(10))),i.once(GameCore.Screens.Events.OPEN,()=>{const{tileManager:o}=this.scene;o.hideAllTiles(),this.scene.scene.pause()}),i.once(GameCore.Screens.Events.CLOSE,o=>{o.off(GameCore.Screens.Events.OPEN);const{tileManager:r}=this.scene;r.showAllTiles(),this.scene.scene.resume()}),s.open(z.RESCUE_SCREEN,{level:e,reason:t})}showResultScreen=(e,t)=>{const{screen:s}=this.scene.game.globalScene;let i=s.get(z.RESULT_SCREEN);i||(i=s.add(z.RESULT_SCREEN,n0),this.isLandscape&&(i.incScale(-.3),i.incY(10))),i.once(GameCore.Screens.Events.OPEN,()=>{this.scene.scene.pause()}),i.once(GameCore.Screens.Events.CLOSE,o=>{o.off(GameCore.Screens.Events.OPEN),this.scene.scene.resume()}),s.open(z.RESULT_SCREEN,{eatStars:e,level:t})};showContinueScreen=(e,t)=>{const{screen:s}=this.scene.game.globalScene;let i=s.get(z.CONTINUE_SCREEN);i||(i=s.add(z.CONTINUE_SCREEN,Sp),this.isLandscape&&(i.incScale(-.3),i.incY(-20))),i.once(GameCore.Screens.Events.OPEN,()=>{const{tileManager:o}=this.scene;o.hideAllTiles(),this.scene.scene.pause()}),i.once(GameCore.Screens.Events.CLOSE,o=>{o.off(GameCore.Screens.Events.OPEN);const{tileManager:r}=this.scene;r.showAllTiles(),this.scene.scene.resume()}),s.open(z.CONTINUE_SCREEN,{level:e,reason:t})};showRewardItemScreen=(e,t)=>{const{screen:s}=this.scene.game.globalScene;let i=s.get(z.REWARD_ITEM_SCREEN);i||(i=s.add(z.REWARD_ITEM_SCREEN,l0),this.isLandscape&&i.incScale(-.3)),i.once(GameCore.Screens.Events.OPEN,()=>{this.scene.scene.pause()}),i.once(GameCore.Screens.Events.CLOSE,o=>{o.off(GameCore.Screens.Events.OPEN),this.scene.scene.resume()}),s.open(z.REWARD_ITEM_SCREEN,{itemId:e,rewardCount:t})};showDailyRewardsScreen=e=>{const{screen:t}=this.scene.game.globalScene;let s=t.get(z.DAILY_REWARDS_SCREEN);s||(s=t.add(z.DAILY_REWARDS_SCREEN,Dp),this.isLandscape&&s.incScale(-.3)),s.once(GameCore.Screens.Events.OPEN,()=>{this.scene.scene.pause()}),s.once(GameCore.Screens.Events.CLOSE,i=>{i.off(GameCore.Screens.Events.OPEN),this.scene.scene.resume()}),t.open(z.DAILY_REWARDS_SCREEN,e)}}const u0=[{id:1,value:{ItemHint:3}},{id:2,value:{ItemShuffle:3}},{id:3,value:{ItemRocket:3}},{id:4,value:{ItemBombDefuse:3}},{id:5,value:{ItemShuffle:3,ItemHint:3}},{id:6,value:{ItemRocket:3,ItemBombDefuse:3}},{id:7,value:{ItemShuffle:2,ItemRocket:4,ItemHint:3}}],d0=()=>u0,{Gameplay:$t}=GameCore.Configs,{DailyRewardItems:U0}=GameCore.Configs.Gameplay;class m0 extends za{prevScore=0;gameplayMode;gameStatus;currentScore=0;prevTargetScore=0;isReachTargetScore=!1;levelHandler;uiManager;tileManager;modeManager;itemManager;boardManager;comboManager;effectManager;layoutManager;screenManager;tutorialManager;animationManager;levelStartAt;levelEndAt;delayTimer;isDailyRewardChecked=!1;preload(){this.events.on(Phaser.Scenes.Events.WAKE,this.run),this.events.on(Phaser.Scenes.Events.CREATE,this.run)}create=()=>{super.create(),this.levelStartAt=0,this.levelEndAt=0,this.createBackground(Ze.BACKGROUND.KEY),this.createHandler(),this.createManager(),this.listenEvents(),this.addGlobalMethodsForGlance(),window.__resetData=this.resetData};addGlobalMethodsForGlance=()=>{const e=()=>{this.game.globalScene.screen.get(z.PAUSE_SCREEN)?.visible&&this.game.globalScene.screen.close(z.PAUSE_SCREEN)};window.pauseEvent=()=>{this.game.globalScene.screen.get(z.PAUSE_SCREEN)?.visible||this.screenManager.showPauseScreen()},window.resumeEvent=()=>{e()},window.replayGameEvent=async()=>{e(),F.emit(G.REPLAY)},window.nextLevelEvent=()=>{this.finishLevel(!0)},window.gotoLevel=async t=>{t<0||(this.levelHandler.setConfig(t),await this.player.setMultiCustomData({levelProgress:t}),F.emit(G.NEXT_LEVEL))},window.gotoHomeEvent=()=>{e(),this.player.updateBestScore(this.currentScore),this.analytics.levelFail(this.levelHandler.level,this.currentScore),F.emit(G.REPLAY)},window.enableSound=t=>{t&&(this.audio.unmuteAll(),this.audio.playMusic(),this.audio.resumeAllSounds()),t||(this.audio.muteAll(),this.audio.stopMusic(),this.audio.pauseAllSounds())}};resetData=async()=>{const e=new Mt({}).toObject();await FBInstant.player.setDataAsync(e),this.player.setMultiCustomData({levelProgress:1})};checkOfflineReward(){const e=this.player.getCustomData("lastTimePlayed");if(!GameCore.Utils.Valid.isNumber(e)){this.player.setCustomData("lastTimePlayed",Date.now());return}if(!Rs(e)){const t=new Date,s=new Date(e),i=new Date(s.toDateString()),o=Math.abs(t.valueOf()-i.valueOf()),l=Math.floor(o/864e5)>1;this.player.setCustomData("lastTimePlayed",Date.now());let n=this.player.getCustomData("persistentLoginCount");(!GameCore.Utils.Valid.isNumber(n)||l)&&(n=0);const c=d0(),u=c[n];this.screenManager.showDailyRewardsScreen(u.value);let m=n+1;m>=c.length&&(m=0),this.player.setCustomData("persistentLoginCount",m);return}}createHandler(){this.levelHandler=new Xh(this)}initHandler(){this.levelHandler.init()}createManager(){this.layoutManager=new yp(this),this.animationManager=new rh(this),this.tileManager=new hf(this),this.modeManager=new qh(this),this.itemManager=new Hh(this),this.boardManager=new Ih(this),this.comboManager=new $f(this),this.effectManager=new Vf(this),this.screenManager=new c0(this),this.tutorialManager=new Rf(this),this.uiManager=new Af(this)}initManager(){this.uiManager.init(),this.boardManager.init(),this.tileManager.init(),this.modeManager.init(),this.itemManager.init(),this.comboManager.init(),this.screenManager.init(),this.effectManager.init(),this.tutorialManager.init(),this.animationManager.init(),this.layoutManager.init()}stopManager(){this.uiManager.stop(),this.boardManager.stop(),this.tileManager.stop(),this.modeManager.stop(),this.itemManager.stop(),this.comboManager.stop(),this.screenManager.stop(),this.effectManager.stop(),this.tutorialManager.stop(),this.animationManager.stop(),this.layoutManager.stop()}startManager(){this.boardManager.start(),this.tileManager.start(),this.modeManager.start(),this.itemManager.start(),this.comboManager.start(),this.screenManager.start(),this.effectManager.start(),this.tutorialManager.start(),this.animationManager.start(),this.uiManager.start(),this.layoutManager.start()}listenEvents(){F.on(G.REPLAY,this.replay),F.on(G.GAME_OVER_REPLAY,this.gameOverReplay),F.on(G.RESCUE,this.rescued),F.on(G.CONTINUE,this.continue),F.on(G.NEXT_LEVEL,this.handleNextLevel),F.on(G.RECEIVE_ITEM,this.handleReceiveItem),F.on(G.SHOW_RESCUE_SCREEN,this.showRescueScreen)}run=()=>{this.startGame(),this.scene.get(re.LOAD_SCENE).lazyLoadResources()};startGame(){const{player:e}=this.game;!!e.getPlayerSetting("music")&&this.audio.setMusicVolume(1),this.levelStartAt=Date.now(),this.gameplayMode=Xf.NORMAL,this.gameStatus=ge.PLAYING,this.prevScore=$t.StartScore,this.prevTargetScore=0,this.currentScore=0,this.initHandler(),this.initManager(),this.setScore(this.prevScore);const{level:s}=this.levelHandler,{objects:i,groups:o}=this.layoutManager;o.gameUI.reviveGroup(),this.uiManager.updateLevel(s),i.starProgressBar.setProcess(0),this.analytics.levelStart(s,this.currentScore),this.tutorialManager.checkIsValidForTutorial()&&this.uiManager.showUIForGuide(),this.layoutManager.layout.alignItems(),this.audio.playSound(X.LEVEL_START),this.audio.playMusic(),this.startManager(),this.isDailyRewardChecked===!1&&(this.isDailyRewardChecked=!0,this.checkOfflineReward())}setScore(e){this.currentScore=e;const{targetScore:t}=this.levelHandler;this.isReachTargetScore=this.currentScore>=t}eatScore=e=>{if(this.gameStatus!==ge.PLAYING)return;this.currentScore+=e;const{targetScore:t}=this.levelHandler,{objects:s}=this.layoutManager;s.starProgressBar.setProcess(this.currentScore/t),this.setScore(this.currentScore)};die=(e,t)=>{this.gameStatus!==ge.DYING&&(this.gameStatus=ge.DYING,F.emit(G.DIE),this.tileManager.isSelectable=!1,this.tileManager.removeSuggestPairHint(),this.itemManager.setIsUseableItem(!1),this.uiManager.disablePause(),this.updateNotificationData(),this.delayTimer?.remove(),this.delayTimer=this.time.addEvent({delay:$t.DelayEndGame,callback:()=>{this.audio.pauseMusic(),this.analytics.gameLifeEnd(1,e,this.currentScore),this.showRescueScreen({level:e,reason:t})}}))};rescued=e=>{const t=this.levelHandler.level;if(this.analytics.levelRescue(t,this.currentScore),this.uiManager.enablePause(),this.gameStatus=ge.PLAYING,this.audio.playSound(X.LEVEL_START),this.delayTimer?.remove(),this.delayTimer=this.time.addEvent({delay:$t.DelayStart/2,callback:()=>{this.tileManager.isSelectable=!0,this.itemManager.setIsUseableItem(!0)}}),!GameCore.Utils.Valid.isObject(e))return;const{reason:s}=e;if(s==="timeUp"){const{objects:i}=this.layoutManager;i.playtimeClock.handleRescueTimeout()}};continue=e=>{this.rescued(e)};replay=()=>{const e=this.levelHandler.level;this.analytics.levelFail(e,this.currentScore),this.stopManager(),this.startGame()};gameOverReplay=async()=>{const e=this.levelHandler.level;this.analyticLevelFail(e),await this.handleShowInterstitialAd(),this.stopManager(),this.startGame()};updateNotificationData=()=>{const e=this.player.getBestScore(),t=this.levelHandler.level,s=this.player.getCustomData("items");let i=[];GameCore.Utils.Valid.isObject(s)&&(i=Object.keys(s).map(r=>({itemId:r,quantity:s[r]})).filter(r=>!!r.itemId)),this.notification.updateData({friendIds:this.player.getConnectedPlayerIds(10,0),gameSettings:this.player.getPlayerSettings(),gameProgress:{currentLevel:t,itemsCollected:i},gameStatistics:{highScore:e}}),this.notification.sendRequest()};analyticLevelFail(e){this.levelEndAt=Date.now(),this.analytics.levelFail(e,this.currentScore)}endGame(){this.replay()}finishLevel=(e=!1)=>{if(!e&&this.gameStatus===ge.FINISHED)return;this.uiManager.disablePause();const{objects:t}=this.layoutManager;t.playtimeClock.pauseClock(),this.tileManager.removeSuggestPairHint();const{targetScore:s,level:i}=this.levelHandler,o=this.levelHandler.up();if(F.emit(G.FINISH),!o){this.die(i,"levelFail");return}this.gameStatus=ge.FINISHED,t.starProgressBar.setProcess(1),this.levelEndAt=Date.now(),this.analytics.levelComplete(i,this.currentScore),this.analytics.gameMilestone("reach_milestone",{milestone:i+1},0,this.currentScore),this.prevTargetScore=s,this.prevScore=this.currentScore,this.setScore(this.currentScore),this.updateNotificationData(),i===1?this.handleFinishLevel(i)():this.time.delayedCall($t.DelayLevelUp,this.handleFinishLevel(i))};handleFinishLevel=e=>()=>{this.effectManager.playFlyingStarFromClockEffect(async()=>{if(e===1){this.handleNextLevel();return}const s=await this.handleShowInterstitialAd()?0:1e3;this.delayTimer?.remove(),this.delayTimer=this.time.addEvent({delay:s,callback:()=>{this.audio.pauseMusic();const{starProgressBar:i}=this.layoutManager.objects,{level:o}=this.levelHandler;this.comboManager.stop();const r=i.getStarAmount();this.showResultScreen(r,o-1)}})})};handleNextLevel=async()=>{this.stopManager(),this.startGame()};handleShowInterstitialAd=async()=>{const{level:e}=this.levelHandler;let t=!1;if(e>=$t.StartAdAtLevel&&this.ads.canbeShowInterstitialAd()){const{globalScene:s,lang:i}=this.game;let o=null;try{o=this.time.delayedCall(200,()=>{this.game.globalScene.screen.open(z.NOTIFY_SCREEN,{message:i.Text.loading_ads,duration:0,loading:!0})}),this.audio.pauseAllSounds(),this.audio.pauseMusic(),this.ads.getAdStatus(GameCore.Ads.Types.INTERSTITIAL)===GameCore.Ads.Status.IDLE&&await this.ads.preloadInterstitialAdAsync(),await this.ads.showInterstitialAdAsync(),t=!0}catch(r){console.warn("Show interstitial ad error",r)}finally{this.audio.playMusic(),this.audio.resumeAllSounds(),s.screen.events.off(GameCore.Screens.Events.CLOSE),o?.remove(),this.ads.preloadInterstitialAdAsync().catch(()=>{}),s.screen.close(z.NOTIFY_SCREEN)}}return t};handleReceiveItem=e=>{const{itemId:t,rewardCount:s,updateUI:i=!0,isFree:o=!1}=e;this.itemManager.addItemAmount(t,s,i),o===!1?this.game.analytics.event(Y.EARN_ITEM,{item_name:t,value:s}):this.game.analytics.event(Y.GET_FREE_ITEM,{item_name:t,value:s})};showRescueScreen=e=>{const{level:t,reason:s}=e;this.time.delayedCall(0,()=>{this.screenManager.showRescueScreen(t,s)})};showResultScreen=(e,t)=>{this.screenManager.showResultScreen(e,t)};getPlayedTimeSeconds(){return Math.floor((this.levelEndAt-this.levelStartAt)/1e3)}}const lt=m0,h0=a=>a.context,f0=a=>a.context.currentGameMode;de([h0],a=>a);const p0=de([f0],a=>a),b0=[Y.SCREEN_OPEN];class H0 extends GameCore.Analytics.BaseAnalytics{game;trackingId;currentPath="/";constructor(e,t){super("GoogleAnalytics",{...t},"#E35335");const{trackingId:s}=t;this.game=e;const{consoleLog:i}=GameCore.Configs.Analytics.GoogleAnalytics||{};this.selfLog=!!i,this.trackingId=s}processEvent(e,t,s){if(b0.indexOf(e)>=0)return;const i=this.formatEventName(e);let o=t?{...t}:{};o=s?{...o,value:s}:o,o={...o,page_path:this.currentPath,send_to:"GA"},gtag("event",i,o)}processLevelStart(e,t,s){this.processEvent(Y.LEVEL_START,{level:e,score:t,level_name:s})}processLevelRescue(e,t,s){this.processEvent(Y.LEVEL_RESCUE,{level:e,score:t,level_name:s})}processLevelFail(e,t,s){this.processEvent(Y.LEVEL_END,{level:e,score:t,level_name:s,success:!1})}processLevelComplete(e,t,s){this.processEvent(Y.LEVEL_END,{level:e,score:t,level_name:s,success:!0})}processShowInterstitialAd(e){const t=window.game.globalScene.scene.get(re.GAME_SCENE);let s=window.game.player.getCustomData("levelProgress");GameCore.Utils.Valid.isNumber(s)||(s=1),t instanceof lt&&t.gameStatus===ge.FINISHED&&(s-=1),this.processEvent(Y.AD_SHOW,{ad_type:"interstitial",screen_name:`${e}`,level:s}),this.processEvent(Y.AD_IMPRESSION,{ad_format:"Interstitial"})}processShowRewardedVideoAd(e){const t=window.game.globalScene.scene.get(re.GAME_SCENE);let s=window.game.player.getCustomData("levelProgress");GameCore.Utils.Valid.isNumber(s)||(s=1),t instanceof lt&&t.gameStatus===ge.FINISHED&&(s-=1),this.processEvent(Y.AD_SHOW,{ad_type:"rewarded_video",screen_name:`${e}`,level:s}),this.processEvent(Y.AD_IMPRESSION,{ad_format:"Rewarded"})}processShowAdFail(e,t){const s=window.game.globalScene.scene.get(re.GAME_SCENE);let i=window.game.player.getCustomData("levelProgress");GameCore.Utils.Valid.isNumber(i)||(i=1),s instanceof lt&&s.gameStatus===ge.FINISHED&&(i-=1);const o=e===GameCore.Ads.Types.REWARDED?"rewarded_video":"interstitial";this.processEvent(Y.AD_SHOW_FAILED,{ad_type:o,screen_name:`${t}`,level:i})}processPageView(e){const s=`/${this.getGameplayMode()}/${e}`;this.currentPath=s,gtag("event","page_view",{page_path:this.currentPath,send_to:["GA",this.trackingId]})}getGameplayMode(){const{storage:e}=this.game,t=e.getState();return p0(t)}formatEventName(e){return e.toLowerCase().replace(/:/g,"_")}}class g0 extends Phaser.Scene{create(){this.facebook.progressLoading.loadingProgressFbBootScene(),this.startGame()}startGame=async()=>{try{await this.auth.requestToken(),await this.storage.syncStore(),this.configureSentry(),this.configureRollbar(),this.detectGameMode(),this.initAnalytics(),this.analytics.event(Y.LOAD_START),this.scene.launch(re.GLOBAL_SCENE),this.scene.start(re.LOAD_SCENE),this.analytics.pageview(re.LOAD_SCENE)}catch(e){pe(e)}finally{this.facebook.progressLoading.finishLoadingProgressFbBootScene(),this.scene.sleep(re.BOOT_SCENE)}};configureSentry(){const e=this.player.getPlayer();zl({id:e.playerId,username:e.name})}configureRollbar(){if(!this.rollbar)return;const e=this.player.getPlayer();this.rollbar.configure({payload:{person:{id:e.playerId,name:e.name}}})}detectGameMode(){this.storage.dispatch(xd())}initAnalytics(){this.analytics.add(new pm(this.game,{}))}}const{Valid:Mr}=GameCore.Utils;class v0{currencies;constructor(e){this.initDefaultValues(),Mr.isObject(e)&&Object.keys(e).forEach(t=>{Object.hasOwn(e,t)&&Mr.isNumber(e[t])&&(this.currencies[t]=e[t])})}initDefaultValues(){this.currencies={}}toObject(){return{...this.currencies}}}const{Object:ot,Valid:Xe}=GameCore.Utils;class w0{currentLevel;itemsCollected;levelsCompleted;constructor(e){this.initDefaultValues(),Xe.isObject(e)&&(ot.hasOwn(e,"currentLevel")&&Xe.isNumber(e.currentLevel)&&(this.currentLevel=e.currentLevel),ot.hasOwn(e,"itemsCollected")&&Array.isArray(e.itemsCollected)&&(this.itemsCollected=e.itemsCollected.filter(t=>!(!Xe.isObject(t)||!ot.hasOwn(t,"itemId")||!Xe.isString(t.itemId)||!ot.hasOwn(t,"quantity")||!Xe.isNumber(t.quantity)))),ot.hasOwn(e,"levelsCompleted")&&Array.isArray(e.levelsCompleted)&&(this.levelsCompleted=e.levelsCompleted.filter(t=>!(!Xe.isObject(t)||!ot.hasOwn(t,"score")||!Xe.isNumber(t.score)||!ot.hasOwn(t,"levelId")||!Xe.isString(t.levelId)))))}initDefaultValues(){this.currentLevel=0,this.levelsCompleted=[],this.itemsCollected=[]}toObject(){return{currentLevel:this.currentLevel,itemsCollected:this.itemsCollected,levelsCompleted:this.levelsCompleted}}}const{Object:Os,Valid:Xt}=GameCore.Utils;class T0{highScore;timePlayed;totalGamesWon;totalGamesLose;constructor(e){this.initDefaultValues(),Xt.isObject(e)&&(Os.hasOwn(e,"highScore")&&Xt.isNumber(e.highScore)&&(this.highScore=e.highScore),Os.hasOwn(e,"timePlayed")&&Xt.isNumber(e.timePlayed)&&(this.timePlayed=e.timePlayed),Os.hasOwn(e,"totalGamesWon")&&Xt.isNumber(e.totalGamesWon)&&(this.totalGamesWon=e.totalGamesWon),Os.hasOwn(e,"totalGamesLose")&&Xt.isNumber(e.totalGamesLose)&&(this.totalGamesLose=e.totalGamesLose))}initDefaultValues(){this.highScore=0,this.timePlayed=0,this.totalGamesWon=0,this.totalGamesLose=0}toObject(){return{highScore:this.highScore,timePlayed:this.timePlayed,totalGamesWon:this.totalGamesWon,totalGamesLose:this.totalGamesLose}}}const{sound:y0,music:E0,theme:P0,vibrate:S0,language:k0}=_t,{Object:qt,Valid:xt}=GameCore.Utils;class x0{sound;music;vibrate;theme;language;constructor(e){this.initDefaultData(),xt.isObject(e)&&(qt.hasOwn(e,"sound")&&xt.isBoolean(e.sound)&&(this.sound=e.sound),qt.hasOwn(e,"music")&&xt.isBoolean(e.music)&&(this.music=e.music),qt.hasOwn(e,"vibrate")&&xt.isBoolean(e.vibrate)&&(this.vibrate=e.vibrate),qt.hasOwn(e,"theme")&&xt.isString(e.theme)&&(this.theme=e.theme),qt.hasOwn(e,"language")&&xt.isString(e.language)&&(this.language=e.language))}initDefaultData(){this.sound=y0,this.music=E0,this.theme=P0,this.vibrate=S0,this.language=k0}toObject(){return{sound:this.sound,music:this.music,theme:this.theme,vibrate:this.vibrate,language:this.language}}}const{settings:O0}=oa,{Object:Pe,Valid:qe}=GameCore.Utils;class R0{gpId;appId;glanceId;playerId;name;photo;locale;friendIds;gameProgress;gameSettings;gameStatistics;currencyBalance;constructor(e){this.initDefaultValues(),qe.isObject(e)&&(Pe.hasOwn(e,"gpId")&&qe.isString(e.gpId)&&(this.gpId=e.gpId),Pe.hasOwn(e,"appId")&&qe.isString(e.appId)&&(this.appId=e.appId),Pe.hasOwn(e,"glanceId")&&qe.isString(e.glanceId)&&(this.glanceId=e.glanceId),Pe.hasOwn(e,"playerId")&&qe.isString(e.playerId)&&(this.playerId=e.playerId),Pe.hasOwn(e,"name")&&qe.isString(e.name)&&(this.name=e.name),Pe.hasOwn(e,"photo")&&qe.isString(e.photo)&&(this.photo=e.photo),Pe.hasOwn(e,"locale")&&qe.isString(e.locale)&&(this.locale=e.locale),Pe.hasOwn(e,"friendIds")&&Array.isArray(e.friendIds)&&(this.friendIds=e.friendIds),Pe.hasOwn(e,"gameProgress")&&(this.gameProgress=new w0(e.gameProgress).toObject()),Pe.hasOwn(e,"gameStatistics")&&(this.gameStatistics=new T0(e.gameStatistics).toObject()),Pe.hasOwn(e,"currencyBalance")&&(this.currencyBalance=new v0(e.currencyBalance).toObject()),Pe.hasOwn(e,"gameSettings")&&(this.gameSettings=new x0(e.gameSettings).toObject()))}initDefaultValues(){this.gpId="",this.appId="",this.glanceId="",this.playerId="",this.name="",this.photo="",this.locale="en_US",this.friendIds=[],this.gameProgress={currentLevel:0,itemsCollected:[],levelsCompleted:[]},this.gameSettings={...O0},this.gameStatistics={highScore:0,timePlayed:0,totalGamesWon:0,totalGamesLose:0},this.currencyBalance={}}toObject(){return{gpId:this.gpId,appId:this.appId,glanceId:this.glanceId,playerId:this.playerId,name:this.name,photo:this.photo,locale:this.locale,friendIds:this.friendIds,gameProgress:this.gameProgress,gameSettings:this.gameSettings,gameStatistics:this.gameStatistics,currencyBalance:this.currencyBalance}}}class A0 extends Phaser.Plugins.BasePlugin{data;endpoint;enabled;async setup(e,t){this.enabled=!0,this.endpoint=e,console.log("NotificationPlugin: configure",e,t),this.updateData(t)}updateData=async e=>{if(!this.enabled)return;const t=ve(this.data,e);this.data=new R0(t).toObject(),console.log("NotificationPlugin: updatePayload",this.data)};sendRequest=async()=>{try{if(!this.enabled)return;const{playerId:e}=this.data,t={...this.data};console.log("NotificationPlugin: sendRequest",t);const i=(await ia(`players/${e}`,t,{},this.endpoint,10))?.data||{};this.updateData(i)}catch(e){console.warn("NotificationPlugin: sendRequest",e)}}}class Cr extends GameCore.Ads.AdInstance{instance;placementId;constructor(e,t){super(e),this.instance=null,this.placementId=t}static setGame(e){self.game=e}async loadAsync(){if(console.log("loadAsync",this.type,this.status),this.status===GameCore.Ads.Status.IDLE)try{if(this.status=GameCore.Ads.Status.LOADING,this.instance=await this.createInstanceByType(this.type),this.instance===null)throw new GameCore.Ads.AdError("AD_INSTANCE_NOT_INITIATED","Ad instance didn't initiated.");await this.instance.loadAsync(),this.status=GameCore.Ads.Status.FILLED}catch(e){throw this.status=GameCore.Ads.Status.IDLE,this.instance=null,e}}async showAsync(){const e=this.getSceneName();try{if(console.log("showAsync",this.type,this.status),this.status===GameCore.Ads.Status.LOADING)throw new GameCore.Ads.AdError("AD_ARE_LOADING","Ads are loading.");if(this.status!==GameCore.Ads.Status.FILLED)throw new GameCore.Ads.AdError("AD_NOT_FILLED","Ads no fill.");if(this.status=GameCore.Ads.Status.SHOWING,this.instance===null)throw new GameCore.Ads.AdError("AD_INSTANCE_NOT_INITIATED","Ad instance didn't initiated.");await this.instance.showAsync(),this.type===GameCore.Ads.Types.INTERSTITIAL&&self.game.analytics.showInterstitialAd(e),this.type===GameCore.Ads.Types.REWARDED&&self.game.analytics.showRewardedVideoAd(e),this.status=GameCore.Ads.Status.IDLE,this.instance=null}catch(t){if(console.warn("showAsync error",t),this.status=GameCore.Ads.Status.IDLE,this.instance=null,t instanceof Object&&GameCore.Utils.Object.hasOwn(t,"code")){if(t.code==="AD_ARE_LOADING"&&this.type===GameCore.Ads.Types.REWARDED){self.game.analytics.showAdFail(this.type,e,t);return}if(t.code==="AD_NOT_FILLED"&&this.type===GameCore.Ads.Types.REWARDED){self.game.analytics.showAdFail(this.type,e,t);return}}throw self.game.analytics.showAdFail(this.type,e,t),t}}getStatus(){return this.status}async createInstanceByType(e){const{facebook:t}=self.game;switch(e){case GameCore.Ads.Types.REWARDED:return await t.getRewardedVideoAsync(this.placementId);case GameCore.Ads.Types.INTERSTITIAL:return await t.getInterstitialAdAsync(this.placementId);default:return null}}getSceneName(){try{const{globalScene:e}=self.game;return e instanceof ao?e.getCurrentScene().scene.getSceneName():"unknown"}catch{return"unknown"}}}const{Object:Lr,Valid:Ye}=GameCore.Utils;class I0 extends Phaser.Game{constructor(e){super(e)}async boot(){super.boot(),this.addExtraGameObjectMethods(),this.addExtraFBInstantFunctions(),this.addPlugins(),await this.addDevPlugins(),await this.initAdsAsync(),this.addScenes(),this.addDevScenes(),this.initWorld(),this.initStorage(),this.initLanguage(),this.initUtils(),this.initRollbar(),this.initConsole(),this.initDebugger(),this.initStatistics(),this.initParticleEditor(),this.initNotificationPlugin(),this.initAdaptivePerformance(),this.initProfilerPlugin(),this.handleShowInterAdWhenStartGame(),this.addGlanceGlobalMethods()}start(){super.start()}addExtraGameObjectMethods(){const e=new ec;e.addKillRevive(),e.addKillReviveGroup(),e.addDrawDebugBox(),e.addSetWorldSize(),e.addSetWorldSizeForContainer(),e.addGetWorldPosition(),e.addHighQuality()}addExtraFBInstantFunctions(){const e=new Jl(this.facebook);this.facebook.getLocale=e.getLocale,this.facebook.shareAsync=e.shareAsync,this.facebook.inviteAsync=e.inviteAsync,this.facebook.switchAsync=e.switchAsync,this.facebook.chooseAsync=e.chooseAsync,this.facebook.createAsync=e.createAsync,this.facebook.sendMessage=e.sendMessage,this.facebook.getContextID=e.getContextID,this.facebook.getPlayerToken=e.getPlayerToken,this.facebook.matchPlayerAsync=e.matchPlayerAsync,this.facebook.getContextPlayers=e.getContextPlayers,this.facebook.setLoadingProgress=e.setLoadingProgress,this.facebook.attemptToAddShortcut=e.attemptToAddShortcut,this.facebook.attemptToSubscribeBot=e.attemptToSubscribeBot,this.facebook.postSessionScoreAsync=e.postSessionScoreAsync,this.facebook.getRewardedVideoAsync=e.getRewardedVideoAsync,this.facebook.sendNotificationAsync=e.sendNotificationAsync,this.facebook.getInterstitialAdAsync=e.getInterstitialAdAsync,e.injectTournament(),this.facebook.progressLoading=new Ql(this)}addPlugins(){this.plugins.install("Storage",vd,!0,"storage"),this.plugins.install("Rollbar",Pu,!0,"rollbar"),this.plugins.install("AdsManager",sc,!0,"ads"),this.plugins.install("AuthManager",Tc,!0,"auth"),this.plugins.install("AudioManager",nc,!0,"audio"),this.plugins.install("WorldManager",Pd,!0,"world"),this.plugins.install("PlayerManager",ru,!0,"player"),this.plugins.install("LanguageManager",fm,!0,"lang"),this.plugins.install("ProfileManager",hu,!0,"profile"),this.plugins.install("AnalyticsManager",oc,!0,"analytics"),this.plugins.install("NotificationPlugin",A0,!0,"notification"),this.plugins.install("AdaptivePerformance",xc,!0,"performance"),this.plugins.installScenePlugin("textStyler",Ed,"textStyler"),this.plugins.installScenePlugin("ScreenManager",Ou,"screen"),this.plugins.installScenePlugin("FrameCapture",Sc,"frameCapture"),window.SpinePlugin&&this.plugins.installScenePlugin("SpinePlugin",SpinePlugin,"spine"),this.storage=this.plugins.get("Storage"),this.rollbar=this.plugins.get("Rollbar"),this.ads=this.plugins.get("AdsManager"),this.auth=this.plugins.get("AuthManager"),this.audio=this.plugins.get("AudioManager"),this.world=this.plugins.get("WorldManager"),this.player=this.plugins.get("PlayerManager"),this.lang=this.plugins.get("LanguageManager"),this.profile=this.plugins.get("ProfileManager"),this.analytics=this.plugins.get("AnalyticsManager"),this.notification=this.plugins.get("NotificationPlugin"),this.performance=this.plugins.get("AdaptivePerformance")}async addDevPlugins(){if(!Ye.isDebugger())return;const e=(await pt(()=>import("./devtool.js").then(r=>r.i),[],import.meta.url)).default,t=(await pt(()=>import("./devtool.js").then(r=>r.a),[],import.meta.url)).default,s=(await pt(()=>import("./devtool.js").then(r=>r.b),[],import.meta.url)).default,i=(await pt(()=>import("./devtool.js").then(r=>r.c),[],import.meta.url)).default,o=(await pt(()=>import("./devtool.js").then(r=>r.d),[],import.meta.url)).default;this.plugins.install("Console",e,!0,"console"),this.plugins.install("Debugger",t,!0,"debugger"),this.plugins.install("Profiler",i,!0,"profiler"),this.plugins.install("Statistics",s,!0,"statistics"),this.plugins.install("ParticleEditor",o,!0,"particle-editor"),this.eruda=this.plugins.get("Console"),this.debugger=this.plugins.get("Debugger"),this.profiler=this.plugins.get("Profiler"),this.statistics=this.plugins.get("Statistics"),this.particleEditor=this.plugins.get("ParticleEditor")}addScenes(){this.scene.add(re.BOOT_SCENE,g0,!0),this.scene.add(re.LOAD_SCENE,an,!1),this.scene.add(re.GAME_SCENE,lt,!1),this.scene.add(re.GLOBAL_SCENE,ao,!1)}async addDevScenes(){if(!Ye.isDebugger())return;const e=(await pt(()=>import("./devscene.js"),["./devscene.js","./engine.js"],import.meta.url)).default;this.scene.add(re.TEST_SCENE,e,!1)}async initAdsAsync(){const{Ads:e}=GameCore.Configs;Cr.setGame(this);const t=Cr,s={...e.InterstitialAdOptions},i=window.GlanceGamingAdInterface!=null&&window.isAdSDKLoaded;s.showWhenStartGame&&(s.secondsFirstTime=0),this.ads.configure(t,{enabled:e.Enabled&&i,calculateSafeAreaBottom:e.CalculateSafeAreaBottom,enableRewardVideoResetInterstitial:e.EnableRewardVideoResetInterstitial,interstitialAdOptions:s,rewardAdOptions:e.RewardAdOptions,bannerAdOptions:e.BannerAdOptions})}initWorld(){const{Game:e}=GameCore.Configs,{AutoResize:t,PortraitRatio:s,PortraitWidth:i,PortraitHeight:o,LandscapeRatio:r,LandscapeWidth:l,LandscapeHeight:n,DisableLandscape:c,FullSizeOnLandscape:u}=e,m=t,d=c,f=u,h=s,p=i,v=o,b=r,g=l,w=n;this.world.configure({autoResize:m,portraitRatio:h,portraitWidth:p,portraitHeight:v,landscapeRatio:b,landscapeWidth:g,landscapeHeight:w,disableLandscape:d,fullSizeOnLandscape:f}),this.world.resize(e.ForcePixelRatio)}initStorage(){const e=new Md(this);this.storage.setInitiator(e)}initLanguage(){const e=this.facebook.getLocale();this.lang.configure({locale:e,upperCaseText:!1})}initUtils(){this.handlePauseAudio(),this.removeUnusedPipelines(),Ad()}initConsole(){if(!Ye.isDebugger())return;const{ShowConsole:e}=GameCore.Configs.Debugger;e&&this.eruda.configure({tool:["console","info"],defaults:{theme:"Dark"}})}initDebugger(){if(!Ye.isDebugger())return;const{ShowInspector:e,ShowMonitoring:t}=GameCore.Configs.Debugger;!e&&!t||this.debugger.configure(GameCore.Configs.Debugger)}initStatistics(){if(!Ye.isDebugger())return;const{Enable:e}=GameCore.Configs.Statistics;e&&this.statistics.configure(GameCore.Configs.Statistics)}initParticleEditor(){if(!Ye.isDebugger())return;const{Enable:e}=GameCore.Configs.ParticleEditor;e&&this.particleEditor.configure(GameCore.Configs.ParticleEditor)}initProfilerPlugin(){if(!Ye.isDebugger())return;const{Enable:e}=GameCore.Configs.ProfilerPlugin;e&&this.profiler.configure()}initNotificationPlugin(){const{AppId:e}=GameCore.Configs,{Enable:t,ApiUrl:s}=GameCore.Configs.Notification;if(!t)return;let i=null;if(Lr.hasOwn(window.__glancePlayerData,"glanceId")&&Ye.isString(window.__glancePlayerData.glanceId)&&(i=window.__glancePlayerData.glanceId),!i)return;let o=null;if(Lr.hasOwn(window.__glancePlayerData,"gpID")&&Ye.isString(window.__glancePlayerData.gpID)&&(o=window.__glancePlayerData.gpID),!o)return;const r={gpId:o,appId:e,glanceId:i};this.notification.setup(s,r)}addGlanceGlobalMethods(){window.enableSound=e=>{this.player.setSetting("music",e),this.player.setSetting("sound",e),e?this.audio.playMusic():this.audio.pauseMusic()}}initAdaptivePerformance(){const{Enable:e,...t}=GameCore.Configs.Performance;if(!e)return;const s=this.world.getPixelRatio();this.performance.configure({pixelRatio:s,...t}),this.performance.active()}initRollbar(){const{Enable:e}=GameCore.Configs.Rollbar;console.warn({isRollbarEnabled:e}),e&&this.rollbar.setup()}handlePauseAudio(){this.sound.pauseOnBlur=!1,document.addEventListener("visibilitychange",()=>{if(document.hidden){this.audio.pauseMusic(!0),this.audio.pauseAllSounds();return}this.audio.playMusic(),this.audio.resumeAllSounds()})}removeUnusedPipelines(){const e=this.renderer;if(!(e instanceof Phaser.Renderer.WebGL.WebGLRenderer))return;const{pipelines:t}=e,s=Phaser.Renderer.WebGL.Pipelines;if(!s)return;[s.ROPE_PIPELINE,s.LIGHT_PIPELINE,s.POSTFX_PIPELINE,s.POINTLIGHT_PIPELINE,s.BITMAPMASK_PIPELINE].forEach(o=>{t.get(o)?.destroy(),t.remove(o)})}async handleShowInterAdWhenStartGame(){const{InterstitialAdOptions:e}=GameCore.Configs.Ads;if(e.showWhenStartGame)try{this.audio.stopMusic(),this.audio.muteAll(),await this.ads.showInterstitialAdAsync()}catch(t){pe(t)}finally{this.audio.unmuteAll(),this.audio.playMusic(),await this.ads.preloadInterstitialAdAsync()}}}const{ShowInspector:_0}=GameCore.Configs.Debugger,M0={parent:"app",type:Phaser.AUTO,width:0,height:0,scale:{autoRound:!0},dom:{createContainer:!1},loader:{maxParallelDownloads:6,crossOrigin:"no-cros"},audio:{},input:{gamepad:!1,keyboard:_0,touch:{capture:!0},smoothFactor:1,activePointers:1,windowEvents:!1},disableContextMenu:!0,render:{pixelArt:!1,antialias:!0,antialiasGL:!0,transparent:!0,desynchronized:!1,powerPreference:"high-performance",clearBeforeRender:!1,roundPixels:!1},plugins:{global:[]}};Wl();const C0=()=>{try{const a=new I0(M0);window.game=a}catch(a){pe(a)}},L0=()=>{const a=setInterval(()=>{if(!window.__analyticsInitiated||!window.FBInstant)return;//! temporarily fix for not use adapter
window.GameSDK=window.FBInstant,window.__fbGameReady=!1,clearInterval(a),clearInterval(window.__fbInstantLoadingTimer),GameSDK.setLoadingProgress(30),"gtag"in window&&gtag("event","app_initialize",{send_to:["GA"]}),C0()},50)};L0();export{za as B,K as D,A as S,va as c,fu as g};
